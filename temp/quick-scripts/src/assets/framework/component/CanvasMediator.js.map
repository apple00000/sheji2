{"version":3,"sources":["assets/framework/component/CanvasMediator.ts"],"names":[],"mappings":";;;;;AAAA,2CAAsC;AAEhC,IAAA,KAA8D,EAAE,CAAC,UAAU,EAA1E,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,IAAI,UAAA,EAAE,cAAc,oBAAA,EAAE,gBAAgB,sBAAiB,CAAC;AAElF,IAAI,OAAO,GAAG,KAAK,CAAC;AAOpB;IAA4C,kCAAY;IAAxD;QAAA,qEA2BC;QAxBG,iBAAW,GAAa,IAAI,CAAC;;IAwBjC,CAAC;IAtBS,+BAAM,GAAZ;;;;;;wBACI,qBAAqB;wBACrB,gBAAM,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;wBAC9B,IAAI,IAAI,CAAC,WAAW,EAAC;4BACb,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBAC7B;6BACG,CAAC,OAAO,EAAR,wBAAQ;wBACO,qBAAM,gBAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,EAAA;;wBAAvD,MAAM,GAAI,CAAA,SAA6C,CAAA,GAAjD;wBACX,IAAI,MAAM,EAAC;4BACP,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;yBAC5B;6BAAM;4BACH,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;yBAC5B;wBACD,OAAO,GAAG,IAAI,CAAC;;;;;;KAEtB;IAED,kCAAS,GAAT;QACI,gBAAM,CAAC,UAAU,GAAG,IAAI,CAAC;IAC7B,CAAC;IAtBD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;uDACS;IAHZ,cAAc;QAJlC,OAAO;QACP,IAAI,CAAC,oBAAoB,CAAC;QAC1B,gBAAgB,CAAC,EAAE,CAAC,MAAM,CAAC;QAC3B,cAAc,CAAC,CAAC,EAAE,CAAC;OACC,cAAc,CA2BlC;IAAD,qBAAC;CA3BD,AA2BC,CA3B2C,EAAE,CAAC,SAAS,GA2BvD;kBA3BoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import Facade from \"../facade/Facade\";\r\n\r\nconst {ccclass, property, menu, executionOrder, requireComponent} = cc._decorator;\r\n\r\nlet bLaunch = false;\r\n\r\n\r\n@ccclass\r\n@menu(\"自定义/CanvasMediator\")\r\n@requireComponent(cc.Canvas)\r\n@executionOrder(-10)\r\nexport default class CanvasMediator extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    scenePrefab:cc.Prefab = null;\r\n\r\n    async onLoad () {\r\n        // console.log(this);\r\n        Facade.canvasNode = this.node;\r\n        if (this.scenePrefab){\r\n            let node = cc.instantiate(this.scenePrefab);\r\n            node.setParent(this.node);\r\n        }\r\n        if (!bLaunch){\r\n            let [result] = await Facade.executeCommand(\"StartupCommand\");\r\n            if (result){\r\n                console.log(\"程序启动成功...\");\r\n            } else {\r\n                console.log(\"程序启动失败!!!\");\r\n            }\r\n            bLaunch = true;\r\n        }\r\n    }\r\n\r\n    onDestroy(){\r\n        Facade.canvasNode = null;\r\n    }\r\n\r\n}\r\n"]}