{"version":3,"sources":["assets/framework/persistence/LocalStorage.ts"],"names":[],"mappings":";;;;;;AAEA;IAAA;IA8DA,CAAC;IA3DkB,gBAAG,GAAlB,UAAmB,GAAU;QACzB,OAAO,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;IAC1D,CAAC;IAEc,gBAAG,GAAlB,UAAmB,GAAU,EAAE,KAAS;QACpC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,KAAK,CAAC,CAAC;IAC1D,CAAC;IAEM,sBAAS,GAAhB,UAAiB,GAAU;QACvB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,IAAI,GAAG,IAAI,IAAI,EAAC;YACZ,OAAO,IAAI,CAAC;SACf;QACD,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC;IAEM,sBAAS,GAAhB,UAAiB,GAAU,EAAE,KAAY;QACrC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC;IAEM,uBAAU,GAAjB,UAAkB,GAAU;QACxB,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC9B,OAAO,CAAC,CAAC,GAAG,CAAC;IACjB,CAAC;IAEM,uBAAU,GAAjB,UAAkB,GAAU,EAAE,CAAS;QACnC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,EAAC;YACF,KAAK,GAAG,CAAC,CAAC;SACb;QACD,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC;IAGM,sBAAS,GAAhB,UAAiB,GAAU;QACvB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC;IAEM,sBAAS,GAAhB,UAAiB,GAAU,EAAE,KAAY;QACrC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC;IAEM,sBAAS,GAAhB,UAAiB,GAAU,EAAE,GAAc;QACvC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,IAAI,GAAG,EAAC;YACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5B,OAAO,GAAG,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,sBAAS,GAAhB,UAAiB,GAAU,EAAE,GAAc;QACvC,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;QACzB,IAAI,OAAO,KAAK,IAAI,QAAQ,EAAE;YAC1B,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SACjC;QACD,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC;IA3DM,mBAAM,GAAG,EAAE,CAAC;IA6DvB,mBAAC;CA9DD,AA8DC,IAAA;AA9DY,oCAAY","file":"","sourceRoot":"/","sourcesContent":["import {IConverter} from \"../converter/IConverter\";\r\n\r\nexport class LocalStorage {\r\n    static prefix = \"\";\r\n\r\n    private static get(key:string){\r\n        return cc.sys.localStorage.getItem(this.prefix + key);\r\n    }\r\n\r\n    private static set(key:string, value:any){\r\n        cc.sys.localStorage.setItem(this.prefix + key, value);\r\n    }\r\n\r\n    static getNumber(key:string):number|null{\r\n        let val = this.get(key);\r\n        if (val == null){\r\n            return null;\r\n        }\r\n        return parseInt(val);\r\n    }\r\n\r\n    static setNumber(key:string, value:number){\r\n        this.set(key, value);\r\n    }\r\n\r\n    static getBoolean(key:string):boolean{\r\n        let val = this.getNumber(key);\r\n        return !!val;\r\n    }\r\n\r\n    static setBoolean(key:string, b:boolean){\r\n        let value = 0;\r\n        if (b){\r\n            value = 1;\r\n        }\r\n        this.set(key, value);\r\n    }\r\n\r\n\r\n    static getString(key:string):string|null{\r\n        return this.get(key);\r\n    }\r\n\r\n    static setString(key:string, value:string){\r\n        this.set(key, value);\r\n    }\r\n\r\n    static getObject(key:string, obj:IConverter){\r\n        let val = this.get(key);\r\n        if (val){\r\n            obj.decode(JSON.parse(val));\r\n            return obj;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static setObject(key:string, obj:IConverter){\r\n        let value = obj.encode();\r\n        if (typeof value == \"object\") {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.set(key, value);\r\n    }\r\n\r\n}\r\n\r\n"]}