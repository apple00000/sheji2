{"version":3,"sources":["assets/script/app/info/World.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import {LocalStorage} from \"../../../framework/persistence/LocalStorage\";\r\nimport Network from \"../network/Network\";\r\nimport {NetworkConfig} from \"../config/NetworkConfig\";\r\nimport Armory from \"./Armory\";\r\nimport PropInfo from \"./PropInfo\";\r\nimport Newbies from \"./Newbies\";\r\n\r\nimport GameSupply from \"../game/GameSupply\";\r\nimport RecommendPropsController from \"../home/RecommendPropsController\"\r\nimport RecommendController from \"../home/RecommendController\"\r\nimport PropsItemController from \"../home/PropsItemController\"\r\nimport GameOver from \"../game/GameOver\"\r\nimport JackpotController from \"../home/JackpotController\"\r\nimport GameRelive from \"../game/GameRelive\"\r\nimport HomeController from \"../home/HomeController\"\r\n\r\n/*\r\n    视频事件记录\r\n    1、道具推荐 【click】RecommendPropsController Use\r\n    2、道具使用 【click】PropsItemController Use\r\n    3、装备推荐 【click】RecommendController Use\r\n    4、装备补给 【click】GameSupply UseSupply\r\n    5、幸运大奖 【Click】GameOver onGameOverTake\r\n    6、多倍金币 【click】JackpotController _takeIt     3\r\n    7、复活 【click】GameRelive Relive\r\n    8、高爆武器开局  【click】HomeController WeaponStart  \r\n*/\r\n\r\nexport module World {\r\n    /** 能量最高值 */\r\n    export const POWER_MAX = 999;\r\n    /** 金币最高等级 */\r\n    export const GOLDLV_MAX = 999;\r\n    /** 日常收益最高等级 */\r\n    export const DAYEARN_MAX = 999;\r\n\r\n    /** 分享上限 */\r\n    export const SHARE_REWARD_MAX = 100;\r\n\r\n\r\n\r\n    // 调用方法\r\n    const gameSupply = new GameSupply();\r\n    const recommendPropsController = new RecommendPropsController();\r\n    const recommendController = new RecommendController();\r\n    const propsItemController = new PropsItemController();\r\n    const gameOver = new GameOver();\r\n    const jackpotController = new JackpotController();\r\n    const gameRelive = new GameRelive();\r\n    const homeController = new HomeController();\r\n\r\n    export class My {\r\n        /** 昵称 */\r\n        public static nickName: string;\r\n        /** 头像url */\r\n        public static avatarUrl: string;\r\n        /** 性别 0：未知、1：男、2：女  */\r\n        public static gender: number;\r\n        /** 省份 */\r\n        public static province: string;\r\n        /** 城市 */\r\n        public static city: string;\r\n        /** 国家 */\r\n        public static country: string;\r\n\r\n        /** openId */\r\n        public static openId: string;\r\n        /** 加入复活币 */\r\n        public static todayAdd: number;\r\n\r\n        /** 上次添加时间 */\r\n        public static lastAddTime: number;\r\n\r\n        /** 复活币数量 */\r\n        public static rebirthCoins: number;\r\n\r\n        /** 玩家id */\r\n        public static playerId: number = 0;\r\n        /** 皮肤id */\r\n        public static skinId: number = 1;\r\n        /** 道具数量 */\r\n        // public static diamond:number = 0;\r\n\r\n        // /** 最高分 */\r\n        // public static bestScore:number = 0;\r\n        //\r\n        // /** 当前关卡 */\r\n        // public static level = 30;\r\n\r\n        /** 本地时间 */\r\n        private static _localTime = 0;\r\n\r\n        /** 服务器时间 */\r\n        private static _serverTime = 0;\r\n\r\n        static get serverTime(): number {\r\n            let t = new Date().getTime();\r\n            return this._serverTime + t - this._localTime;\r\n        }\r\n\r\n        static set serverTime(value: number) {\r\n            this._localTime = new Date().getTime();\r\n            this._serverTime = value;\r\n        }\r\n\r\n        /** 武器库 */\r\n        private static _armory: Armory = null;\r\n\r\n        static get armory(): Armory {\r\n            if (!this._armory) {\r\n                this._armory = new Armory(JSON.parse(World.Storage.armory));\r\n            }\r\n            return this._armory;\r\n        }\r\n\r\n        /** 道具库 */\r\n        private static _propInfo: PropInfo = null;\r\n\r\n        static get propInfo(): PropInfo {\r\n            if (!this._propInfo) {\r\n                this._propInfo = new PropInfo(JSON.parse(World.Storage.props));\r\n            }\r\n            return this._propInfo;\r\n        }\r\n\r\n        /** 新手引导 */\r\n        private static _newbies: Newbies = null;\r\n        static get newbies(): Newbies {\r\n            if (!this._newbies) {\r\n                this._newbies = new Newbies(JSON.parse(World.Storage.newbies));\r\n            }\r\n            return this._newbies;\r\n        }\r\n    }\r\n\r\n\r\n    /** 更新Storage的key */\r\n    export let updateStorageKeys = [];\r\n    export let pushStorageKeys = [];\r\n\r\n    /******************* 以下数据为客户端自己管理，初始值就是默认值 **********************/\r\n    export class Storage {\r\n        /** 关卡 */\r\n        private static _gameLevel = 1;\r\n        /** 金币数量 */\r\n        private static _goldCount = 0;\r\n        /** 钻石数量 */\r\n        private static _diamondCount = 0;\r\n        /** 金币价值等级 */\r\n        private static _goldLv = 1;\r\n        /** 日常收益等级 */\r\n        private static _dayEarnLv = 1;\r\n\r\n\r\n        /** 体力 */\r\n        private static _power = 120;\r\n\r\n        /** 体力结算时间 */\r\n        private static _powerModifyTime = 0;\r\n\r\n\r\n        /** 日常收益结算时间　*/\r\n        private static _dayEarnTotalModifyTime = 0;\r\n\r\n        /** 日常收益到期时间 */\r\n        private static _dayEarnExpireTime = 0;\r\n\r\n        /** 日常总收益 */\r\n        private static _dayEarnTotal = 0;\r\n\r\n        /** 任务 */\r\n        private static _task = \"{}\";\r\n\r\n        /**　游戏中转盘数据 */\r\n        private static _gameLucky = \"{\\\"time\\\":0,\\\"num\\\":0}\";\r\n\r\n        /** 游戏中的能量 */\r\n        private static _gameEnergy = 0;\r\n        /** 震动开关 */\r\n        private static _shakeOpen = true;\r\n\r\n        /** 新手引导开关 */\r\n        private static _newbies = \"{}\";\r\n\r\n        private static modifyCount = 0;\r\n        private static maxModify = 10;\r\n\r\n        /** 生命力 */\r\n        private static _HpLv = 1;\r\n        /** 战斗力 */\r\n        private static _ADLv = 1;\r\n\r\n        /** 武器库 */\r\n        private static _armory = \"{}\";\r\n\r\n        /** lucky进度条 */\r\n        private static _passLuckyCount = 0;\r\n\r\n        /** 道具有效时间 */\r\n        private static _props = \"{}\";\r\n\r\n        /** 解锁新枪(正数表示解锁新枪，负数表示已经解锁过的新枪，0表示初始状态) */\r\n        private static _unlockGun = 0;\r\n\r\n        /* 激励视频 */\r\n        private static _videoAd = null;\r\n    \r\n        /* 视频事件标记 */\r\n        public static _videoSign = 0;\r\n\r\n        \r\n        public static init() {\r\n            let updataKVData = LocalStorage.getString(\"updateKVData\");\r\n            if (updataKVData != null && updataKVData != \"\") {\r\n                updateStorageKeys = JSON.parse(updataKVData);\r\n                updateStorageKeys.forEach(value => {\r\n                    if (typeof this[\"_\" + value] == \"number\") {\r\n                        this[\"_\" + value] = LocalStorage.getNumber(value);\r\n                    } else if (typeof this[\"_\" + value] == \"string\") {\r\n                        this[\"_\" + value] = LocalStorage.getString(value);\r\n                    } else if (typeof this[\"_\" + value] == \"boolean\") {\r\n                        this[\"_\" + value] = LocalStorage.getBoolean(value);\r\n                    } else {\r\n                        console.error(`key=${value} type=${typeof this[\"_\" + value]}`);\r\n                    }\r\n                });\r\n            }\r\n\r\n            // 测试\r\n            gameSupply.onTest()\r\n\r\n            this.initVideoAd()\r\n        }\r\n\r\n        // 初始化激励视频\r\n        public static initVideoAd() {\r\n            console.log(\"initVideoAd\")\r\n\r\n            this._videoAd = wx.createRewardedVideoAd({\r\n                adUnitId: \"adunit-82fe18506461f029\"\r\n            })\r\n            this._videoAd.onError(function(res){\r\n                console.log(\"videoAd onError\", res)\r\n            })\r\n    \r\n            this._videoAd.onClose(res => {\r\n                if (res && res.isEnded || res === undefined) {\r\n                    this.videoAd_do()\r\n                }else {\r\n                    // 关闭\r\n                }\r\n            })\r\n        }\r\n\r\n        // 展示激励视频\r\n        public static videoAd_show(){\r\n            console.log(\"videoAd_show\")\r\n            this._videoAd.show().catch(() => {\r\n                // 失败重试\r\n                this._videoAd.load()\r\n                .then(() => this._videoAd.show())\r\n                .catch(err => {\r\n                    this.videoAd_do()\r\n                    console.log('激励视频 广告显示失败',err)\r\n                })\r\n            })\r\n\r\n            this._videoAd.load()\r\n        }\r\n\r\n        // 视频处理事件\r\n        public static videoAd_do(){\r\n            console.log(\"videoAd_do:\", this._videoSign)\r\n            if (this._videoSign==1) {\r\n                cc.game.emit(\"video_1\");\r\n\r\n            }else if (this._videoSign==2) {\r\n                cc.game.emit(\"video_2\");\r\n\r\n            }else if (this._videoSign==3) {\r\n                cc.game.emit(\"video_3\");\r\n\r\n            }else if (this._videoSign==4) {\r\n                cc.game.emit(\"video_4\");\r\n\r\n            }else if (this._videoSign==5) {\r\n                cc.game.emit(\"video_5\");\r\n\r\n            }else if (this._videoSign==6) {\r\n                cc.game.emit(\"video_6\");\r\n\r\n            }else if (this._videoSign==7) {\r\n                cc.game.emit(\"video_7\");\r\n\r\n            }else if (this._videoSign==8) {\r\n                cc.game.emit(\"video_8\");\r\n            }\r\n\r\n            this._videoSign=0\r\n        }\r\n\r\n\r\n        public static allKeys(): Array<string> {\r\n            let keys = [];\r\n            for (let key in Storage) {\r\n                if (key.startsWith('_')) {\r\n                    let k = key.substring(1);\r\n                    keys.push(k);\r\n                }\r\n            }\r\n            return keys;\r\n        }\r\n\r\n\r\n        private static updateKVData(key: string, value: any) {\r\n            if (!updateStorageKeys.includes(key)) {\r\n                updateStorageKeys.push(key);\r\n            }\r\n            if (typeof value == \"number\") {\r\n                LocalStorage.setNumber(key, value);\r\n            } else if (typeof value == \"boolean\") {\r\n                LocalStorage.setBoolean(key, value);\r\n            } else if (typeof value == \"string\") {\r\n                LocalStorage.setString(key, value);\r\n            }\r\n            LocalStorage.setString(\"updateKVData\", JSON.stringify(updateStorageKeys.concat(pushStorageKeys.filter(value1 => !updateStorageKeys.includes(value1)))));\r\n            cc.find('Canvas').emit(\"UpdateStorage\", key);\r\n            if (NetworkConfig.connectServer) {\r\n                this.modifyCount++;\r\n                if (this.modifyCount > this.maxModify) {\r\n                    this.modifyCount = 0;\r\n                    Network.pushStorage();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        /** getter */\r\n        static get gameLevel(): number {\r\n            return this._gameLevel;\r\n        }\r\n\r\n        static get goldCount(): number {\r\n            return this._goldCount;\r\n        }\r\n\r\n        static get diamondCount(): number {\r\n            return this._diamondCount;\r\n        }\r\n\r\n\r\n        static get goldLv(): number {\r\n            return this._goldLv;\r\n        }\r\n\r\n\r\n        static get dayEarnLv(): number {\r\n            return this._dayEarnLv;\r\n        }\r\n\r\n\r\n        static get power(): number {\r\n            return this._power;\r\n        }\r\n\r\n\r\n        static get powerModifyTime(): number {\r\n            return this._powerModifyTime;\r\n        }\r\n\r\n        static get dayEarnTotalModifyTime(): number {\r\n            return this._dayEarnTotalModifyTime;\r\n        }\r\n\r\n        static get dayEarnExpireTime(): number {\r\n            return this._dayEarnExpireTime;\r\n        }\r\n\r\n        static get dayEarnTotal(): number {\r\n            return this._dayEarnTotal;\r\n        }\r\n\r\n        static get task(): string {\r\n            return this._task;\r\n        }\r\n\r\n        static get gameLucky(): string {\r\n            return this._gameLucky;\r\n        }\r\n\r\n        static get gameEnergy(): number {\r\n            return this._gameEnergy;\r\n        }\r\n\r\n\r\n        static get shakeOpen(): boolean {\r\n            return this._shakeOpen;\r\n        }\r\n\r\n\r\n        static get armory(): string {\r\n            return this._armory;\r\n        }\r\n\r\n\r\n        static get HpLv(): number {\r\n            return this._HpLv;\r\n        }\r\n\r\n        static get ADLv(): number {\r\n            return this._ADLv;\r\n        }\r\n\r\n\r\n        static get passLuckyCount(): number {\r\n            return this._passLuckyCount;\r\n        }\r\n\r\n\r\n        static get props(): string {\r\n            return this._props;\r\n        }\r\n\r\n\r\n        static get newbies(): string {\r\n            return this._newbies;\r\n        }\r\n\r\n\r\n        static get unlockGun(): number {\r\n            return this._unlockGun;\r\n        }\r\n\r\n        /**  setter  */\r\n        static set goldCount(value: number) {\r\n            if (this._goldCount != value) {\r\n                this._goldCount = value;\r\n                this.updateKVData(\"goldCount\", value);\r\n            }\r\n        }\r\n\r\n        static set diamondCount(value: number) {\r\n            if (this._diamondCount != value) {\r\n                this._diamondCount = value;\r\n                this.updateKVData(\"diamondCount\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set goldLv(value: number) {\r\n            if (this._goldLv != value) {\r\n                this._goldLv = value;\r\n                this.updateKVData(\"goldLv\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set dayEarnLv(value: number) {\r\n            if (this._dayEarnLv != value) {\r\n                this._dayEarnLv = value;\r\n                this.updateKVData(\"dayEarnLv\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set power(value: number) {\r\n            if (this._power != value) {\r\n                if (value > POWER_MAX) {\r\n                    value = POWER_MAX;\r\n                }\r\n                this._power = value;\r\n                this.updateKVData(\"power\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set powerModifyTime(value: number) {\r\n            if (this._powerModifyTime != value) {\r\n                this._powerModifyTime = value;\r\n                this.updateKVData(\"powerModifyTime\", value);\r\n            }\r\n        }\r\n\r\n        static set dayEarnTotalModifyTime(value: number) {\r\n            if (this._dayEarnTotalModifyTime != value) {\r\n                this._dayEarnTotalModifyTime = value;\r\n                this.updateKVData(\"dayEarnTotalModifyTime\", value);\r\n            }\r\n        }\r\n\r\n        static set dayEarnExpireTime(value: number) {\r\n            if (this._dayEarnExpireTime != value) {\r\n                this._dayEarnExpireTime = value;\r\n                this.updateKVData(\"dayEarnExpireTime\", value);\r\n            }\r\n        }\r\n\r\n        static set dayEarnTotal(value: number) {\r\n            if (this._dayEarnTotal != value) {\r\n                this._dayEarnTotal = value;\r\n                this.dayEarnTotalModifyTime = World.My.serverTime;\r\n                this.updateKVData(\"dayEarnTotal\", value);\r\n            }\r\n        }\r\n\r\n        static set task(value: string) {\r\n            if (this._task != value) {\r\n                this._task = value;\r\n                this.updateKVData(\"task\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set gameLucky(value: string) {\r\n            if (this._gameLucky != value) {\r\n                this._gameLucky = value;\r\n                this.updateKVData(\"gameLucky\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set gameEnergy(value: number) {\r\n            if (this._gameEnergy != value) {\r\n                this._gameEnergy = value;\r\n                this.updateKVData(\"gameEnergy\", value);\r\n            }\r\n        }\r\n\r\n        static set shakeOpen(value: boolean) {\r\n            if (this._shakeOpen != value) {\r\n                this._shakeOpen = value;\r\n                this.updateKVData(\"shakeOpen\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set armory(value: string) {\r\n            if (this._armory != value) {\r\n                this._armory = value;\r\n                this.updateKVData(\"armory\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set HpLv(value: number) {\r\n            if (this._HpLv != value) {\r\n                this._HpLv = value;\r\n                this.updateKVData(\"HpLv\", value);\r\n            }\r\n        }\r\n\r\n        static set ADLv(value: number) {\r\n            if (this._ADLv != value) {\r\n                this._ADLv = value;\r\n                this.updateKVData(\"ADLv\", value);\r\n            }\r\n        }\r\n\r\n        static set passLuckyCount(value: number) {\r\n            if (this._passLuckyCount != value) {\r\n                this._passLuckyCount = value;\r\n                this.updateKVData(\"passLuckyCount\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set props(value: string) {\r\n            if (this._props != value) {\r\n                this._props = value;\r\n                this.updateKVData(\"props\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set gameLevel(value: number) {\r\n            if (this._gameLevel != value) {\r\n                this._gameLevel = value;\r\n                this.updateKVData(\"gameLevel\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set newbies(value: string) {\r\n            if (this._newbies != value) {\r\n                this._newbies = value;\r\n                this.updateKVData(\"newbies\", value);\r\n            }\r\n        }\r\n\r\n\r\n        static set unlockGun(value: number) {\r\n            if (this._unlockGun != value) {\r\n                this._unlockGun = value;\r\n                this.updateKVData(\"unlockGun\", value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n"]}