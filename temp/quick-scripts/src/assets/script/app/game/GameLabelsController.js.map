{"version":3,"sources":["assets/script/app/game/GameLabelsController.ts"],"names":[],"mappings":";;;;;AACM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAkD,wCAAY;IAA9D;QAAA,qEA0CC;QAvCG,gBAAU,GAAW,IAAI,CAAC;QAG1B,mBAAa,GAAY,IAAI,CAAC;;IAoClC,CAAC;IAlCG,qCAAM,GAAN;QACI,MAAM,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC;IAC1C,CAAC;IAGO,uCAAQ,GAAhB;QACI,IAAI,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACxD,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACpC,OAAO,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,+CAAgB,GAAhB;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,MAAM,IAAI,KAAK,IAAI,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,EAArD,CAAqD,CAAC,CAAC;QAC7G,IAAI,QAAQ,EAAC;YACT,OAAO,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAC1C;aAAK;YACF,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;SAC1B;IACL,CAAC;IAED,SAAS;IACT,kCAAG,GAAH,UAAI,GAAU,EAAE,GAAW;QACvB,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACpC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACzB,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QACnB,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QAC1B,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;QAEhC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACrB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;YAC1M,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4DACQ;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+DACW;IANb,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CA0CxC;IAAD,2BAAC;CA1CD,AA0CC,CA1CiD,EAAE,CAAC,SAAS,GA0C7D;kBA1CoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameLabelsController extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    labelLayer:cc.Node = null;\r\n\r\n    @property(cc.Label)\r\n    templateLabel:cc.Label = null;\r\n\r\n    onLoad(){\r\n        window['GameLabelsController'] = this;\r\n    }\r\n\r\n\r\n    private genLabel():cc.Label{\r\n        let labelNode = cc.instantiate(this.templateLabel.node);\r\n        labelNode.active = false;\r\n        this.labelLayer.addChild(labelNode);\r\n        return labelNode.getComponent(cc.Label);\r\n    }\r\n\r\n    getInactiveLabel():cc.Label{\r\n        let findNode = this.labelLayer.children.find(value => value.active == false && value.getComponent(cc.Label));\r\n        if (findNode){\r\n            return findNode.getComponent(cc.Label);\r\n        }else {\r\n            return this.genLabel();\r\n        }\r\n    }\r\n\r\n    /** 飘字 */\r\n    fly(str:string, pos:cc.Vec2){\r\n        let label = this.getInactiveLabel();\r\n        label.node.active = true;\r\n        label.string = str;\r\n        label.node.position = pos;\r\n        label.node.color = cc.Color.RED;\r\n\r\n        label.node.scale = 0;\r\n        label.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(0.1, 1), cc.fadeTo(0.1, 255), cc.moveBy(0.1, cc.v2(0, 10))), cc.delayTime(0.1), cc.spawn(cc.moveBy(0.3, cc.v2(0, 30)), cc.fadeTo(0.3, 100)), cc.callFunc(()=>{\r\n            label.node.active = false;\r\n        })));\r\n    }\r\n}\r\n"]}