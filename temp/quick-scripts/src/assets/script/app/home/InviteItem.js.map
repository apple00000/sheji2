{"version":3,"sources":["assets/script/app/home/InviteItem.ts"],"names":[],"mappings":";;;;;AACA,oFAA+E;AAC/E,2DAAqD;AACrD,8CAAyC;AACzC,uCAAoC;AACpC,2DAAsD;AAEhD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C,IAAM,SAAS,GAAG,EAAE,CAAC;AAGrB;IAAwC,8BAAiB;IAAzD;QAAA,qEA2CC;QAxCG,aAAO,GAAY,IAAI,CAAC;QAGxB,gBAAU,GAAa,IAAI,CAAC;QAG5B,iBAAW,GAAY,IAAI,CAAC;QAG5B,eAAS,GAAW,IAAI,CAAC;QAGzB,kBAAY,GAAW,IAAI,CAAC;QAGpB,UAAI,GAAG,IAAI,CAAC;;IAyBxB,CAAC;IAvBG,+BAAU,GAAV,UAAW,IAAS,EAAE,KAAa;QAC/B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,sBAAsB,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;QAC/C,YAAG,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IACtD,CAAC;IAED,sCAAiB,GAAjB,UAAkB,KAAK,EAAE,IAAI;QAA7B,iBAYC;QAXG,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAA;QAE3C,IAAI,IAAI,CAAC,IAAI,EAAC;YACV,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;YAC/D,iBAAO,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG;gBAC7D,aAAK,CAAC,OAAO,CAAC,YAAY,IAAI,SAAS,CAAC;gBACxC,gBAAM,CAAC,cAAc,CAAC,iBAAiB,EAAE,mBAAO,SAAW,CAAC,CAAC;gBAC7D,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC7B,KAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACtD,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAvCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACK;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACS;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACO;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACU;IAfX,UAAU;QAD9B,OAAO;OACa,UAAU,CA2C9B;IAAD,iBAAC;CA3CD,AA2CC,CA3CuC,2BAAiB,GA2CxD;kBA3CoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["\r\nimport AbstractTableItem from \"../../../framework/tableview/AbstractTableItem\";\r\nimport {ext} from \"../../../framework/extend/Extend\";\r\nimport Network from \"../network/Network\";\r\nimport {World} from \"../info/World\";\r\nimport Facade from \"../../../framework/facade/Facade\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nconst rewardNum = 30;\r\n\r\n@ccclass\r\nexport default class InviteItem extends AbstractTableItem {\r\n\r\n    @property(cc.Label)\r\n    idLabel:cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    iconSprite:cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    rewardLabel:cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    takenNode:cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    willTakeNode:cc.Node = null;\r\n\r\n\r\n    private data = null;\r\n\r\n    upadteItem(data: any, index: number) {\r\n        console.log(data, \"share1===>upadteItem\");\r\n        this.data = data;\r\n        this.idLabel.string = (index+1).toString();\r\n        this.rewardLabel.string = rewardNum.toString();\r\n        ext.wxCreateImageToSprite(this.iconSprite, data['headUrl']);\r\n        this.takenNode.active = data['receive'];\r\n        this.willTakeNode.active = !this.takenNode.active;\r\n    }\r\n\r\n    onClickTakeReward(event, data){\r\n        console.log(\"【click】InviteItem TakeReward\")\r\n\r\n        if (this.data){\r\n            this.willTakeNode.getComponent(cc.Button).interactable = false;\r\n            Network.takeShareReward(\"share1\", this.data[\"playerId\"]).then(res=>{\r\n                World.Storage.diamondCount += rewardNum;\r\n                Facade.executeCommand('ShowTipsCommand', `钻石 +${rewardNum}`);\r\n                this.takenNode.active = true;\r\n                this.willTakeNode.active = !this.takenNode.active;\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}