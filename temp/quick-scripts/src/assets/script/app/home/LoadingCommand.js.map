{"version":3,"sources":["assets/script/app/home/LoadingCommand.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n\r\nimport {ICommand} from \"../../../framework/facade/ICommand\";\r\nimport Facade from \"../../../framework/facade/Facade\";\r\nimport {ExcelConfig} from \"../../../framework/config/ExcelConfig\";\r\nimport {wxApi} from \"../../../framework/wxApi/wxApi\";\r\nimport Network from \"../network/Network\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n\r\n\r\n@ccclass(\"LoadingCommand\")\r\nexport default class LoadingCommand implements ICommand {\r\n    async execute (...args):Promise<any>{\r\n        return new Promise(resolve => {\r\n            console.log(\"LoadingCommand\");\r\n            \r\n            let list:Array<Promise> = [];\r\n\r\n            /** 初始化隔离层prefab */\r\n            list.push(ExcelConfig.loadAllExcel(\"data/\"));\r\n            for (let i=0; i<8; i++){\r\n                list.push(cc.loader.loadResAwait(\"prefab/entities/enemy/enemy\"+(i+1), cc.Prefab));\r\n            }\r\n            list.push(cc.loader.loadResAwait(\"prefab/guideCircle\"));\r\n            list.push(cc.loader.loadResAwait(\"prefab/guideSke\"));\r\n            list.push(Facade.initSeparationLayer(\"prefab/separationLayer\"));\r\n            list.push(Facade.initTextTips(\"prefab/textTips\"));\r\n            list.push(Facade.initTextTips(\"prefab/color\"));\r\n            list.push(cc.loader.loadResAwait(\"frame_fy005\", cc.SpriteFrame));\r\n            list.push(cc.loader.loadResDirAwait(\"sound/\"));\r\n            /** 加载一些不是很紧急的资源 */\r\n            cc.loader.loadRes(\"prefab/exchange\");\r\n            cc.loader.loadRes(\"prefab/friendRank\");\r\n            cc.loader.loadRes(\"prefab/invites\");\r\n            cc.loader.loadRes(\"prefab/props\");\r\n            cc.loader.loadRes(\"prefab/roleSupply\");\r\n            cc.loader.loadRes(\"prefab/settings\");\r\n            cc.loader.loadRes(\"prefab/takeJackpot\");\r\n            cc.loader.loadRes(\"prefab/tips\");\r\n            cc.loader.loadRes(\"prefab/recommend\");\r\n\r\n            Promise.all(list).then(()=>{\r\n                console.log('加载完成...');\r\n                cc.sys.garbageCollect();\r\n                resolve();\r\n            }).catch(err=>{\r\n                console.error(err);\r\n            });\r\n        });\r\n    }\r\n}\r\n"]}