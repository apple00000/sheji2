{"version":3,"sources":["assets/script/app/entities/bulletEmitter/BulletEmitterJiaTeLin.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport BulletEmitter from \"./BulletEmitter\";\r\nimport GameBulletsController from \"../../game/GameBulletsController\";\r\n\r\n\r\nexport default class BulletEmitterJiaTeLin extends BulletEmitter {\r\n\r\n    private degree = 0;\r\n\r\n    private num = 0;\r\n\r\n    constructor(gameBulletsController:GameBulletsController){\r\n        super(gameBulletsController);\r\n        this._firingRange = 1000;\r\n        this._interval = 0.1;\r\n        this._speed = 1200;\r\n    }\r\n\r\n    fire(start: cc.Vec2, dir: cc.Vec2) {\r\n        this.bulletCount--;\r\n        switch (this.num%4){\r\n            case 0:\r\n                /** 发射一颗 */\r\n            {\r\n                let degree = Math.random()*2;\r\n                this.degree = this.degree > 0 ? -degree : degree;\r\n                let bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet.node.active = true;\r\n                bullet.node.position = start;\r\n\r\n                bullet.fly(dir.rotate(cc.misc.degreesToRadians(this.degree)), this._firingRange, this._speed);\r\n            }\r\n                break;\r\n            case 1:\r\n                /** 小角度同时发射两颗 */\r\n            {\r\n                let degree = 3 + Math.random() * 5;\r\n                let bullet1 = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet1.node.active = true;\r\n                bullet1.node.position = start.add(dir.mul(Math.random()*-10));\r\n\r\n                bullet1.fly(dir.rotate(cc.misc.degreesToRadians(this.degree+degree)), this._firingRange, this._speed);\r\n\r\n                let bullet2 = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet2.node.active = true;\r\n                bullet2.node.position = start.add(dir.mul(Math.random()*10));\r\n\r\n                bullet2.fly(dir.rotate(cc.misc.degreesToRadians(-this.degree-degree)), this._firingRange, this._speed);\r\n            }\r\n                break;\r\n            case 2:\r\n                /** 发射一颗 */\r\n            {\r\n                let degree = Math.random()*2;\r\n                this.degree = this.degree > 0 ? -degree : degree;\r\n                let bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet.node.active = true;\r\n                bullet.node.position = start;\r\n\r\n                bullet.fly(dir.rotate(cc.misc.degreesToRadians(this.degree)), this._firingRange, this._speed);\r\n            }\r\n                break;\r\n            case 3:\r\n                /** 大角度同时发射两颗 */\r\n            {\r\n                let degree = 10 + Math.random() * 5;\r\n                let bullet1 = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet1.node.active = true;\r\n                bullet1.node.position = start.add(dir.mul(Math.random()*-15));\r\n\r\n                bullet1.fly(dir.rotate(cc.misc.degreesToRadians(this.degree+degree)), this._firingRange, this._speed);\r\n\r\n                let bullet2 = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.JiaTeLin);\r\n                bullet2.node.active = true;\r\n                bullet2.node.position = start.add(dir.mul(Math.random()*15));\r\n\r\n                bullet2.fly(dir.rotate(cc.misc.degreesToRadians(-this.degree-degree)), this._firingRange, this._speed);\r\n            }\r\n                break;\r\n        }\r\n        this.num++;\r\n    }\r\n}\r\n\r\n"]}