{"version":3,"sources":["assets/script/app/entities/bulletEmitter/BulletEmitterPenZi.ts"],"names":[],"mappings":";;;;;AACA,iDAA4C;AAE5C,0CAAuC;AAEvC,IAAM,OAAO,GAAG,CAAC,CAAC;AAElB;IAAgD,sCAAa;IAEzD,4BAAY,qBAA2C;QAAvD,YACI,kBAAM,qBAAqB,CAAC,SAI/B;QAHG,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;QACxB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;IACvB,CAAC;IAED,iCAAI,GAAJ,UAAK,KAAc,EAAE,GAAY;QAC7B,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,uBAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACrF,IAAI,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC3C,GAAG,CAAC,mBAAmB,CAAC,UAAC,UAAU,EAAE,SAAS;YAC1C,IAAI,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACjE,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC/B,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAC1B,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,GAAG,aAAK,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC1E,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC;IAEL,yBAAC;AAAD,CAxBA,AAwBC,CAxB+C,uBAAa,GAwB5D","file":"","sourceRoot":"/","sourcesContent":["\r\nimport BulletEmitter from \"./BulletEmitter\";\r\nimport GameBulletsController from \"../../game/GameBulletsController\";\r\nimport {World} from \"../../info/World\";\r\n\r\nconst magnify = 1;\r\n\r\nexport default class BulletEmitterPenZi extends BulletEmitter {\r\n\r\n    constructor(gameBulletsController:GameBulletsController){\r\n        super(gameBulletsController);\r\n        this._firingRange = 800;\r\n        this._interval = 0.05;\r\n        this._speed = 1500;\r\n    }\r\n\r\n    fire(start: cc.Vec2, dir: cc.Vec2) {\r\n        this.bulletCount--;\r\n        let bullet = this.gameBulletsController.getInactiveBullet(BulletEmitter.TYPES.PenZi);\r\n        let ske = bullet.getComponent(sp.Skeleton);\r\n        ske.setCompleteListener((trackEntry, loopCount) => {\r\n            let name = trackEntry.animation ? trackEntry.animation.name : '';\r\n            bullet.node.active = false;\r\n        });\r\n        bullet.node.active = true;\r\n        bullet.node.position = start;\r\n        bullet.node.scale = magnify * World.My.armory.magnifyMul(bullet.bulletId);\r\n        bullet.node.rotation = 90 - cc.misc.radiansToDegrees(Math.atan2(dir.y, dir.x));\r\n        ske.setAnimation(0, \"animation\", false);\r\n    }\r\n\r\n}\r\n"]}