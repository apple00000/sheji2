{"version":3,"sources":["assets/framework/audio/SwitchAudioCommand.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;;AAOnG,iCAA8B;AAC9B,0CAAqC;AAE/B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAA;IAiBA,CAAC;IAfS,oCAAO,GAAb;QAAe,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;uCAAE,OAAO;;;gBAC3B,sBAAO,IAAI,OAAO,CAAC,UAAM,OAAO;;;4BACxB,IAAI,GAAG,CAAC,aAAK,CAAC,YAAY,EAAE,CAAC;4BACjC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,EAAE,CAAC,MAAM,EAAC;gCAC/D,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gCACzB,IAAI,IAAI,IAAI,aAAK,CAAC,YAAY,EAAE,EAAC;oCAC7B,cAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;iCACnD;6BACJ;4BACD,aAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;4BACzB,aAAK,CAAC,OAAO,GAAG,IAAI,CAAC;4BACrB,aAAK,CAAC,WAAW,EAAE,CAAC;4BACpB,OAAO,EAAE,CAAC;;;yBACb,CAAC,EAAC;;;KACN;IAhBgB,kBAAkB;QADtC,OAAO,CAAC,oBAAoB,CAAC;OACT,kBAAkB,CAiBtC;IAAD,yBAAC;CAjBD,AAiBC,IAAA;kBAjBoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n\r\n\r\n\r\n\r\nimport {ICommand} from \"../facade/ICommand\";\r\nimport {Music} from \"./Music\";\r\nimport View from \"../component/View\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass(\"SwitchAudioCommand\")\r\nexport default class SwitchAudioCommand implements ICommand {\r\n\r\n    async execute (...args):Promise{\r\n        return new Promise(async resolve => {\r\n            let flag = !Music.getMusicOpen();\r\n            if (typeof args[0] == \"object\" && args[0].constructor == cc.Toggle){\r\n                flag = args[0].isChecked;\r\n                if (flag != Music.getMusicOpen()){\r\n                    View.executeClickSoundCommand(args[0], args[1]);\r\n                }\r\n            }\r\n            Music.setMusicOpen(flag);\r\n            Music.sfxOpen = flag;\r\n            Music.persistence();\r\n            resolve();\r\n        });\r\n    }\r\n}\r\n"]}