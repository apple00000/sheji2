{"version":3,"sources":["assets/framework/actions/CCCircleAction.js"],"names":["cc","Circle","Class","name","ActionInterval","ctor","duration","center","r","s","e","revert","_duration","_center","_radius","_startAngle","_endAngle","_dstartAngle","Math","PI","_dendAngle","_runTime","_direction","prototype","initWithDuration","call","startWithTarget","target","update","dt","_computeEaseTime","a","x","sin","y","cos","reverse","action","_cloneDecoration","_reverseEaseList","clone","circle"],"mappings":"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","sourceRoot":"/","sourcesContent":["//creator from pabble 2018-11-12\r\ncc.Circle = cc.Class({\r\n    name : 'cc.Circle',\r\n    extends : cc.ActionInterval,\r\n    /**\r\n     * @param duration  时间\r\n     * @param center  圆心点\r\n     * @param r  半径\r\n     * @param s  起点弧度\r\n     * @param e  终点弧度\r\n     * @param revert  是否顺时针(默认顺时针，逆时针传false)\r\n     * */\r\n    ctor:function(duration,center,r,s,e,revert=false){\r\n        this._duration = duration;\r\n        this._center = center;\r\n        this._radius = r;\r\n        this._startAngle = s;\r\n        this._endAngle = e;\r\n        this._dstartAngle = s% (2*Math.PI)\r\n        this._dendAngle = e% (2*Math.PI)\r\n        this._runTime = 0;\r\n        this._direction = revert\r\n        if(this._direction){\r\n            if(this._dendAngle >= this._dstartAngle){\r\n                this._dstartAngle+=2*Math.PI\r\n            }\r\n        } else {\r\n            if(this._dendAngle <= this._dstartAngle){\r\n                this._dendAngle+=2*Math.PI\r\n            }\r\n        }\r\n        cc.Circle.prototype.initWithDuration.call(this, duration,center,r,s,e,revert);\t\r\n    },\r\n    initWithDuration:function(duration){\r\n        cc.ActionInterval.prototype.initWithDuration.call(this, duration)\r\n        return true;\r\n    },\r\n    startWithTarget(target){\r\n        cc.ActionInterval.prototype.startWithTarget.call(this, target);\r\n    },\r\n    update(dt){\r\n        dt = this._computeEaseTime(dt);\r\n        if(this.target){\r\n            var a = (this._dendAngle - this._dstartAngle) * (dt) + this._dstartAngle\r\n            \r\n            var x = this._center.x + this._radius * Math.sin(a);\r\n            var y = this._center.y + this._radius * Math.cos(a);\r\n            this.target.x = x;\r\n            this.target.y = y\r\n        }\r\n    },\r\n    reverse:function () {\r\n        var action = new cc.Circle(this._duration,this._center,this._radius,this._endAngle,this._startAngle,!this._direction)\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action;\r\n    },\r\n    clone:function(){\r\n        var action = new cc.Circle(this._duration,this._center,this._radius,this._startAngle,this._endAngle,this._direction)\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action;\r\n    }\r\n})\r\n\r\ncc.circle = function(duration,center,r,s,e,revert){\r\n    return new cc.Circle(duration,center,r,s,e,revert)\r\n}"]}