{"version":3,"sources":["assets/script/app/entities/bullet/BulletOfEnemy.ts"],"names":[],"mappings":";;;;;AACA,mCAA8B;AAC9B,gEAA6D;AAC7D,wEAAqE;AACrE,kDAA+C;AAEzC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAM;IAAjD;;IAsCA,CAAC;IAnCG,4BAAI,GAAJ,UAAK,EAAU;QACX,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,MAAM,GAAG,yBAAW,CAAC,aAAa,CAAC,iCAAe,CAAC,KAAK,CAAC,CAAC,EAAE,GAAC,GAAG,GAAC,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,qBAAS,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAChF,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;IACnB,CAAC;IAED,gCAAQ,GAAR;QACI,MAAM,CAAC,uBAAuB,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5D,CAAC;IAED,iCAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;QAC1B,IAAI,qBAAqB,GAAG,MAAM,CAAC,uBAAuB,CAAC,CAAC;QAC5D,qBAAqB,CAAC,YAAY,CAAC,MAAM,CAAC,qBAAqB,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IACnG,CAAC;IAED,wCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,MAAM,CAAC,oBAAoB,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAC;YAChB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;IACL,CAAC;IAED,uCAAe,GAAf,UAAgB,KAAK,EAAE,IAAI;QACvB,sCAAsC;IAC1C,CAAC;IAED,uCAAe,GAAf,UAAgB,KAAK,EAAE,IAAI;QACvB,sCAAsC;IAC1C,CAAC;IArCgB,aAAa;QADjC,OAAO;OACa,aAAa,CAsCjC;IAAD,oBAAC;CAtCD,AAsCC,CAtC0C,gBAAM,GAsChD;kBAtCoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["\r\nimport Bullet from \"./Bullet\";\r\nimport {ExcelTableNames} from \"../../config/ExcelTableNames\";\r\nimport {ExcelConfig} from \"../../../../framework/config/ExcelConfig\";\r\nimport {GameProxy} from \"../../game/GameProxy\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BulletOfEnemy extends Bullet {\r\n\r\n\r\n    init(id: number): void {\r\n        this.bulletId = id;\r\n        let config = ExcelConfig.getExcelTable(ExcelTableNames.Enemy)[id%100-1];\r\n        this.bThrought = false;\r\n        this.hurt = Math.floor(config['hurt'] * GameProxy.enemyHurtMulOf(config['id']));\r\n        this.repel = 0;\r\n        this.stiff = 0;\r\n    }\r\n\r\n    onEnable(){\r\n        window['GameBulletsController'].enemyBullets.push(this);\r\n    }\r\n\r\n    onDisable(){\r\n        this.node.stopAllActions();\r\n        this._contacts.length = 0;\r\n        let gameBulletsController = window['GameBulletsController'];\r\n        gameBulletsController.enemyBullets.splice(gameBulletsController.enemyBullets.indexOf(this), 1);\r\n    }\r\n\r\n    onCollisionEnter(other, self) {\r\n        console.log(\"角色被子弹击中\");\r\n        window['GameRoleController'].hp -= this.hurt;\r\n        if (!this.bThrought){\r\n            this.node.active = false;\r\n        }\r\n    }\r\n\r\n    onCollisionStay(other, self) {\r\n        // super.onCollisionStay(other, self);\r\n    }\r\n\r\n    onCollisionExit(other, self) {\r\n        // super.onCollisionExit(other, self);\r\n    }\r\n}\r\n"]}