{"version":3,"sources":["assets/script/app/game/GameSupplyItem.ts"],"names":[],"mappings":";;;;;AAAA,oFAA+E;AAE/E,uCAAoC;AAE9B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAiB;IAA7D;QAAA,qEAsDC;QAjDG,eAAS,GAAY,IAAI,CAAC;QAG1B,cAAQ,GAAa,IAAI,CAAC;QAG1B,kBAAY,GAAc,IAAI,CAAC;QAG/B,eAAS,GAAa,IAAI,CAAC;QAG3B,iBAAW,GAAY,IAAI,CAAC;QAG5B,cAAQ,GAAY,IAAI,CAAC;QAGzB,wBAAkB,GAAoB,EAAE,CAAC;QAGzC,oBAAc,GAAoB,EAAE,CAAC;QAE7B,YAAM,GAAG,CAAC,CAAC;QACX,WAAK,GAAG,IAAI,CAAC;;IAyBzB,CAAC;uBAtDoB,cAAc;IA+B/B,mCAAU,GAAV,UAAW,IAAS,EAAE,KAAa;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,gBAAc,CAAC,UAAU,CAAC,KAAK,IAAI,KAAK,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC;QAC9F,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAC,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAM,aAAK,CAAC,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAI,CAAC;QACvE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAM,IAAI,CAAC,QAAQ,CAAC,uBAAK,CAAC;QAC/C,IAAI,KAAK,GAAG,aAAK,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,kBAAkB,CAAC,KAAK,CAAA,CAAC,CAAA,gBAAgB,CAAA,CAAC,CAAA,WAAW,CAAC,CAAC,CAAC;QACrG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA,CAAC,CAAA,GAAG,CAAA,CAAC,CAAA,GAAG,CAAC;IACnD,CAAC;IAED,sCAAa,GAAb,UAAc,KAAK,EAAE,IAAI;QACrB,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAA;QAE3C,IAAI,aAAK,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAC;YAC/C,OAAO;SACV;QACD,gBAAc,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IAClD,CAAC;;IAnDM,yBAAU,GAAc,IAAI,CAAC;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACO;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACM;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wDACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACQ;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uDACS;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8DACgB;IAGzC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;0DACY;IA1BpB,cAAc;QADlC,OAAO;OACa,cAAc,CAsDlC;IAAD,qBAAC;CAtDD,AAsDC,CAtD2C,2BAAiB,GAsD5D;kBAtDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import AbstractTableItem from \"../../../framework/tableview/AbstractTableItem\";\r\nimport GameSupply from \"./GameSupply\";\r\nimport {World} from \"../info/World\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameSupplyItem extends AbstractTableItem {\r\n\r\n    static gameSupply:GameSupply = null;\r\n\r\n    @property(cc.Label)\r\n    lockLabel:cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    bgSprite:cc.Sprite = null;\r\n\r\n    @property(cc.Sprite)\r\n    weaponSprite: cc.Sprite = null;\r\n\r\n    @property(cc.Label)\r\n    nameLabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    bulletLabel:cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    numLabel:cc.Label = null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    weaponSpriteFrames:[cc.SpriteFrame] = [];\r\n\r\n    @property(cc.SpriteFrame)\r\n    bgSpriteFrames:[cc.SpriteFrame] = [];\r\n\r\n    private _index = 0;\r\n    private _data = null;\r\n\r\n    upadteItem(data: any, index: number) {\r\n        this._data = data;\r\n        this._index = index;\r\n        this.bgSprite.spriteFrame = this.bgSpriteFrames[GameSupplyItem.gameSupply.focus == index?1:0];\r\n        this.weaponSprite.spriteFrame = this.weaponSpriteFrames[data['id']-1];\r\n        this.nameLabel.string = data['gun_name'];\r\n        this.numLabel.string = `${World.My.armory.payloadAddOf(data['id'])}x3`;\r\n        this.lockLabel.string = `${data['unlock']}关解锁`;\r\n        let bLock = World.Storage.gameLevel < data['unlock'];\r\n        this.lockLabel.node.active = bLock;\r\n        this.nameLabel.node.active = !bLock;\r\n        this.weaponSprite.setMaterial(0, cc.Material.getBuiltinMaterial(bLock?\"2d-gray-sprite\":\"2d-sprite\"));\r\n        this.weaponSprite.node.opacity = bLock?128:255;\r\n    }\r\n\r\n    onClickButton(event, data){\r\n        console.log(\"【click】GameSupplyItem Button\")\r\n\r\n        if (World.Storage.gameLevel < this._data['unlock']){\r\n            return;\r\n        }\r\n        GameSupplyItem.gameSupply.focus = this._index;\r\n    }\r\n}\r\n"]}