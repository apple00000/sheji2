{"version":3,"sources":["assets/script/app/home/UpEffectController.ts"],"names":[],"mappings":";;;;;AACA,2DAAsD;AAEhD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAgD,sCAAY;IAA5D;QAAA,qEA6BC;QA1BG,eAAS,GAAG,EAAE,CAAC;QAGf,SAAG,GAAe,IAAI,CAAC;;IAuB3B,CAAC;IApBG,yCAAY,GAAZ;QACI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;IAED,mCAAM,GAAN;QAAA,iBAUC;QATG,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAC;YACtB,gBAAM,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;SACjE;QACD,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC;YACzB,IAAI,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,GAAG,CAAC,EAAC;gBACzC,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aAChC;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,sCAAS,GAAT;QACI,gBAAM,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAzBD;QADC,QAAQ;yDACM;IAGf;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;mDACC;IANN,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CA6BtC;IAAD,yBAAC;CA7BD,AA6BC,CA7B+C,EAAE,CAAC,SAAS,GA6B3D;kBA7BoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["\r\nimport Facade from \"../../../framework/facade/Facade\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UpEffectController extends cc.Component {\r\n\r\n    @property\r\n    eventName = \"\";\r\n\r\n    @property(sp.Skeleton)\r\n    ske:sp.Skeleton = null;\r\n\r\n\r\n    onShowEffect(){\r\n        this.ske.node.active = true;\r\n        this.ske.setAnimation(0, \"vfxAll\", false);\r\n    }\r\n\r\n    onLoad () {\r\n        if (this.eventName !== \"\"){\r\n            Facade.canvasNode.on(this.eventName, this.onShowEffect, this);\r\n        }\r\n        this.ske.setCompleteListener(()=>{\r\n            if (cc.isValid(this) && cc.isValid(this.ske)){\r\n                this.ske.node.active = false;\r\n            }\r\n        });\r\n        this.ske.node.active = false;\r\n    }\r\n\r\n    onDestroy(){\r\n        Facade.canvasNode.off(this.eventName, this.onShowEffect, this);\r\n    }\r\n}\r\n"]}